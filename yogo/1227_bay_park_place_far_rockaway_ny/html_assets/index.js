/*! For license information please see index.js.LICENSE.txt */
!function(){var e,t,n,i={75453:function(e,t,n){e.exports=n(7421)},59396:function(e,t,n){e.exports=n(70157)},49288:function(e,t,n){e.exports=n(55966)},54680:function(e,t,n){e.exports=n(26975)},61888:function(e,t,n){e.exports=n(73684)},68313:function(e,t,n){e.exports=n(23384)},15149:function(e,t,n){e.exports=n(66458)},38401:function(e,t,n){e.exports=n(14710)},92937:function(e,t,n){e.exports=n(23022)},67394:function(e,t,n){e.exports=n(43153)},38923:function(e,t,n){e.exports=n(8531)},23587:function(e,t,n){e.exports=n(32622)},63774:function(e,t,n){e.exports=n(27410)},75575:function(e,t,n){e.exports=n(34217)},95315:function(e,t,n){e.exports=n(19035)},82055:function(e,t,n){e.exports=n(58535)},83452:function(e,t,n){e.exports=n(97220)},28274:function(e,t,n){e.exports=n(65135)},35657:function(e,t,n){e.exports=n(69591)},13493:function(e,t,n){e.exports=n(41306)},14176:function(e,t,n){e.exports=n(34345)},73220:function(e,t,n){e.exports=n(76483)},75499:function(e,t,n){e.exports=n(43094)},78282:function(e,t,n){e.exports=n(17641)},41281:function(e,t,n){e.exports=n(19103)},50093:function(e,t,n){e.exports=n(39871)},86870:function(e,t,n){var i=n(59396);e.exports=function(e){if(i(e))return e}},35693:function(e,t,n){var i=n(59396);e.exports=function(e){if(i(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},38852:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},49117:function(e,t,n){var i=n(73220);function r(e,t,n,r,o,a,s){try{var l=e[a](s),c=l.value}catch(e){return void n(e)}l.done?t(c):i.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new i((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}},11959:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},39041:function(e,t,n){var i=n(67394);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},18042:function(e,t,n){var i=n(67394);e.exports=function(e,t,n){return t in e?i(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},76700:function(e,t,n){var i=n(23587),r=n(78282),o=n(49445);function a(t,n,s){return"undefined"!=typeof Reflect&&r?e.exports=a=r:e.exports=a=function(e,t,n){var r=o(e,t);if(r){var a=i(r,t);return a.get?a.get.call(n):a.value}},a(t,n,s||t)}e.exports=a},44263:function(e,t,n){var i=n(82055),r=n(28274);function o(t){return e.exports=o=r?i:function(e){return e.__proto__||i(e)},o(t)}e.exports=o},77371:function(e,t,n){var i=n(38401),r=n(76870);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=i(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},95915:function(e,t,n){var i=n(75453),r=n(61888);e.exports=function(e){if(r(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return i(e)}},79968:function(e,t,n){var i=n(54680),r=n(61888);e.exports=function(e,t){if(r(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],o=!0,a=!1,s=void 0;try{for(var l,c=i(e);!(o=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return n}}},39198:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},84360:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},58610:function(e,t,n){var i=n(95315),r=n(72212);e.exports=function(e,t){if(null==e)return{};var n,o,a=r(e,t);if(i){var s=i(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},72212:function(e,t,n){var i=n(83452);e.exports=function(e,t){if(null==e)return{};var n,r,o={},a=i(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},59771:function(e,t,n){var i=n(24596),r=n(38852);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},76870:function(e,t,n){var i=n(28274);function r(t,n){return e.exports=r=i||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},47834:function(e,t,n){var i=n(86870),r=n(79968),o=n(39198);e.exports=function(e,t){return i(e)||r(e,t)||o()}},49445:function(e,t,n){var i=n(44263);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}},74846:function(e,t,n){var i=n(35693),r=n(95915),o=n(84360);e.exports=function(e){return i(e)||r(e)||o()}},24596:function(e,t,n){var i=n(50093),r=n(41281);function o(e){return o="function"==typeof r&&"symbol"==typeof i?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},o(e)}function a(t){return"function"==typeof r&&"symbol"===o(i)?e.exports=a=function(e){return o(e)}:e.exports=a=function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":o(e)},a(t)}e.exports=a},34455:function(e,t,n){e.exports=n(86248)},93512:function(e,t,n){var i={"./en/legal/method-of-measurement-ansi-rms.html":[98927,927],"./en/legal/method-of-measurement.html":[81745,745],"./en/legal/terms-of-service/2015-08-24.html":[39255,255],"./en/legal/terms-of-service/2016-08-30.html":[90180,180],"./fr/legal/method-of-measurement-ansi-rms.html":[99854,854],"./fr/legal/method-of-measurement.html":[47338,338]};function r(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(i)},r.id=93512,e.exports=r},24706:function(){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,a){var s=n(a.expanding),l=n(a.expanded),c=n(a.collapsing),u=n(a.collapsed),d=!1,h={},p={};function f(e){return d?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function m(){o.removeClass("collapsing").addClass("collapse").css(h),l(i)}function g(){o.css(p),o.removeClass("collapsing").addClass("collapse"),u(i)}!function(){(d=!!("horizontal"in a))?(h={width:""},p={width:"0"}):(h={height:""},p={height:"0"});i.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(h)}(),i.$watch(a.uibCollapse,(function(n){n?function(){if(!o.hasClass("collapse")&&!o.hasClass("in"))return g();t.resolve(c(i)).then((function(){o.css(f(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(o,{removeClass:"in",to:p}).start().finally(g):e.removeClass(o,"in",{to:p}).then(g)}))}():o.hasClass("collapse")&&o.hasClass("in")||t.resolve(s(i)).then((function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:f(o[0])}).start().finally(m):e.addClass(o,"in",{css:{overflow:"hidden"},to:f(o[0])}).then(m)}))}))}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",(function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",(function(e){n.$set("tabindex",e?-1:null)}))}}})),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,(function(e){e!==i&&(e.isOpen=!1)}))},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",(function(n){t.removeGroup(e)}))},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",(function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}})).directive("uibAccordionGroup",(function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){t.addClass("panel"),i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",(function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)})),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}})).directive("uibAccordionHeading",(function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}})).directive("uibAccordionTransclude",(function(){return{require:"^uibAccordionGroup",link:function(e,t,n,i){e.$watch((function(){return i[n.uibAccordionTransclude]}),(function(e){if(e){var n=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(e)}}))}}})),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,i,r){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(e.$parent):null;o&&r((function(){e.close()}),parseInt(o,10))}]).directive("uibAlert",(function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}})),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,r){var o=r[0],a=r[1],s=e(i.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,(function(){if(!i.disabled){var e=n.hasClass(o.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply((function(){a.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),a.$render()}))}})),i.uibUncheckable&&t.$watch(s,(function(e){i.$set("uncheckable",e?"":void 0)}))}}}]).directive("uibBtnCheckbox",(function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){var r=i[0],o=i[1];function a(){return s(n.btnCheckboxTrue,!0)}function s(t,n){return angular.isDefined(t)?e.$eval(t):n}t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(r.activeClass,angular.equals(o.$modelValue,a()))},t.on(r.toggleEvent,(function(){n.disabled||e.$apply((function(){o.$setViewValue(t.hasClass(r.activeClass)?s(n.btnCheckboxFalse,!1):a()),o.$render()}))}))}}})),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,r){var o,a,s=this,l=s.slides=e.slides=[],c="uib-slideDirection",u=e.active,d=[],h=!1;function p(){for(;d.length;)d.shift()}function f(e){for(var t=0;t<l.length;t++)l[t].slide.active=t===e}function m(n,i,o){if(!h){if(angular.extend(n,{direction:o}),angular.extend(l[u].slide||{},{direction:o}),r.enabled(t)&&!e.$currentTransition&&l[i].element&&s.slides.length>1){l[i].element.data(c,n.direction);var a=s.getCurrentIndex();angular.isNumber(a)&&l[a].element&&l[a].element.data(c,n.direction),e.$currentTransition=!0,r.on("addClass",l[i].element,(function(t,n){if("close"===n&&(e.$currentTransition=null,r.off("addClass",t),d.length)){var i=d.pop().slide,o=i.index,a=o>s.getCurrentIndex()?"next":"prev";p(),m(i,o,a)}}))}e.active=n.index,u=n.index,f(i),y()}}function g(e){for(var t=0;t<l.length;t++)if(l[t].slide===e)return t}function v(){o&&(n.cancel(o),o=null)}function y(){v();var t=+e.interval;!isNaN(t)&&t>0&&(o=n(b,t))}function b(){var t=+e.interval;a&&!isNaN(t)&&t>0&&l.length?e.next():e.pause()}t.addClass("carousel"),s.addSlide=function(t,n){l.push({slide:t,element:n}),l.sort((function(e,t){return+e.slide.index-+t.slide.index})),(t.index===e.active||1===l.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),u=t.index,e.active=t.index,f(u),s.select(l[g(t)]),1===l.length&&e.play())},s.getCurrentIndex=function(){for(var e=0;e<l.length;e++)if(l[e].slide.index===u)return e},s.next=e.next=function(){var t=(s.getCurrentIndex()+1)%l.length;if(0!==t||!e.noWrap())return s.select(l[t],"next");e.pause()},s.prev=e.prev=function(){var t=s.getCurrentIndex()-1<0?l.length-1:s.getCurrentIndex()-1;if(!e.noWrap()||t!==l.length-1)return s.select(l[t],"prev");e.pause()},s.removeSlide=function(t){var n=g(t),i=d.indexOf(l[n]);-1!==i&&d.splice(i,1),l.splice(n,1),l.length>0&&u===n?n>=l.length?(u=l.length-1,e.active=u,f(u),s.select(l[l.length-1])):(u=n,e.active=u,f(u),s.select(l[n])):u>n&&(u--,e.active=u),0===l.length&&(u=null,e.active=null,p())},s.select=e.select=function(t,n){var i=g(t.slide);void 0===n&&(n=i>s.getCurrentIndex()?"next":"prev"),t.slide.index===u||e.$currentTransition?t&&t.slide.index!==u&&e.$currentTransition&&d.push(l[i]):m(t.slide,i,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===l.length-1&&e.noWrap()},e.pause=function(){e.noPause||(a=!1,v())},e.play=function(){a||(a=!0,y())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",(function(){h=!0,v()})),e.$watch("noTransition",(function(e){r.enabled(t,!e)})),e.$watch("interval",y),e.$watchCollection("slides",(function(t){t.length||(e.$currentTransition=null,p())})),e.$watch("active",(function(e){if(angular.isNumber(e)&&u!==e){for(var t=0;t<l.length;t++)if(l[t].slide.index===e){e=t;break}l[e]&&(f(e),s.select(l[e]),u=e)}}))}]).directive("uibCarousel",(function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}})).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,i,r){n.addClass("item"),r.addSlide(t,n),t.$on("$destroy",(function(){r.removeSlide(t)})),t.$watch("active",(function(t){e[t?"addClass":"removeClass"](n,"active")}))}}}]).animation(".item",["$animateCss",function(e){var t="uib-slideDirection";function n(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(i,r,o){if("active"===r){var a=i.data(t),s="next"===a?"left":"right",l=n.bind(this,i,s+" "+a,o);return i.addClass(a),e(i,{addClass:s}).start().done(l),function(){!0}}o()},beforeRemoveClass:function(i,r,o){if("active"===r){var a="next"===i.data(t)?"left":"right",s=n.bind(this,i,a,o);return e(i,{addClass:a}).start().done(s),function(){!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(e,t,n,i){var r,o,a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function s(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function l(e,t){for(var n=e.substr(t),i=0;i<o.length;i++)if(new RegExp("^"+o[i].key).test(n)){var r=o[i];return{endIdx:t+r.key.length,parser:r.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function c(e){return parseInt(e,10)}function u(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function d(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function h(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return d(e,n*(u(t,i)-i))}this.init=function(){r=t.id,this.parsers={},this.formatters={},o=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],r=t[3];this.hours+=c(n+i),this.minutes+=c(n+r)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}]},this.init(),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==r&&this.init(),this.formatters[n]||(this.formatters[n]=function(e){for(var t,n,i=[],r=0;r<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(r))(r+1>=e.length||"'"!==e.charAt(r+1))&&(i.push(s(e,n,r)),n=null);else if(r===e.length)for(;n<e.length;)t=l(e,n),i.push(t),n=t.endIdx;r++}else"'"!==e.charAt(r)?(t=l(e,r),i.push(t.parser),r=t.endIdx):(n=r,r++);return i}(n)),this.formatters[n].reduce((function(t,n){return t+n(e)}),"")):""},this.parse=function(n,s,l){if(!angular.isString(n)||!s)return n;s=(s=t.DATETIME_FORMATS[s]||s).replace(a,"\\$&"),t.id!==r&&this.init(),this.parsers[s]||(this.parsers[s]=function(e){var t=[],n=e.split(""),r=e.indexOf("'");if(r>-1){var a=!1;e=e.split("");for(var s=r;s<e.length;s++)a?("'"===e[s]&&(s+1<e.length&&"'"===e[s+1]?(e[s+1]="$",n[s+1]=""):(n[s]="",a=!1)),e[s]="$"):"'"===e[s]&&(e[s]="$",n[s]="",a=!0);e=e.join("")}return angular.forEach(o,(function(i){var r=e.indexOf(i.key);if(r>-1){e=e.split(""),n[r]="("+i.regex+")",e[r]="$";for(var o=r+1,a=r+i.key.length;o<a;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:r,key:i.key,apply:i.apply,matcher:i.regex})}})),{regex:new RegExp("^"+n.join("")+"$"),map:i(t,"index")}}(s));var c=this.parsers[s],u=c.regex,d=c.map,h=n.match(u),p=!1;if(h&&h.length){var f,m;angular.isDate(l)&&!isNaN(l.getTime())?f={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,v=h.length;g<v;g++){var y=d[g-1];"Z"===y.matcher&&(p=!0),y.apply&&y.apply.call(f,h[g])}var b=p?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=p?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,n){if(n<1)return!1;if(1===t&&n>28)return 29===n&&(e%4==0&&e%100!=0||e%400==0);if(3===t||5===t||8===t||10===t)return n<31;return!0}(f.year,f.month,f.date)&&(!angular.isDate(l)||isNaN(l.getTime())||p?(m=new Date(0),b.call(m,f.year,f.month,f.date),w.call(m,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(m=new Date(l),b.call(m,f.year,f.month,f.date),w.call(m,f.hours,f.minutes,f.seconds,f.milliseconds))),m}},this.toTimezone=function(e,t){return e&&t?h(e,t):e},this.fromTimezone=function(e,t){return e&&t?h(e,t,!0):e},this.timezoneToOffset=u,this.addDateMinutes=d,this.convertTimezoneToLocal=h}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){var o=[],a=[],s={},l=r.uibIsClass.match(t),c=l[2],u=l[1].split(",");return function(t,i,r){o.push(t),a.push({scope:t,element:i}),u.forEach((function(i,r){!function(t,i){var r=t.match(n),o=i.$eval(r[1]),l=r[2],u=s[t];if(!u){var d=function(t){var n=null;a.some((function(e){if(e.scope.$eval(c)===t)return n=e,!0})),u.lastActivated!==n&&(u.lastActivated&&e.removeClass(u.lastActivated.element,o),n&&e.addClass(n.element,o),u.lastActivated=n)};s[t]=u={lastActivated:null,scope:i,watchFn:d,compareWithExp:l,watcher:i.$watch(l,d)}}u.watchFn(i.$eval(l))}(i,t)})),t.$on("$destroy",d)};function d(e){var t=e.targetScope,n=o.indexOf(t);if(o.splice(n,1),a.splice(n,1),o.length){var i=o[0];angular.forEach(s,(function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)}))}else s={}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,r,o,a,s,l,c,u,d){var h=this,p={$setViewValue:angular.noop},f={},m=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach((function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":h[t]=angular.isDefined(e.datepickerOptions[t])?r(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":h[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?h.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?h.startingDay=l.startingDay:h.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,(function(e){e?angular.isDate(e)?h[t]=d.fromTimezone(new Date(e),f.timezone):(c&&a.warn("Literal date support has been deprecated, please switch to date object usage"),h[t]=new Date(s(e,"medium"))):h[t]=l[t]?d.fromTimezone(new Date(l[t]),f.timezone):null,h.refreshView()}));break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch((function(){return e.datepickerOptions[t]}),(function(n){h[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&h.modes.indexOf(e.datepickerOptions.datepickerMode)<h.modes.indexOf(h[t])||"maxMode"===t&&h.modes.indexOf(e.datepickerOptions.datepickerMode)>h.modes.indexOf(h[t]))&&(e.datepickerMode=h[t],e.datepickerOptions.datepickerMode=h[t])})):h[t]=e[t]=l[t]||null}})),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&m.push(e.$parent.$watch(n.ngDisabled,(function(t){e.disabled=t,h.refreshView()}))),e.isActive=function(t){return 0===h.compare(t.date,h.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){p=t,f=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions,e.datepickerOptions.initDate?(h.activeDate=d.fromTimezone(e.datepickerOptions.initDate,f.timezone)||new Date,e.$watch("datepickerOptions.initDate",(function(e){e&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(h.activeDate=d.fromTimezone(e,f.timezone),h.refreshView())}))):h.activeDate=new Date;var n=p.$modelValue?new Date(p.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,f.timezone):d.fromTimezone(n,f.timezone),p.$render=function(){h.render()}},this.render=function(){if(p.$viewValue){var e=new Date(p.$viewValue);!isNaN(e)?this.activeDate=d.fromTimezone(e,f.timezone):u||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=p.$viewValue?new Date(p.$viewValue):null;t=d.fromTimezone(t,f.timezone),p.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=p.$viewValue?new Date(p.$viewValue):null;i=d.fromTimezone(i,f.timezone);var r=new Date;r=d.fromTimezone(r,f.timezone);var o=this.compare(t,r),a={date:t,label:d.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=a),h.activeDate&&0===this.compare(a.date,h.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===h.minMode){var n=p.$viewValue?d.fromTimezone(new Date(p.$viewValue),f.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=d.toTimezone(n,f.timezone),p.$setViewValue(n),p.$render()}else h.activeDate=t,g(h.modes[h.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=h.activeDate.getFullYear()+e*(h.step.years||0),n=h.activeDate.getMonth()+e*(h.step.months||0);h.activeDate.setFullYear(t,n,1),h.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===h.maxMode&&1===t||e.datepickerMode===h.minMode&&-1===t||(g(h.modes[h.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function g(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}e.$on("uib:datepicker.focus",(function(){h.element[0].focus()})),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),h.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(h.isDisabled(h.activeDate))return;e.select(h.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(h.handleKeyDown(n,t),h.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",(function(t){e.$apply((function(){e.keydown(t)}))})),e.$on("$destroy",(function(){for(;m.length;)m.shift()()}))}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){var i=[31,28,31,30,31,30,31,31,30,31,30,31];function r(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?i[t]:29}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),o=0;o<t;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),r=new Date(this.activeDate);r.setFullYear(t,i,1);var a=this.startingDay-r.getDay(),s=a>0?7-a:-a,l=new Date(r);s>0&&l.setDate(1-s);for(var c=this.getDates(l,42),u=0;u<42;u++)c[u]=angular.extend(this.createDateObject(c[u],this.formatDay),{secondary:c[u].getMonth()!==i,uid:e.uniqueId+"-"+u});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(c[d].date,this.formatDayHeader),full:n(c[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var h=(11-this.startingDay)%7,p=e.rows.length,f=0;f<p;f++)e.weekNumbers.push(o(e.rows[f][h].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),r=this.activeDate.getFullYear(),o=0;o<12;o++)(t=new Date(this.activeDate)).setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){var i,r;function o(e){return parseInt((e-1)/r,10)*r+1}this.element=t,this.yearpickerInit=function(){i=this.yearColumns,r=this.yearRows*i,this.step={years:r}},this._refreshView=function(){for(var t,n=new Array(r),a=0,s=o(this.activeDate.getFullYear());a<r;a++)(t=new Date(this.activeDate)).setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[r-1].label].join(" - "),e.rows=this.split(n,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*r:"home"===e?n=o(this.activeDate.getFullYear()):"end"===e&&(n=o(this.activeDate.getFullYear())+r-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}})).directive("uibDaypicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}})).directive("uibMonthpicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}})).directive("uibYearpicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}})),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){var i,r=(n=this.getRawNode(n)).offsetParent||e[0].documentElement;for(;r&&r!==e[0].documentElement&&(i=r,"static"===(t.getComputedStyle(i).position||"static"));)r=r.offsetParent;return r||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(o,a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:i+s,originalRight:i,heightOverflow:o.scrollHeight>o.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?r.hidden:r.normal,o=t.getComputedStyle(e);return i.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,i,o){n=this.getRawNode(n);var a=i?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,u=n.parentElement||s;if(u===s||"fixed"===l.position)return s;for(;u.parentElement&&u!==s;){var d=t.getComputedStyle(u);if(c&&"static"!==d.position&&(c=!1),!c&&a.test(d.overflow+d.overflowY+d.overflowX))break;u=u.parentElement}return u},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var o=t.getComputedStyle(n);r.top-=this.parseStyle(o.marginTop),r.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&((s=this.offset(a)).top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){var i=(n=this.getRawNode(n)).getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){r=!1!==r;var o=(n=this.getRawNode(n)).getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=i?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,r){var c=t.getComputedStyle(s);a.top+=this.parseStyle(c.paddingTop),a.bottom-=this.parseStyle(c.paddingBottom),a.left+=this.parseStyle(c.paddingLeft),a.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),(e=e.split("-"))[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,i,r){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(i[2]){var u=this.viewportOffset(e,r),d=t.getComputedStyle(n),h={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(i[0]="top"===i[0]&&h.height>u.top&&h.height<=u.bottom?"bottom":"bottom"===i[0]&&h.height>u.bottom&&h.height<=u.top?"top":"left"===i[0]&&h.width>u.left&&h.width<=u.right?"right":"right"===i[0]&&h.width>u.right&&h.width<=u.left?"left":i[0],i[1]="top"===i[1]&&h.height-l.height>u.bottom&&h.height-l.height<=u.top?"bottom":"bottom"===i[1]&&h.height-l.height>u.top&&h.height-l.height<=u.bottom?"top":"left"===i[1]&&h.width-l.width>u.right&&h.width-l.width<=u.left?"right":"right"===i[1]&&h.width-l.width>u.left&&h.width-l.width<=u.right?"left":i[1],"center"===i[1])if(o.vertical.test(i[0])){var p=l.width/2-a/2;u.left+p<0&&h.width-l.width<=u.right?i[1]="left":u.right+p<0&&h.width-l.width<=u.left&&(i[1]="right")}else{var f=l.height/2-h.height/2;u.top+f<0&&h.height-l.height<=u.bottom?i[1]="top":u.bottom+f<0&&h.height-l.height<=u.top&&(i[1]="bottom")}}switch(i[0]){case"top":c.top=l.top-s;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-a;break;case"right":c.left=l.left+l.width}switch(i[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-s;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-a;break;case"center":o.vertical.test(i[0])?c.left=l.left+l.width/2-a/2:c.top=l.top+l.height/2-s/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],c},adjustTop:function(e,t,n,i){if(-1!==e.indexOf("top")&&n!==i)return{top:t.top-i+"px"}},positionArrow:function(e,n){var i=(e=this.getRawNode(e)).querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),a=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if("center"!==(n=this.parsePlacement(n))[1]){var l="border-"+n[0]+"-width",c=t.getComputedStyle(a)[l],u="border-";o.vertical.test(n[0])?u+=n[0]+"-"+n[1]:u+=n[1]+"-"+n[0],u+="-radius";var d=t.getComputedStyle(r?i:e)[u];switch(n[0]){case"top":s.bottom=r?"0":"-"+c;break;case"bottom":s.top=r?"0":"-"+c;break;case"left":s.right=r?"0":"-"+c;break;case"right":s.left=r?"0":"-"+c}s[n[1]]=d,angular.element(a).css(s)}else angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m){var g,v,y,b,w,_,x,T,S,E,M,A,C,k=!1,P=[];function D(t){var n=d.parse(t,g,e.date);if(isNaN(n))for(var i=0;i<C.length;i++)if(n=d.parse(t,C[i],e.date),!isNaN(n))return n;return n}function R(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=D(e);if(!isNaN(t))return d.fromTimezone(t,M.timezone)}return E.$options&&E.$options.allowInvalid?e:void 0}function $(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(D(i))))}function I(n){if(e.isOpen||!e.disabled){var i=A[0],r=t[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||o||e.$apply((function(){e.isOpen=!1}))}}function L(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply((function(){e.isOpen=!1})),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply((function(){e.isOpen=!0})))}function O(){if(e.isOpen){var i=angular.element(A[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:h.placement,o=c.positionElements(t,i,r,y);i.css({top:o.top+"px",left:o.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}this.init=function(r){if(E=r,M=angular.isObject(r.$options)?r.$options:{timezone:null},v=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):h.closeOnDateSelection,y=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):h.appendToBody,b=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):h.onOpenFocus,w=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,_=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:h.datepickerTemplateUrl,C=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):h.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):h.showButtonBar,h.html5Types[n.type]?(g=h.html5Types[n.type],k=!0):(g=n.uibDatepickerPopup||h.datepickerPopup,n.$observe("uibDatepickerPopup",(function(e,t){var n=e||h.datepickerPopup;if(n!==g&&(g=n,E.$modelValue=null,!g))throw new Error("uibDatepickerPopup must have a date format specified.")}))),!g)throw new Error("uibDatepickerPopup must have a date format specified.");if(k&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(x=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":w}),(T=angular.element(x.children()[0])).attr("template-url",_),e.datepickerOptions||(e.datepickerOptions={}),k&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),T.attr("datepicker-options","datepickerOptions"),k?E.$formatters.push((function(t){return e.date=d.fromTimezone(t,M.timezone),t})):(E.$$parserName="date",E.$validators.date=$,E.$parsers.unshift(R),E.$formatters.push((function(t){return E.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,M.timezone),d.filter(e.date,g))}))),E.$viewChangeListeners.push((function(){e.date=D(E.$viewValue)})),t.on("keydown",L),A=i(x)(e),x.remove(),y?s.find("body").append(A):t.after(A),e.$on("$destroy",(function(){for(!0===e.isOpen&&(l.$$phase||e.$apply((function(){e.isOpen=!1}))),A.remove(),t.off("keydown",L),s.off("click",I),S&&S.off("scroll",O),angular.element(a).off("resize",O);P.length;)P.shift()()}))},e.getText=function(t){return e[t+"Text"]||h[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,M.timezone));var n={};return angular.forEach(["minDate","maxDate"],(function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(m&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(u(e.datepickerOptions[t],"medium"))):n[t]=null})),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var i=e.date?d.filter(e.date,g):null;t.val(i),E.$setViewValue(i),v&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date)).setFullYear(i.getFullYear(),i.getMonth(),i.getDate()):(t=d.fromTimezone(i,M.timezone)).setHours(0,0,0,0)}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&P.push(e.$parent.$watch(o(n.ngDisabled),(function(t){e.disabled=t}))),e.$watch("isOpen",(function(i){i?e.disabled?e.isOpen=!1:p((function(){O(),b&&e.$broadcast("uib:datepicker.focus"),s.on("click",I);var i=n.popupPlacement?n.popupPlacement:h.placement;y||c.parsePlacement(i)[2]?(S=S||angular.element(c.scrollParent(t)))&&S.on("scroll",O):S=null,angular.element(a).on("resize",O)}),0,!1):(s.off("click",I),S&&S.off("scroll",O),angular.element(a).off("resize",O))})),e.$on("uib:datepicker.mode",(function(){p(O,0,!1)}))}]).directive("uibDatepickerPopup",(function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var r=i[0];i[1].init(r)}}})).directive("uibDatepickerPopupWrap",(function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}})),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var i;return function(){var r=this,o=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e((function(){t.apply(r,o)}),n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t,r){n||e.on("click",i),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t,r){n===t&&(n=null,e.off("click",i),e.off("keydown",this.keybindFilter))};var i=function(e){if(n&&!(e&&"disabled"===n.getAutoClose()||e&&3===e.which)){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var r=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(e.target)||(n.isOpen=!1,n.focusToggleElement(),t.$$phase||n.$apply())}}};this.keybindFilter=function(e){var t=n.getDropdownElement(),r=n.getToggleElement(),o=t&&t[0].contains(e.target),a=r&&r[0].contains(e.target);27===e.which?(e.stopPropagation(),n.focusToggleElement(),i()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&n.isOpen&&(o||a)&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,o,a,s,l,c,u){var d,h,p=this,f=e.$new(),m=r.appendToOpenClass,g=r.openClass,v=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,b=!1,w=null,_=!1,x=l.find("body");t.addClass("dropdown"),this.init=function(){if(n.isOpen&&(h=i(n.isOpen),v=h.assign,e.$watch(h,(function(e){f.isOpen=!!e}))),angular.isDefined(n.dropdownAppendTo)){var r=i(n.dropdownAppendTo)(f);r&&(w=angular.element(r))}b=angular.isDefined(n.dropdownAppendToBody),_=angular.isDefined(n.keyboardNav),b&&!w&&(w=x),w&&p.dropdownMenu&&(w.append(p.dropdownMenu),t.on("$destroy",(function(){p.dropdownMenu.remove()})))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen,angular.isFunction(v)&&v(f,f.isOpen),f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return _},f.focusDropdownEntry=function(e){var n=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===n.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=n.length-1}n[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",(function(n,i){if(w&&p.dropdownMenu){var r,h,_,x=s.positionElements(t,p.dropdownMenu,"bottom-left",!0),T=0;if(r={top:x.top+"px",display:n?"block":"none"},(h=p.dropdownMenu.hasClass("dropdown-menu-right"))?(r.left="auto",(_=s.scrollbarPadding(w)).heightOverflow&&_.scrollbarWidth&&(T=_.scrollbarWidth),r.right=window.innerWidth-T-(x.left+t.prop("offsetWidth"))+"px"):(r.left=x.left+"px",r.right="auto"),!b){var S=s.offset(w);r.top=x.top-S.top+"px",h?r.right=window.innerWidth-(x.left-S.left+t.prop("offsetWidth"))+"px":r.left=x.left-S.left+"px"}p.dropdownMenu.css(r)}var E=w||t;if(E.hasClass(w?m:g)===!n&&a[n?"addClass":"removeClass"](E,w?m:g).then((function(){angular.isDefined(n)&&n!==i&&y(e,{open:!!n})})),n)p.dropdownMenuTemplateUrl?u(p.dropdownMenuTemplateUrl).then((function(e){d=f.$new(),c(e.trim())(d,(function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t,l.on("keydown",o.keybindFilter)}))})):l.on("keydown",o.keybindFilter),f.focusToggleElement(),o.open(f,t);else{if(o.close(f,t),p.dropdownMenuTemplateUrl){d&&d.$destroy();var M=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(M),p.dropdownMenu=M}p.selectedOption=null}angular.isFunction(v)&&v(e,n)}))}]).directive("uibDropdown",(function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}})).directive("uibDropdownMenu",(function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}})).directive("uibDropdownToggle",(function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply((function(){i.toggle()}))};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,(function(e){t.attr("aria-expanded",!!e)})),e.$on("$destroy",(function(){t.unbind("click",r)}))}}}})),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",(function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}})),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",(function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map((function(t){return{key:t,value:e[t]}}))},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete e[t]}}}}}})).provider("$uibResolve",(function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,o,a){if(i)return i.resolve(e,r,o,a);var s=[];return angular.forEach(e,(function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))})),n.all(s).then((function(t){var n={},i=0;return angular.forEach(e,(function(e,r){n[r]=t[i++]})),n}))}}}]})).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),i}};function i(t,i,r){r.modalInClass&&(e.addClass(i,r.modalInClass),t.$on(n.NOW_CLOSING_EVENT,(function(n,o){var a=o();t.modalOptions.animation?e.removeClass(i,r.modalInClass).then(a):a()})))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=t.defer();r.$$postDigest((function(){s.resolve()})),s.promise.then((function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,(function(e,t){var i=t();n(o,{removeClass:a.modalInClass}).start().then(i)}))),t.when(s).then((function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}}))}))}}}]).directive("uibModalAnimationClass",(function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}})).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,i,r,o){o(t.$parent,(function(t){n.empty(),e.enter(t,n)}))}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,r,o,a,s,l){var c,u,d,h="modal-open",p=s.createNew(),f=a.createNew(),m={NOW_CLOSING_EVENT:"modal.stack.now-closing"},g=0,v=null,y=/[A-Z]/g;function b(){for(var e=-1,t=p.keys(),n=0;n<t.length;n++)p.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<g&&(e=g),e}function w(e,t){var n=p.get(e).value,i=n.appendTo;p.remove(e),(v=p.top())&&(g=parseInt(v.value.modalDomEl.attr("index"),10)),x(n.modalDomEl,n.modalScope,(function(){var t=n.openedClass||h;f.remove(t,e);var r=f.hasKey(t);i.toggleClass(t,r),!r&&d&&d.heightOverflow&&d.scrollbarWidth&&(d.originalRight?i.css({paddingRight:d.originalRight+"px"}):i.css({paddingRight:""}),d=null),_(!0)}),n.closedDeferred),function(){if(c&&-1===b()){x(c,u,(function(){null})),c=void 0,u=void 0}}(),t&&t.focus?t.focus():i.focus&&i.focus()}function _(e){var t;p.length()>0&&(t=p.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function x(t,n,i,r){var a,s=null;return n.$broadcast(m.NOW_CLOSING_EVENT,(function(){return a||(a=o.defer(),s=a.promise),function(){a.resolve()}})),o.when(s).then((function o(){if(o.done)return;o.done=!0,e.leave(t).then((function(){i&&i(),t.remove(),r&&r.resolve()})),n.$destroy()}))}function T(e){if(e.isDefaultPrevented())return e;var t=p.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply((function(){m.dismiss(t.key,"escape key press")})));break;case 9:var n=m.loadFocusElementList(t),i=!1;e.shiftKey?(m.isFocusInFirstItem(e,n)||m.isModalFocused(e,t))&&(i=m.focusLastFocusableElement(n)):m.isFocusInLastItem(e,n)&&(i=m.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function S(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}return r.$watch(b,(function(e){u&&(u.index=e)})),n.on("keydown",T),r.$on("$destroy",(function(){n.off("keydown",T)})),m.open=function(t,o){var a=n[0].activeElement,s=o.openedClass||h;_(!1),v=p.top(),p.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),f.put(s,t);var m,w=o.appendTo,x=b();if(!w.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");x>=0&&!c&&((u=r.$new(!0)).modalOptions=o,u.index=x,(c=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&c.addClass(o.backdropClass),o.animation&&c.attr("modal-animation","true"),i(c)(u),e.enter(c,w),l.isScrollable(w)&&(d=l.scrollbarPadding(w)).heightOverflow&&d.scrollbarWidth&&w.css({paddingRight:d.right+"px"})),o.component?(m=document.createElement(o.component.name.replace(y,(function(e,t){return(t?"-":"")+e.toLowerCase()}))),(m=angular.element(m)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):m=o.content,g=v?parseInt(v.value.modalDomEl.attr("index"),10)+1:0;var T=angular.element('<div uib-modal-window="modal-window"></div>');T.attr({class:"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:g,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(m),o.windowClass&&T.addClass(o.windowClass),o.animation&&T.attr("modal-animation","true"),w.addClass(s),o.scope&&(o.scope.$$topModalIndex=g),e.enter(i(T)(o.scope),w),p.top().value.modalDomEl=T,p.top().value.modalOpener=a},m.close=function(e,t){var n=p.get(e);return n&&S(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),w(e,n.value.modalOpener),!0):!n},m.dismiss=function(e,t){var n=p.get(e);return n&&S(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),w(e,n.value.modalOpener),!0):!n},m.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},m.getTop=function(){return p.top()},m.modalRendered=function(e){var t=p.get(e);t&&t.value.renderDeferred.resolve()},m.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},m.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},m.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},m.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},m.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},m.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,(function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)})):n}}},m}]).provider("$uibModal",(function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,r,o,a,s){var l={};var c=null;return l.getPromiseChain=function(){return c},l.open=function(l){var u,d,h,p=n.defer(),f=n.defer(),m=n.defer(),g=n.defer(),v={result:p.promise,opened:f.promise,closed:m.promise,rendered:g.promise,close:function(e){return s.close(v,e)},dismiss:function(e){return s.dismiss(v,e)}};if((l=angular.extend({},e.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||i.find("body").eq(0),!l.component&&!l.template&&!l.templateUrl)throw new Error("One of component or template or templateUrl options is required.");function y(){return u}return u=l.component?n.when(a.resolve(l.resolve,{},null,null)):n.all([(d=l,d.template?n.when(d.template):r(angular.isFunction(d.templateUrl)?d.templateUrl():d.templateUrl)),a.resolve(l.resolve,{},null,null)]),h=c=n.all([c]).then(y,y).then((function(e){var n=l.scope||t,i=n.$new();i.$close=v.close,i.$dismiss=v.dismiss,i.$on("$destroy",(function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")}));var r,a,c={scope:i,deferred:p,renderDeferred:g,closedDeferred:m,animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,ariaLabelledBy:l.ariaLabelledBy,ariaDescribedBy:l.ariaDescribedBy,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo},u={},d={};function h(t,n,r,o){t.$scope=i,t.$scope.$resolve={},r?t.$scope.$uibModalInstance=v:t.$uibModalInstance=v;var a=n?e[1]:e;angular.forEach(a,(function(e,n){o&&(t[n]=e),t.$scope.$resolve[n]=e}))}l.component?(h(u,!1,!0,!1),u.name=l.component,c.component=u):l.controller&&(h(d,!0,!1,!0),a=o(l.controller,d,!0,l.controllerAs),l.controllerAs&&l.bindToController&&((r=a.instance).$close=i.$close,r.$dismiss=i.$dismiss,angular.extend(r,{$resolve:d.$scope.$resolve},n)),r=a(),angular.isFunction(r.$onInit)&&r.$onInit()),l.component||(c.content=e[0]),s.open(v,c),f.resolve(!0)}),(function(e){f.reject(e),p.reject(e)})).finally((function(){c===h&&(c=null)})),v},l}]};return e})),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,r){t.ngModelCtrl=e,t.config=r,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,(function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()}))):t.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",(function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())}))},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault(),(!n.ngDisabled||!i)&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",(function(){for(;t._watchers.length;)t._watchers.shift()()}))}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,i,r){n.addClass("pager");var o=r[0],a=r[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,r){var o=this,a=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):r.maxSize,s=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):r.rotate,l=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):r.forceEllipses,c=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):r.boundaryLinkNumbers,u=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;function d(e,t,n){return{number:e,text:t,active:n}}e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):r.directionLinks,i.create(this,e,t),t.maxSize&&o._watchers.push(e.$parent.$watch(n(t.maxSize),(function(e){a=parseInt(e,10),o.render()})));var h=this.render;this.render=function(){h(),e.page>0&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],i=1,r=t,o=angular.isDefined(a)&&a<t;o&&(s?(r=(i=Math.max(e-Math.floor(a/2),1))+a-1)>t&&(i=(r=t)-a+1):(i=(Math.ceil(e/a)-1)*a+1,r=Math.min(i+a-1,t)));for(var h=i;h<=r;h++){var p=d(h,u(h),h===e);n.push(p)}if(o&&a>0&&(!s||l||c)){if(i>1){if(!c||i>3){var f=d(i-1,"...",!1);n.unshift(f)}if(c){if(3===i){var m=d(2,"2",!1);n.unshift(m)}var g=d(1,"1",!1);n.unshift(g)}}if(r<t){if(!c||r<t-2){var v=d(r+1,"...",!1);n.push(v)}if(c){if(r===t-2){var y=d(t-1,t-1,!1);n.push(y)}var b=d(t,t,!1);n.push(b)}}}return n}(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,i,r){n.addClass("pagination");var o=r[0],a=r[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",(function(){var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},t={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,r,o,a,s,l,c,u,d){var h=d.createNew();function p(e){if(27===e.which){var t=h.top();t&&(t.value.close(),t=null)}}return a.on("keyup",p),c.$on("$destroy",(function(){a.off("keyup",p)})),function(i,c,d,p){function f(e){var n=(e||p.trigger||d).split(" "),i=n.map((function(e){return t[e]||e}));return{show:n,hide:i}}p=angular.extend({},e,n,p);var m=i.replace(/[A-Z]/g,(function(e,t){return(t?"-":"")+e.toLowerCase()})),g=l.startSymbol(),v=l.endSymbol(),y="<div "+m+'-popup uib-title="'+g+"title"+v+'" '+(p.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+v+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=r(y);return function(e,t,r,l){var d,m,g,v,y,b,w,_=!!angular.isDefined(p.appendToBody)&&p.appendToBody,x=f(void 0),T=angular.isDefined(r[c+"Enable"]),S=e.$new(!0),E=!1,M=!!angular.isDefined(r[c+"IsOpen"])&&u(r[c+"IsOpen"]),A=!!p.useContentExp&&u(r[i]),C=[],k=function(){d&&d.html()&&(b||(b=o((function(){var e=s.positionElements(t,d,S.placement,_),n=angular.isDefined(d.offsetHeight)?d.offsetHeight:d.prop("offsetHeight"),i=_?s.offset(t):s.position(t);d.css({top:e.top+"px",left:e.left+"px"});var r=e.placement.split("-");d.hasClass(r[0])||(d.removeClass(w.split("-")[0]),d.addClass(r[0])),d.hasClass(p.placementClassPrefix+e.placement)||(d.removeClass(p.placementClassPrefix+w),d.addClass(p.placementClassPrefix+e.placement)),o((function(){var e=angular.isDefined(d.offsetHeight)?d.offsetHeight:d.prop("offsetHeight"),t=s.adjustTop(r,i,n,e);t&&d.css(t)}),0,!1),d.hasClass("uib-position-measure")?(s.positionArrow(d,e.placement),d.removeClass("uib-position-measure")):w!==e.placement&&s.positionArrow(d,e.placement),w=e.placement,b=null}),0,!1)))};function P(){S.isOpen?R():D()}function D(){T&&!e.$eval(r[c+"Enable"])||(O(),function(){S.title=r[c+"Title"],S.content=A?A(e):r[i];S.popupClass=r[c+"Class"],S.placement=angular.isDefined(r[c+"Placement"])?r[c+"Placement"]:p.placement;var t=s.parsePlacement(S.placement);w=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(r[c+"PopupDelay"],10),o=parseInt(r[c+"PopupCloseDelay"],10);S.popupDelay=isNaN(n)?p.popupDelay:n,S.popupCloseDelay=isNaN(o)?p.popupCloseDelay:o}(),S.popupDelay?v||(v=o($,S.popupDelay,!1)):$())}function R(){I(),S.popupCloseDelay?y||(y=o(L,S.popupCloseDelay,!1)):L()}function $(){if(I(),O(),!S.content)return angular.noop;!function(){if(d)return;m=S.$new(),d=n(m,(function(e){_?a.find("body").append(e):t.after(e)})),h.add(S,{close:L}),function(){C.length=0,A?(C.push(e.$watch(A,(function(e){S.content=e,!e&&S.isOpen&&L()}))),C.push(m.$watch((function(){E||(E=!0,m.$$postDigest((function(){E=!1,S&&S.isOpen&&k()})))})))):C.push(r.$observe(i,(function(e){S.content=e,!e&&S.isOpen?L():k()})));C.push(r.$observe(c+"Title",(function(e){S.title=e,S.isOpen&&k()}))),C.push(r.$observe(c+"Placement",(function(e){S.placement=e||p.placement,S.isOpen&&k()})))}()}(),S.$evalAsync((function(){S.isOpen=!0,F(!0),k()}))}function I(){v&&(o.cancel(v),v=null),b&&(o.cancel(b),b=null)}function L(){S&&S.$evalAsync((function(){S&&(S.isOpen=!1,F(!1),S.animation?g||(g=o(N,150,!1)):N())}))}function O(){y&&(o.cancel(y),y=null),g&&(o.cancel(g),g=null)}function N(){I(),O(),C.length&&(angular.forEach(C,(function(e){e()})),C.length=0),d&&(d.remove(),d=null),h.remove(S),m&&(m.$destroy(),m=null)}function F(t){M&&angular.isFunction(M.assign)&&M.assign(e,t)}function B(e){S&&S.isOpen&&d&&(t[0].contains(e.target)||d[0].contains(e.target)||R())}S.origScope=e,S.isOpen=!1,S.contentExp=function(){return S.content},r.$observe("disabled",(function(e){e&&I(),e&&S.isOpen&&L()})),M&&e.$watch(M,(function(e){S&&!e===S.isOpen&&P()}));var U,z,V,H=function(){x.show.forEach((function(e){"outsideClick"===e?t.off("click",P):(t.off(e,D),t.off(e,P))})),x.hide.forEach((function(e){"outsideClick"===e?a.off("click",B):t.off(e,R)}))};U=[],z=[],V=e.$eval(r[c+"Trigger"]),H(),angular.isObject(V)?(Object.keys(V).forEach((function(e){U.push(e),z.push(V[e])})),x={show:U,hide:z}):x=f(V),"none"!==x.show&&x.show.forEach((function(e,n){"outsideClick"===e?(t.on("click",P),a.on("click",B)):e===x.hide[n]?t.on(e,P):e&&(t.on(e,D),t.on(x.hide[n],R)),t.on("keypress",(function(e){27===e.which&&R()}))}));var j,W=e.$eval(r[c+"Animation"]);S.animation=angular.isDefined(W)?!!W:p.animation;var G=c+"AppendToBody";j=G in r&&void 0===r[G]||e.$eval(r[G]),_=angular.isDefined(j)?j:_,e.$on("$destroy",(function(){H(),N(),S=null}))}}}}}]})).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,o,a){var s,l,c,u=r.$eval(a.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then((function(){l=null})),l=c,c=null)};r.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),(function(t){var a=++d;t?(i(t,!0).then((function(i){if(a===d){var r=u.$new(),l=n(i)(r,(function(t){h(),e.enter(t,o)}));c=l,(s=r).$emit("$includeContentLoaded",t)}}),(function(){a===d&&(h(),r.$emit("$includeContentError",t))})),r.$emit("$includeContentRequested",t)):h()})),r.$on("$destroy",h)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var r=e.parsePlacement(t.placement);n.addClass(r[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",(function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}})).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",(function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}})).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",(function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}})).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",(function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}})).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",(function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}})).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",(function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}})).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;function o(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}this.bars=[],e.max=o(),this.addBar=function(e,t,n){r||t.css({transition:"none"}),this.bars.push(e),e.max=o(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",(function(t){e.recalculatePercentage()})),e.recalculatePercentage=function(){var t=i.bars.reduce((function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent}),0);t>100&&(e.percent-=t-100)},e.$on("$destroy",(function(){t=null,i.removeBar(e)}))},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach((function(e){e.recalculatePercentage()}))},e.$watch("maxParam",(function(e){i.bars.forEach((function(e){e.max=o(),e.recalculatePercentage()}))}))}]).directive("uibProgress",(function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}})).directive("uibBar",(function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}})).directive("uibProgressbar",(function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}})),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){(i=r).$render=this.render,i.$formatters.push((function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e})),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=r.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=r.getTitle(e.value-1)}}]).directive("uibRating",(function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}})),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t,n,i=this;function r(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}i.tabs=[],i.select=function(e,o){if(!n){var a=r(t),s=i.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,i.active=l.index,t=l.index):!l&&angular.isDefined(t)&&(i.active=null,t=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort((function(e,t){return e.index>t.index?1:e.index<t.index?-1:0})),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var t=r(e.index);i.select(t)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var r=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(r)}i.tabs.splice(t,1)},e.$watch("tabset.active",(function(e){angular.isDefined(e)&&e!==t&&i.select(r(e))})),e.$on("$destroy",(function(){n=!0}))}]).directive("uibTabset",(function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}})).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,r,o){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),(function(e){t.disabled=!!e})),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?t.index=Math.max.apply(null,r.tabs.map((function(e){return e.index})))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===t){n=i;break}r.select(n,e)}},r.addTab(t),t.$on("$destroy",(function(){r.removeTab(t)})),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",(function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",(function(e){e&&(t.html(""),t.append(e))}))}}})).directive("uibTabContentTransclude",(function(){return{restrict:"A",require:"^uibTabset",link:function(e,t,n){var i=e.$eval(n.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,(function(e){angular.forEach(e,(function(e){!function(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):i.headingElement=e}))}))}}})),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,o,a){var s=new Date,l=[],c={$setViewValue:angular.noop},u=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,d=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){(c=t).$render=this.render,c.$formatters.unshift((function(e){return e?new Date(e):null}));var r=i.eq(0),o=i.eq(1),s=i.eq(2);(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(r,o,s),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(r,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o,s)};var h=a.hourStep;n.hourStep&&l.push(e.$parent.$watch(i(n.hourStep),(function(e){h=+e})));var p,f,m=a.minuteStep;n.minuteStep&&l.push(e.$parent.$watch(i(n.minuteStep),(function(e){m=+e}))),l.push(e.$parent.$watch(i(n.min),(function(e){var t=new Date(e);p=isNaN(t)?void 0:t}))),l.push(e.$parent.$watch(i(n.max),(function(e){var t=new Date(e);f=isNaN(t)?void 0:t})));var g=!1;n.ngDisabled&&l.push(e.$parent.$watch(i(n.ngDisabled),(function(e){g=e}))),e.noIncrementHours=function(){var e=E(s,60*h);return g||e>f||e<s&&e<p},e.noDecrementHours=function(){var e=E(s,60*-h);return g||e<p||e>s&&e>f},e.noIncrementMinutes=function(){var e=E(s,m);return g||e>f||e<s&&e<p},e.noDecrementMinutes=function(){var e=E(s,-m);return g||e<p||e>s&&e>f},e.noIncrementSeconds=function(){var e=M(s,v);return g||e>f||e<s&&e<p},e.noDecrementSeconds=function(){var e=M(s,-v);return g||e<p||e>s&&e>f},e.noToggleMeridian=function(){return s.getHours()<12?g||E(s,720)>f:g||E(s,-720)<p};var v=a.secondStep;function y(){var t=+e.hours;if((e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===u[1]&&(t+=12)),t}function b(){var t=+e.minutes;if(t>=0&&t<60&&""!==e.minutes)return t}function w(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function _(e){x(),c.$setViewValue(new Date(s)),T(e)}function x(){c.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function T(t){if(c.$modelValue){var n=s.getHours(),i=s.getMinutes(),r=s.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:w(n,!d),"m"!==t&&(e.minutes=w(i)),e.meridian=s.getHours()<12?u[0]:u[1],"s"!==t&&(e.seconds=w(r)),e.meridian=s.getHours()<12?u[0]:u[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=u[0]}function S(e){s=M(s,e),_()}function E(e,t){return M(e,60*t)}function M(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function A(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}n.secondStep&&l.push(e.$parent.$watch(i(n.secondStep),(function(e){v=+e}))),e.showSeconds=a.showSeconds,n.showSeconds&&l.push(e.$parent.$watch(i(n.showSeconds),(function(t){e.showSeconds=!!t}))),e.showMeridian=a.showMeridian,n.showMeridian&&l.push(e.$parent.$watch(i(n.showMeridian),(function(t){if(e.showMeridian=!!t,c.$error.time){var n=y(),i=b();angular.isDefined(n)&&angular.isDefined(i)&&(s.setHours(n),_())}else T()}))),this.setupMousewheelEvents=function(t,n,i){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",(function(t){g||e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()})),n.bind("mousewheel wheel",(function(t){g||e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})),i.bind("mousewheel wheel",(function(t){g||e.$apply(r(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()}))},this.setupArrowkeyEvents=function(t,n,i){t.bind("keydown",(function(t){g||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))})),n.bind("keydown",(function(t){g||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))})),i.bind("keydown",(function(t){g||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))}))},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var r=function(t,n,i){c.$setViewValue(null),c.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n),angular.isDefined(i)&&(e.invalidSeconds=i)};e.updateHours=function(){var e=y(),t=b();c.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(s.setHours(e),s.setMinutes(t),s<p||s>f?r(!0):_("h")):r(!0)},t.bind("blur",(function(t){c.$setTouched(),A()?x():null===e.hours||""===e.hours?r(!0):!e.invalidHours&&e.hours<10&&e.$apply((function(){e.hours=w(e.hours,!d)}))})),e.updateMinutes=function(){var e=b(),t=y();c.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(s.setHours(t),s.setMinutes(e),s<p||s>f?r(void 0,!0):_("m")):r(void 0,!0)},n.bind("blur",(function(t){c.$setTouched(),A()?x():null===e.minutes?r(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply((function(){e.minutes=w(e.minutes)}))})),e.updateSeconds=function(){var t=function(){var t=+e.seconds;return t>=0&&t<60?t:void 0}();c.$setDirty(),angular.isDefined(t)?(s.setSeconds(t),_("s")):r(void 0,void 0,!0)},i.bind("blur",(function(t){A()?x():!e.invalidSeconds&&e.seconds<10&&e.$apply((function(){e.seconds=w(e.seconds)}))}))},this.render=function(){var t=c.$viewValue;isNaN(t)?(c.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(s=t),s<p||s>f?(c.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):x(),T())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||S(60*h*60)},e.decrementHours=function(){e.noDecrementHours()||S(60*-h*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||S(60*m)},e.decrementMinutes=function(){e.noDecrementMinutes()||S(60*-m)},e.incrementSeconds=function(){e.noIncrementSeconds()||S(v)},e.decrementSeconds=function(){e.noDecrementSeconds()||S(-v)},e.toggleMeridian=function(){var t=b(),n=y();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?S(720*(s.getHours()<12?60:-60)):e.meridian=e.meridian===u[0]?u[1]:u[0])},e.blur=function(){c.$setTouched()},e.$on("$destroy",(function(){for(;l.length;)l.shift()()}))}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,o,a,s,l,c,u,d,h){var p,f,m=[9,13,27,38,40],g=e.$eval(n.typeaheadMinLength);g||0===g||(g=1),e.$watch(n.typeaheadMinLength,(function(e){g=e||0===e?e:1}));var v=e.$eval(n.typeaheadWaitMs)||0,y=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,(function(e){y=!1!==e}));var b,w,_=r(n.typeaheadLoading).assign||angular.noop,x=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},T=r(n.typeaheadOnSelect),S=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),E=r(n.typeaheadNoResults).assign||angular.noop,M=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,A=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),C=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,k=!1!==e.$eval(n.typeaheadFocusFirst),P=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),D=r(n.typeaheadIsOpen).assign||angular.noop,R=e.$eval(n.typeaheadShowHint)||!1,$=r(n.ngModel),I=r(n.ngModel+"($$$p)"),L=h.parse(n.uibTypeahead),O=e.$new(),N=e.$on("$destroy",(function(){O.$destroy()}));O.$on("$destroy",N);var F,B,U="typeahead-"+O.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":U}),R&&((F=angular.element("<div></div>")).css("position","relative"),t.after(F),(B=t.clone()).attr("placeholder",""),B.attr("tabindex","-1"),B.val(""),B.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),B.attr("id")&&B.removeAttr("id"),F.append(B),B.after(t));var z=angular.element("<div uib-typeahead-popup></div>");z.attr({id:U,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&z.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&z.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var V=function(){O.matches=[],O.activeIdx=-1,t.attr("aria-expanded",!1),R&&B.val("")},H=function(e){return U+"-option-"+e};O.$watch("activeIdx",(function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",H(e))}));var j=function(n,i){var r={$viewValue:n};_(e,!0),E(e,!1),o.when(L.source(e,r)).then((function(o){var a=n===p.$viewValue;if(a&&b)if(o&&o.length>0){O.activeIdx=k?0:-1,E(e,!1),O.matches.length=0;for(var s=0;s<o.length;s++)r[L.itemName]=o[s],O.matches.push({id:H(s),label:L.viewMapper(O,r),model:o[s]});if(O.query=n,Z(),t.attr("aria-expanded",!0),P&&1===O.matches.length&&function(e,t){return!!(O.matches.length>t&&e)&&e.toUpperCase()===O.matches[t].label.toUpperCase()}(n,0)&&(angular.isNumber(O.debounceUpdate)||angular.isObject(O.debounceUpdate)?u((function(){O.select(0,i)}),angular.isNumber(O.debounceUpdate)?O.debounceUpdate:O.debounceUpdate.default):O.select(0,i)),R){var l=O.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?B.val(n+l.slice(n.length)):B.val("")}}else V(),E(e,!0);a&&_(e,!1)}),(function(){V(),_(e,!1),E(e,!0)}))};A&&(angular.element(l).on("resize",q),s.find("body").on("scroll",q));var W,G=u((function(){O.matches.length&&Z(),O.moveInProgress=!1}),200);function q(){O.moveInProgress||(O.moveInProgress=!0,O.$digest()),G()}function Z(){O.position=A?d.offset(t):d.position(t),O.position.top+=t.prop("offsetHeight")}O.moveInProgress=!1,O.query=void 0;var X=function(){W&&a.cancel(W)};V(),O.assignIsOpen=function(t){D(e,t)},O.select=function(i,r){var o,s,l={};w=!0,l[L.itemName]=s=O.matches[i].model,o=L.modelMapper(e,l),function(t,n){angular.isFunction($(e))&&f&&f.$options&&f.$options.getterSetter?I(t,{$$$p:n}):$.assign(t,n)}(e,o),p.$setValidity("editable",!0),p.$setValidity("parse",!0),T(e,{$item:s,$model:o,$label:L.viewMapper(e,l),$event:r}),V(),!1!==O.$eval(n.typeaheadFocusOnSelect)&&a((function(){t[0].focus()}),0,!1)},t.on("keydown",(function(t){if(0!==O.matches.length&&-1!==m.indexOf(t.which)){var n,i=x(e,{$event:t});if(-1===O.activeIdx&&i||9===t.which&&t.shiftKey)return V(),void O.$digest();switch(t.preventDefault(),t.which){case 27:t.stopPropagation(),V(),e.$digest();break;case 38:O.activeIdx=(O.activeIdx>0?O.activeIdx:O.matches.length)-1,O.$digest(),(n=z[0].querySelectorAll(".uib-typeahead-match")[O.activeIdx]).parentNode.scrollTop=n.offsetTop;break;case 40:O.activeIdx=(O.activeIdx+1)%O.matches.length,O.$digest(),(n=z[0].querySelectorAll(".uib-typeahead-match")[O.activeIdx]).parentNode.scrollTop=n.offsetTop;break;default:i&&O.$apply((function(){angular.isNumber(O.debounceUpdate)||angular.isObject(O.debounceUpdate)?u((function(){O.select(O.activeIdx,t)}),angular.isNumber(O.debounceUpdate)?O.debounceUpdate:O.debounceUpdate.default):O.select(O.activeIdx,t)}))}}})),t.bind("focus",(function(e){b=!0,0!==g||p.$viewValue||a((function(){j(p.$viewValue,e)}),0)})),t.bind("blur",(function(e){S&&O.matches.length&&-1!==O.activeIdx&&!w&&(w=!0,O.$apply((function(){angular.isObject(O.debounceUpdate)&&angular.isNumber(O.debounceUpdate.blur)?u((function(){O.select(O.activeIdx,e)}),O.debounceUpdate.blur):O.select(O.activeIdx,e)}))),!y&&p.$error.editable&&(p.$setViewValue(),O.$apply((function(){p.$setValidity("editable",!0),p.$setValidity("parse",!0)})),t.val("")),b=!1,w=!1}));var Y=function(n){t[0]!==n.target&&3!==n.which&&0!==O.matches.length&&(V(),c.$$phase||e.$digest())};s.on("click",Y),e.$on("$destroy",(function(){s.off("click",Y),(A||C)&&K.remove(),A&&(angular.element(l).off("resize",q),s.find("body").off("scroll",q)),z.remove(),R&&F.remove()}));var K=i(z)(O);A?s.find("body").append(K):C?angular.element(C).eq(0).append(K):t.after(K),this.init=function(t,n){p=t,f=n,O.debounceUpdate=p.$options&&r(p.$options.debounce)(e),p.$parsers.unshift((function(t){return b=!0,0===g||t&&t.length>=g?v>0?(X(),function(e){W=a((function(){j(e)}),v)}(t)):j(t):(_(e,!1),X(),V()),y?t:t?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),null)})),p.$formatters.push((function(t){var n,i={};return y||p.$setValidity("editable",!0),M?(i.$model=t,M(e,i)):(i[L.itemName]=t,n=L.viewMapper(e,i),i[L.itemName]=void 0,n!==L.viewMapper(e,i)?n:t)}))}}]).directive("uibTypeahead",(function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}})).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var r=t.debounce();angular.isNumber(r)||angular.isObject(r)?e((function(){t.select({activeIdx:n,evt:i})}),angular.isNumber(r)?r:r.default):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then((function(e){var n=angular.element(e.trim());r.replaceWith(n),t(n)(i)}))}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){var i;return i=t.has("$sanitize"),function(t,r){return!i&&function(e){return/<.*>/g.test(e)}(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(r.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,i||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0})),angular.module("ui.bootstrap.datepicker").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0})),angular.module("ui.bootstrap.position").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0})),angular.module("ui.bootstrap.datepickerPopup").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0})),angular.module("ui.bootstrap.tooltip").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0})),angular.module("ui.bootstrap.timepicker").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0})),angular.module("ui.bootstrap.typeahead").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}))},66863:function(e,t,n){n(24706),e.exports="ui.bootstrap"},28508:function(e,t,n){n(18918),e.exports=angular},14206:function(e,t,n){e.exports=n(8057)},14387:function(e,t,n){"use strict";var i=n(67485),r=n(94570),o=n(60581),a=n(53845),s=n(38338),l=n(68524);e.exports=function(e){return new Promise((function(t,c){var u=e.data,d=e.headers;i.isFormData(u)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",f=e.auth.password||"";d.Authorization="Basic "+btoa(p+":"+f)}if(h.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};r(t,c,i),h=null}},h.onabort=function(){h&&(c(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){c(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){c(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},i.isStandardBrowserEnv()){var m=n(12940),g=(e.withCredentials||s(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in h&&i.forEach(d,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)})),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),c(e),h=null)})),void 0===u&&(u=null),h.send(u)}))}},8057:function(e,t,n){"use strict";var i=n(67485),r=n(875),o=n(25029),a=n(44941);function s(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var l=s(n(73141));l.Axios=o,l.create=function(e){return s(a(l.defaults,e))},l.Cancel=n(37132),l.CancelToken=n(34603),l.isCancel=n(21475),l.all=function(e){return Promise.all(e)},l.spread=n(35739),e.exports=l,e.exports.default=l},37132:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},34603:function(e,t,n){"use strict";var i=n(37132);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},21475:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},25029:function(e,t,n){"use strict";var i=n(67485),r=n(60581),o=n(68096),a=n(55009),s=n(44941);function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=l},68096:function(e,t,n){"use strict";var i=n(67485);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},68524:function(e,t,n){"use strict";var i=n(69953);e.exports=function(e,t,n,r,o){var a=new Error(e);return i(a,t,n,r,o)}},55009:function(e,t,n){"use strict";var i=n(67485),r=n(9212),o=n(21475),a=n(73141),s=n(32642),l=n(72288);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},69953:function(e){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},44941:function(e,t,n){"use strict";var i=n(67485);e.exports=function(e,t){t=t||{};var n={};return i.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),i.forEach(["headers","auth","proxy"],(function(r){i.isObject(t[r])?n[r]=i.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:i.isObject(e[r])?n[r]=i.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),i.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])})),n}},94570:function(e,t,n){"use strict";var i=n(68524);e.exports=function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},9212:function(e,t,n){"use strict";var i=n(67485);e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},73141:function(e,t,n){"use strict";var i=n(67485),r=n(51446),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,l={adapter:(("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)||"undefined"!=typeof XMLHttpRequest)&&(s=n(14387)),s),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(o)})),e.exports=l},875:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},60581:function(e,t,n){"use strict";var i=n(67485);function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},72288:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},12940:function(e,t,n){"use strict";var i=n(67485);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},32642:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},38338:function(e,t,n){"use strict";var i=n(67485);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},51446:function(e,t,n){"use strict";var i=n(67485);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},53845:function(e,t,n){"use strict";var i=n(67485),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},35739:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},67485:function(e,t,n){"use strict";var i=n(875),r=n(48809),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:r,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]=n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return t},deepMerge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]="object"==typeof n?e({},n):n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return t},extend:function(e,t,n){return c(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},92923:function(e,t,n){"use strict";n.d(t,{Kn:function(){return g},SC:function(){return m},Sl:function(){return v},d8:function(){return f},ej:function(){return p}});var i=n(59396),r=n.n(i),o=n(50093),a=n.n(o),s=n(41281),l=n.n(s),c=n(75453),u=n.n(c);n(99236),n(67209),n(76139),n(99745);function d(e,t){var n=void 0!==l()&&e[a()]||e["@@iterator"];if(!n){if(r()(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return u()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,s=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw s}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e){return function(e){if(null==e)try{e=document.cookie}catch(t){console.error("Parse document cookies:",t),e=""}var t={};if(!e)return t;var n,i=d(e.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.indexOf("="),a=r.substring(0,o).trim(),s=r.substring(o+1).trim();t[a]=s}}catch(e){i.e(e)}finally{i.f()}return t}()[e]}function f(e,t,n,i){n=n instanceof Date?n.toUTCString():n||v(100),i=i||"/";try{document.cookie="".concat(e,"=").concat(t,"; expires=").concat(n,"; path=").concat(i)}catch(t){console.error("Set cookie ".concat(e,":"),t)}}function m(e){var t=(p(e)||"").toLowerCase();return!!t&&"false"!==t&&"f"!==t&&"0"!==t&&"off"!==t}function g(e,t,n,i){f(e,t?"t":"f",n,i)}function v(e){var t=new Date;return t.setTime(t.getTime()+24*e*60*60*1e3),t.toUTCString()}},95332:function(e,t,n){"use strict";n.d(t,{ZP:function(){return s}});var i=n(11959),r=n.n(i),o=n(39041),a=n.n(o),s=(n(78703),n(64434),function(){function e(){r()(this,e),this.listeners=[],this.runningEmits=0}return a()(e,[{key:"on",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.listeners.push(new l(e,t,i)),function(){return n.off(e,t)}}},{key:"off",value:function(e,t){var n=this.listeners.findIndex((function(n){return!n.removed&&n.has(e,t)}));n<0||(this.runningEmits?this.listeners[n].removed=!0:this.listeners.splice(n,1))}},{key:"once",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.on(e,(function(){i(),t.apply(void 0,arguments)}),n)}},{key:"onAllEvents",value:function(e,t){var n=this;return this.listeners.push(new c(e,t)),function(){return n.offAllEvents(e)}}},{key:"offAllEvents",value:function(e){var t=this.listeners.findIndex((function(t){return!t.removed&&t.has(e)}));t<0||(this.runningEmits?this.listeners[t].removed=!0:this.listeners.splice(t,1))}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.runningEmits++,this.listeners.filter((function(t){return!t.removed&&t.matches(e)})).forEach((function(t){return t.emit.apply(t,[e].concat(n))})),this.runningEmits--,this.runningEmits||(this.listeners=this.listeners.filter((function(e){return!e.removed})))}},{key:"offWithCtx",value:function(e){null!=e&&(this.runningEmits?this.listeners.forEach((function(t){t.removed=t.removed||e===t.ctx})):this.listeners=this.listeners.filter((function(t){return e!==t.ctx})))}}]),e}()),l=function(){function e(t,n,i){r()(this,e),this.event=t,this.callback=n,this.ctx=i,this.removed=!1}return a()(e,[{key:"has",value:function(e,t){return this.event===e&&this.callback===t}},{key:"matches",value:function(e){return this.event===e}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.callback.apply(this,n)}}]),e}(),c=function(){function e(t,n){r()(this,e),this.callback=t,this.ctx=n,this.removed=!1}return a()(e,[{key:"has",value:function(e){return this.callback===e}},{key:"matches",value:function(){return!0}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.callback.apply(this,[e].concat(n))}}]),e}()},33419:function(e,t,n){"use strict";n.d(t,{D5:function(){return r},EZ:function(){return a},Re:function(){return o},ZX:function(){return u},jl:function(){return d},jt:function(){return s},pj:function(){return l},uZ:function(){return i},uo:function(){return c}});var i=function(e,t,n){return Math.min(Math.max(e,t),n)},r=function(e,t){return(e%t+t)%t},o=function(e,t,n){return t<=e&&e<=n},a=function(e,t){return r(e-t+Math.PI,2*Math.PI)-Math.PI},s=function(e,t){return Math.abs(r(e-t+Math.PI,2*Math.PI)-Math.PI)},l=.5*Math.PI,c=2*Math.PI,u=Math.PI/180,d=180/Math.PI},57313:function(e,t,n){"use strict";n.d(t,{Ie:function(){return o},dD:function(){return a},en:function(){return s}});var i=n(83452),r=n.n(i);n(64434),n(90286),n(99236),n(65942),n(42679);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e?r()(e).map((function(n){var i=t(e[n],n);if(!n||void 0===i)return null;if(!0===i)return encodeURIComponent(n);var r=i instanceof Date?i.toISOString():"".concat(i);return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))})).filter((function(e){return!!e})).join("&"):""}function a(e){var t={};return e.split("&").forEach((function(e){if(e){var n=e.split("="),i=decodeURIComponent(n[0]);if(i){var r=!(n.length>1)||decodeURIComponent(n[1]);t[i]=r}}})),t}function s(e){var t=new URL(e);return t.search.startsWith("?")?t.search.substring(1):t.href}},13016:function(e,t,n){"use strict";n.d(t,{a:function(){return p}});var i=n(14176),r=n.n(i),o=n(75575),a=n.n(o),s=n(11959),l=n.n(s),c=n(39041),u=n.n(c),d=n(68313),h=n.n(d),p=(n(38081),function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,e),a()(n).forEach((function(e){t[e]=n[e]}))}return u()(e,[{key:"isPresent",value:function(e){return e in this}},{key:"get",value:function(e,t){return this[e]||t}},{key:"getInt",value:function(e,t){if(!this.isPresent(e))return t;var n=r()(this.get(e));return isNaN(n)?t:n}},{key:"getFloat",value:function(e,t){if(!this.isPresent(e))return t;var n,i=(n=this.get(e),/^(-|\+)?[0-9]+(\.[0-9]+)?$/.test(n)?h()(n):NaN);return isNaN(i)?t:i}},{key:"getBool",value:function(e,t){var n,i=this.get(e);return null==i?this.isPresent(e)||t:("string"==typeof(n=i)&&(n=n.toLowerCase()),![void 0,!1,"","0","off","false","f","no","n"].includes(n))}}]),e}())},64164:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});n(42679);var i=n(13016),r=n(57313),o=null;function a(){var e;return null===o&&(e=window.location.search.substring(1),o=new i.a((0,r.dD)(e))),o}},57694:function(e,t,n){"use strict";n.d(t,{Z:function(){return S},a:function(){return E}});n(64434);var i=n(67394),r=n.n(i),o=n(92937),a=n.n(o),s=n(63774),l=n.n(s),c=n(23587),u=n.n(c),d=n(95315),h=n.n(d),p=n(83452),f=n.n(p),m=n(18042),g=n.n(m),v=n(47834),y=n.n(v),b=n(38923),w=n.n(b);function _(e,t){var n=f()(e);if(h()){var i=h()(e);t&&(i=i.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):l()?a()(e,l()(n)):_(Object(n)).forEach((function(t){r()(e,t,u()(n,t))}))}return e}var T=function(e){return w()(e).reduce((function(e,t){var n=y()(t,2),i=n[0],r=n[1];return e[i.toLowerCase().trim()]=r,e}),{})},S=[{key:"en",name:"English",strings:x(x({},{abbrNA:"N/A",abbrNC:"N/C",abbrNcExplain:"Not computed due to one or more missing exterior wall thicknesses.",floorAreaInfo:"Floor Area Information",ansi:"ANSI Z765-2021",allSpaceIsExcluded:"All space is excluded",belowGrade:"Below Grade",interiorArea:"Interior Area",excludedArea:"Excluded Area",perimeterWallLength:"Perimeter Wall Length",exteriorWallThickness:"Exterior Wall Thickness",perimeterWallThickness:"Perimeter Wall Thickness",interior:"Interior",excluded:"Excluded",exterior:"Exterior",exteriorArea:"Exterior Area",finishedArea:"Finished Area",finishedAreaBelowGrade:"Finished Area (Below Grade)",unfinishedArea:"Unfinished Area",belowGradeUnfinishedArea:"Below Grade Unfinished Area",belowGradeFinishedArea:"Below Grade Finished Area",aboveGradeUnfinishedArea:"Above Grade Unfinished Area",aboveGradeFinishedArea:"Above Grade Finished Area",totalFloorArea:"Total Floor Area",totalAboveGradeFloorArea:"Total Above Grade Floor Area",totalUnfinishedArea:"Total Unfinished Area",totalFinishedArea:"Total Finished Area",areaDimensionDisclaimer:"Floor areas include footprint area of interior walls. All displayed floor areas are rounded to two decimal places. Total area is computed before rounding and may not equal to sum of displayed floor areas.",roomMeasurement:"Room Measurements",roomMeasurementDisclaimer:"Only major rooms are listed. Some listed rooms may be excluded from total interior floor area (e.g. garage). Room dimensions are largest length and width; parts of room may be smaller. Room area is not always equal to product of length and width.",propertyDetails:"Property Details",customerName:"Customer Name",customerCompany:"Customer Company",prepared:"Prepared",disclaimer:"White regions are excluded from total floor area in iGUIDE floor plans. All room dimensions and floor areas must be considered approximate and are subject to independent verification.",whiteLabelDisclaimer:"White regions are excluded from total floor area.",unitM:"m",unitFt:"ft",unitSqM:"m²",unitSqFt:"sq ft",unitCm:"cm",unitInch:"in",totalExteriorAreaAboveGrade:"Total Exterior Area Above Grade",totalInteriorAreaAboveGrade:"Total Interior Area Above Grade",totalExteriorArea:"Total Exterior Area",totalInteriorArea:"Total Interior Area",measurementDiagramFor:"Measurement Diagram for",totalAreaAboveBelowGrade:"Total Area (Above & Below Grade)"}),{documentTitle:"iGUIDE 3D Tour for",documentTitlePhotosOnly:"iGUIDE Photos Gallery for",documentTitleRadix:"iGUIDE Radix Tour for",photosDescription:"iGUIDE Photos Gallery, powered by iGUIDE technology.",radixDescription:"iGUIDE Radix Tour.",description:"Intuitive 3D tour. Detailed Floor Plans. Reliable Square Footage. On-screen Measurements. And much more.",bannerManage:"Manage this iGUIDE\n",bannerManagePhotosOnly:"Manage this Tour\n",bannerTerms:"Terms of Service\n",bannerPrivacy:"Privacy Policy\n",bannerAbout:"About iGUIDE\n",bannerEmail:"Email",bannerWebsite:"Website",bannerProperties:"All My Properties",bannerPropertiesShort:"Properties",bannerCall:"Call",navMenuTour:"3D Tour",navMenuPhotos:"Photos",navMenuVideo:"Video",navMenuDetails:"Details",navMenuMap:"Map",shareModalStartPage:"Start Page",shareModalStartPageDefault:"Default",shareModalStartPageTour:"3D Tour",shareModalStartPagePhotos:"Photos",shareModalStartPageVideo:"Video",shareModalStartPageVr:"VR",shareModalCurrentView:"Use current 3D view\n",shareModalRefreshCurrentView:"Link to current 3D view\n",shareModalLink:"iGUIDE Link\n",shareModalRefreshLinkCopy:"Copy\n",shareModalLinkCopied:"Copied!\n",shareModalVirtualShowing:"Create Virtual Showing\n",shareModalRefreshVirtualShowing:"Virtual Showing\n",screenshotModalHeader:"Save Floor Screenshot\n",screenshotModalTags:"Include tags\n",screenshotModalRotate:"Rotate floor to have the first measurement vertical\n",tagListTitleNoFloorplans:"Tags\n",tagListTitleSearchResults:"Search Results\n",tagListSearchPlaceholder:"Search by title, color or content",defaultTagTitle:"Tag",vrStartModalMessage:"To experience VR, press the Begin button and insert your phone into a compatible VR headset.\n",vrNoDevice:"To experience VR, please open the iGUIDE on a mobile phone with a compatible VR headset.\n",vrNoDeviceWhiteLabel:"To experience VR, please open the viewer on a mobile phone with a compatible VR headset.\n",vrNotSecure:"To experience VR, you must load the iGUIDE from a secure origin (https).\n",vrNotSecureWhiteLabel:"To experience VR, you must load the viewer from a secure origin (https).\n",vrImuNotSecure:"To use this feature, you must load the iGUIDE from a secure origin (https).\n",vrImuNotSecureWhiteLabel:"To use this feature, you must load the viewer from a secure origin (https).\n",vrEmbedded:"VR cannot be used when the iGUIDE is embedded. To experience VR, please load it in a new window.\n",vrEmbeddedWhiteLabel:"VR cannot be used when the viewer is embedded. To experience VR, please load it in a new window.\n",vrImuEmbedded:"This feature cannot be used when the iGUIDE is embedded. To use this feature, please load it in a new window.\n",vrImuEmbeddedWhiteLabel:"This feature cannot be used when the viewer is embedded. To use this feature, please load it in a new window.\n",vrDisabledSensor:"To experience VR, please enable your device motion sensors for Safari.\n",vrImuDisabledSensor:"To use this feature, please enable your device motion sensors for Safari.\n",vrDisabledSensorOpen:"Open\n",vrDisabledSensorSettings:"Settings\n",vrDisabledSensorSelect:"Select\n",vrDisabledSensorSafari:"Safari\n",vrDisabledSensorEnable:"Enable\n",vrDisabledSensorAccess:"Motion & Orientation Access\n",vrDisabledSensorReload:"Reload\n",vrDisabledSensorPage:"the page\n",vrPermissionDenied:"It seems permission to access your device motion sensors was denied. To resolve this, you must clear the website data in Safari for this site and reload the page.\n",vrVersionBug:"Sorry, VR does not work on iOS 13.4 due to a bug that disables device motion controls. Please update to iOS 13.5 when possible and try again.\n",measureModeTitle:"Measurement Mode",measureModeOneTitle:"Measurement Mode 1",measureModeTwoTitle:"Measurement Mode 2",measureModeThreeTitle:"Measurement Mode 3",measureErrorTitle:"Error",measureDisclaimerTitle:"Disclaimer\n",measureDisclaimer:"All room dimensions and floor areas must be considered approximate and are subject to independent verification. Please see\n",measureDisclaimerWhiteLabel:"For explanation of floor area calculations and method of measurement please see\n",measureDisclaimerLink:"Method of Measurement",measureUncalibratedLensDisclaimer:"This tour was captured using an uncalibrated lens - measurement uncertainty is likely larger than shown.\n",measureShadedAreaDisclaimer:"Measurements in shaded areas may have larger uncertainty than shown.\n",measureEndPointTap:"Tap in the image to define an end point for your measurement. Additional measurements can be taken by selecting more points.\n",measureEndPointClick:"Double-click in the image to define an end point for your measurement. Additional measurements can be taken by selecting more points.\n",measureSamePointsClick:"Switch to another panorama with visibility of the same points and double-click each of the points in the same order. The camera height above the floor must be the same in both panoramas.\n",measureSamePointsTap:"Switch to another panorama with visibility of the same points and tap each of the points in the same order. The camera height above the floor must be the same in both panoramas.\n",measureModeOneInfo:"Click and drag on the floor plan to take measurements.\n",measureModeTwoInfo:"Click and drag on the floor plan to draw a line along any suitable wall. This will define a vertical plane which will contain all subsequent measurements.\n",measureNoIntersection:"The point you clicked does not intersect with the vertical plane defined in the floor plan. You may need to either redefine the vertical plane or use Measure Mode 3.\n",measureLandscapeRequired:"Landscape orientation required.\n",measureStartPointTap:"Tap the image to define a starting point for your measurement.\n",measureStartPointClick:"Double-click in the image to define a starting point for your measurement.\n",measureHighError:"It is largely dependent on how far the measurement points are from the panorama.\n",measureHighErrorHelp:"If the two panoramas are likened to your eyes, avoid measuring in the peripheral vision zone. See help for more information.\n",measureUncertainty:"Estimated measurement uncertainty is\n",measureAdditionalPoints:"Take additional measurements by selecting new start and end points.\n",measureInconsistentPoints:"The points between panoramas are not consistent enough. Please ensure you are clicking the same point in both panoramas.\n",measureSwitchMode:'Press <span class="icomoon-v-mode1-selected"></span> to switch to other modes which allow measurements in the image.\n',tagModeOneTitle:"Tag Placement Mode 1",tagModeTwoTitle:"Tag Placement Mode 2",tagModeThreeTitle:"Tag Placement Mode 3",tagRepositioningModeOneTitle:"Tag Repositioning Mode 1",tagRepositioningModeTwoTitle:"Tag Repositioning Mode 2",tagRepositioningModeThreeTitle:"Tag Repositioning Mode 3",tagModeOneInfoTap:'Tap a point along a wall to add a Tag or press <span class="icomoon-v-mode1-selected"></span> to switch to another mode.\n',tagModeOneInfoClick:'Double-click a point along a wall to add a Tag or press <span class="icomoon-v-mode1-selected"></span> to switch to another mode.\n',tagRepositioningModeOneInfoTap:'Tap a point along a wall to reposition the Tag or press <span class="icomoon-v-mode1-selected"></span> to switch to another mode.\n',tagRepositioningModeOneInfoClick:'Double-click a point along a wall to to reposition the Tag or press <span class="icomoon-v-mode1-selected"></span> to switch to another mode.\n',tagModeTwoInfo:"Click and drag on the floor plan to draw a line along any suitable wall. This will define a vertical plane which you will use to place the tag\n",tagModeThreeInfoTap:"Tap the image to begin placing the tag.\n",tagModeThreeInfoClick:"Double-click in the image to begin placing the tag.\n",tagRepositioningModeThreeInfoTap:"Tap the image to begin repositioning the tag.\n",tagRepositioningModeThreeInfoClick:"Double-click in the image to begin repositioning the tag.\n",tagModeTwoRadix:'Press <span class="icomoon-v-mode2-selected"></span> to switch to another mode.\n',tagStartPointTap:"Tap the image to place the tag.\n",tagStartPointClick:"Double-click in the image to place the tag.\n",tagSamePointClick:"Switch to another panorama with visibility of the same point and double-click the same point. The camera height above the floor must be the same in both panoramas.\n",tagSamePointTap:"Switch to another panorama with visibility of the same point and tap the same point. The camera height above the floor must be the same in both panoramas.\n",tagVisibilityTap:"Choose which panoramas this tag will be visible from by double-tapping panoramas in the floor plan. Green indicates the tag is visible in the panorama.\n",tagVisibilityClick:"Choose which panoramas this tag will be visible from by double-clicking panoramas in the floor plan. Green indicates the tag is visible in the panorama.\n",tagVisibilityFinished:"When finished, close Tag Placement Mode by pressing the <strong>green checkmark button</strong> on the <strong>floor plan</strong>.\n",tagCreateError:"Error creating the tag. Please try again later or contact support if this error persists.\n",detailsDescriptionTitle:"Property Description\n",detailsFloorplanTitle:"Floor Plan\n",detailsFloorplanDownload:"Download PDF Floor Plan\n",detailsDxfDownload:"Download metric DXFs\n",detailsRoomExport:"Export CSV\n",detailsAreaDisclaimerFront:"For explanation of floor area calculations and method of measurement please see\n",detailsAreaDisclaimerBack:"All displayed floor areas are rounded to two decimal places. Total area is computed before rounding and may not equal to sum of displayed floor areas.\n",tourWarningOutdatedPrefix:"You are using an\n",tourWarningOutdated:"outdated\n",tourWarningOutdatedSuffix:"browser.\n",tourWarningNotOptimal:"This browser may not be optimal.\n",tourWarningUpgradeLinkPrefix:"Please\n",tourWarningUpgradeLink:"upgrade your browser\n",tourWarningUpgradeLinkSuffix:"to improve your experience\n",tourWarningChromeVersion:"Chrome v62 has an image rendering issue which was fixed in v63. Please update your browser for optimal performance.\n",tourWarningFirefox:"Firefox is having issues rendering 3D content. Please consider using Google Chrome for optimal performance.\n",tourWarningPopupBlockedTitle:"Failed to open popup\n",tourWarningPopupBlocked:"The page embedding this tour may be blocking popups.\n",previewWorkaroundOverlay:"CLICK TO EXPLORE\n",notReadyMessage:"The iGUIDE 3D Tour for this property is not ready yet.\n",notReadyMessageWhiteLabel:"The 3D Tour for this property is not ready yet.\n",noFloorsMessage:"All floors are disabled.\n",expiredMessage:"The iGUIDE View is locked.\n",expiredMessageWhiteLabel:"The tour is locked.\n",unbrandedDisabledMessage:"Unbranded version of iGUIDE View is disabled.\n",unbrandedDisabledMessageWhiteLabel:"Unbranded version of tour is disabled.\n",photosOnlyNotReadyMessage:"The iGUIDE Photos Gallery for this property is not ready yet.\n",photosOnlyNotReadyMessageWhiteLabel:"The Photos Gallery for this property is not ready yet.\n",neverShowButton:"Never Show Again\n",reloadButton:"Reload\n",dismissButton:"Dismiss\n",beginButton:"Begin\n",backButton:"Back\n",cancelButton:"Cancel\n",downloadButton:"Download\n",generatingButton:"Generating...\n",helpVideoButton:"HELP\nVIDEO",startButton:"Start",stopButton:"Stop",setInitialAngleButton:"Set Initial Angle\n",setInitialAngleSuccess:"Set!\n",autoplayTooltip:"Autoplay",shareTooltip:"Share",helpTooltip:"User interface help",muteTooltip:"Mute/Unmute music",imuTooltip:"Use device orientation",vrTooltip:"VR Headset mode",fullscreenTooltip:"Toggle fullscreen",undoMeasurementTooltip:"Remove last measurement",floorScreenshotTooltip:"Save Floor Screenshot",unitSelectorTooltip:"Unit selector",measureModeOneTooltip:"Measure Mode 1",measureModeTwoTooltip:"Measure Mode 2",measureModeThreeTooltip:"Measure Mode 3",measureHelpTooltip:"Disclaimer / User interface help",measureTooltip:"On-screen measurement",tagLocationTooltip:"Go to tag location",setInitialAngleTooltip:"Set the initial angle for the current pano",newTagTooltip:"Create new tag",tagListTooltip:"Show Tag List",togglePanZoomTooltip:"Toggle Pan & Zoom mode",resetPanZoomTooltip:"Reset Pan & Zoom",resizeFloorplanTooltip:"Resize floor plan",resizePanoViewsTooltip:"Resize panoramic views",toggleSlideshowTooltip:"Toggle slideshow",floorSelectTooltip:"Select floor",undoTooltip:"Undo",repositionTagTooltip:"Reposition tag",editTagContentTooltip:"Edit tag content",toggleVisibilityTooltip:"Toggle tag visibility",removeTagTooltip:"Remove tag",tagModeTitle:"Tag Mode",tagModeOneTooltip:"Tag Mode 1",tagModeTwoTooltip:"Tag Mode 2",tagModeThreeTooltip:"Tag Mode 3",navigationHelpOption:"Navigation Help",measurementHelpOption:"Measurement Help",floorScreenshotOption:"Floor Screenshot",autoplayOption:"Autoplay",gyroscopeOption:"Gyroscope",unitsOption:"Units",imperialOption:"Imperial",metricOption:"Metric",portalLinksManage:"Manage",portalLinksPrivacy:"Privacy",portalLinksTerms:"Terms"}),labels:T({"Main Building":"Main Building","New Building":"New Building","Detached Garage":"Detached Garage",Garage:"Garage",Shed:"Shed",Workshop:"Workshop",Shop:"Shop","Guest House":"Guest House",Barn:"Barn",Studio:"Studio","Pool House":"Pool House",Bunkie:"Bunkie","Carriage House":"Carriage House",Cottage:"Cottage","Boat House":"Boat House",Apartment:"Apartment","Main Floor":"Main Floor","1st Floor":"1st Floor","2nd Floor":"2nd Floor","3rd Floor":"3rd Floor","4th Floor":"4th Floor","5th Floor":"5th Floor",Basement:"Basement",Attic:"Attic","Common Areas":"Common Areas","Lower Level":"Lower Level","Upper Level":"Upper Level","Second Floor":"Second Floor",Loft:"Loft","Main Level":"Main Level",Outside:"Outside","Entry Floor":"Entry Floor",Exterior:"Exterior","Top Floor":"Top Floor","Lower Main":"Lower Main",Foyer:"Foyer",Aerial:"Aerial","Ground Floor":"Ground Floor",Upstairs:"Upstairs",Downstairs:"Downstairs",Entrance:"Entrance","1PC BATH":"1PC BATH","1PC":"1PC","1PC ENSUITE":"1PC ENSUITE","1PC EN":"1PC EN","2PC BATH":"2PC BATH","2PC":"2PC","2PC ENSUITE":"2PC ENSUITE","2PC EN":"2PC EN","3PC BATH":"3PC BATH","3PC":"3PC","3PC ENSUITE":"3PC ENSUITE","3PC EN":"3PC EN","4PC BATH":"4PC BATH","4PC":"4PC","4PC ENSUITE":"4PC ENSUITE","4PC EN":"4PC EN","5PC BATH":"5PC BATH","5PC":"5PC","5PC ENSUITE":"5PC ENSUITE","5PC EN":"5PC EN","6PC BATH":"6PC BATH","6PC":"6PC","6PC ENSUITE":"6PC ENSUITE","6PC EN":"6PC EN","ABM ROOM":"ABM ROOM",ABM:"ABM",BALCONY:"BALCONY",BLCNY:"BLCNY",BALC:"BALC","BANKING HALL":"BANKING HALL",BANK:"BANK",BAR:"BAR",BATH:"BATH",BTH:"BTH",BEDROOM:"BEDROOM",BED:"BED",BONUS:"BONUS",BREAKFAST:"BREAKFAST",BRKFST:"BRKFST",CARPORT:"CARPORT",CLOSET:"CLOSET",CLO:"CLO",CL:"CL",C:"C","CEDAR CLOSET":"CEDAR CLOSET","COLD ROOM":"COLD ROOM","COLD RM":"COLD RM",COLD:"COLD",COMMERCIAL:"COMMERCIAL",COMM:"COMM",COURTYARD:"COURTYARD",CRAWLSPACE:"CRAWLSPACE","CRAWL SPACE":"CRAWL SPACE",CRAWL:"CRAWL",DECK:"DECK",DEN:"DEN","DINING ROOM":"DINING ROOM",DINING:"DINING","ELECTRICAL ROOM":"ELECTRICAL ROOM",ELECTRICAL:"ELECTRICAL",ELEC:"ELEC",HALL:"HALL",STAIRS:"STAIRS",STAIRCASE:"STAIRCASE","STAIRS UP":"STAIRS UP","STAIRS DOWN":"STAIRS DOWN",KITCHEN:"KITCHEN",KITCHENETTE:"KITCHENETTE",DINETTE:"DINETTE","LIVING ROOM":"LIVING ROOM",LIVING:"LIVING",PRIMARY:"PRIMARY",LEDGE:"LEDGE",LAUNDRY:"LAUNDRY",LNDRY:"LNDRY",LNDY:"LNDY",STORAGE:"STORAGE",STRG:"STRG",VOID:"VOID",UTILITY:"UTILITY",UTIL:"UTIL","REC ROOM":"REC ROOM","RESTRICTED HEIGHT":"RESTRICTED HEIGHT","FAMILY ROOM":"FAMILY ROOM",FAMILY:"FAMILY",OFFICE:"OFFICE",PORCH:"PORCH",PATIO:"PATIO",TERRACE:"TERRACE","OPEN TO BELOW":"OPEN TO BELOW",MASTER:"MASTER",PANTRY:"PANTRY",PNTR:"PNTR",PNT:"PNT",UNFINISHED:"UNFINISHED",MUDROOM:"MUDROOM",WINDOW:"WINDOW","SUN ROOM":"SUN ROOM",MUD:"MUD",GYM:"GYM",ENTRY:"ENTRY",SERVERY:"SERVERY",SERV:"SERV",WASHROOM:"WASHROOM",WSHRM:"WSHRM",STUDY:"STUDY",FURNACE:"FURNACE",THEATER:"THEATER",THEATRE:"THEATRE","HOME THEATRE":"HOME THEATRE","HOME THEATER":"HOME THEATER",SAUNA:"SAUNA",ELEVATOR:"ELEVATOR",RECEPTION:"RECEPTION","WINE CELLAR":"WINE CELLAR",LOBBY:"LOBBY",ELEV:"ELEV",WINE:"WINE",STABLE:"STABLE",RETAIL:"RETAIL",VESTIBULE:"VESTIBULE",VSTBL:"VSTBL","SCREENED PORCH":"SCREENED PORCH","SCREEN PORCH":"SCREEN PORCH","COVERED PATIO":"COVERED PATIO","COVERED PORCH":"COVERED PORCH",LIBRARY:"LIBRARY",MECHANICAL:"MECHANICAL",HOTTUB:"HOTTUB",ENSUITE:"ENSUITE","EAT-IN KITCHEN":"EAT-IN KITCHEN","EAT IN KITCHEN":"EAT IN KITCHEN",POOL:"POOL",NOOK:"NOOK",MEDIA:"MEDIA",LOUNGE:"LOUNGE",LINEN:"LINEN",OTHER:"OTHER",WAREHOUSE:"WAREHOUSE","PERSONNEL AREA":"PERSONNEL AREA","PRSNL AREA":"PRSNL AREA","MEETING ROOM":"MEETING ROOM",CLASSROOM:"CLASSROOM","7PC ENSUITE":"7PC ENSUITE","PLAY ROOM":"PLAY ROOM","GAME ROOM":"GAME ROOM",BATHROOM:"BATHROOM","POWDER ROOM":"POWDER ROOM",VERANDA:"VERANDA",VIEW:"VIEW","WATER VIEW":"WATER VIEW","WATER FRONT":"WATER FRONT","OVERALL VIEW":"OVERALL VIEW",LAND:"LAND","WOODED AREA":"WOODED AREA",WOODLAND:"WOODLAND",PARKING:"PARKING",GREENHOUSE:"GREENHOUSE","UNDER CONSTRUCTION":"UNDER CONSTRUCTION",ROOM:"ROOM","COMMON ROOM":"COMMON ROOM",GARDEN:"GARDEN",BACKYARD:"BACKYARD",MEZZANINE:"MEZZANINE",COMMERCE:"COMMERCE",CAFETERIA:"CAFETERIA","CONFERENCE ROOM":"CONFERENCE ROOM","SEWING ROOM":"SEWING ROOM","WOMEN'S WASHROOM":"WOMEN'S WASHROOM","MEN'S WASHROOM":"MEN'S WASHROOM","GENDER NEUTRAL WASHROOM":"GENDER NEUTRAL WASHROOM","ACCESSIBLE WASHROOM":"ACCESSIBLE WASHROOM","LOCKER ROOM":"LOCKER ROOM","CASH ROOM":"CASH ROOM","PRINT ROOM":"PRINT ROOM","TELLER AREA":"TELLER AREA","COUPON BOOTH":"COUPON BOOTH",ATM:"ATM","WELLNESS ROOM":"WELLNESS ROOM","STAFF AREA":"STAFF AREA",VAULT:"VAULT","OFF-STAGE":"OFF-STAGE","FILE ROOM":"FILE ROOM",CLOAKROOM:"CLOAKROOM","LAN ROOM":"LAN ROOM","TELEPHONE ROOM":"TELEPHONE ROOM",DN:"DN",UP:"UP","F/P":"F/P",FP:"FP","RAMP UP":"RAMP UP","RAMP DN":"RAMP DN",SHOWER:"SHOWER"})},{key:"fr",name:"Français",strings:x(x({},{abbrNA:"S.O.",abbrNC:"N.C.",abbrNcExplain:"Non calculé en raison de l’absence d’une ou plusieurs épaisseurs de mur extérieur.",floorAreaInfo:"Informations sur la surface de plancher",ansi:"ANSI Z765-2021",allSpaceIsExcluded:"Tout espace est exclu",belowGrade:"Au-dessous du niveau du sol",interiorArea:"Superficie intérieure",excludedArea:"Superficie exclue",perimeterWallLength:"Longueur du mur périmétrique",exteriorWallThickness:"Épaisseur du mur extérieur",perimeterWallThickness:"Épaisseur du mur périmétrique",interior:"Intérieur",excluded:"Exclus",exterior:"Extérieur",exteriorArea:"Superficie extérieure",finishedArea:"Superficie finie",finishedAreaBelowGrade:"Superficie finie (au-dessous du niveau du sol)",unfinishedArea:"Superficie non finie",belowGradeUnfinishedArea:"Superficie non finie au-dessous du niveau du sol",belowGradeFinishedArea:"Superficie finie au-dessous du niveau du sol",aboveGradeUnfinishedArea:"Superficie non finie au-dessus du niveau du sol",aboveGradeFinishedArea:"Superficie finie au-dessus du niveau du sol",totalFloorArea:"Surface de plancher totale",totalAboveGradeFloorArea:"Surface de plancher au-dessus du niveau du sol totale",totalUnfinishedArea:"Superficie non finie totale",totalFinishedArea:"Superficie finie totale",areaDimensionDisclaimer:"Les surfaces de plancher comprennent la superficie de l’empreinte des murs intérieurs. Toutes les surfaces de plancher affichées sont arrondies à deux décimales. La superficie totale est calculée avant l’arrondi; il se peut qu’elle ne soit pas égale à la somme des surfaces de plancher affichées.",roomMeasurement:"Mesures des pièces",roomMeasurementDisclaimer:"Seules les pièces principales sont prises en compte. Il se peut que certaines pièces prises en compte soient exclues de la surface de plancher intérieure totale (p. ex., le garage). Les dimensions de la pièce équivalent à la longueur et à la largeur maximales; il se peut que  certaines parties de la pièce soient plus petites. La superficie d’une pièce n’est pas toujours  égale au produit de la longueur et de la largeur.",propertyDetails:"Détails de la propriété",customerName:"Nom du client",customerCompany:"Entreprise du client",prepared:"Préparé",disclaimer:"Les zones blanches sont exclues de la surface de plancher totale. Les dimensions des pièces et les surfaces de plancher sont approximatives et sujettes à une vérification indépendante. ",whiteLabelDisclaimer:"Les zones blanches sont exclues de la surface de plancher totale.",unitM:"m",unitFt:"pi",unitSqM:"m²",unitSqFt:"pi²",unitCm:"cm",unitInch:"po",totalExteriorAreaAboveGrade:"Superficie extérieure au-dessus du niveau du sol totale",totalInteriorAreaAboveGrade:"Superficie intérieure au-dessus du niveau du sol totale",totalExteriorArea:"Superficie extérieure totale",totalInteriorArea:"Superficie intérieure totale",measurementDiagramFor:"Diagramme de mesure pour",totalAreaAboveBelowGrade:"Superficie totale (au-dessus et au-dessous du niveau du sol)"}),{documentTitle:"Visite 3D iGUIDE pour",documentTitlePhotosOnly:"Galerie de photos iGUIDE pour",documentTitleRadix:"Visite Radix iGUIDE pour",photosDescription:"Galerie de photos iGUIDE, optimisée par la technologie iGUIDE.",radixDescription:"Visite Radix iGUIDE.",description:"Visite 3D intuitive. Plans d'étage détaillés. Métrage carré fiable. Mesures à l'écran. Et beaucoup plus.",bannerManage:"Gérer cet iGUIDE\n",bannerManagePhotosOnly:"Gérer cette visite\n",bannerTerms:"Conditions d’utilisation\n",bannerPrivacy:"Politique de confidentialité\n",bannerAbout:"À propos d’iGUIDE\n",bannerEmail:"Courriel",bannerWebsite:"Site Web",bannerProperties:"Toutes mes propriétés",toggleSlideshowTooltip:"Basculer le diaporama",bannerPropertiesShort:"Propriétés",bannerCall:"Tél.",navMenuTour:"Visite 3D\n",navMenuPhotos:"Photos\n",navMenuVideo:"Vidéo\n",navMenuDetails:"Détails\n",navMenuMap:"Carte\n",shareModalStartPage:"Page de démarrage",shareModalStartPageDefault:"Par défaut",shareModalStartPageTour:"Visite 3D",shareModalStartPagePhotos:"Photos",shareModalStartPageVideo:"Vidéo",shareModalStartPageVr:"RV",shareModalCurrentView:"Utiliser la vue 3D actuelle\n",shareModalRefreshCurrentView:"Utiliser la vue 3D actuelle\n",shareModalLink:"Lien iGUIDE\n",shareModalRefreshLinkCopy:"Copie\n",shareModalLinkCopied:"Copié!\n",shareModalVirtualShowing:"Créer une présentation virtuelle\n",shareModalRefreshVirtualShowing:"Présentation virtuelle\n",screenshotModalHeader:"Enregistrer la capture d’écran de l’étage\n",screenshotModalTags:"Inclure les balises\n",screenshotModalRotate:"Faire pivoter le sol pour que la première mesure soit verticale\n",tagListTitleNoFloorplans:"Balises\n",tagListTitleSearchResults:"Résultats de la recherche\n",tagListSearchPlaceholder:"Rechercher par titre, couleur ou contenu\n",defaultTagTitle:"Balise",vrStartModalMessage:"Pour faire l’expérience de la RV, appuyez sur le bouton Commencer et insérez votre téléphone dans un casque RV compatible.\n",vrNoDevice:"Pour faire l’expérience de la RV, veuillez ouvrir iGUIDE sur un téléphone mobile équipé d’un casque RV compatible.\n",vrNoDeviceWhiteLabel:"Pour faire l’expérience de la RV, veuillez ouvrir la visionneuse sur un téléphone mobile avec un casque RV compatible.\n",vrNotSecure:"Pour faire l’expérience de la RV, vous devez charger l’iGUIDE depuis une source sécurisée (https).\n",vrNotSecureWhiteLabel:"Pour faire l’expérience de la RV, vous devez charger la visionneuse depuis une source sécurisée (https).\n",vrImuNotSecure:"Pour utiliser cette fonction, vous devez charger l’iGUIDE depuis une source sécurisée (https).\n",vrImuNotSecureWhiteLabel:"Pour utiliser cette fonction, vous devez charger la visionneuse depuis une source sécurisée (https).\n",vrEmbedded:"La RV ne peut pas être utilisée lorsque l’iGUIDE est intégré. Pour expérimenter la RV, veuillez l'ouvrir dans une nouvelle fenêtre.\n",vrEmbeddedWhiteLabel:"La RV ne peut pas être utilisée lorsque la visionneuse est intégrée. Pour expérimenter la RV, veuillez l'ouvrir dans une nouvelle fenêtre.\n",vrImuEmbedded:"Cette fonction ne peut pas être utilisée lorsque l’iGUIDE est intégré. Pour utiliser cette fonction, veuillez l'ouvrir dans une nouvelle fenêtre.\n",vrImuEmbeddedWhiteLabel:"Cette fonction ne peut pas être utilisée lorsque la visionneuse est intégrée. Pour utiliser cette fonction, veuillez l'ouvrir dans une nouvelle fenêtre.\n",vrDisabledSensor:"Pour faire l’expérience de la RV, veuillez activer les capteurs de mouvement de votre appareil pour Safari.\n",vrImuDisabledSensor:"Pour utiliser cette fonction, veuillez activer les capteurs de mouvement de votre appareil pour Safari.\n",vrDisabledSensorOpen:"Ouvrir\n",vrDisabledSensorSettings:"les paramètres\n",vrDisabledSensorSelect:"Sélectionner\n",vrDisabledSensorSafari:"Safari\n",vrDisabledSensorEnable:"Activer\n",vrDisabledSensorAccess:"l’accès aux mouvements et à l’orientation\n",vrDisabledSensorReload:"Rafraîchir\n",vrDisabledSensorPage:"la page\n",vrPermissionDenied:"Il semble que l’autorisation d’accès aux capteurs de mouvement de votre appareil ait été refusée. Pour résoudre ce problème, vous devez effacer les données du site Web dans Safari pour ce site et rafraîchir la page.\n",vrVersionBug:"Désolé, la RV ne fonctionne pas sur iOS 13.4 en raison d’un bogue qui désactive les commandes de mouvement de l’appareil. Veuillez effectuer une mise à jour vers iOS 13.5 dès que possible et réessayer.\n",measureModeTitle:"Mode de mesure",measureModeOneTitle:"Mode de mesure 1",measureModeTwoTitle:"Mode de mesure 2",measureModeThreeTitle:"Mode de mesure 3",measureErrorTitle:"Erreur",measureDisclaimerTitle:"Avis de non-responsabilité\n",measureDisclaimer:"Les dimensions des pièces et les surfaces de plancher sont approximatives et sujettes à une vérification indépendante. Veuillez consulter la section\n",measureDisclaimerWhiteLabel:"Pour comprendre les calculs de surface de plancher et la méthode de mesure, veuillez consulter la section\n",measureDisclaimerLink:"Méthode de mesure",measureUncalibratedLensDisclaimer:"Cette visite a été enregistrée à l’aide d’un objectif non calibré : l’incertitude de mesure est probablement plus importante que celle indiquée.\n",measureShadedAreaDisclaimer:"Les mesures dans les zones ombragées peuvent présenter une plus grande incertitude que celle indiquée.\n",measureEndPointTap:"Cliquez l’image pour définir un point final pour votre mesure. Des mesures supplémentaires peuvent être effectuées en sélectionnant d’autres points.\n",measureEndPointClick:"Double-cliquez sur l’image pour définir un point final pour votre mesure. Des mesures supplémentaires peuvent être effectuées en sélectionnant d’autres points.\n",measureSamePointsClick:"Passez à un autre panorama sur lequel les mêmes points sont visibles et double-cliquez sur chacun des points dans le même ordre. La hauteur de la caméra au-dessus du sol doit être la même dans les deux panoramas.\n",measureSamePointsTap:"Passez à un autre panorama sur lequel les mêmes points sont visibles et cliquez chacun des points dans le même ordre. La hauteur de la caméra au-dessus du sol doit être la même dans les deux panoramas.\n",measureModeOneInfo:"Cliquez et faites glisser sur le plan d’étage pour prendre des mesures.\n",measureModeTwoInfo:"Cliquez et faites glisser sur le plan d’étage pour tracer une ligne le long du mur approprié. Cela définira un plan vertical qui contiendra toutes les mesures ultérieures.\n",measureNoIntersection:"Le point sur lequel vous avez cliqué ne croise pas le plan vertical défini dans le plan d’étage. Vous devez peut-être redéfinir le plan vertical ou utiliser le mode de mesure 3.\n",measureLandscapeRequired:"Orientation paysage requise.\n",measureStartPointTap:"Cliquez l’image pour définir un point de départ pour votre mesure.\n",measureStartPointClick:"Double-cliquez sur l’image pour définir un point de départ pour votre mesure.\n",measureHighError:"Elle dépend largement de la distance entre les points de mesure et le panorama.\n",measureHighErrorHelp:"Si les deux panoramas sont assimilés à vos yeux, évitez de mesurer dans la zone de vision périphérique. Pour plus d’informations, consultez l’aide.\n",measureUncertainty:"L’incertitude de mesure estimée est de\n",measureAdditionalPoints:"Prenez des mesures supplémentaires en sélectionnant de nouveaux points de départ et d’arrivée.\n",measureInconsistentPoints:"Les points entre les panoramas ne sont pas assez cohérents. Veuillez vous assurer que vous cliquez sur le même point dans les deux panoramas.\n",measureSwitchMode:'Appuyez sur <span class="icomoon-v-mode1-selected"></span> pour passer à d’autres modes qui permettent de prendre des mesures dans l’image.\n',detailsDescriptionTitle:"Description de la propriété\n",detailsFloorplanTitle:"Plan d’étage\n",detailsFloorplanDownload:"Télécharger le plan d’étage en PDF\n",detailsDxfDownload:"Télécharger métrique DXFs\n",detailsRoomExport:"Exporter en format CSV\n",detailsAreaDisclaimerFront:"Pour comprendre les calculs de surface de plancher et la méthode de mesure, veuillez consulter la section\n",detailsAreaDisclaimerBack:"Toutes les surfaces de plancher affichées sont arrondies à deux décimales. La superficie totale est calculée avant l’arrondi; il se peut qu’elle ne soit pas égale à la somme des surfaces de plancher affichées.\n",tourWarningOutdatedPrefix:"Vous utilisez un navigateur\n",tourWarningOutdated:"obsolète.\n",tourWarningOutdatedSuffix:"",tourWarningNotOptimal:"Ce navigateur n’est peut-être pas optimal.\n",tourWarningUpgradeLinkPrefix:"Veuillez\n",tourWarningUpgradeLink:"mettre à jour votre navigateur\n",tourWarningUpgradeLinkSuffix:"pour améliorer votre expérience\n",tourWarningChromeVersion:"Chrome v62 présente un problème de rendu d’image qui a été corrigé dans la version v63. Veuillez mettre à jour votre navigateur afin d’obtenir des performances optimales.\n",tourWarningFirefox:"Firefox a des problèmes de rendu du contenu 3D. Pour des performances optimales, il est préférable d’utiliser Google Chrome.\n",tourWarningPopupBlockedTitle:"Impossible d’ouvrir la fenêtre contextuelle\n",tourWarningPopupBlocked:"Il se peut que la page dans laquelle est intégrée cette visite bloque les fenêtres contextuelles.\n",previewWorkaroundOverlay:"CLIQUEZ POUR EXPLORER\n",notReadyMessage:"La visite 3D iGUIDE de cette propriété n’est pas encore disponible.\n",notReadyMessageWhiteLabel:"La visite 3D de cette propriété n’est pas encore disponible.\n",noFloorsMessage:"Tous les étages sont désactivés.\n",expiredMessage:"La vue iGUIDE est verrouillée.\n",expiredMessageWhiteLabel:"La visite est verrouillée.\n",unbrandedDisabledMessage:"La version sans marque de commerce de la vue iGUIDE est désactivée.\n",unbrandedDisabledMessageWhiteLabel:"La version sans marque de commerce de la visite est désactivée.\n",neverShowButton:"Ne plus afficher\n",reloadButton:"Rafraîchir\n",dismissButton:"Ignorer\n",beginButton:"Commencer\n",backButton:"Retour\n",cancelButton:"Annuler\n",downloadButton:"Télécharger\n",generatingButton:"Chargement en cours...\n",helpVideoButton:"VIDÉO\nD’AIDE",startButton:"Démarrer",stopButton:"Arrêt",autoplayTooltip:"Lecture automatique",shareTooltip:"Partager",helpTooltip:"Aide concernant l’interface d'utilisateur",muteTooltip:"Désactiver/rétablir le son",imuTooltip:"Utiliser l’orientation de l’appareil",vrTooltip:"Mode casque RV",fullscreenTooltip:"Basculer en mode plein écran",undoMeasurementTooltip:"Supprimer la dernière mesure",floorScreenshotTooltip:"Enregistrer la capture d’écran de l’étage",unitSelectorTooltip:"Sélecteur d’unité",measureModeOneTooltip:"Mode de mesure 1",measureModeTwoTooltip:"Mode de mesure 2",measureModeThreeTooltip:"Mode de mesure 3",measureHelpTooltip:"Avis de non-responsabilité/Aide concernant l’interface d'utilisateur",measureTooltip:"Mesure à l’écran",tagLocationTooltip:"Aller à l’emplacement de la balise",newTagTooltip:"Créer une nouvelle balise",tagListTooltip:"Afficher la liste de balises",togglePanZoomTooltip:"Basculer les modes panoramique et zoom",resetPanZoomTooltip:"Réinitialiser le panoramique et le zoom",resizeFloorplanTooltip:"Redimensionner le plan d’étage",resizePanoViewsTooltip:"Redimensionner les vues panoramiques",floorSelectTooltip:"Sélectionner un étage",undoTooltip:"Annuler",repositionTagTooltip:"Repositionner la balise",editTagContentTooltip:"Modifier le contenu de la balise",toggleVisibilityTooltip:"Basculer la visibilité de la balise",removeTagTooltip:"Supprimer la balise",tagModeTitle:"Mode de balise",tagModeOneTooltip:"Mode de balise 1",tagModeTwoTooltip:"Mode de balise 2",tagModeThreeTooltip:"Mode de balise 3",autoplayOption:"Lecture automatique",gyroscopeOption:"Gyroscope",unitsOption:"Système",imperialOption:"Impérial",metricOption:"Métrique"}),labels:T({"Main Building":"Bâtiment principal","New Building":"Nouveau bâtiment","Detached Garage":"Garage indépendant",Garage:"Garage",Shed:"Abri",Workshop:"Atelier",Shop:"magasin","Guest House":"Maison d'invité",Barn:"Grange",Studio:"Studio","Pool House":"Pavillon de piscine",Bunkie:"Cabane","Carriage House":"Remise",Cottage:"Cottage","Boat House":"Hangar à bateaux",Apartment:"Appartement","Main Floor":"Rez-de-chaussée","1st Floor":"1er étage","2nd Floor":"2e étage","3rd Floor":"3e étage","4th Floor":"4e étage","5th Floor":"5e étage",Basement:"Sous-sol",Attic:"Grenier","Common Areas":"Aires communes","Lower Level":"Niveau inférieur","Upper Level":"Niveau supérieur","Second Floor":"Deuxième étage",Loft:"Loft","Main Level":"Étage principal",Outside:"Extérieur","Entry Floor":"Hall d'entrée",Exterior:"Extérieur","Top Floor":"Étage supérieur","Lower Main":"Principal inférieur",Foyer:"Entrée",Aerial:"Aérien","Ground Floor":"Rez-de-chaussée",Upstairs:"À l’étage au-dessus",Downstairs:"À l’étage en dessous",Entrance:"Entrée","1PC BATH":"1PC SALLE DE BAINS","1PC":"1PC","1PC ENSUITE":"1PC COMMUNICANTE","1PC EN":"1PC COM","2PC BATH":"2PC SALLE DE BAINS","2PC":"2PC","2PC ENSUITE":"2PC COMMUNICANTES","2PC EN":"2PC COM","3PC BATH":"3PC SALLE DE BAINS","3PC":"3PC","3PC ENSUITE":"3PC COMMUNICANTES","3PC EN":"3PC COM","4PC BATH":"4PC SALLE DE BAINS","4PC":"4PC","4PC ENSUITE":"4PC COMMUNICANTES","4PC EN":"4PC COM","5PC BATH":"5PC SALLE DE BAINS","5PC":"5PC","5PC ENSUITE":"5PC COMMUNICANTES","5PC EN":"5PC COM","6PC BATH":"6PC SALLE DE BAINS","6PC":"6PC","6PC ENSUITE":"6PC COMMUNICANTES","6PC EN":"6PC COM","ABM ROOM":"SALLE ABM",ABM:"ABM",BALCONY:"BALCON",BLCNY:"BLCN",BALC:"BALC","BANKING HALL":"COMPTOIR BANCAIRE",BANK:"BANQUE",BAR:"BAR",BATH:"SALLE DE BAINS",BTH:"SDB",BEDROOM:"CHAMBRE À COUCHER",BED:"CAC",BONUS:"BONUS",BREAKFAST:"PETIT-DÉJEUNER",BRKFST:"PETDEJ",CARPORT:"ABRI D’AUTO",CLOSET:"PLACARD",CLO:"PLA",CL:"PL",C:"P","CEDAR CLOSET":"GARDE-ROBE DE CÈDRE","COLD ROOM":"CHAMBRE FROIDE","COLD RM":"CH FROIDE",COLD:"FROIDE",COMMERCIAL:"COMMERCIAL",COMM:"COMM",COURTYARD:"COUR",CRAWLSPACE:"VIDE SANITAIRE","CRAWL SPACE":"VIDE SAN",CRAWL:"VIDE",DECK:"TERRASSE",DEN:"BOUDOIR","DINING ROOM":"SALLE À MANGER",DINING:"SALLE À MANGER","ELECTRICAL ROOM":"CHAMBRE ÉLECTRIQUE",ELECTRICAL:"ÉLECTRIQUE",ELEC:"ÉLEC",HALL:"CORRIDOR",STAIRS:"ESCALIER",STAIRCASE:"ESCALIER","STAIRS UP":"ESCALIER VERS LE HAUT","STAIRS DOWN":"ESCALIER VERS LE BAS",KITCHEN:"CUISINE",KITCHENETTE:"CUISINETTE",DINETTE:"COIN-REPAS","LIVING ROOM":"SALON",LIVING:"SALON",PRIMARY:"PRINCIPALE",LEDGE:"CORNICHE",LAUNDRY:"BUANDERIE",LNDRY:"BNDRI",LNDY:"BNDR",STORAGE:"RANGEMENT",STRG:"RNGMT",VOID:"VIDE",UTILITY:"SERVICE",UTIL:"SERV","REC ROOM":"SALLE DE JEUX","RESTRICTED HEIGHT":"HAUTEUR LIMITÉE","FAMILY ROOM":"SALLE FAMILIALE",FAMILY:"SALLE FAMILIALE",OFFICE:"BUREAU",PORCH:"PORCHE",PATIO:"PATIO",TERRACE:"TERRASSE","OPEN TO BELOW":"OUVERT SUR LE BAS",MASTER:"PRINCIPALE",PANTRY:"GARDE-MANGER",PNTR:"GRD-MG",PNT:"GRD",UNFINISHED:"NON FINI",MUDROOM:"VESTIAIRE",WINDOW:"FENÊTRE","SUN ROOM":"SOLARIUM",MUD:"VEST",GYM:"SALLE DE SPORT",ENTRY:"ENTRÉE",SERVERY:"OFFICE",SERV:"OFFI",WASHROOM:"TOILETTES",WSHRM:"WC",STUDY:"ÉTUDE",FURNACE:"FOURNEAU",THEATER:"SALLE DE CINÉMA",THEATRE:"SALLE DE CINÉMA","HOME THEATER":"CINÉMA MAISON","HOME THEATRE":"CINÉMA MAISON",SAUNA:"SAUNA",ELEVATOR:"ASCENSEUR",RECEPTION:"RÉCEPTION","WINE CELLAR":"CAVE À VIN",LOBBY:"HALL DE RÉCEPTION",ELEV:"ASCEN",WINE:"VIN",STABLE:"ÉCURIE",RETAIL:"DÉTAIL",VESTIBULE:"VESTIBULE",VSTBL:"VSTBL","SCREENED PORCH":"PORCHE GRILLAGÉ","SCREEN PORCH":"PORCHE GRILL","COVERED PATIO":"PATIO COUVERT","COVERED PORCH":"PORCHE COUVERT",LIBRARY:"BIBLIOTHÈQUE",MECHANICAL:"MÉCANIQUE",HOTTUB:"SPA",ENSUITE:"COMMUNICANT","EAT-IN KITCHEN":"CUISINE AVEC COIN REPAS","EAT IN KITCHEN":"CUISINE COIN REPAS",POOL:"PISCINE",NOOK:"COIN-REPAS",MEDIA:"MÉDIA",LOUNGE:"SALON-BAR",LINEN:"LINGERIE",OTHER:"AUTRE",WAREHOUSE:"ENTREPÔT","PERSONNEL AREA":"ESPACE PERSONNEL","PRSNL AREA":"ESPACE PRSNL","MEETING ROOM":"SALLE DE RÉUNION",CLASSROOM:"SALLE DE CLASSE","7PC ENSUITE":"7PC COMMUNICANTES","PLAY ROOM":"SALLE DE JEUX","GAME ROOM":"SALLE DE JEUX",BATHROOM:"SALLE DE BAINS","POWDER ROOM":"SALLE D'EAU",VERANDA:"VÉRANDA",VIEW:"VUE","WATER VIEW":"VUE SUR L'EAU","WATER FRONT":"BORD DE L'EAU","OVERALL VIEW":"VUE D'ENSEMBLE",LAND:"TERRE","WOODED AREA":"BOISÉ",WOODLAND:"TERRE À BOIS",PARKING:"STATIONNEMENT",GREENHOUSE:"SERRE","UNDER CONSTRUCTION":"EN CONSTRUCTION",ROOM:"SALLE","COMMON ROOM":"SALLE COMMUNAUTAIRE",GARDEN:"JARDIN",BACKYARD:"COUR",MEZZANINE:"MEZZANINE",COMMERCE:"COMMERCE",CAFETERIA:"CAFÉTÉRIA","CONFERENCE ROOM":"SALLE DE CONFÉRENCE","SEWING ROOM":"SALLE DE COUTURE",DN:"BS",UP:"HT","F/P":"F/P",FP:"FP","RAMP UP":"RAMPE HT","RAMP DN":"RAMPE BS",SHOWER:"DOUCHE"})}],E=S[0]},11301:function(e,t,n){"use strict";n.d(t,{e:function(){return B}});var i=n(67394),r=n.n(i),o=n(92937),a=n.n(o),s=n(63774),l=n.n(s),c=n(23587),u=n.n(c),d=n(95315),h=n.n(d),p=n(83452),f=n.n(p),m=n(75499),g=n.n(m),v=n(11959),y=n.n(v),b=n(39041),w=n.n(b),_=n(38852),x=n.n(_),T=n(77371),S=n.n(T),E=n(59771),M=n.n(E),A=n(44263),C=n.n(A),k=n(18042),P=n.n(k),D=(n(71954),n(55506),n(99745),n(64434),n(95332)),R=n(64164),$=n(92923),I=n(57694);function L(e,t){var n=f()(e);if(h()){var i=h()(e);t&&(i=i.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):l()?a()(e,l()(n)):L(Object(n)).forEach((function(t){r()(e,t,u()(n,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!g())return!1;if(g().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=C()(e);if(t){var r=C()(this).constructor;n=g()(i,arguments,r)}else n=i.apply(this,arguments);return M()(this,n)}}var F=function(e){S()(n,e);var t=N(n);function n(){var e;y()(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),P()(x()(e),"state",{active:I.a.key}),e}return w()(n,[{key:"setInitialLocale",value:function(){var e=(0,R.W)().get("lang","");if(e)return this.setActive(e);var t=(0,$.ej)("locale");if(t)return this.setActive(t);var n=this.getLocaleFromBrowser();return n?this.setActive(n.key):void 0}},{key:"getLocaleFromBrowser",value:function(){return I.Z.find((function(e){var t=e.key;return new RegExp(t).test(navigator.language)}))}},{key:"getLocaleFromKey",value:function(e){return I.Z.find((function(t){return t.key===e}))||I.a}},{key:"getLocaleFromName",value:function(e){return I.Z.find((function(t){return t.name===e}))||I.a}},{key:"setActiveFromName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getLocaleFromName(e);this.setActive(n.key,t)}},{key:"setActive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.state.active=e,this.emit("activeChange"),t&&(0,$.d8)("locale",e)}},{key:"getLocalizedStrings",value:function(){var e=this.getLocaleFromKey(this.state.active);return e&&e.key!==I.a.key?O(O({},I.a.strings),e.strings):O({},I.a.strings)}},{key:"getLocalizedLabel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getLocaleFromKey(this.state.active),n=e.trim(),i=t.labels[n.toLowerCase()];return i&&n.localeCompare(i,void 0,{sensitivity:"accent"})?i:n}}]),n}(D.ZP),B=new F},52309:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var i=n(26427),r=n(11301),o=i.default.extend({data:function(){return{localeState:r.e.state,l10n:r.e.getLocalizedStrings()}},methods:{getLocalizedLabel:function(e){return r.e.getLocalizedLabel(e)}},watch:{"localeState.active":function(){this.l10n=r.e.getLocalizedStrings()}}})},27679:function(){!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}()},49732:function(){"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){"use strict";if("Element"in e){var t="classList",n=e.Element.prototype,i=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},l=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=l.prototype=[],u=function(){return new l(this)};if(a.prototype=Error.prototype,c.item=function(e){return this[e]||null},c.contains=function(e){return-1!==s(this,e+="")},c.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",-1===s(this,e)&&(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do{for(e=n[i]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++i<r);o&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},i.defineProperty){var d={get:u,enumerable:!0,configurable:!0};try{i.defineProperty(n,t,d)}catch(e){void 0!==e.number&&-2146823252!==e.number||(d.enumerable=!1,i.defineProperty(n,t,d))}}else i.prototype.__defineGetter__&&n.__defineGetter__(t,u)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}())},9228:function(e){var t;t=function(){return function(){var e={686:function(e,t,n){"use strict";n.d(t,{default:function(){return T}});var i=n(279),r=n.n(i),o=n(370),a=n.n(o),s=n(817),l=n.n(s);function c(e){try{return document.execCommand(e)}catch(e){return!1}}var u=function(e){var t=l()(e);return c("cut"),t},d=function(e,t){var n=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(i,"px"),n.setAttribute("readonly",""),n.value=e,n}(e);t.container.appendChild(n);var i=l()(n);return c("copy"),n.remove(),i},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof e?n=d(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?n=d(e.value,t):(n=l()(e),c("copy")),n};function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"copy":t,i=e.container,r=e.target,o=e.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==r){if(!r||"object"!==p(r)||1!==r.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&r.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(r.hasAttribute("readonly")||r.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return o?h(o,{container:i}):r?"cut"===n?u(r):h(r,{container:i}):void 0};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=w(e);if(t){var r=w(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function _(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(o,e);var t,n,i,r=y(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this)).resolveOptions(t),n.listenClick(e),n}return t=o,n=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===m(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=a()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,n=this.action(t)||"copy",i=f({action:n,container:this.container,target:this.target(t),text:this.text(t)});this.emit(i?"success":"error",{action:n,text:i,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return _("action",e)}},{key:"defaultTarget",value:function(e){var t=_("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return _("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],i=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return h(e,t)}},{key:"cut",value:function(e){return u(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}],n&&g(t.prototype,n),i&&g(t,i),o}(r()),T=x},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,n){var i=n(828);function r(e,t,n,i,r){var a=o.apply(this,arguments);return e.addEventListener(n,a,r),{destroy:function(){e.removeEventListener(n,a,r)}}}function o(e,t,n,r){return function(n){n.delegateTarget=i(n.target,t),n.delegateTarget&&r.call(e,n)}}e.exports=function(e,t,n,i,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,n,i,o)})))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var i=n(879),r=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!i.string(t))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(i.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(i.string(e))return function(e,t,n){return r(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),t=i.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function r(){i.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,a=i.length;o<a;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(686)}().default},e.exports=t()},7421:function(e,t,n){n(99572),n(37627),e.exports=n(47208).Array.from},70157:function(e,t,n){n(42580),e.exports=n(47208).Array.isArray},55966:function(e,t,n){n(31477),e.exports=n(47208).Date.now},26975:function(e,t,n){n(74114),n(99572),e.exports=n(48630)},73684:function(e,t,n){n(74114),n(99572),e.exports=n(48598)},23384:function(e,t,n){n(71107),e.exports=n(47208).Number.parseFloat},66458:function(e,t,n){n(99954),e.exports=n(47208).Object.assign},14710:function(e,t,n){n(30785);var i=n(47208).Object;e.exports=function(e,t){return i.create(e,t)}},23022:function(e,t,n){n(23078);var i=n(47208).Object;e.exports=function(e,t){return i.defineProperties(e,t)}},43153:function(e,t,n){n(40168);var i=n(47208).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},8531:function(e,t,n){n(95260),e.exports=n(47208).Object.entries},32622:function(e,t,n){n(18576);var i=n(47208).Object;e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)}},27410:function(e,t,n){n(67685),e.exports=n(47208).Object.getOwnPropertyDescriptors},34217:function(e,t,n){n(83350);var i=n(47208).Object;e.exports=function(e){return i.getOwnPropertyNames(e)}},19035:function(e,t,n){n(54370),e.exports=n(47208).Object.getOwnPropertySymbols},58535:function(e,t,n){n(4840),e.exports=n(47208).Object.getPrototypeOf},97220:function(e,t,n){n(5453),e.exports=n(47208).Object.keys},65135:function(e,t,n){n(13890),e.exports=n(47208).Object.setPrototypeOf},69591:function(e,t,n){n(57188),e.exports=n(47208).Object.values},41306:function(e,t,n){n(58006),e.exports=n(47208).parseFloat},34345:function(e,t,n){n(24399),e.exports=n(47208).parseInt},76483:function(e,t,n){n(70285),n(99572),n(74114),n(86082),n(81522),n(25757),e.exports=n(47208).Promise},43094:function(e,t,n){n(11320),e.exports=n(47208).Reflect.construct},17641:function(e,t,n){n(36600),e.exports=n(47208).Reflect.get},19103:function(e,t,n){n(54370),n(70285),n(87573),n(97224),e.exports=n(47208).Symbol},39871:function(e,t,n){n(99572),n(74114),e.exports=n(7273).f("iterator")},26610:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},29697:function(e){e.exports=function(){}},54677:function(e){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},30498:function(e,t,n){var i=n(39632);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},69191:function(e,t,n){var i=n(1504),r=n(37154),o=n(46723);e.exports=function(e){return function(t,n,a){var s,l=i(t),c=r(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},45515:function(e,t,n){"use strict";var i=n(26610),r=n(39632),o=n(19897),a=[].slice,s={},l=function(e,t,n){if(!(t in s)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";s[t]=Function("F,a","return new F("+i.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=a.call(arguments,1),s=function(){var i=n.concat(a.call(arguments));return this instanceof s?l(t,i.length,i):o(t,i,e)};return r(t.prototype)&&(s.prototype=t.prototype),s}},8312:function(e,t,n){var i=n(41352),r=n(24300)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},41352:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},47208:function(e){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)},87352:function(e,t,n){"use strict";var i=n(60510),r=n(48439);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},61725:function(e,t,n){var i=n(26610);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},18239:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},75179:function(e,t,n){e.exports=!n(90472)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},48765:function(e,t,n){var i=n(39632),r=n(43280).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},31986:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},42266:function(e,t,n){var i=n(86425),r=n(97739),o=n(67410);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var a,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},98310:function(e,t,n){var i=n(43280),r=n(47208),o=n(61725),a=n(62292),s=n(20657),l=function(e,t,n){var c,u,d,h=e&l.F,p=e&l.G,f=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,y=p?r:r[t]||(r[t]={}),b=y.prototype,w=p?i:f?i[t]:(i[t]||{}).prototype;for(c in p&&(n=t),n)(u=!h&&w&&void 0!==w[c])&&s(y,c)||(d=u?w[c]:n[c],y[c]=p&&"function"!=typeof w[c]?n[c]:g&&u?o(d,i):v&&w[c]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[c]=d,e&l.R&&b&&!b[c]&&a(b,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},90472:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},25985:function(e,t,n){var i=n(61725),r=n(93086),o=n(11827),a=n(30498),s=n(37154),l=n(26116),c={},u={},d=e.exports=function(e,t,n,d,h){var p,f,m,g,v=h?function(){return e}:l(e),y=i(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=s(e.length);p>b;b++)if((g=t?y(a(f=e[b])[0],f[1]):y(e[b]))===c||g===u)return g}else for(m=v.call(e);!(f=m.next()).done;)if((g=r(m,y,f.value,t))===c||g===u)return g};d.BREAK=c,d.RETURN=u},43280:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},20657:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},62292:function(e,t,n){var i=n(60510),r=n(48439);e.exports=n(75179)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},92477:function(e,t,n){var i=n(43280).document;e.exports=i&&i.documentElement},64457:function(e,t,n){e.exports=!n(75179)&&!n(90472)((function(){return 7!=Object.defineProperty(n(48765)("div"),"a",{get:function(){return 7}}).a}))},19897:function(e){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},13115:function(e,t,n){var i=n(41352);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},11827:function(e,t,n){var i=n(79105),r=n(24300)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},7359:function(e,t,n){var i=n(41352);e.exports=Array.isArray||function(e){return"Array"==i(e)}},39632:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},93086:function(e,t,n){var i=n(30498);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},19802:function(e,t,n){"use strict";var i=n(82488),r=n(48439),o=n(2413),a={};n(62292)(a,n(24300)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},6125:function(e,t,n){"use strict";var i=n(36794),r=n(98310),o=n(19312),a=n(62292),s=n(79105),l=n(19802),c=n(2413),u=n(999),d=n(24300)("iterator"),h=!([].keys&&"next"in[].keys()),p="keys",f="values",m=function(){return this};e.exports=function(e,t,n,g,v,y,b){l(n,t,g);var w,_,x,T=function(e){if(!h&&e in A)return A[e];switch(e){case p:case f:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",E=v==f,M=!1,A=e.prototype,C=A[d]||A["@@iterator"]||v&&A[v],k=C||T(v),P=v?E?T("entries"):k:void 0,D="Array"==t&&A.entries||C;if(D&&(x=u(D.call(new e)))!==Object.prototype&&x.next&&(c(x,S,!0),i||"function"==typeof x[d]||a(x,d,m)),E&&C&&C.name!==f&&(M=!0,k=function(){return C.call(this)}),i&&!b||!h&&!M&&A[d]||a(A,d,k),s[t]=k,s[S]=m,v)if(w={values:E?k:T(f),keys:y?k:T(p),entries:P},b)for(_ in w)_ in A||o(A,_,w[_]);else r(r.P+r.F*(h||M),t,w);return w}},26797:function(e,t,n){var i=n(24300)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},9329:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},79105:function(e){e.exports={}},36794:function(e){e.exports=!0},6758:function(e,t,n){var i=n(54251)("meta"),r=n(39632),o=n(20657),a=n(60510).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(90472)((function(){return l(Object.preventExtensions({}))})),u=function(e){a(e,i,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[i].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!o(e,i)&&u(e),e}}},4326:function(e,t,n){var i=n(43280),r=n(6022).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(41352)(a);e.exports=function(){var e,t,n,c=function(){var i,r;for(l&&(i=a.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var d=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},88579:function(e,t,n){"use strict";var i=n(26610);function r(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)}e.exports.f=function(e){return new r(e)}},77995:function(e,t,n){"use strict";var i=n(75179),r=n(86425),o=n(97739),a=n(67410),s=n(60061),l=n(13115),c=Object.assign;e.exports=!c||n(90472)((function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=i}))?function(e,t){for(var n=s(e),c=arguments.length,u=1,d=o.f,h=a.f;c>u;)for(var p,f=l(arguments[u++]),m=d?r(f).concat(d(f)):r(f),g=m.length,v=0;g>v;)p=m[v++],i&&!h.call(f,p)||(n[p]=f[p]);return n}:c},82488:function(e,t,n){var i=n(30498),r=n(36607),o=n(31986),a=n(18478)("IE_PROTO"),s=function(){},l=function(){var e,t=n(48765)("iframe"),i=o.length;for(t.style.display="none",n(92477).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:r(n,t)}},60510:function(e,t,n){var i=n(30498),r=n(64457),o=n(12737),a=Object.defineProperty;t.f=n(75179)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},36607:function(e,t,n){var i=n(60510),r=n(30498),o=n(86425);e.exports=n(75179)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,l=0;s>l;)i.f(e,n=a[l++],t[n]);return e}},83264:function(e,t,n){var i=n(67410),r=n(48439),o=n(1504),a=n(12737),s=n(20657),l=n(64457),c=Object.getOwnPropertyDescriptor;t.f=n(75179)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},26084:function(e,t,n){var i=n(1504),r=n(8772).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return a.slice()}}(e):r(i(e))}},8772:function(e,t,n){var i=n(65326),r=n(31986).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},97739:function(e,t){t.f=Object.getOwnPropertySymbols},999:function(e,t,n){var i=n(20657),r=n(60061),o=n(18478)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},65326:function(e,t,n){var i=n(20657),r=n(1504),o=n(69191)(!1),a=n(18478)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},86425:function(e,t,n){var i=n(65326),r=n(31986);e.exports=Object.keys||function(e){return i(e,r)}},67410:function(e,t){t.f={}.propertyIsEnumerable},57972:function(e,t,n){var i=n(98310),r=n(47208),o=n(90472);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*o((function(){n(1)})),"Object",a)}},9480:function(e,t,n){var i=n(75179),r=n(86425),o=n(1504),a=n(67410).f;e.exports=function(e){return function(t){for(var n,s=o(t),l=r(s),c=l.length,u=0,d=[];c>u;)n=l[u++],i&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},64344:function(e,t,n){var i=n(8772),r=n(97739),o=n(30498),a=n(43280).Reflect;e.exports=a&&a.ownKeys||function(e){var t=i.f(o(e)),n=r.f;return n?t.concat(n(e)):t}},38230:function(e,t,n){var i=n(43280).parseFloat,r=n(71963).trim;e.exports=1/i(n(18458)+"-0")!=-1/0?function(e){var t=r(String(e),3),n=i(t);return 0===n&&"-"==t.charAt(0)?-0:n}:i},60162:function(e,t,n){var i=n(43280).parseInt,r=n(71963).trim,o=n(18458),a=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(e,t){var n=r(String(e),3);return i(n,t>>>0||(a.test(n)?16:10))}:i},52745:function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},88747:function(e,t,n){var i=n(30498),r=n(39632),o=n(88579);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},48439:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},13199:function(e,t,n){var i=n(62292);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},19312:function(e,t,n){e.exports=n(62292)},25574:function(e,t,n){var i=n(39632),r=n(30498),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n(61725)(Function.call,n(83264).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:o}},5698:function(e,t,n){"use strict";var i=n(43280),r=n(47208),o=n(60510),a=n(75179),s=n(24300)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:i[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},2413:function(e,t,n){var i=n(60510).f,r=n(20657),o=n(24300)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},18478:function(e,t,n){var i=n(29990)("keys"),r=n(54251);e.exports=function(e){return i[e]||(i[e]=r(e))}},29990:function(e,t,n){var i=n(47208),r=n(43280),o="__core-js_shared__",a=r[o]||(r[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(36794)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},73732:function(e,t,n){var i=n(30498),r=n(26610),o=n(24300)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||null==(n=i(a)[o])?t:r(n)}},78502:function(e,t,n){var i=n(58290),r=n(18239);e.exports=function(e){return function(t,n){var o,a,s=String(r(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},71963:function(e,t,n){var i=n(98310),r=n(18239),o=n(90472),a=n(18458),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var r={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),l=r[e]=s?t(d):a[e];n&&(r[n]=l),i(i.P+i.F*s,"String",r)},d=u.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},18458:function(e){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},6022:function(e,t,n){var i,r,o,a=n(61725),s=n(19897),l=n(92477),c=n(48765),u=n(43280),d=u.process,h=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,v={},y="onreadystatechange",b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},w=function(e){b.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},p=function(e){delete v[e]},"process"==n(41352)(d)?i=function(e){d.nextTick(a(b,e,1))}:m&&m.now?i=function(e){m.now(a(b,e,1))}:f?(o=(r=new f).port2,r.port1.onmessage=w,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",w,!1)):i=y in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:h,clear:p}},46723:function(e,t,n){var i=n(58290),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},58290:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},1504:function(e,t,n){var i=n(13115),r=n(18239);e.exports=function(e){return i(r(e))}},37154:function(e,t,n){var i=n(58290),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},60061:function(e,t,n){var i=n(18239);e.exports=function(e){return Object(i(e))}},12737:function(e,t,n){var i=n(39632);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},54251:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},35701:function(e,t,n){var i=n(43280).navigator;e.exports=i&&i.userAgent||""},31164:function(e,t,n){var i=n(43280),r=n(47208),o=n(36794),a=n(7273),s=n(60510).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},7273:function(e,t,n){t.f=n(24300)},24300:function(e,t,n){var i=n(29990)("wks"),r=n(54251),o=n(43280).Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},26116:function(e,t,n){var i=n(8312),r=n(24300)("iterator"),o=n(79105);e.exports=n(47208).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[i(e)]}},48630:function(e,t,n){var i=n(30498),r=n(26116);e.exports=n(47208).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},48598:function(e,t,n){var i=n(8312),r=n(24300)("iterator"),o=n(79105);e.exports=n(47208).isIterable=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||o.hasOwnProperty(i(t))}},37627:function(e,t,n){"use strict";var i=n(61725),r=n(98310),o=n(60061),a=n(93086),s=n(11827),l=n(37154),c=n(87352),u=n(26116);r(r.S+r.F*!n(26797)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,r,d,h=o(e),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(h);if(g&&(m=i(m,f>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(n=new p(t=l(h.length));t>v;v++)c(n,v,g?m(h[v],v):h[v]);else for(d=y.call(h),n=new p;!(r=d.next()).done;v++)c(n,v,g?a(d,m,[r.value,v],!0):r.value);return n.length=v,n}})},42580:function(e,t,n){var i=n(98310);i(i.S,"Array",{isArray:n(7359)})},84411:function(e,t,n){"use strict";var i=n(29697),r=n(9329),o=n(79105),a=n(1504);e.exports=n(6125)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},31477:function(e,t,n){var i=n(98310);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},71107:function(e,t,n){var i=n(98310),r=n(38230);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},99954:function(e,t,n){var i=n(98310);i(i.S+i.F,"Object",{assign:n(77995)})},30785:function(e,t,n){var i=n(98310);i(i.S,"Object",{create:n(82488)})},23078:function(e,t,n){var i=n(98310);i(i.S+i.F*!n(75179),"Object",{defineProperties:n(36607)})},40168:function(e,t,n){var i=n(98310);i(i.S+i.F*!n(75179),"Object",{defineProperty:n(60510).f})},18576:function(e,t,n){var i=n(1504),r=n(83264).f;n(57972)("getOwnPropertyDescriptor",(function(){return function(e,t){return r(i(e),t)}}))},83350:function(e,t,n){n(57972)("getOwnPropertyNames",(function(){return n(26084).f}))},4840:function(e,t,n){var i=n(60061),r=n(999);n(57972)("getPrototypeOf",(function(){return function(e){return r(i(e))}}))},5453:function(e,t,n){var i=n(60061),r=n(86425);n(57972)("keys",(function(){return function(e){return r(i(e))}}))},13890:function(e,t,n){var i=n(98310);i(i.S,"Object",{setPrototypeOf:n(25574).set})},70285:function(){},58006:function(e,t,n){var i=n(98310),r=n(38230);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},24399:function(e,t,n){var i=n(98310),r=n(60162);i(i.G+i.F*(parseInt!=r),{parseInt:r})},86082:function(e,t,n){"use strict";var i,r,o,a,s=n(36794),l=n(43280),c=n(61725),u=n(8312),d=n(98310),h=n(39632),p=n(26610),f=n(54677),m=n(25985),g=n(73732),v=n(6022).set,y=n(4326)(),b=n(88579),w=n(52745),_=n(35701),x=n(88747),T="Promise",S=l.TypeError,E=l.process,M=E&&E.versions,A=M&&M.v8||"",C=l.Promise,k="process"==u(E),P=function(){},D=r=b.f,R=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n(24300)("species")]=function(e){e(P,P)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==A.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),$=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var i=e._v,r=1==e._s,o=0,a=function(t){var n,o,a,s=r?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(r||(2==e._h&&N(e),e._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),a=!0)),n===t.promise?c(S("Promise-chain cycle")):(o=$(n))?o.call(n,l,c):l(n)):c(i)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){v.call(l,(function(){var t,n,i,r=e._v,o=O(e);if(o&&(t=w((function(){k?E.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)})),e._h=k||O(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},O=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){v.call(l,(function(){var t;k?E.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=$(e))?y((function(){var i={_w:n,_d:!1};try{t.call(e,c(B,i,1),c(F,i,1))}catch(e){F.call(i,e)}})):(n._v=e,n._s=1,I(n,!1))}catch(e){F.call({_w:n,_d:!1},e)}}};R||(C=function(e){f(this,C,T,"_h"),p(e),i.call(this);try{e(c(B,this,1),c(F,this,1))}catch(e){F.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(13199)(C.prototype,{then:function(e,t){var n=D(g(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=c(B,e,1),this.reject=c(F,e,1)},b.f=D=function(e){return e===C||e===a?new o(e):r(e)}),d(d.G+d.W+d.F*!R,{Promise:C}),n(2413)(C,T),n(5698)(T),a=n(47208).Promise,d(d.S+d.F*!R,T,{reject:function(e){var t=D(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!R),T,{resolve:function(e){return x(s&&this===a?C:this,e)}}),d(d.S+d.F*!(R&&n(26797)((function(e){C.all(e).catch(P)}))),T,{all:function(e){var t=this,n=D(t),i=n.resolve,r=n.reject,o=w((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||i(n))}),r)})),--a||i(n)}));return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=D(t),i=n.reject,r=w((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},11320:function(e,t,n){var i=n(98310),r=n(82488),o=n(26610),a=n(30498),s=n(39632),l=n(90472),c=n(45515),u=(n(43280).Reflect||{}).construct,d=l((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),h=!l((function(){u((function(){}))}));i(i.S+i.F*(d||h),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var l=n.prototype,p=r(s(l)?l:Object.prototype),f=Function.apply.call(e,p,t);return s(f)?f:p}})},36600:function(e,t,n){var i=n(83264),r=n(999),o=n(20657),a=n(98310),s=n(39632),l=n(30498);a(a.S,"Reflect",{get:function e(t,n){var a,c,u=arguments.length<3?t:arguments[2];return l(t)===u?t[n]:(a=i.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=r(t))?e(c,n,u):void 0}})},99572:function(e,t,n){"use strict";var i=n(78502)(!0);n(6125)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})}))},54370:function(e,t,n){"use strict";var i=n(43280),r=n(20657),o=n(75179),a=n(98310),s=n(19312),l=n(6758).KEY,c=n(90472),u=n(29990),d=n(2413),h=n(54251),p=n(24300),f=n(7273),m=n(31164),g=n(42266),v=n(7359),y=n(30498),b=n(39632),w=n(60061),_=n(1504),x=n(12737),T=n(48439),S=n(82488),E=n(26084),M=n(83264),A=n(97739),C=n(60510),k=n(86425),P=M.f,D=C.f,R=E.f,$=i.Symbol,I=i.JSON,L=I&&I.stringify,O=p("_hidden"),N=p("toPrimitive"),F={}.propertyIsEnumerable,B=u("symbol-registry"),U=u("symbols"),z=u("op-symbols"),V=Object.prototype,H="function"==typeof $&&!!A.f,j=i.QObject,W=!j||!j.prototype||!j.prototype.findChild,G=o&&c((function(){return 7!=S(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=P(V,t);i&&delete V[t],D(e,t,n),i&&e!==V&&D(V,t,i)}:D,q=function(e){var t=U[e]=S($.prototype);return t._k=e,t},Z=H&&"symbol"==typeof $.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof $},X=function(e,t,n){return e===V&&X(z,t,n),y(e),t=x(t,!0),y(n),r(U,t)?(n.enumerable?(r(e,O)&&e[O][t]&&(e[O][t]=!1),n=S(n,{enumerable:T(0,!1)})):(r(e,O)||D(e,O,T(1,{})),e[O][t]=!0),G(e,t,n)):D(e,t,n)},Y=function(e,t){y(e);for(var n,i=g(t=_(t)),r=0,o=i.length;o>r;)X(e,n=i[r++],t[n]);return e},K=function(e){var t=F.call(this,e=x(e,!0));return!(this===V&&r(U,e)&&!r(z,e))&&(!(t||!r(this,e)||!r(U,e)||r(this,O)&&this[O][e])||t)},J=function(e,t){if(e=_(e),t=x(t,!0),e!==V||!r(U,t)||r(z,t)){var n=P(e,t);return!n||!r(U,t)||r(e,O)&&e[O][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=R(_(e)),i=[],o=0;n.length>o;)r(U,t=n[o++])||t==O||t==l||i.push(t);return i},ee=function(e){for(var t,n=e===V,i=R(n?z:_(e)),o=[],a=0;i.length>a;)!r(U,t=i[a++])||n&&!r(V,t)||o.push(U[t]);return o};H||($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(z,n),r(this,O)&&r(this[O],e)&&(this[O][e]=!1),G(this,e,T(1,n))};return o&&W&&G(V,e,{configurable:!0,set:t}),q(e)},s($.prototype,"toString",(function(){return this._k})),M.f=J,C.f=X,n(8772).f=E.f=Q,n(67410).f=K,A.f=ee,o&&!n(36794)&&s(V,"propertyIsEnumerable",K,!0),f.f=function(e){return q(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:$});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var ie=k(p.store),re=0;ie.length>re;)m(ie[re++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return r(B,e+="")?B[e]:B[e]=$(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?S(e):Y(S(e),t)},defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var oe=c((function(){A.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return A.f(w(e))}}),I&&a(a.S+a.F*(!H||c((function(){var e=$();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(b(t)||void 0!==e)&&!Z(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),i[1]=t,L.apply(I,i)}}),$.prototype[N]||n(62292)($.prototype,N,$.prototype.valueOf),d($,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},95260:function(e,t,n){var i=n(98310),r=n(9480)(!0);i(i.S,"Object",{entries:function(e){return r(e)}})},67685:function(e,t,n){var i=n(98310),r=n(64344),o=n(1504),a=n(83264),s=n(87352);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,i=o(e),l=a.f,c=r(i),u={},d=0;c.length>d;)void 0!==(n=l(i,t=c[d++]))&&s(u,t,n);return u}})},57188:function(e,t,n){var i=n(98310),r=n(9480)(!1);i(i.S,"Object",{values:function(e){return r(e)}})},81522:function(e,t,n){"use strict";var i=n(98310),r=n(47208),o=n(43280),a=n(73732),s=n(88747);i(i.P+i.R,"Promise",{finally:function(e){var t=a(this,r.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},25757:function(e,t,n){"use strict";var i=n(98310),r=n(88579),o=n(52745);i(i.S,"Promise",{try:function(e){var t=r.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},87573:function(e,t,n){n(31164)("asyncIterator")},97224:function(e,t,n){n(31164)("observable")},74114:function(e,t,n){n(84411);for(var i=n(43280),r=n(62292),o=n(79105),a=n(24300)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=i[c],d=u&&u.prototype;d&&!d[a]&&r(d,a,c),o[c]=o.Array}},22761:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},42094:function(e,t,n){var i=n(62190)("unscopables"),r=Array.prototype;null==r[i]&&n(74216)(r,i,{}),e.exports=function(e){r[i][e]=!0}},88492:function(e,t,n){"use strict";var i=n(12070)(!0);e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},35824:function(e){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},6365:function(e,t,n){var i=n(67334);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},43195:function(e,t,n){"use strict";var i=n(26033),r=n(78615),o=n(26078);e.exports=function(e){for(var t=i(this),n=o(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)t[s++]=e;return t}},59021:function(e,t,n){var i=n(15703),r=n(26078),o=n(78615);e.exports=function(e){return function(t,n,a){var s,l=i(t),c=r(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},78309:function(e,t,n){var i=n(11528),r=n(8467),o=n(26033),a=n(26078),s=n(63531);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d,p=t||s;return function(t,s,f){for(var m,g,v=o(t),y=r(v),b=i(s,f,3),w=a(y.length),_=0,x=n?p(t,w):l?p(t,0):void 0;w>_;_++)if((h||_ in y)&&(g=b(m=y[_],_,v),e))if(n)x[_]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:x.push(m)}else if(u)return!1;return d?-1:c||u?u:x}}},81071:function(e,t,n){var i=n(67334),r=n(99141),o=n(62190)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},63531:function(e,t,n){var i=n(81071);e.exports=function(e,t){return new(i(e))(t)}},20106:function(e,t,n){var i=n(26688),r=n(62190)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},26688:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},60066:function(e){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)},11528:function(e,t,n){var i=n(22761);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},61622:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},36628:function(e,t,n){e.exports=!n(48625)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},5050:function(e,t,n){var i=n(67334),r=n(38113).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},33603:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},65772:function(e,t,n){var i=n(38113),r=n(60066),o=n(74216),a=n(17738),s=n(11528),l=function(e,t,n){var c,u,d,h,p=e&l.F,f=e&l.G,m=e&l.S,g=e&l.P,v=e&l.B,y=f?i:m?i[t]||(i[t]={}):(i[t]||{}).prototype,b=f?r:r[t]||(r[t]={}),w=b.prototype||(b.prototype={});for(c in f&&(n=t),n)d=((u=!p&&y&&void 0!==y[c])?y:n)[c],h=v&&u?s(d,i):g&&"function"==typeof d?s(Function.call,d):d,y&&a(y,c,d,e&l.U),b[c]!=d&&o(b,c,h),g&&w[c]!=d&&(w[c]=d)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},86570:function(e,t,n){var i=n(62190)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},48625:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},48897:function(e,t,n){"use strict";n(25846);var i=n(17738),r=n(74216),o=n(48625),a=n(61622),s=n(62190),l=n(43288),c=s("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var h=s(e),p=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),f=p?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[h](""),!t})):void 0;if(!p||!f||"replace"===e&&!u||"split"===e&&!d){var m=/./[h],g=n(a,h,""[e],(function(e,t,n,i,r){return t.exec===l?p&&!r?{done:!0,value:m.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}})),v=g[0],y=g[1];i(String.prototype,e,v),r(RegExp.prototype,h,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},74859:function(e,t,n){"use strict";var i=n(6365);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},91891:function(e,t,n){var i=n(11528),r=n(33221),o=n(28908),a=n(6365),s=n(26078),l=n(7107),c={},u={},d=e.exports=function(e,t,n,d,h){var p,f,m,g,v=h?function(){return e}:l(e),y=i(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(p=s(e.length);p>b;b++)if((g=t?y(a(f=e[b])[0],f[1]):y(e[b]))===c||g===u)return g}else for(m=v.call(e);!(f=m.next()).done;)if((g=r(m,y,f.value,t))===c||g===u)return g};d.BREAK=c,d.RETURN=u},20646:function(e,t,n){e.exports=n(8655)("native-function-to-string",Function.toString)},38113:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},54040:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},74216:function(e,t,n){var i=n(98558),r=n(36061);e.exports=n(36628)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},8954:function(e,t,n){var i=n(38113).document;e.exports=i&&i.documentElement},5100:function(e,t,n){e.exports=!n(36628)&&!n(48625)((function(){return 7!=Object.defineProperty(n(5050)("div"),"a",{get:function(){return 7}}).a}))},18938:function(e,t,n){var i=n(67334),r=n(86095).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(e,o),e}},97757:function(e){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},8467:function(e,t,n){var i=n(26688);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},28908:function(e,t,n){var i=n(23988),r=n(62190)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},99141:function(e,t,n){var i=n(26688);e.exports=Array.isArray||function(e){return"Array"==i(e)}},67334:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},94587:function(e,t,n){var i=n(67334),r=n(26688),o=n(62190)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},33221:function(e,t,n){var i=n(6365);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},46445:function(e,t,n){"use strict";var i=n(82897),r=n(36061),o=n(55727),a={};n(74216)(a,n(62190)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},61195:function(e,t,n){"use strict";var i=n(81422),r=n(65772),o=n(17738),a=n(74216),s=n(23988),l=n(46445),c=n(55727),u=n(19002),d=n(62190)("iterator"),h=!([].keys&&"next"in[].keys()),p="keys",f="values",m=function(){return this};e.exports=function(e,t,n,g,v,y,b){l(n,t,g);var w,_,x,T=function(e){if(!h&&e in A)return A[e];switch(e){case p:case f:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",E=v==f,M=!1,A=e.prototype,C=A[d]||A["@@iterator"]||v&&A[v],k=C||T(v),P=v?E?T("entries"):k:void 0,D="Array"==t&&A.entries||C;if(D&&(x=u(D.call(new e)))!==Object.prototype&&x.next&&(c(x,S,!0),i||"function"==typeof x[d]||a(x,d,m)),E&&C&&C.name!==f&&(M=!0,k=function(){return C.call(this)}),i&&!b||!h&&!M&&A[d]||a(A,d,k),s[t]=k,s[S]=m,v)if(w={values:E?k:T(f),keys:y?k:T(p),entries:P},b)for(_ in w)_ in A||o(A,_,w[_]);else r(r.P+r.F*(h||M),t,w);return w}},73143:function(e,t,n){var i=n(62190)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},35038:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},23988:function(e){e.exports={}},81422:function(e){e.exports=!1},42697:function(e){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},63492:function(e,t,n){var i=n(38113),r=n(59124).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(26688)(a);e.exports=function(){var e,t,n,c=function(){var i,r;for(l&&(i=a.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var d=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},58577:function(e,t,n){"use strict";var i=n(22761);function r(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)}e.exports.f=function(e){return new r(e)}},82897:function(e,t,n){var i=n(6365),r=n(7331),o=n(33603),a=n(28034)("IE_PROTO"),s=function(){},l=function(){var e,t=n(5050)("iframe"),i=o.length;for(t.style.display="none",n(8954).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:r(n,t)}},98558:function(e,t,n){var i=n(6365),r=n(5100),o=n(31382),a=Object.defineProperty;t.f=n(36628)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},7331:function(e,t,n){var i=n(98558),r=n(6365),o=n(42912);e.exports=n(36628)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,l=0;s>l;)i.f(e,n=a[l++],t[n]);return e}},94662:function(e,t,n){var i=n(65873),r=n(36061),o=n(15703),a=n(31382),s=n(54040),l=n(5100),c=Object.getOwnPropertyDescriptor;t.f=n(36628)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},76604:function(e,t,n){var i=n(75547),r=n(33603).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},19002:function(e,t,n){var i=n(54040),r=n(26033),o=n(28034)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},75547:function(e,t,n){var i=n(54040),r=n(15703),o=n(59021)(!1),a=n(28034)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},42912:function(e,t,n){var i=n(75547),r=n(33603);e.exports=Object.keys||function(e){return i(e,r)}},65873:function(e,t){t.f={}.propertyIsEnumerable},99739:function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},2070:function(e,t,n){var i=n(6365),r=n(67334),o=n(58577);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},36061:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},72243:function(e,t,n){var i=n(17738);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},17738:function(e,t,n){var i=n(38113),r=n(74216),o=n(54040),a=n(25078)("src"),s=n(20646),l="toString",c=(""+s).split(l);n(60066).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||r(n,a,e[t]?""+e[t]:c.join(String(t)))),e===i?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},62404:function(e,t,n){"use strict";var i=n(20106),r=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},43288:function(e,t,n){"use strict";var i,r,o=n(74859),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(i=/a/,r=/b*/g,a.call(i,"a"),a.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(e){var t,n,i,r,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(t=l.lastIndex),i=a.call(l,e),c&&i&&(l.lastIndex=l.global?i.index+i[0].length:t),u&&i&&i.length>1&&s.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),e.exports=l},80339:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},86095:function(e,t,n){var i=n(67334),r=n(6365),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n(11528)(Function.call,n(94662).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:o}},49766:function(e,t,n){"use strict";var i=n(38113),r=n(98558),o=n(36628),a=n(62190)("species");e.exports=function(e){var t=i[e];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},55727:function(e,t,n){var i=n(98558).f,r=n(54040),o=n(62190)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},28034:function(e,t,n){var i=n(8655)("keys"),r=n(25078);e.exports=function(e){return i[e]||(i[e]=r(e))}},8655:function(e,t,n){var i=n(60066),r=n(38113),o="__core-js_shared__",a=r[o]||(r[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(81422)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},11987:function(e,t,n){var i=n(6365),r=n(22761),o=n(62190)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||null==(n=i(a)[o])?t:r(n)}},10225:function(e,t,n){"use strict";var i=n(48625);e.exports=function(e,t){return!!e&&i((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},12070:function(e,t,n){var i=n(3338),r=n(61622);e.exports=function(e){return function(t,n){var o,a,s=String(r(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},465:function(e,t,n){var i=n(94587),r=n(61622);e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},65776:function(e,t,n){var i=n(65772),r=n(48625),o=n(61622),a=/"/g,s=function(e,t,n,i){var r=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),i(i.P+i.F*r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},17160:function(e,t,n){"use strict";var i=n(3338),r=n(61622);e.exports=function(e){var t=String(r(this)),n="",o=i(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},8487:function(e,t,n){var i=n(65772),r=n(61622),o=n(48625),a=n(38021),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var r={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),l=r[e]=s?t(d):a[e];n&&(r[n]=l),i(i.P+i.F*s,"String",r)},d=u.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},38021:function(e){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},59124:function(e,t,n){var i,r,o,a=n(11528),s=n(97757),l=n(8954),c=n(5050),u=n(38113),d=u.process,h=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,v={},y="onreadystatechange",b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},w=function(e){b.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},p=function(e){delete v[e]},"process"==n(26688)(d)?i=function(e){d.nextTick(a(b,e,1))}:m&&m.now?i=function(e){m.now(a(b,e,1))}:f?(o=(r=new f).port2,r.port1.onmessage=w,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",w,!1)):i=y in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:h,clear:p}},78615:function(e,t,n){var i=n(3338),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},3338:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},15703:function(e,t,n){var i=n(8467),r=n(61622);e.exports=function(e){return i(r(e))}},26078:function(e,t,n){var i=n(3338),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},26033:function(e,t,n){var i=n(61622);e.exports=function(e){return Object(i(e))}},31382:function(e,t,n){var i=n(67334);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},25078:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},45822:function(e,t,n){var i=n(38113).navigator;e.exports=i&&i.userAgent||""},62190:function(e,t,n){var i=n(8655)("wks"),r=n(25078),o=n(38113).Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},7107:function(e,t,n){var i=n(20106),r=n(62190)("iterator"),o=n(23988);e.exports=n(60066).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||o[i(e)]}},50453:function(e,t,n){var i=n(65772);i(i.P,"Array",{fill:n(43195)}),n(42094)("fill")},64434:function(e,t,n){"use strict";var i=n(65772),r=n(78309)(2);i(i.P+i.F*!n(10225)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},78703:function(e,t,n){"use strict";var i=n(65772),r=n(78309)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),i(i.P+i.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(42094)(o)},71954:function(e,t,n){"use strict";var i=n(65772),r=n(78309)(5),o="find",a=!0;o in[]&&Array(1).find((function(){a=!1})),i(i.P+i.F*a,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(42094)(o)},12897:function(e,t,n){"use strict";var i=n(42094),r=n(35038),o=n(23988),a=n(15703);e.exports=n(61195)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},90286:function(e,t,n){"use strict";var i=n(65772),r=n(78309)(1);i(i.P+i.F*!n(10225)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},67209:function(e,t,n){"use strict";var i=n(65772),r=n(8954),o=n(26688),a=n(78615),s=n(26078),l=[].slice;i(i.P+i.F*n(48625)((function(){r&&l.call(r)})),"Array",{slice:function(e,t){var n=s(this.length),i=o(this);if(t=void 0===t?n:t,"Array"==i)return l.call(this,e,t);for(var r=a(e,n),c=a(t,n),u=s(c-r),d=new Array(u),h=0;h<u;h++)d[h]="String"==i?this.charAt(r+h):this[r+h];return d}})},21796:function(e,t,n){"use strict";var i=n(65772),r=n(22761),o=n(26033),a=n(48625),s=[].sort,l=[1,2,3];i(i.P+i.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n(10225)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),r(e))}})},99745:function(e,t,n){var i=n(98558).f,r=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in r||n(36628)&&i(r,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},9750:function(e,t,n){var i=n(65772);i(i.S,"Math",{sign:n(42697)})},36349:function(e,t,n){"use strict";var i=n(38113),r=n(54040),o=n(26688),a=n(18938),s=n(31382),l=n(48625),c=n(76604).f,u=n(94662).f,d=n(98558).f,h=n(8487).trim,p="Number",f=i.Number,m=f,g=f.prototype,v=o(n(82897)(g))==p,y="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,i,r,o=(t=y?t.trim():h(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var a,l=t.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>r)return NaN;return parseInt(l,i)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof f&&(v?l((function(){g.valueOf.call(n)})):o(n)!=p)?a(new m(b(t)),n,f):b(t)};for(var w,_=n(36628)?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;_.length>x;x++)r(m,w=_[x])&&!r(f,w)&&d(f,w,u(m,w));f.prototype=g,g.constructor=f,n(17738)(i,p,f)}},76139:function(e,t,n){"use strict";var i=n(20106),r={};r[n(62190)("toStringTag")]="z",r+""!="[object z]"&&n(17738)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},2235:function(e,t,n){"use strict";var i,r,o,a,s=n(81422),l=n(38113),c=n(11528),u=n(20106),d=n(65772),h=n(67334),p=n(22761),f=n(35824),m=n(91891),g=n(11987),v=n(59124).set,y=n(63492)(),b=n(58577),w=n(99739),_=n(45822),x=n(2070),T="Promise",S=l.TypeError,E=l.process,M=E&&E.versions,A=M&&M.v8||"",C=l.Promise,k="process"==u(E),P=function(){},D=r=b.f,R=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n(62190)("species")]=function(e){e(P,P)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==A.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),$=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var i=e._v,r=1==e._s,o=0,a=function(t){var n,o,a,s=r?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(r||(2==e._h&&N(e),e._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),a=!0)),n===t.promise?c(S("Promise-chain cycle")):(o=$(n))?o.call(n,l,c):l(n)):c(i)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){v.call(l,(function(){var t,n,i,r=e._v,o=O(e);if(o&&(t=w((function(){k?E.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)})),e._h=k||O(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},O=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){v.call(l,(function(){var t;k?E.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=$(e))?y((function(){var i={_w:n,_d:!1};try{t.call(e,c(B,i,1),c(F,i,1))}catch(e){F.call(i,e)}})):(n._v=e,n._s=1,I(n,!1))}catch(e){F.call({_w:n,_d:!1},e)}}};R||(C=function(e){f(this,C,T,"_h"),p(e),i.call(this);try{e(c(B,this,1),c(F,this,1))}catch(e){F.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(72243)(C.prototype,{then:function(e,t){var n=D(g(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=c(B,e,1),this.reject=c(F,e,1)},b.f=D=function(e){return e===C||e===a?new o(e):r(e)}),d(d.G+d.W+d.F*!R,{Promise:C}),n(55727)(C,T),n(49766)(T),a=n(60066).Promise,d(d.S+d.F*!R,T,{reject:function(e){var t=D(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!R),T,{resolve:function(e){return x(s&&this===a?C:this,e)}}),d(d.S+d.F*!(R&&n(73143)((function(e){C.all(e).catch(P)}))),T,{all:function(e){var t=this,n=D(t),i=n.resolve,r=n.reject,o=w((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||i(n))}),r)})),--a||i(n)}));return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=D(t),i=n.reject,r=w((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},55506:function(e,t,n){var i=n(38113),r=n(18938),o=n(98558).f,a=n(76604).f,s=n(94587),l=n(74859),c=i.RegExp,u=c,d=c.prototype,h=/a/g,p=/a/g,f=new c(h)!==h;if(n(36628)&&(!f||n(48625)((function(){return p[n(62190)("match")]=!1,c(h)!=h||c(p)==p||"/a/i"!=c(h,"i")})))){c=function(e,t){var n=this instanceof c,i=s(e),o=void 0===t;return!n&&i&&e.constructor===c&&o?e:r(f?new u(i&&!o?e.source:e,t):u((i=e instanceof c)?e.source:e,i&&o?l.call(e):t),n?this:d,c)};for(var m=function(e){e in c||o(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},g=a(u),v=0;g.length>v;)m(g[v++]);d.constructor=c,c.prototype=d,n(17738)(i,"RegExp",c)}n(49766)("RegExp")},25846:function(e,t,n){"use strict";var i=n(43288);n(65772)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},40751:function(e,t,n){n(36628)&&"g"!=/./g.flags&&n(98558).f(RegExp.prototype,"flags",{configurable:!0,get:n(74859)})},64828:function(e,t,n){"use strict";var i=n(6365),r=n(26078),o=n(88492),a=n(62404);n(48897)("match",1,(function(e,t,n,s){return[function(n){var i=e(this),r=null==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=s(n,e,this);if(t.done)return t.value;var l=i(e),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;for(var d,h=[],p=0;null!==(d=a(l,c));){var f=String(d[0]);h[p]=f,""===f&&(l.lastIndex=o(c,r(l.lastIndex),u)),p++}return 0===p?null:h}]}))},84208:function(e,t,n){"use strict";var i=n(6365),r=n(26033),o=n(26078),a=n(3338),s=n(88492),l=n(62404),c=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(48897)("replace",2,(function(e,t,n,f){return[function(i,r){var o=e(this),a=null==i?void 0:i[t];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},function(e,t){var r=f(n,e,this,t);if(r.done)return r.value;var d=i(e),h=String(this),p="function"==typeof t;p||(t=String(t));var g=d.global;if(g){var v=d.unicode;d.lastIndex=0}for(var y=[];;){var b=l(d,h);if(null===b)break;if(y.push(b),!g)break;""===String(b[0])&&(d.lastIndex=s(h,o(d.lastIndex),v))}for(var w,_="",x=0,T=0;T<y.length;T++){b=y[T];for(var S=String(b[0]),E=c(u(a(b.index),h.length),0),M=[],A=1;A<b.length;A++)M.push(void 0===(w=b[A])?w:String(w));var C=b.groups;if(p){var k=[S].concat(M,E,h);void 0!==C&&k.push(C);var P=String(t.apply(void 0,k))}else P=m(S,h,E,M,C,t);E>=x&&(_+=h.slice(x,E)+P,x=E+S.length)}return _+h.slice(x)}];function m(e,t,i,o,a,s){var l=i+e.length,c=o.length,u=p;return void 0!==a&&(a=r(a),u=h),n.call(s,u,(function(n,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(l);case"<":s=a[r.slice(1,-1)];break;default:var u=+r;if(0===u)return n;if(u>c){var h=d(u/10);return 0===h?n:h<=c?void 0===o[h-1]?r.charAt(1):o[h-1]+r.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},42679:function(e,t,n){"use strict";var i=n(6365),r=n(80339),o=n(62404);n(48897)("search",1,(function(e,t,n,a){return[function(n){var i=e(this),r=null==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=i(e),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var u=o(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},99236:function(e,t,n){"use strict";var i=n(94587),r=n(6365),o=n(11987),a=n(88492),s=n(26078),l=n(62404),c=n(43288),u=n(48625),d=Math.min,h=[].push,p=4294967295,f=!u((function(){RegExp(p,"y")}));n(48897)("split",2,(function(e,t,n,u){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!i(e))return n.call(r,e,t);for(var o,a,s,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?p:t>>>0,m=new RegExp(e.source,u+"g");(o=c.call(m,r))&&!((a=m.lastIndex)>d&&(l.push(r.slice(d,o.index)),o.length>1&&o.index<r.length&&h.apply(l,o.slice(1)),s=o[0].length,d=a,l.length>=f));)m.lastIndex===o.index&&m.lastIndex++;return d===r.length?!s&&m.test("")||l.push(""):l.push(r.slice(d)),l.length>f?l.slice(0,f):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,i){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r,i):m.call(String(r),n,i)},function(e,t){var i=u(m,e,this,t,m!==n);if(i.done)return i.value;var c=r(e),h=String(this),g=o(c,RegExp),v=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(f?"y":"g"),b=new g(f?c:"^(?:"+c.source+")",y),w=void 0===t?p:t>>>0;if(0===w)return[];if(0===h.length)return null===l(b,h)?[h]:[];for(var _=0,x=0,T=[];x<h.length;){b.lastIndex=f?x:0;var S,E=l(b,f?h:h.slice(x));if(null===E||(S=d(s(b.lastIndex+(f?0:x)),h.length))===_)x=a(h,x,v);else{if(T.push(h.slice(_,x)),T.length===w)return T;for(var M=1;M<=E.length-1;M++)if(T.push(E[M]),T.length===w)return T;x=_=S}}return T.push(h.slice(_)),T}]}))},44321:function(e,t,n){"use strict";n(40751);var i=n(6365),r=n(74859),o=n(36628),a="toString",s=/./.toString,l=function(e){n(17738)(RegExp.prototype,a,e,!0)};n(48625)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?l((function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)})):s.name!=a&&l((function(){return s.call(this)}))},3777:function(e,t,n){"use strict";var i=n(65772),r=n(465),o="includes";i(i.P+i.F*n(86570)(o),"String",{includes:function(e){return!!~r(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},37472:function(e,t,n){"use strict";var i=n(12070)(!0);n(61195)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})}))},5251:function(e,t,n){"use strict";n(65776)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},97238:function(e,t,n){var i=n(65772);i(i.P,"String",{repeat:n(17160)})},65942:function(e,t,n){"use strict";var i=n(65772),r=n(26078),o=n(465),a="startsWith",s="".startsWith;i(i.P+i.F*n(86570)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return s?s.call(t,i,n):t.slice(n,n+i.length)===i}})},10195:function(e,t,n){"use strict";n(65776)("sub",(function(e){return function(){return e(this,"sub","","")}}))},38081:function(e,t,n){"use strict";var i=n(65772),r=n(59021)(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(42094)("includes")},93085:function(e,t,n){for(var i=n(12897),r=n(42912),o=n(17738),a=n(38113),s=n(74216),l=n(23988),c=n(62190),u=c("iterator"),d=c("toStringTag"),h=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),m=0;m<f.length;m++){var g,v=f[m],y=p[v],b=a[v],w=b&&b.prototype;if(w&&(w[u]||s(w,u,h),w[d]||s(w,d,v),l[v]=h,y))for(g in i)w[g]||o(w,g,i[g],!0)}},14229:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".iguide-viewer#vf-tour #control-btnbar.resizing {\n  transition: transform 0.4s ease;\n}\n.iguide-viewer#vf-tour #side-panel.minimized #floorplanwindow__taglist,\n.iguide-viewer#vf-tour #side-panel.resizing #floorplanwindow__taglist {\n  opacity: 0;\n  visibility: hidden;\n}\n.iguide-viewer#vf-tour #side-panel.minimized .floorplanwindow__compass,\n.iguide-viewer#vf-tour #side-panel.resizing .floorplanwindow__compass,\n.iguide-viewer#vf-tour #side-panel.minimized #measure-controls,\n.iguide-viewer#vf-tour #side-panel.resizing #measure-controls,\n.iguide-viewer#vf-tour #side-panel.minimized #tag-controls,\n.iguide-viewer#vf-tour #side-panel.resizing #tag-controls {\n  display: none;\n}\n.iguide-viewer#vf-tour #side-panel.resizing {\n  transition-property: width, height, bottom;\n  transition-duration: 0.4s;\n  transition-timing-function: ease;\n}\n.iguide-viewer#vf-tour #side-panel.resizing #floorplanwindow__resize,\n.iguide-viewer#vf-tour #side-panel.resizing #pano-views {\n  display: none;\n}\n.iguide-viewer#vf-tour #side-panel .btnbar .viewer-btn.image-icons {\n  color: #000;\n  opacity: 0.8;\n  padding-left: 0;\n  padding-right: 0;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\n}\n.iguide-viewer#vf-tour #side-panel .btnbar .viewer-btn.image-icons:hover {\n  opacity: 1;\n}\n.iguide-viewer#vf-tour #side-panel .btnbar .viewer-btn.image-icons.white {\n  color: white;\n}\n.iguide-viewer#vf-tour #side-panel .iguide-logo {\n  text-shadow: none;\n}\n.iguide-viewer#vf-tour #side-panel #measure-controls,\n.iguide-viewer#vf-tour #side-panel #tag-controls {\n  text-align: right;\n  right: 0;\n  padding-left: 0;\n  padding-right: 0.3em;\n}\n.iguide-viewer#vf-tour #side-panel #measure-controls .measure-mode-selector,\n.iguide-viewer#vf-tour #side-panel #tag-controls .measure-mode-selector {\n  background-color: #f5f5f5;\n  border-radius: 50%;\n  padding: 0;\n  opacity: 1;\n  display: inline-block;\n}\n.iguide-viewer#vf-tour #side-panel #measure-controls .measure-mode-selector .button,\n.iguide-viewer#vf-tour #side-panel #tag-controls .measure-mode-selector .button {\n  opacity: 0.8;\n}\n.iguide-viewer#vf-tour #side-panel #measure-controls .measure-mode-selector .button:hover,\n.iguide-viewer#vf-tour #side-panel #tag-controls .measure-mode-selector .button:hover {\n  opacity: 1;\n}\n.iguide-viewer#vf-tour #side-panel #measure-button,\n.iguide-viewer#vf-tour #side-panel #tag-button {\n  right: 0;\n  width: 2em;\n  display: inline;\n}\n.iguide-viewer#vf-tour #imagewindow .btnbarRefresh .button {\n  padding-bottom: 0;\n}\n.iguide-viewer#vf-tour #bottom-right-buttons .image-icons.icomoon-v-enlarge2 {\n  padding-right: 0;\n}\n.iguide-viewer#vf-tour #floor-selector {\n  display: inline-block;\n  z-index: 498;\n  position: relative;\n}\n.iguide-viewer#vf-tour #floor-selector.no-measure {\n  padding-top: 0.25em;\n}\n.iguide-viewer#vf-tour #floor-selector.shadow {\n  box-shadow: 1px 1px 8px #000000;\n}\n",""]),t.default=a},185:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".cubemeas {\n  position: absolute;\n  width: 5px;\n  height: 5px;\n  background-color: red;\n  border-radius: 50%;\n  pointer-events: none;\n}\n.cubemeasline {\n  position: absolute;\n  height: 2px;\n  background-color: red;\n  pointer-events: none;\n  z-index: 1;\n}\n.cubemeaslabel {\n  position: absolute;\n  background-color: white;\n  color: red;\n  font-size: 0.45em;\n  padding: 0 2px;\n  z-index: 1;\n  pointer-events: none;\n  border-radius: 4px;\n}\n.cubemeasnum {\n  position: absolute;\n  width: auto;\n  height: auto;\n  color: red;\n  font-weight: 700;\n  font-size: 0.6em;\n  margin: 5px;\n  pointer-events: none;\n}\n",""]),t.default=a},81183:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o),s=n(91678),l=n.n(s),c=new URL(n(30108),n.b),u=new URL(n(23023),n.b),d=new URL(n(99755),n.b),h=new URL(n(72943),n.b),p=new URL(n(66222),n.b),f=new URL(n(4743),n.b),m=a()(r()),g=l()(c),v=l()(c,{hash:"#iefix"}),y=l()(u),b=l()(d),w=l()(h,{hash:"#icomoon"}),_=l()(p),x=l()(f);m.push([e.id,".iguide-viewer-bootstrap .show-ellipsis {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.iguide-viewer-bootstrap .full-window,\n.overlays-styles .vf-tour-overlay,\n.overlays-styles .vf-tour-overlay .overlay-mask,\n.panorama-styles #imagewindow #imagewindow__overlay,\n#lightbox,\n.iguide-viewer#vf-tour .vf-tour-overlay,\n.iguide-viewer#vf-tour .vf-tour-overlay .overlay-mask,\n.iguide-viewer#vf-tour #imagewindow #imagewindow__overlay,\n.iguide-viewer#vf-tour #imagewindow #imagewindow__overlay {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n}\n.iguide-viewer-bootstrap .cursor-crosshair {\n  cursor: crosshair;\n}\n.iguide-viewer-bootstrap .cursor-move {\n  cursor: move !important;\n}\n.iguide-viewer-bootstrap .cursor-default {\n  cursor: default;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu {\n  float: left;\n  display: block;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu a {\n  height: 100%;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu a:hover {\n  text-decoration: none;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div {\n  float: left;\n  width: 100%;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div > div.dropdown-display {\n  float: left;\n  width: 100%;\n  cursor: pointer;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div > div.dropdown-list {\n  float: left;\n  width: 100%;\n  position: absolute;\n  transform: translateY(-50em);\n  transition: transform ease 1000ms;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div > div.dropdown-list > div {\n  position: absolute;\n  width: 100%;\n  z-index: 2;\n  cursor: default;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div > div.dropdown-list > div > div {\n  float: left;\n  width: 100%;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div.show > div.dropdown-list {\n  transition: transform ease 750ms;\n  transform: translateY(0) !important;\n}\n.iguide-viewer-bootstrap .col-md-7-fix,\n.iguide-viewer-bootstrap .col-md-5-fix,\n.iguide-viewer-bootstrap .col-md-12-fix,\n.iguide-viewer-bootstrap .col-md-8-fix,\n.iguide-viewer-bootstrap .col-md-4-fix,\n.iguide-viewer-bootstrap .col-md-6-fix,\n.iguide-viewer-bootstrap .col-md-3-fix,\n.iguide-viewer-bootstrap .col-md-9-fix,\n.iguide-viewer-bootstrap .col-sm-7-fix,\n.iguide-viewer-bootstrap .col-sm-5-fix,\n.iguide-viewer-bootstrap .col-sm-12-fix,\n.iguide-viewer-bootstrap .col-sm-8-fix,\n.iguide-viewer-bootstrap .col-sm-4-fix,\n.iguide-viewer-bootstrap .col-sm-6-fix,\n.iguide-viewer-bootstrap .col-sm-3-fix,\n.iguide-viewer-bootstrap .col-md-40percent,\n.iguide-viewer-bootstrap .col-md-30percent {\n  position: relative;\n}\n.iguide-viewer-bootstrap .image-contain-center-norepeat,\n.overlays-styles #SaveImage #save_image,\n.overlays-styles #disabled-floorplanwindow,\n.overlays-styles #disabled-pano-views,\n.iguide-viewer#vf-tour #SaveImage #save_image,\n.iguide-viewer#vf-tour #disabled-floorplanwindow,\n.iguide-viewer#vf-tour #disabled-pano-views {\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.iguide-viewer-bootstrap .horizontal-container {\n  width: 100%;\n}\n.iguide-viewer-bootstrap .horizontal-style {\n  display: table;\n}\n.iguide-viewer-bootstrap .horizontal-style li {\n  display: table-cell;\n}\n.iguide-viewer-bootstrap .spacer {\n  height: 2em;\n}\n.iguide-viewer-bootstrap .spacer-05em {\n  height: 0.5em;\n}\n.iguide-viewer-bootstrap .responsive {\n  position: relative;\n  display: block;\n  height: 0;\n  padding: 0;\n  overflow: hidden;\n}\n.iguide-viewer-bootstrap .responsive .responsive-item,\n.iguide-viewer-bootstrap .responsive iframe,\n.iguide-viewer-bootstrap .responsive embed,\n.iguide-viewer-bootstrap .responsive object,\n.iguide-viewer-bootstrap .responsive video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  border: 0;\n}\n.iguide-viewer-bootstrap .box-shadow {\n  -webkit-box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.1);\n  box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.1);\n}\n.iguide-viewer-bootstrap .no-border-radius,\n.menu-bar-styles .menu li a,\n.iguide-viewer#vf-tour .menu li a {\n  -webkit-border-radius: 0;\n  -moz-border-radius: 0;\n  border-radius: 0;\n}\n.iguide-viewer-bootstrap .no-user-select,\n.iguide-viewer#vf-tour .image-icons,\n.iguide-viewer#vf-tour .floorplan-icons {\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.iguide-viewer-bootstrap .user-select-text {\n  -webkit-user-select: text;\n  -khtml-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.iguide-viewer-bootstrap .fade-in {\n  opacity: 0.2;\n  -webkit-transition: opacity 0.5s linear;\n  -moz-transition: opacity 0.5s linear;\n  -ms-transition: opacity 0.5s linear;\n  -o-transition: opacity 0.5s linear;\n  transition: opacity 0.5s linear;\n}\n.iguide-viewer-bootstrap .cursor-pointer {\n  cursor: pointer;\n}\n.iguide-viewer-bootstrap .no-box-shadow {\n  -webkit-box-shadow: none !important;\n  -moz-box-shadow: none !important;\n  box-shadow: none !important;\n}\n.iguide-viewer-bootstrap .bottom {\n  position: absolute;\n  bottom: 0;\n}\n.iguide-viewer-bootstrap .right {\n  position: absolute;\n  right: 0;\n}\n.iguide-viewer-bootstrap .top {\n  position: absolute;\n  top: 0;\n}\n.iguide-viewer-bootstrap .padding-top-6 {\n  padding-top: 6px;\n}\n.iguide-viewer-bootstrap .centering-btn {\n  width: 100% !important;\n}\n.iguide-viewer-bootstrap .centering-btn button {\n  position: relative;\n  display: block;\n  margin: 0 auto;\n}\n.iguide-viewer-bootstrap .center-absolute,\n#loader-container,\n#editor-loader-container,\n#loader-container #loader,\n#editor-loader-container #loader,\n#loader-container #editor-loader,\n#editor-loader-container #editor-loader,\n.overlays-styles .social-lightbox__btnbar,\n.overlays-styles #preview-image,\n.overlays-styles #preview_modal,\n.overlays-styles #preview_modal .image-container,\n.overlays-styles #SaveImage,\n.iguide-viewer#vf-tour .social-lightbox__btnbar,\n.iguide-viewer#vf-tour #preview-image,\n.iguide-viewer#vf-tour #preview_modal,\n.iguide-viewer#vf-tour #preview_modal .image-container,\n.iguide-viewer#vf-tour #SaveImage,\n.iguide-viewer#vf-tour #no-data,\n.iguide-viewer#vf-tour #no-gallery,\n.iguide-viewer#vf-tour #viewer-expired {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.iguide-viewer-bootstrap .center-vertical {\n  position: absolute;\n  top: 50%;\n  -webkit-transform: translate(0, -50%);\n  -moz-transform: translate(0, -50%);\n  -ms-transform: translate(0, -50%);\n  -o-transform: translate(0, -50%);\n  transform: translate(0, -50%);\n}\n.iguide-viewer-bootstrap .center-horizontal {\n  position: absolute;\n  left: 50%;\n  -webkit-transform: translate(-50%, 0);\n  -moz-transform: translate(-50%, 0);\n  -ms-transform: translate(-50%, 0);\n  -o-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n}\n.iguide-viewer-bootstrap .center-vertical-noposition,\n.side-panel-styles #pano-views .pano-view,\n.side-panel-styles #pano-views .pano-view .pano-image-container,\n.iguide-viewer#vf-tour #pano-views .pano-view,\n.iguide-viewer#vf-tour #pano-views .pano-view .pano-image-container {\n  display: flex;\n  align-items: center;\n}\n.iguide-viewer-bootstrap .nopadding,\n.side-panel-styles .side-panel__resize,\n.iguide-viewer#vf-tour .side-panel__resize {\n  padding: 0 !important;\n}\n.iguide-viewer-bootstrap .nopadding-horizontal {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\n.iguide-viewer-bootstrap .nomargin,\n.menu-bar-styles .menu li,\n.side-panel-styles #pano-views .pano-view p,\n.iguide-viewer#vf-tour #pano-views .pano-view p,\n.iguide-viewer#vf-tour .menu li {\n  margin: 0 !important;\n}\n.iguide-viewer-bootstrap .width-full {\n  width: 100%;\n}\n.iguide-viewer-bootstrap .height-auto {\n  height: auto;\n}\n.iguide-viewer-bootstrap .margin-top-20 {\n  margin-top: 20px;\n}\n.iguide-viewer-bootstrap .margin-bottom-20 {\n  margin-bottom: 20px;\n}\n.iguide-viewer-bootstrap .margin-horizontal-minus10 {\n  margin: 0 -10px;\n}\n.iguide-viewer-bootstrap .padding-horizontal-10 {\n  padding: 10px 0;\n}\n.iguide-viewer-bootstrap .padding-10 {\n  padding: 10px;\n}\n.iguide-viewer-bootstrap .padding-horizontal-15 {\n  padding: 0 15px;\n}\n.iguide-viewer-bootstrap .bg-color-white {\n  background-color: white;\n}\n.iguide-viewer-bootstrap .border-top {\n  border-top: black solid 1px;\n}\n.iguide-viewer-bootstrap .border-bottom {\n  border-bottom: black solid 1px;\n}\n.iguide-viewer-bootstrap .border-left {\n  border-left: black solid 1px;\n}\n.iguide-viewer-bootstrap .border-right {\n  border-right: black solid 1px;\n}\n.iguide-viewer-bootstrap .border {\n  border: black solid 1px;\n}\n.iguide-viewer-bootstrap .center-flex-horizontal {\n  display: flex;\n  justify-content: center;\n}\n.iguide-viewer-bootstrap .position-absolute {\n  position: absolute;\n}\n@media screen and (orientation: landscape) {\n  .iguide-viewer-bootstrap #lightbox .col-md-12-fix {\n    float: left;\n    width: 100%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-7-fix {\n    float: left;\n    width: 58.33333333%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-5-fix {\n    float: left;\n    width: 41.66666667%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-6-fix {\n    float: left;\n    width: 50%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-8-fix {\n    float: left;\n    width: 66.66666667%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-4-fix {\n    float: left;\n    width: 33.33333333%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-9-fix {\n    float: left;\n    width: 75%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-3-fix {\n    float: left;\n    width: 25%;\n  }\n}\n@font-face {\n  font-family: 'icomoon';\n  src: url("+g+");\n  src: url("+v+") format('embedded-opentype'), url("+y+") format('truetype'), url("+b+") format('woff'), url("+w+') format(\'svg\');\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n.iguide-viewer-fonts [class^="icomoon-v-"],\n.iguide-viewer-fonts [class*=" icomoon-v-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'icomoon\' !important;\n  speak: never;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.iguide-viewer-fonts .icomoon-v-new-tag:before {\n  content: "\\e906";\n}\n.iguide-viewer-fonts .icomoon-v-trash:before {\n  content: "\\e900";\n}\n.iguide-viewer-fonts .icomoon-v-map-pin:before {\n  content: "\\e901";\n}\n.iguide-viewer-fonts .icomoon-v-eye:before {\n  content: "\\e903";\n}\n.iguide-viewer-fonts .icomoon-v-eye-off:before {\n  content: "\\e904";\n}\n.iguide-viewer-fonts .icomoon-v-edit-2:before {\n  content: "\\e905";\n}\n.iguide-viewer-fonts .icomoon-v-location:before {\n  content: "\\e902";\n}\n.iguide-viewer-fonts .icomoon-v-edit:before {\n  content: "\\1f5d9";\n  color: #ff8000;\n}\n.iguide-viewer-fonts .icomoon-v-external-link:before {\n  content: "\\1f5f4";\n}\n.iguide-viewer-fonts .icomoon-v-checkmark:before {\n  content: "\\1f5f8";\n}\n.iguide-viewer-fonts .icomoon-v-layers:before {\n  content: "\\1f53e";\n}\n.iguide-viewer-fonts .icomoon-v-snapchat:before {\n  content: "\\1f53f";\n}\n.iguide-viewer-fonts .icomoon-v-office:before {\n  content: "\\1f540";\n}\n.iguide-viewer-fonts .icomoon-v-enlarge:before {\n  content: "\\1f541";\n}\n.iguide-viewer-fonts .icomoon-v-menu:before {\n  content: "\\1f542";\n}\n.iguide-viewer-fonts .icomoon-v-arrow-right:before {\n  content: "\\1f543";\n}\n.iguide-viewer-fonts .icomoon-v-arrow-left:before {\n  content: "\\1f544";\n}\n.iguide-viewer-fonts .icomoon-v-stop:before {\n  content: "\\1f545";\n}\n.iguide-viewer-fonts .icomoon-v-zoom-fit:before {\n  content: "\\1f5ae";\n}\n.iguide-viewer-fonts .icomoon-v-clipboard:before {\n  content: "\\1f5af";\n}\n.iguide-viewer-fonts .icomoon-v-mode3-selected:before {\n  content: "\\1f546";\n}\n.iguide-viewer-fonts .icomoon-v-mode2-selected:before {\n  content: "\\1f547";\n}\n.iguide-viewer-fonts .icomoon-v-mode1-selected:before {\n  content: "\\1f548";\n}\n.iguide-viewer-fonts .icomoon-v-mode3:before {\n  content: "\\1f568";\n}\n.iguide-viewer-fonts .icomoon-v-mode2:before {\n  content: "\\1f569";\n}\n.iguide-viewer-fonts .icomoon-v-mode1:before {\n  content: "\\1f56a";\n}\n.iguide-viewer-fonts .icomoon-v-pan-zoom:before {\n  content: "\\1f56b";\n}\n.iguide-viewer-fonts .icomoon-v-taglist:before {\n  content: "\\1f56c";\n}\n.iguide-viewer-fonts .icomoon-v-info:before {\n  content: "\\1f56d";\n}\n.iguide-viewer-fonts .icomoon-v-arrow-up:before {\n  content: "\\1f56e";\n}\n.iguide-viewer-fonts .icomoon-v-user:before {\n  content: "\\1f571";\n}\n.iguide-viewer-fonts .icomoon-v-file-pdf:before {\n  content: "\\1f572";\n}\n.iguide-viewer-fonts .icomoon-v-more:before {\n  content: "\\1f57b";\n}\n.iguide-viewer-fonts .icomoon-v-cross:before {\n  content: "\\1f57c";\n}\n.iguide-viewer-fonts .icomoon-v-tag:before {\n  content: "\\1f57d";\n}\n.iguide-viewer-fonts .icomoon-v-youtube:before {\n  content: "\\1f57e";\n}\n.iguide-viewer-fonts .icomoon-v-instagram:before {\n  content: "\\1f57f";\n}\n.iguide-viewer-fonts .icomoon-v-phone:before {\n  content: "\\1f580";\n}\n.iguide-viewer-fonts .icomoon-v-telephone:before {\n  content: "\\1f580";\n}\n.iguide-viewer-fonts .icomoon-v-contact:before {\n  content: "\\1f580";\n}\n.iguide-viewer-fonts .icomoon-v-support:before {\n  content: "\\1f580";\n}\n.iguide-viewer-fonts .icomoon-v-call:before {\n  content: "\\1f580";\n}\n.iguide-viewer-fonts .icomoon-v-share:before {\n  content: "\\1f581";\n}\n.iguide-viewer-fonts .icomoon-v-shrink1:before {\n  content: "\\1f582";\n}\n.iguide-viewer-fonts .icomoon-v-link:before {\n  content: "\\1f583";\n}\n.iguide-viewer-fonts .icomoon-v-volume-mute2:before {\n  content: "\\1f584";\n}\n.iguide-viewer-fonts .icomoon-v-facebook:before {\n  content: "\\1f585";\n}\n.iguide-viewer-fonts .icomoon-v-linkedin:before {\n  content: "\\1f586";\n}\n.iguide-viewer-fonts .icomoon-v-iguide-logo:before {\n  content: "\\1f597";\n}\n.iguide-viewer-fonts .icomoon-v-vr-headset:before {\n  content: "\\1f598";\n}\n.iguide-viewer-fonts .icomoon-v-pinterest:before {\n  content: "\\1f599";\n}\n.iguide-viewer-fonts .icomoon-v-twitter:before {\n  content: "\\1f59a";\n}\n.iguide-viewer-fonts .icomoon-v-envelop:before {\n  content: "\\1f59b";\n}\n.iguide-viewer-fonts .icomoon-v-undo:before {\n  content: "\\1f59c";\n}\n.iguide-viewer-fonts .icomoon-v-shrink:before {\n  content: "\\1f59d";\n}\n.iguide-viewer-fonts .icomoon-v-enlarge2:before {\n  content: "\\1f59e";\n}\n.iguide-viewer-fonts .icomoon-v-volume-max:before {\n  content: "\\1f59f";\n}\n.iguide-viewer-fonts .icomoon-v-play:before {\n  content: "\\1f5a9";\n}\n.iguide-viewer-fonts .icomoon-v-pause:before {\n  content: "\\1f5aa";\n}\n.iguide-viewer-fonts .icomoon-v-ruler:before {\n  content: "\\1f5ab";\n}\n.iguide-viewer-fonts .icomoon-v-earth:before {\n  content: "\\1f5ac";\n}\n.iguide-viewer-fonts .icomoon-v-arrow-down:before {\n  content: "\\1f5ad";\n}\n.loader {\n  animation-duration: 3s;\n  animation-name: rotate;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n}\n@keyframes rotate {\n  from {\n    transform: rotateZ(0deg);\n  }\n  to {\n    transform: rotateZ(360deg);\n  }\n}\n#loader-container,\n#editor-loader-container {\n  max-width: 60px;\n  max-height: 60px;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  z-index: 120;\n  pointer-events: none;\n}\n#loader-container #loader,\n#editor-loader-container #loader,\n#loader-container #editor-loader,\n#editor-loader-container #editor-loader {\n  width: 80%;\n  height: 80%;\n}\n#loader-container #loader *,\n#editor-loader-container #loader *,\n#loader-container #editor-loader *,\n#editor-loader-container #editor-loader * {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n#editor-loader-overlay {\n  position: absolute;\n  width: calc(100% - 30px);\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 503;\n}\n.iguide-viewer-colours {\n  background-color: #f8f8f8;\n}\n.iguide-viewer-colours .pano-hidden-overlay {\n  background-color: black;\n  color: white;\n}\n.iguide-viewer-colours .btnbar.meas > .floorplan-icons {\n  color: #d9d9d9;\n}\n.iguide-viewer-colours .btnbar.meas > .floorplan-icons:hover {\n  color: white;\n}\n.iguide-viewer-colours .pano-views__labelEdit {\n  color: black;\n}\n.iguide-viewer-colours .menu-colour {\n  background-color: #333;\n}\n.iguide-viewer-colours .menu__tab__click {\n  background-color: #333;\n  color: #b3b3b3;\n}\n.iguide-viewer-colours .menu__tab__click_active {\n  background-color: #333;\n  color: white;\n}\n.iguide-viewer-colours .menu__tab__click_hover {\n  color: white;\n}\n.iguide-viewer-colours .vf-tour__warning {\n  background-color: lightyellow;\n}\n.iguide-viewer-colours .vf-tour-overlay .overlay-mask {\n  background-color: #cccccc;\n}\n.iguide-viewer-colours .vf-tour-overlay .overlay-content {\n  background-color: #414141;\n}\n.iguide-viewer-colours #preview-image {\n  background-color: #414141;\n}\n.iguide-viewer-colours #preview-image p {\n  color: #fff;\n}\n.iguide-viewer-colours .link-footer {\n  background-color: #333;\n}\n.iguide-viewer-colours .link-footer .menulink-container {\n  color: #999;\n}\n.iguide-viewer-colours vf-dropdown-menu .menulink {\n  color: #999;\n}\n.iguide-viewer-colours vf-dropdown-menu .menulink:hover {\n  color: #bfbfbf;\n}\n.iguide-viewer-colours vf-dropdown-menu a {\n  color: white;\n}\n.iguide-viewer-colours vf-dropdown-menu a.button {\n  transition: text-shadow 0.2s ease;\n}\n.iguide-viewer-colours vf-dropdown-menu a.button:hover {\n  text-shadow: 0 0 0.3em;\n}\n.iguide-viewer-colours vf-dropdown-menu .clicked a {\n  text-shadow: 0 0 0.3em;\n}\n.iguide-viewer-colours vf-dropdown-menu > div > div.dropdown-list > div {\n  background-color: #404040;\n  color: #bfbfbf;\n}\n.iguide-viewer-colours vf-dropdown-menu > div > div.dropdown-list > div .item {\n  border-bottom: #333 solid 1px;\n}\n.iguide-viewer-colours vf-dropdown-menu a {\n  opacity: 0.65;\n}\n.iguide-viewer-colours vf-dropdown-menu a.button,\n.iguide-viewer-colours vf-dropdown-menu a:hover {\n  opacity: 1;\n}\n.iguide-viewer-colours vf-dropdown-menu > div > div.dropdown-list > div {\n  background-color: rgba(35, 35, 35, 0.9);\n  color: #bfbfbf;\n}\n.iguide-viewer-colours vf-dropdown-menu > div > div.dropdown-list > div > div.link-footer {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n.iguide-viewer-colours .banner-custom {\n  background-color: #333;\n}\n.iguide-viewer-colours #preview_modal {\n  background-color: #414141;\n}\n.iguide-viewer-colours #preview_modal p {\n  color: #fff;\n}\n.iguide-viewer-colours #SaveImage {\n  background-color: #414141;\n}\n.iguide-viewer-colours #SaveImage #save_image_header {\n  color: white;\n  background-color: #414141;\n}\n.iguide-viewer-colours .gallery-container {\n  background-color: black;\n}\n.iguide-viewer-colours .gallery-container #gallery .flex-row {\n  background-color: black;\n}\n.iguide-viewer-colours #slideshow #blueimp-gallery-carousel > .next,\n.iguide-viewer-colours #slideshow #blueimp-gallery-carousel > .prev {\n  color: white;\n}\n.iguide-viewer-colours #slideshow #image-list-container-container {\n  background-color: rgba(0, 0, 0, 0.9);\n}\n.iguide-viewer-colours #slideshow #image-list-container-container #image-list-container {\n  background-color: rgba(0, 0, 0, 0.9);\n}\n.iguide-viewer-colours #slideshow #image-list-container-container #image-list-container #image-list .image-item {\n  border-color: rgba(0, 0, 0, 0.9);\n  background-color: rgba(0, 0, 0, 0.9);\n}\n.iguide-viewer-colours #slideshow #image-list-container-container #image-list-container #image-list .image-item.active {\n  border-color: white;\n  background-color: white;\n}\n.iguide-viewer-colours #tour {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.iguide-viewer-colours #tour #labelEdit {\n  color: #000;\n  background-color: #ffffff;\n}\n.iguide-viewer-colours #tour #labelEdit select {\n  background-color: #ffffff;\n}\n.iguide-viewer-colours #social ul.dropdown-menu {\n  background-color: rgba(0, 0, 0, 0);\n}\n.iguide-viewer-colours #social ul.dropdown-menu li > a.viewer-btn {\n  color: black;\n}\n.iguide-viewer-colours #vmarker {\n  border-color: #fb2918;\n}\n.iguide-viewer-colours #ShutterMask .smask {\n  background-color: #1f1f1f;\n}\n.iguide-viewer-colours #lightbox.dark {\n  background-color: #141414;\n}\n.iguide-viewer-colours #lightbox.light {\n  background-color: white;\n}\n.iguide-viewer-colours #floorplanwindow__editor-btn {\n  color: white;\n  background-color: #333333;\n}\n.iguide-viewer-colours #floorplanwindow__editor-btn:hover {\n  background-color: #1a1a1a;\n  color: #d9d9d9;\n}\n.iguide-viewer-colours .floorplanwindow__editor-btn-red {\n  background-color: #ff0000;\n}\n.iguide-viewer-colours .floorplanwindow__editor-btn-red:hover {\n  background-color: #cc0000;\n  color: #d9d9d9;\n}\n.iguide-viewer-colours .floorplanwindow__editor-btn-green {\n  background-color: #009941;\n}\n.iguide-viewer-colours .floorplanwindow__editor-btn-green:hover {\n  background-color: #00662b;\n  color: #d9d9d9;\n}\n.iguide-viewer-colours .floorplanwindow__editor-btn-blue {\n  background-color: #3498db;\n}\n.iguide-viewer-colours .floorplanwindow__editor-btn-blue:hover {\n  background-color: #217dbb;\n  color: #d9d9d9;\n}\n.iguide-viewer-colours #pano-container {\n  background-color: #e6e6e6;\n}\n.iguide-viewer-colours #pano-views .pano-view {\n  color: #555;\n}\n.iguide-viewer-colours #pano-views .pano-view:hover {\n  background-color: #c8c8c8;\n}\n.iguide-viewer-colours #pano-views .pano-view.active {\n  background-color: rgba(85, 85, 85, 0.8);\n  color: #f8f8f8;\n}\n.iguide-viewer-colours #measure-mode-fullscreen {\n  display: none;\n  padding-left: 0;\n}\n.iguide-viewer-colours #measure-mode-fullscreen .fullscreen-button-container .image-icons {\n  padding: 0.12em 0 0 0;\n  color: white;\n}\n.iguide-viewer-colours #imagewindow .image-icons {\n  color: white;\n}\n.iguide-viewer-colours #side-panel .viewer-btn.image-icons.icomoon-v-ruler,\n.iguide-viewer-colours #side-panel .viewer-btn.image-icons.icomoon-v-tag {\n  color: #0388CC;\n  opacity: 1;\n}\n.iguide-viewer-colours #side-panel .viewer-btn.image-icons.icomoon-v-ruler:hover,\n.iguide-viewer-colours #side-panel .viewer-btn.image-icons.icomoon-v-tag:hover {\n  color: #025682;\n}\n.iguide-viewer-colours #side-panel .viewer-btn.image-icons.tour-meas.icomoon-v-ruler,\n.iguide-viewer-colours #side-panel .viewer-btn.image-icons.tour-meas.icomoon-v-tag {\n  color: #fb2918;\n}\n.iguide-viewer-colours #side-panel .viewer-btn.image-icons.icomoon-v-tag.confirm {\n  color: #009941;\n}\n.iguide-viewer-colours .floorplan-icons {\n  color: #555;\n}\n.iguide-viewer-colours .floorplan-icons:hover,\n.iguide-viewer-colours .floorplan-icons .active {\n  color: black;\n}\n.iguide-viewer-colours .imu-on {\n  color: #4fb0e2;\n}\n.iguide-viewer-colours .viewer__expired-msg {\n  color: #333;\n}\n.iguide-viewer-colours .menu__tab__click__text_active {\n  border-bottom-color: white;\n  border-bottom-style: solid;\n  border-bottom-width: 0.15em;\n}\n.iguide-viewer-colours .social-lightbox {\n  background: rgba(0, 0, 0, 0.8);\n}\n.iguide-viewer-colours .animate-show {\n  opacity: 1;\n  color: white;\n}\n.iguide-viewer-colours .animate-show.ng-hide-add {\n  transition-property: color, opacity;\n  transition-duration: 0.25s, 0.25s;\n  transition-delay: 0s, 0.25s;\n  transition-timing-funtion: linear;\n}\n.iguide-viewer-colours .animate-show.ng-hide-remove {\n  transition-property: opacity, color;\n  transition-duration: 0.25s, 0.25s;\n  transition-delay: 0s, 0.25s;\n  transition-timing-funtion: linear;\n}\n.iguide-viewer-colours .animate-show.ng-hide {\n  opacity: 0;\n  color: #333;\n}\n.addressbar-backgroundcolor {\n  background-color: #060D13;\n}\n.addressbar-backgroundcolor > div:first-child {\n  background-color: white;\n}\n.overlays-styles .pano-hidden-overlay,\n.overlays-styles #disabled-floorplanwindow span,\n.overlays-styles #disabled-pano-views span {\n  position: relative;\n  top: 40%;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  z-index: 100;\n  opacity: 0.5;\n  font-size: 1em;\n  pointer-events: none;\n}\n.overlays-styles .vf-tour__warning {\n  display: block;\n  text-align: center;\n  width: 100%;\n  z-index: 1200;\n  font-size: 0.6em;\n  padding: 0.5em;\n  padding-right: 1.5em;\n  cursor: pointer;\n  position: absolute;\n  top: 50%;\n  -webkit-transform: translate(0, -50%);\n  -moz-transform: translate(0, -50%);\n  -ms-transform: translate(0, -50%);\n  -o-transform: translate(0, -50%);\n  transform: translate(0, -50%);\n}\n.overlays-styles .vf-tour__warning:hover .vf-tour__warning__dismiss-container .button {\n  color: black;\n}\n.overlays-styles .vf-tour__warning .vf-tour__warning__dismiss-container {\n  padding: 0.3em;\n}\n.overlays-styles .vf-tour__warning .vf-tour__warning__dismiss {\n  font-size: 1.2em;\n}\n.overlays-styles .help-video-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  z-index: 549;\n  width: 70%;\n  background-color: transparent;\n}\n.overlays-styles .help-video-container .btnbar.right {\n  right: -1em;\n}\n.overlays-styles .help-video-container .btnbar.top {\n  top: -0.7em;\n}\n.overlays-styles .help-video {\n  width: 100%;\n  background-color: black;\n}\n.overlays-styles .social-lightbox {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 900;\n}\n.overlays-styles .social-lightbox {\n  cursor: pointer;\n}\n.overlays-styles .social-lightbox__btnbar {\n  width: auto;\n  max-width: 90%;\n  height: auto;\n  text-align: center;\n  cursor: initial;\n}\n.overlays-styles .social-lightbox__btnbar > div {\n  margin: 1em;\n}\n.overlays-styles .social-lightbox__btnbar a.viewer-btn {\n  font-size: 1em;\n  padding: 0.4em;\n}\n.overlays-styles .social-lightbox__btnbar a.menulink {\n  cursor: pointer;\n  font-size: 0.6em;\n  padding: 0.5em 0.6em;\n}\n.overlays-styles .social-lightbox__btnbar a.menulink:hover {\n  text-decoration: none;\n}\n.overlays-styles .social-lightbox__btnbar .tooltip-inner {\n  min-width: 5em;\n}\n.overlays-styles .social-lightbox__btnbar .social-btn {\n  font-size: 0.5em;\n  font-weight: 400;\n  padding: 0.5em;\n  color: white;\n  background-color: #0388CC;\n  line-height: 1.5em;\n  border: 1px solid #0271a9;\n  border-radius: 4px;\n  text-decoration: none;\n}\n.overlays-styles .social-lightbox__btnbar .social-btn:hover {\n  background-color: #0377b3;\n  border-color: #026090;\n}\n.overlays-styles .social-lightbox__url {\n  font-size: 0.5em;\n  margin: 1em 0;\n  text-align: left;\n}\n.overlays-styles .social-lightbox__url__select {\n  display: block;\n  margin: 0.4em 0;\n}\n.overlays-styles .social-lightbox__url__page {\n  display: inline-block;\n  vertical-align: top;\n  padding-right: 1em;\n}\n.overlays-styles .social-lightbox__url__view {\n  display: inline-block;\n  vertical-align: bottom;\n  margin: 0.4em 0;\n}\n.overlays-styles .social-lightbox__url__view span {\n  color: #ffffff;\n  font-weight: 700;\n  margin: 0 0.75em;\n}\n.overlays-styles .social-lightbox__url__checkbox {\n  margin: 0;\n  cursor: pointer;\n}\n.overlays-styles .social-lightbox__url__label-checkbox {\n  color: #ffffff;\n  margin: 0;\n  font-weight: 300;\n  cursor: pointer;\n  text-decoration: underline;\n}\n.overlays-styles .social-lightbox__url__label {\n  color: white;\n  display: inherit;\n  text-align: left;\n}\n.overlays-styles .social-lightbox__url__input {\n  width: 100%;\n}\n.overlays-styles .social-lightbox__url_copy-tooltip {\n  display: none;\n  font-size: 12px;\n  background-color: black;\n  color: #fff;\n  text-align: center;\n  border-radius: 4px;\n  padding: 3px;\n  position: absolute;\n  z-index: 3;\n  top: 100%;\n  left: -6px;\n}\n.overlays-styles .social-lightbox__url_copy-tooltip::after {\n  content: "";\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: transparent transparent black transparent;\n}\n.overlays-styles #social-sharebtns {\n  margin-bottom: 0.2em;\n}\n.overlays-styles .vf-tour-overlay {\n  margin: 0;\n  padding: 0;\n  z-index: 1000;\n  font-size: 0.75em;\n}\n.overlays-styles .vf-tour-overlay .overlay-mask {\n  margin: 0;\n  padding: 30px;\n  opacity: 0.7;\n}\n.overlays-styles .vf-tour-overlay .overlay-content {\n  position: absolute;\n  top: 8%;\n  bottom: 8%;\n  left: 8%;\n  right: 8%;\n  margin: 0;\n  padding: 0;\n}\n.overlays-styles #preview-image {\n  padding: 5px;\n  margin: 0;\n  width: 75%;\n}\n.overlays-styles #preview-image .image-container {\n  width: 100%;\n  height: 100%;\n  background: url('+_+") no-repeat center;\n  background-size: 50px;\n  white-space: nowrap;\n  text-align: center;\n}\n.overlays-styles #preview-image .image-container img {\n  max-width: 100%;\n  max-height: 100%;\n  vertical-align: middle;\n}\n.overlays-styles #preview-image p {\n  margin: 12px 20px 0 20px;\n  line-height: 16px;\n  text-align: center;\n  font-weight: normal;\n  font-size: 12px;\n}\n.overlays-styles #preview_modal {\n  height: 95%;\n  width: 75%;\n  z-index: 10000;\n  opacity: 1;\n}\n.overlays-styles #preview_modal .image-container {\n  width: 90%;\n  background: url("+_+") no-repeat center;\n}\n.overlays-styles #preview_modal .image-container img {\n  display: block;\n  margin: 0 auto;\n  max-width: 100%;\n  max-height: 100%;\n}\n.overlays-styles #preview_modal p {\n  margin: 12px 20px 0 20px;\n  line-height: 16px;\n  text-align: center;\n  font-weight: normal;\n  font-size: 12px;\n}\n.overlays-styles .vf-tour-overlay {\n  z-index: 900;\n}\n.overlays-styles .vf-tour-overlay .floorplan-icons {\n  text-shadow: none;\n}\n.overlays-styles #SaveImage {\n  z-index: 900;\n  padding: 5px;\n  margin: 0;\n}\n.overlays-styles #SaveImage .image-container {\n  width: 100%;\n  height: 100%;\n  white-space: nowrap;\n  text-align: center;\n}\n.overlays-styles #SaveImage #save_image {\n  max-width: 100%;\n  max-height: 100%;\n  vertical-align: middle;\n}\n.overlays-styles #SaveImage #save_image_header {\n  display: block;\n  position: relative;\n  width: 100%;\n  text-align: center;\n  padding: 1% 0;\n  font-weight: bold;\n  font-size: 0.4em;\n  z-index: 2;\n}\n.overlays-styles #SaveImage .btnbar {\n  position: absolute;\n  z-index: 10001;\n}\n.overlays-styles #disabled-floorplanwindow,\n.overlays-styles #disabled-pano-views {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 2px 0 0 0;\n  text-align: center;\n  z-index: 499;\n  cursor: default;\n}\n.overlays-styles #disabled-floorplanwindow,\n.overlays-styles #disabled-pano-views {\n  pointer-events: none;\n}\n.overlays-styles #disabled-floorplanwindow span,\n.overlays-styles #disabled-pano-views span {\n  color: white;\n  background-color: rgba(0, 0, 0, 0.65);\n}\n.overlays-styles #SaveImage .SaveImageCloseButton-container {\n  padding: 0.2em;\n}\n.overlays-styles .pagepreview__click {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  width: 10%;\n  left: 66%;\n  line-height: normal;\n}\n.overlays-styles #text {\n  top: 66%;\n  left: 66%;\n  padding: 0em 0.33em;\n  font-size: 1.9vw;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  cursor: pointer;\n}\n.overlays-styles .no-vr-modal-bg {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.overlays-styles .no-vr-modal {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  width: 50%;\n  height: 40%;\n  text-align: center;\n  background-color: rgba(0, 0, 0, 0.75);\n  color: white;\n  padding: 0 0.5em;\n  z-index: 200;\n}\n.overlays-styles .no-vr-modal .center-horizontal {\n  position: absolute;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, 0);\n  -moz-transform: translate(-50%, 0);\n  -ms-transform: translate(-50%, 0);\n  -o-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n}\n.overlays-styles .no-vr-modal .btn {\n  background: #3498db;\n  background-image: -webkit-linear-gradient(top, #3498db, #2980b9);\n  background-image: -moz-linear-gradient(top, #3498db, #2980b9);\n  background-image: -ms-linear-gradient(top, #3498db, #2980b9);\n  background-image: -o-linear-gradient(top, #3498db, #2980b9);\n  background-image: linear-gradient(to bottom, #3498db, #2980b9);\n  -webkit-border-radius: 4;\n  -moz-border-radius: 4;\n  border-radius: 4px;\n  font-family: Arial;\n  color: #ffffff;\n  font-size: 0.65em;\n  padding: 0.2em 0.75em;\n  text-decoration: none;\n}\n.overlays-styles .no-vr-modal .btn:hover {\n  background: #3cb0fd;\n  background-image: -webkit-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: -moz-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: -ms-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: -o-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: linear-gradient(to bottom, #3cb0fd, #3498db);\n  text-decoration: none;\n}\n.overlays-styles .no-vr-modal .no-vr-modal__text {\n  display: table;\n  text-align: center;\n  vertical-align: middle;\n  margin: auto;\n  font-size: 0.5em;\n  margin: 1em auto;\n}\n.overlays-styles .no-vr-modal .no-vr-modal__action-buttons {\n  position: absolute;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, 0);\n  -moz-transform: translate(-50%, 0);\n  -ms-transform: translate(-50%, 0);\n  -o-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n  bottom: 0;\n  padding: 0.5em;\n}\n.overlays-styles .no-vr-modal .no-vr-modal__action-buttons__dismiss {\n  background: #3498db;\n  background-image: -webkit-linear-gradient(top, #3498db, #2980b9);\n  background-image: -moz-linear-gradient(top, #3498db, #2980b9);\n  background-image: -ms-linear-gradient(top, #3498db, #2980b9);\n  background-image: -o-linear-gradient(top, #3498db, #2980b9);\n  background-image: linear-gradient(to bottom, #3498db, #2980b9);\n  -webkit-border-radius: 4;\n  -moz-border-radius: 4;\n  border-radius: 4px;\n  font-family: Arial;\n  color: #ffffff;\n  font-size: 0.65em;\n  padding: 0.2em 0.75em;\n  text-decoration: none;\n  cursor: pointer;\n  margin: 0.55em;\n  font-size: 0.5em;\n}\n.overlays-styles .no-vr-modal ol {\n  display: inline-block;\n  text-align: left;\n  font-size: 0.5em;\n}\n.overlays-styles .no-vr-modal ol li {\n  line-height: 30px;\n}\n.overlays-styles .no-vr-modal ol li img {\n  height: 30px;\n  margin: 0 5px;\n}\n@media (max-width: 415px) {\n  .overlays-styles .no-vr-modal {\n    width: 100%;\n    height: 50%;\n  }\n}\n.measurement-disclaimer__close {\n  font-size: 1.5em;\n  padding: 0.3em;\n}\n.portrait-overlays #SaveImage {\n  width: 80%;\n}\n.meas_bearing_container {\n  position: absolute;\n  left: 50%;\n  top: 0;\n  margin-top: 12px;\n  transform: translateX(-50%);\n  z-index: 3;\n}\n@media screen and (max-width: 767px) {\n  .meas_bearing_container .meas_bearing_container {\n    margin-top: 8px;\n  }\n}\n.menu-bar-styles .menu > li {\n  height: 1em;\n}\n.menu-bar-styles .menu > li a {\n  padding: 0 0.36em;\n  line-height: 2.3em;\n  font-size: 0.44em;\n  height: 100%;\n}\n.menu-bar-styles .menu__tab__click-layout {\n  position: relative;\n}\n.menu-bar-styles .menu li {\n  width: auto;\n  line-height: 0;\n  text-align: center;\n  cursor: pointer;\n  list-style: none;\n  white-space: nowrap;\n}\n.menu-bar-styles .menu li a {\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n  text-align: center;\n  vertical-align: middle;\n  padding: 0 0.8em;\n  text-decoration: none;\n}\n.menu-bar-styles .link-footer {\n  height: 0.8em;\n  border-bottom-right-radius: 10px;\n}\n.menu-bar-styles .link-footer .menulink-container {\n  text-align: center;\n  font-size: 0.5em;\n  font-weight: 400;\n  padding: 1px 3px 0 3px;\n  white-space: nowrap;\n}\n.help-video-container #video-controls {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 5px;\n  opacity: 0;\n  display: inline-flex;\n  -webkit-transition: opacity 0.3s;\n  -moz-transition: opacity 0.3s;\n  -o-transition: opacity 0.3s;\n  -ms-transition: opacity 0.3s;\n  transition: opacity 0.3s;\n  background-image: linear-gradient(bottom, #0371a8 13%, #0088cc 100%);\n  background-image: -o-linear-gradient(bottom, #0371a8 13%, #0088cc 100%);\n  background-image: -moz-linear-gradient(bottom, #0371a8 13%, #0088cc 100%);\n  background-image: -webkit-linear-gradient(bottom, #0371a8 13%, #0088cc 100%);\n  background-image: -ms-linear-gradient(bottom, #0371a8 13%, #0088cc 100%);\n  background-image: -webkit-gradient(linear, left bottom, left top, color-stop(0.13, #0371a8), color-stop(1, #0088cc));\n}\n.help-video-container:hover #video-controls {\n  opacity: 1;\n}\n.help-video-container #mute,\n.help-video-container #play-pause {\n  background: rgba(0, 0, 0, 0.5);\n  border: 0;\n  color: #EEE;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  -o-border-radius: 3px;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.help-video-container #mute {\n  margin-left: 0.2em;\n}\n.help-video-container #play-pause {\n  margin-right: 0.2em;\n}\n.portrait-side-panel .pano-view-container {\n  font-size: 0.4em;\n  height: calc(100% - 6.8em);\n}\n.portrait-side-panel .pano-view-container.no-floor-dropup {\n  height: calc(100% - 2.8em);\n}\n.portrait-side-panel .pano-view-container.no-pano-views-resize {\n  height: calc(100% - 4em);\n}\n.portrait-side-panel .pano-view-container.no-pano-views-resize.no-floor-dropup {\n  height: 100%;\n}\n.portrait-side-panel #pano-views {\n  width: 100%;\n}\n.portrait-side-panel #pano-views .pano-image-container {\n  max-width: 140px;\n}\n.portrait-side-panel .pano-view__label {\n  width: 72%;\n}\n.portrait-side-panel #side-panel.minimized .pano-view-container {\n  height: calc(100% - 2.8em);\n}\n.landscape-side-panel .pano-view-container {\n  height: calc(100% - 5.8em);\n  font-size: 0.5em;\n}\n.landscape-side-panel .pano-view-container.no-floor-dropup {\n  height: calc(100% - 2.3em);\n}\n.landscape-side-panel .pano-image-container {\n  max-width: 105px;\n}\n.landscape-side-panel .pano-view__label {\n  width: 53%;\n}\n.landscape-side-panel #side-panel.minimized .pano-view-container {\n  height: calc(100% - 2.3em);\n}\n.is-floorplan-shrunk-side-panel .pano-view {\n  font-size: 0.5em;\n}\n.side-panel-styles .dropup-menu .dropup-item {\n  display: block;\n  white-space: nowrap;\n}\n.side-panel-styles .above {\n  z-index: 500;\n}\n.side-panel-styles .hidden-height-0 {\n  visibility: collapse;\n  height: 0;\n}\n.side-panel-styles #floorplanwindow,\n.side-panel-styles #pano-views {\n  width: 100%;\n  height: 100%;\n}\n.side-panel-styles #floorplanwindow > .floor {\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  touch-action: none;\n  position: absolute;\n}\n.side-panel-styles .floorplanwindow__pano:hover,\n.side-panel-styles .floorplanwindow__pano_hover {\n  cursor: pointer;\n}\n.side-panel-styles .floor-panel-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 8px;\n}\n.side-panel-styles #pano-views {\n  height: 100%;\n}\n.side-panel-styles #pano-views .btnbar {\n  z-index: 1;\n}\n.side-panel-styles #pano-views .pano-view-container {\n  overflow-x: hidden;\n  overflow-y: scroll;\n  position: absolute;\n  z-index: 5;\n  width: 100%;\n}\n.side-panel-styles #pano-views .pano-view {\n  position: relative;\n  height: 6em;\n  max-height: 75px;\n  cursor: pointer;\n}\n.side-panel-styles #pano-views .pano-view > p.hidden_floor {\n  color: #c51313 !important;\n}\n.side-panel-styles #pano-views .pano-view .pano-image-container {\n  height: 100%;\n  width: 5em;\n  margin: 0 4%;\n}\n.side-panel-styles #pano-views .pano-view .pano-image-container .pano-image {\n  width: 100%;\n  padding-bottom: 75%;\n  background-size: 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.side-panel-styles #pano-views .pano-view p {\n  position: relative;\n  text-align: left;\n}\n.side-panel-styles #pano-views .pano-view__label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.side-panel-styles #pano-views .pano-view__edit-btn {\n  color: #ef8733;\n  position: absolute;\n  right: 0;\n  margin: 0 4%;\n}\n.side-panel-styles .side-panel {\n  position: absolute;\n  z-index: 200;\n  bottom: 0;\n  border-radius: 8px;\n  box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);\n  background-color: rgba(33, 37, 41, 0.8);\n  overflow: hidden;\n}\n@media (max-width: 767px) {\n  .side-panel-styles .side-panel {\n    border-radius: 4px;\n  }\n}\n.side-panel-styles .btnbar.side-panel__resize-container {\n  padding: 0;\n}\n.side-panel-styles .btnbar.side-panel__resize-container > div {\n  display: inline-block;\n}\n.side-panel-styles .btnbar.side-panel__top-left-container {\n  padding: 5px 0 0 5px;\n}\n.side-panel-styles .btnbar.side-panel__top-left-container div {\n  display: inline-block;\n}\n.side-panel-styles .btnbar.side-panel__top-left-container div.enabled {\n  color: red;\n}\n.side-panel-styles .btnbar.side-panel__top-left-container div.side-panel__taglist {\n  visibility: hidden;\n  padding: 5px;\n  color: #0388CC;\n}\n.side-panel-styles .btnbar.side-panel__top-left-container div.side-panel__taglist:hover {\n  color: #025682;\n}\n.side-panel-styles .side-panel__resize {\n  z-index: 200;\n}\n.side-panel-styles .ansi .unfinished > polygon {\n  fill: #f8f8f8 !important;\n}\n.side-panel-styles .floor__color__warm .room > polygon {\n  fill: #E0E0E0;\n}\n.side-panel-styles .floor__color__warm .bathroom > polygon {\n  fill: #FFEBD0;\n}\n.side-panel-styles .floor__color__warm .bedroom > polygon,\n.side-panel-styles .floor__color__warm .office > polygon {\n  fill: #F2E1C8;\n}\n.side-panel-styles .floor__color__warm .kitchen > polygon {\n  fill: #FFEEC3;\n}\n.side-panel-styles .floor__color__warm .living > polygon {\n  fill: #F0DCB7;\n}\n.side-panel-styles .floor__color__warm .storage > polygon,\n.side-panel-styles .floor__color__warm .dining > polygon,\n.side-panel-styles .floor__color__warm .laundry > polygon,\n.side-panel-styles .floor__color__warm .utility > polygon {\n  fill: #FFE5C4;\n}\n.side-panel-styles .floor__color__cold .room > polygon {\n  fill: #E0E0E0;\n}\n.side-panel-styles .floor__color__cold .bathroom > polygon {\n  fill: #C0E6FF;\n}\n.side-panel-styles .floor__color__cold .bedroom > polygon,\n.side-panel-styles .floor__color__cold .office > polygon {\n  fill: #DEF4FF;\n}\n.side-panel-styles .floor__color__cold .kitchen > polygon {\n  fill: #F1FFFC;\n}\n.side-panel-styles .floor__color__cold .living > polygon {\n  fill: #D6F2F2;\n}\n.side-panel-styles .floor__color__cold .storage > polygon,\n.side-panel-styles .floor__color__cold .dining > polygon,\n.side-panel-styles .floor__color__cold .laundry > polygon,\n.side-panel-styles .floor__color__cold .utility > polygon {\n  fill: #B5D3E8;\n}\n.side-panel-styles .floor__color__balanced .room > polygon {\n  fill: #E0E0E0;\n}\n.side-panel-styles .floor__color__balanced .bathroom > polygon {\n  fill: #C0E6FF;\n}\n.side-panel-styles .floor__color__balanced .bedroom > polygon,\n.side-panel-styles .floor__color__balanced .office > polygon {\n  fill: #FFF1CC;\n}\n.side-panel-styles .floor__color__balanced .kitchen > polygon {\n  fill: #E6F2EC;\n}\n.side-panel-styles .floor__color__balanced .living > polygon {\n  fill: #FFF9E3;\n}\n.side-panel-styles .floor__color__balanced .storage > polygon,\n.side-panel-styles .floor__color__balanced .dining > polygon,\n.side-panel-styles .floor__color__balanced .laundry > polygon,\n.side-panel-styles .floor__color__balanced .utility > polygon {\n  fill: #E8DFD1;\n}\n.side-panel-styles .floor__color__grayscale .room > polygon {\n  fill: #BABABA;\n}\n.side-panel-styles .floor__color__grayscale .bathroom > polygon {\n  fill: #9C9C9C;\n}\n.side-panel-styles .floor__color__grayscale .bedroom > polygon,\n.side-panel-styles .floor__color__grayscale .office > polygon {\n  fill: #E2E2E2;\n}\n.side-panel-styles .floor__color__grayscale .kitchen > polygon {\n  fill: #AFAFAF;\n}\n.side-panel-styles .floor__color__grayscale .living > polygon {\n  fill: #D0D0D0;\n}\n.side-panel-styles .floor__color__grayscale .storage > polygon,\n.side-panel-styles .floor__color__grayscale .dining > polygon,\n.side-panel-styles .floor__color__grayscale .laundry > polygon,\n.side-panel-styles .floor__color__grayscale .utility > polygon {\n  fill: #C5C5C5;\n}\n.side-panel-styles .floor__color__blackwhite .room > polygon {\n  fill: #FFFFFF;\n}\n.side-panel-styles .floor__color__blackwhite .bathroom > polygon {\n  fill: #FFFFFF;\n}\n.side-panel-styles .floor__color__blackwhite .bedroom > polygon,\n.side-panel-styles .floor__color__blackwhite .office > polygon {\n  fill: #FFFFFF;\n}\n.side-panel-styles .floor__color__blackwhite .kitchen > polygon {\n  fill: #FFFFFF;\n}\n.side-panel-styles .floor__color__blackwhite .living > polygon {\n  fill: #FFFFFF;\n}\n.side-panel-styles .floor__color__blackwhite .storage > polygon,\n.side-panel-styles .floor__color__blackwhite .dining > polygon,\n.side-panel-styles .floor__color__blackwhite .laundry > polygon,\n.side-panel-styles .floor__color__blackwhite .utility > polygon {\n  fill: #FFFFFF;\n}\n.side-panel-styles .floor__color__blackwhite .window-rect {\n  fill: #FFFFFF;\n  stroke: #000000;\n  stroke-width: 6;\n}\n.side-panel-styles .floor__color__blackwhite .door-rect {\n  fill: #FFFFFF;\n  stroke: #FFFFFF;\n  stroke-width: 20;\n}\n.side-panel-styles .floor__color__blackwhite .room.excluded.void-space > polygon,\n.side-panel-styles .floor__color__blackwhite .ansi .room.unfinished.void-space > polygon {\n  fill: #FFFFFF !important;\n}\n.side-panel-styles .floor__color__blackwhite .room.excluded > polygon {\n  fill: #FFFFFF !important;\n}\n.side-panel-styles .room.excluded.void-space > polygon,\n.side-panel-styles .ansi .room.unfinished.void-space > polygon {\n  fill: #f8f8f8 !important;\n}\n.side-panel-styles .room.excluded > polygon {\n  fill: #f8f8f8 !important;\n}\n.side-panel-styles .room.void-space > polygon {\n  fill: black !important;\n}\nsvg.floor g#scan g path.point {\n  stroke: #f8f8f8;\n  stroke-width: 0.5;\n}\n#side-panel.minimized svg.floor text,\n#side-panel.resizing svg.floor text,\n#side-panel.minimized svg.floor image.edit-btn,\n#side-panel.resizing svg.floor image.edit-btn,\n#side-panel.minimized svg.floor image.drag-btn,\n#side-panel.resizing svg.floor image.drag-btn {\n  visibility: hidden;\n}\n#side-panel.minimized .side-panel__panzoom,\n#side-panel.resizing .side-panel__panzoom {\n  display: none !important;\n}\n#side-panel.resizing svg.floor #floorplanwindow__pano_donut,\n#side-panel.resizing svg.floor #radar-gradient,\n#side-panel.resizing svg.floor line.measurement,\n#side-panel.resizing svg.floor circle.measurement-circle {\n  visibility: hidden;\n}\n#side-panel.minimized svg.floor #advmeasurements line.pointer {\n  stroke-width: 60 !important;\n}\n.panorama-styles .imagewindow__arrow_isInvisible {\n  opacity: 0 !important;\n}\n.panorama-styles .imagewindow__overlay_isInvisible {\n  opacity: 0 !important;\n  z-index: 0 !important;\n}\n.panorama-styles .btnbar.meas {\n  z-index: 100;\n  bottom: 1.5em;\n}\n.panorama-styles .btnbar.meas .image-icons {\n  margin: 0.14em 0;\n}\n.panorama-styles .meas-btnbar_animate-show {\n  opacity: 1;\n}\n.panorama-styles .meas-btnbar_animate-show.ng-hide-add,\n.panorama-styles .meas-btnbar_animate-show.ng-hide-remove {\n  transition: all linear 0.3s;\n}\n.panorama-styles .meas-btnbar_animate-show.ng-hide {\n  transform: translateY(2em);\n  opacity: 0;\n}\n.panorama-styles .imagewindow__btnbar {\n  z-index: 100;\n}\n.panorama-styles #imagewindow {\n  position: relative;\n  overflow: hidden;\n}\n.panorama-styles #imagewindow #imagewindow__overlay {\n  background: url("+x+") no-repeat center;\n  background-size: cover;\n}\n.panorama-styles #imagewindow .arrow {\n  width: 150px;\n  height: 150px;\n  position: absolute;\n  border-radius: 50%;\n  transition: opacity 0.4s ease;\n  will-change: transform, opacity;\n}\n.panorama-styles #imagewindow .arrow img,\n.panorama-styles #imagewindow .arrow .arrow_shadow {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  border-radius: 50%;\n  transition: opacity 0.4s ease;\n  will-change: opacity;\n}\n.panorama-styles #imagewindow .arrow img {\n  opacity: 0.6;\n  outline: 1px solid transparent;\n}\n.panorama-styles #imagewindow .arrow .arrow_shadow {\n  opacity: 0;\n  box-shadow: 0 0 1em white;\n}\n.panorama-styles #imagewindow .arrow.cubetag svg {\n  position: absolute;\n  width: 100%;\n  opacity: 0.75;\n  will-change: transform, opacity;\n  transition: transform 0.25s ease, opacity 0.25s ease;\n}\n.panorama-styles #imagewindow .arrow.cubetag svg.tag-hidden {\n  opacity: 0.25 !important;\n}\n.panorama-styles #imagewindow .arrow .stem {\n  position: absolute;\n  background-color: white;\n  width: 1px;\n  opacity: 0.75;\n  z-index: -1;\n  will-change: opacity;\n  transition: opacity 0.25s ease;\n}\n.panorama-styles #imagewindow .arrow .stem .point {\n  position: absolute;\n  background-color: white;\n  width: 3px;\n  height: 3px;\n  border-radius: 50%;\n  left: -1px;\n}\n.panorama-styles #imagewindow .arrow_disabled,\n.panorama-styles #imagewindow .arrow_hidden,\n.panorama-styles #imagewindow .tag_arrow_disabled {\n  opacity: 0;\n}\n.panorama-styles #imagewindow .tag_arrow_enabled {\n  opacity: 1;\n}\n.panorama-styles #imagewindow .arrow_disabled {\n  pointer-events: none;\n}\n.panorama-styles #imagewindow .arrow_hover_class,\n.panorama-styles #imagewindow .pin {\n  opacity: 1;\n}\n.panorama-styles #imagewindow .arrow_hover_class img,\n.panorama-styles #imagewindow .pin img,\n.panorama-styles #imagewindow .arrow_hover_class.cubetag svg,\n.panorama-styles #imagewindow .pin.cubetag svg,\n.panorama-styles #imagewindow .arrow_hover_class .arrow_shadow,\n.panorama-styles #imagewindow .pin .arrow_shadow,\n.panorama-styles #imagewindow .arrow_hover_class .stem,\n.panorama-styles #imagewindow .pin .stem {\n  opacity: 1 !important;\n}\n.panorama-styles #imagewindow .arrow_hover_class.cubetag svg,\n.panorama-styles #imagewindow .pin.cubetag svg {\n  transform: scale(1.25);\n}\n.panorama-styles #imagewindow .tag-content > p {\n  margin: 0;\n  margin-top: 8px;\n}\n.panorama-styles #imagewindow .tag-content > p:first-child {\n  margin-top: 0;\n}\n.panorama-styles #imagewindow .tag-content img {\n  width: 100%;\n  max-width: 100%;\n  max-height: 100%;\n}\n.panorama-styles #imagewindow .tag-content a {\n  color: #F2F2F2;\n  text-decoration: none;\n}\n.panorama-styles #imagewindow .tag-content a:hover {\n  text-shadow: 0px 0px 12px white;\n}\n.panorama-styles #imagewindow .tag-iframe {\n  flex-grow: 1;\n  border: none;\n}\n.panorama-styles #imagewindow .video-iframe-container {\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding-bottom: 56.25%;\n  /* maintains 16:9 ratio */\n}\n.panorama-styles #imagewindow .video-iframe {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  border: none;\n}\n.panorama-styles #imagewindow .tag-pano-link {\n  display: inline-block;\n  color: white;\n  background-color: #060D13;\n  padding: 8px 24px;\n  border-radius: 50em;\n}\n.panorama-styles #imagewindow .tag-content a:not(.tag-pano-link) {\n  text-decoration: underline;\n}\n.panorama-styles #imagewindow #vmarker {\n  position: absolute;\n  height: 100%;\n  border-style: solid;\n  border-width: 0 1px 0 0;\n  left: 50%;\n  z-index: 2;\n}\n.panorama-styles #imagewindow #ShutterMask {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 10;\n  -webkit-transform: translate3d(0, 0, 3000px);\n  -moz-transform: translate3d(0, 0, 3000px);\n  -ms-transform: translate3d(0, 0, 3000px);\n  -o-transform: translate(0, 0, 3000px);\n  transform: translate3d(0, 0, 3000px);\n}\n.panorama-styles #imagewindow #ShutterMask .smask {\n  display: block;\n  width: 1px;\n  height: 1px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 10;\n  opacity: 0.8;\n}\n.panorama-styles #imagewindow .show {\n  display: inline-block !important;\n}\n.landscape-panorama #imagewindow {\n  float: right;\n}\n.video-styles .viewer__video {\n  position: absolute;\n  height: 100%;\n  font-size: 0.75em;\n  background-color: black;\n}\n.nearby-styles #nearby {\n  height: 100%;\n  position: relative;\n}\n.nearby-styles #nearby #map_canvas {\n  height: 100%;\n  width: 100%;\n}\n.nearby-styles #nearby #map_canvas .angular-google-map-container {\n  position: absolute;\n  height: 100%;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n.nearby-styles #nearby #map_canvas .angular-google-map-container ui-gmap-marker {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n}\n#lightbox {\n  z-index: 1001;\n  opacity: 1;\n  overflow: hidden;\n}\n.iguide-viewer {\n  font-family: 'Roboto', sans-serif;\n  font-weight: 300;\n}\n.iguide-viewer .btnbar {\n  padding: 10px;\n  position: absolute;\n  width: auto;\n  height: auto;\n  line-height: 1em;\n}\n.iguide-viewer .btnbarRefresh {\n  padding: 0 10px 10px 10px;\n  line-height: 0em;\n}\n.iguide-viewer#vf-tour {\n  background-color: #f8f8f8;\n  font-size: 40px;\n  position: relative;\n  margin: auto;\n  overflow: hidden;\n}\n.iguide-viewer#vf-tour .pano-hidden-overlay {\n  background-color: black;\n  color: white;\n}\n.iguide-viewer#vf-tour .btnbar.meas > .floorplan-icons {\n  color: #d9d9d9;\n}\n.iguide-viewer#vf-tour .btnbar.meas > .floorplan-icons:hover {\n  color: white;\n}\n.iguide-viewer#vf-tour .pano-views__labelEdit {\n  color: black;\n}\n.iguide-viewer#vf-tour .menu-colour {\n  background-color: #333;\n}\n.iguide-viewer#vf-tour .menu__tab__click {\n  background-color: #333;\n  color: #b3b3b3;\n}\n.iguide-viewer#vf-tour .menu__tab__click_active {\n  background-color: #333;\n  color: white;\n}\n.iguide-viewer#vf-tour .menu__tab__click_hover {\n  color: white;\n}\n.iguide-viewer#vf-tour .vf-tour__warning {\n  background-color: lightyellow;\n}\n.iguide-viewer#vf-tour .vf-tour-overlay .overlay-mask {\n  background-color: #cccccc;\n}\n.iguide-viewer#vf-tour .vf-tour-overlay .overlay-content {\n  background-color: #414141;\n}\n.iguide-viewer#vf-tour #preview-image {\n  background-color: #414141;\n}\n.iguide-viewer#vf-tour #preview-image p {\n  color: #fff;\n}\n.iguide-viewer#vf-tour .link-footer {\n  background-color: #333;\n}\n.iguide-viewer#vf-tour .link-footer .menulink-container {\n  color: #999;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu .menulink {\n  color: #999;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu .menulink:hover {\n  color: #bfbfbf;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu a {\n  color: white;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu a.button {\n  transition: text-shadow 0.2s ease;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu a.button:hover {\n  text-shadow: 0 0 0.3em;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu .clicked a {\n  text-shadow: 0 0 0.3em;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu > div > div.dropdown-list > div {\n  background-color: #404040;\n  color: #bfbfbf;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu > div > div.dropdown-list > div .item {\n  border-bottom: #333 solid 1px;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu a {\n  opacity: 0.65;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu a.button,\n.iguide-viewer#vf-tour vf-dropdown-menu a:hover {\n  opacity: 1;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu > div > div.dropdown-list > div {\n  background-color: rgba(35, 35, 35, 0.9);\n  color: #bfbfbf;\n}\n.iguide-viewer#vf-tour vf-dropdown-menu > div > div.dropdown-list > div > div.link-footer {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n.iguide-viewer#vf-tour .banner-custom {\n  background-color: #333;\n}\n.iguide-viewer#vf-tour #preview_modal {\n  background-color: #414141;\n}\n.iguide-viewer#vf-tour #preview_modal p {\n  color: #fff;\n}\n.iguide-viewer#vf-tour #SaveImage {\n  background-color: #414141;\n}\n.iguide-viewer#vf-tour #SaveImage #save_image_header {\n  color: white;\n  background-color: #414141;\n}\n.iguide-viewer#vf-tour .gallery-container {\n  background-color: black;\n}\n.iguide-viewer#vf-tour .gallery-container #gallery .flex-row {\n  background-color: black;\n}\n.iguide-viewer#vf-tour #slideshow #blueimp-gallery-carousel > .next,\n.iguide-viewer#vf-tour #slideshow #blueimp-gallery-carousel > .prev {\n  color: white;\n}\n.iguide-viewer#vf-tour #slideshow #image-list-container-container {\n  background-color: rgba(0, 0, 0, 0.9);\n}\n.iguide-viewer#vf-tour #slideshow #image-list-container-container #image-list-container {\n  background-color: rgba(0, 0, 0, 0.9);\n}\n.iguide-viewer#vf-tour #slideshow #image-list-container-container #image-list-container #image-list .image-item {\n  border-color: rgba(0, 0, 0, 0.9);\n  background-color: rgba(0, 0, 0, 0.9);\n}\n.iguide-viewer#vf-tour #slideshow #image-list-container-container #image-list-container #image-list .image-item.active {\n  border-color: white;\n  background-color: white;\n}\n.iguide-viewer#vf-tour #tour {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.iguide-viewer#vf-tour #tour #labelEdit {\n  color: #000;\n  background-color: #ffffff;\n}\n.iguide-viewer#vf-tour #tour #labelEdit select {\n  background-color: #ffffff;\n}\n.iguide-viewer#vf-tour #social ul.dropdown-menu {\n  background-color: rgba(0, 0, 0, 0);\n}\n.iguide-viewer#vf-tour #social ul.dropdown-menu li > a.viewer-btn {\n  color: black;\n}\n.iguide-viewer#vf-tour #vmarker {\n  border-color: #fb2918;\n}\n.iguide-viewer#vf-tour #ShutterMask .smask {\n  background-color: #1f1f1f;\n}\n.iguide-viewer#vf-tour #lightbox.dark {\n  background-color: #141414;\n}\n.iguide-viewer#vf-tour #lightbox.light {\n  background-color: white;\n}\n.iguide-viewer#vf-tour #floorplanwindow__editor-btn {\n  color: white;\n  background-color: #333333;\n}\n.iguide-viewer#vf-tour #floorplanwindow__editor-btn:hover {\n  background-color: #1a1a1a;\n  color: #d9d9d9;\n}\n.iguide-viewer#vf-tour .floorplanwindow__editor-btn-red {\n  background-color: #ff0000;\n}\n.iguide-viewer#vf-tour .floorplanwindow__editor-btn-red:hover {\n  background-color: #cc0000;\n  color: #d9d9d9;\n}\n.iguide-viewer#vf-tour .floorplanwindow__editor-btn-green {\n  background-color: #009941;\n}\n.iguide-viewer#vf-tour .floorplanwindow__editor-btn-green:hover {\n  background-color: #00662b;\n  color: #d9d9d9;\n}\n.iguide-viewer#vf-tour .floorplanwindow__editor-btn-blue {\n  background-color: #3498db;\n}\n.iguide-viewer#vf-tour .floorplanwindow__editor-btn-blue:hover {\n  background-color: #217dbb;\n  color: #d9d9d9;\n}\n.iguide-viewer#vf-tour #pano-container {\n  background-color: #e6e6e6;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view {\n  color: #555;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view:hover {\n  background-color: #c8c8c8;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view.active {\n  background-color: rgba(85, 85, 85, 0.8);\n  color: #f8f8f8;\n}\n.iguide-viewer#vf-tour #measure-mode-fullscreen {\n  display: none;\n  padding-left: 0;\n}\n.iguide-viewer#vf-tour #measure-mode-fullscreen .fullscreen-button-container .image-icons {\n  padding: 0.12em 0 0 0;\n  color: white;\n}\n.iguide-viewer#vf-tour #imagewindow .image-icons {\n  color: white;\n}\n.iguide-viewer#vf-tour #side-panel .viewer-btn.image-icons.icomoon-v-ruler,\n.iguide-viewer#vf-tour #side-panel .viewer-btn.image-icons.icomoon-v-tag {\n  color: #0388CC;\n  opacity: 1;\n}\n.iguide-viewer#vf-tour #side-panel .viewer-btn.image-icons.icomoon-v-ruler:hover,\n.iguide-viewer#vf-tour #side-panel .viewer-btn.image-icons.icomoon-v-tag:hover {\n  color: #025682;\n}\n.iguide-viewer#vf-tour #side-panel .viewer-btn.image-icons.tour-meas.icomoon-v-ruler,\n.iguide-viewer#vf-tour #side-panel .viewer-btn.image-icons.tour-meas.icomoon-v-tag {\n  color: #fb2918;\n}\n.iguide-viewer#vf-tour #side-panel .viewer-btn.image-icons.icomoon-v-tag.confirm {\n  color: #009941;\n}\n.iguide-viewer#vf-tour .floorplan-icons {\n  color: #555;\n}\n.iguide-viewer#vf-tour .floorplan-icons:hover,\n.iguide-viewer#vf-tour .floorplan-icons .active {\n  color: black;\n}\n.iguide-viewer#vf-tour .imu-on {\n  color: #4fb0e2;\n}\n.iguide-viewer#vf-tour .viewer__expired-msg {\n  color: #333;\n}\n.iguide-viewer#vf-tour .menu__tab__click__text_active {\n  border-bottom-color: white;\n  border-bottom-style: solid;\n  border-bottom-width: 0.15em;\n}\n.iguide-viewer#vf-tour .social-lightbox {\n  background: rgba(0, 0, 0, 0.8);\n}\n.iguide-viewer#vf-tour .animate-show {\n  opacity: 1;\n  color: white;\n}\n.iguide-viewer#vf-tour .animate-show.ng-hide-add {\n  transition-property: color, opacity;\n  transition-duration: 0.25s, 0.25s;\n  transition-delay: 0s, 0.25s;\n  transition-timing-funtion: linear;\n}\n.iguide-viewer#vf-tour .animate-show.ng-hide-remove {\n  transition-property: opacity, color;\n  transition-duration: 0.25s, 0.25s;\n  transition-delay: 0s, 0.25s;\n  transition-timing-funtion: linear;\n}\n.iguide-viewer#vf-tour .animate-show.ng-hide {\n  opacity: 0;\n  color: #333;\n}\n.iguide-viewer#vf-tour .dropup-menu .dropup-item {\n  display: block;\n  white-space: nowrap;\n}\n.iguide-viewer#vf-tour .above {\n  z-index: 500;\n}\n.iguide-viewer#vf-tour .hidden-height-0 {\n  visibility: collapse;\n  height: 0;\n}\n.iguide-viewer#vf-tour #floorplanwindow,\n.iguide-viewer#vf-tour #pano-views {\n  width: 100%;\n  height: 100%;\n}\n.iguide-viewer#vf-tour #floorplanwindow > .floor {\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  touch-action: none;\n  position: absolute;\n}\n.iguide-viewer#vf-tour .floorplanwindow__pano:hover,\n.iguide-viewer#vf-tour .floorplanwindow__pano_hover {\n  cursor: pointer;\n}\n.iguide-viewer#vf-tour .floor-panel-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 8px;\n}\n.iguide-viewer#vf-tour #pano-views {\n  height: 100%;\n}\n.iguide-viewer#vf-tour #pano-views .btnbar {\n  z-index: 1;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view-container {\n  overflow-x: hidden;\n  overflow-y: scroll;\n  position: absolute;\n  z-index: 5;\n  width: 100%;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view {\n  position: relative;\n  height: 6em;\n  max-height: 75px;\n  cursor: pointer;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view > p.hidden_floor {\n  color: #c51313 !important;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view .pano-image-container {\n  height: 100%;\n  width: 5em;\n  margin: 0 4%;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view .pano-image-container .pano-image {\n  width: 100%;\n  padding-bottom: 75%;\n  background-size: 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view p {\n  position: relative;\n  text-align: left;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view__label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.iguide-viewer#vf-tour #pano-views .pano-view__edit-btn {\n  color: #ef8733;\n  position: absolute;\n  right: 0;\n  margin: 0 4%;\n}\n.iguide-viewer#vf-tour .side-panel {\n  position: absolute;\n  z-index: 200;\n  bottom: 0;\n  border-radius: 8px;\n  box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);\n  background-color: rgba(33, 37, 41, 0.8);\n  overflow: hidden;\n}\n@media (max-width: 767px) {\n  .iguide-viewer#vf-tour .side-panel {\n    border-radius: 4px;\n  }\n}\n.iguide-viewer#vf-tour .btnbar.side-panel__resize-container {\n  padding: 0;\n}\n.iguide-viewer#vf-tour .btnbar.side-panel__resize-container > div {\n  display: inline-block;\n}\n.iguide-viewer#vf-tour .btnbar.side-panel__top-left-container {\n  padding: 5px 0 0 5px;\n}\n.iguide-viewer#vf-tour .btnbar.side-panel__top-left-container div {\n  display: inline-block;\n}\n.iguide-viewer#vf-tour .btnbar.side-panel__top-left-container div.enabled {\n  color: red;\n}\n.iguide-viewer#vf-tour .btnbar.side-panel__top-left-container div.side-panel__taglist {\n  visibility: hidden;\n  padding: 5px;\n  color: #0388CC;\n}\n.iguide-viewer#vf-tour .btnbar.side-panel__top-left-container div.side-panel__taglist:hover {\n  color: #025682;\n}\n.iguide-viewer#vf-tour .side-panel__resize {\n  z-index: 200;\n}\n.iguide-viewer#vf-tour .ansi .unfinished > polygon {\n  fill: #f8f8f8 !important;\n}\n.iguide-viewer#vf-tour .floor__color__warm .room > polygon {\n  fill: #E0E0E0;\n}\n.iguide-viewer#vf-tour .floor__color__warm .bathroom > polygon {\n  fill: #FFEBD0;\n}\n.iguide-viewer#vf-tour .floor__color__warm .bedroom > polygon,\n.iguide-viewer#vf-tour .floor__color__warm .office > polygon {\n  fill: #F2E1C8;\n}\n.iguide-viewer#vf-tour .floor__color__warm .kitchen > polygon {\n  fill: #FFEEC3;\n}\n.iguide-viewer#vf-tour .floor__color__warm .living > polygon {\n  fill: #F0DCB7;\n}\n.iguide-viewer#vf-tour .floor__color__warm .storage > polygon,\n.iguide-viewer#vf-tour .floor__color__warm .dining > polygon,\n.iguide-viewer#vf-tour .floor__color__warm .laundry > polygon,\n.iguide-viewer#vf-tour .floor__color__warm .utility > polygon {\n  fill: #FFE5C4;\n}\n.iguide-viewer#vf-tour .floor__color__cold .room > polygon {\n  fill: #E0E0E0;\n}\n.iguide-viewer#vf-tour .floor__color__cold .bathroom > polygon {\n  fill: #C0E6FF;\n}\n.iguide-viewer#vf-tour .floor__color__cold .bedroom > polygon,\n.iguide-viewer#vf-tour .floor__color__cold .office > polygon {\n  fill: #DEF4FF;\n}\n.iguide-viewer#vf-tour .floor__color__cold .kitchen > polygon {\n  fill: #F1FFFC;\n}\n.iguide-viewer#vf-tour .floor__color__cold .living > polygon {\n  fill: #D6F2F2;\n}\n.iguide-viewer#vf-tour .floor__color__cold .storage > polygon,\n.iguide-viewer#vf-tour .floor__color__cold .dining > polygon,\n.iguide-viewer#vf-tour .floor__color__cold .laundry > polygon,\n.iguide-viewer#vf-tour .floor__color__cold .utility > polygon {\n  fill: #B5D3E8;\n}\n.iguide-viewer#vf-tour .floor__color__balanced .room > polygon {\n  fill: #E0E0E0;\n}\n.iguide-viewer#vf-tour .floor__color__balanced .bathroom > polygon {\n  fill: #C0E6FF;\n}\n.iguide-viewer#vf-tour .floor__color__balanced .bedroom > polygon,\n.iguide-viewer#vf-tour .floor__color__balanced .office > polygon {\n  fill: #FFF1CC;\n}\n.iguide-viewer#vf-tour .floor__color__balanced .kitchen > polygon {\n  fill: #E6F2EC;\n}\n.iguide-viewer#vf-tour .floor__color__balanced .living > polygon {\n  fill: #FFF9E3;\n}\n.iguide-viewer#vf-tour .floor__color__balanced .storage > polygon,\n.iguide-viewer#vf-tour .floor__color__balanced .dining > polygon,\n.iguide-viewer#vf-tour .floor__color__balanced .laundry > polygon,\n.iguide-viewer#vf-tour .floor__color__balanced .utility > polygon {\n  fill: #E8DFD1;\n}\n.iguide-viewer#vf-tour .floor__color__grayscale .room > polygon {\n  fill: #BABABA;\n}\n.iguide-viewer#vf-tour .floor__color__grayscale .bathroom > polygon {\n  fill: #9C9C9C;\n}\n.iguide-viewer#vf-tour .floor__color__grayscale .bedroom > polygon,\n.iguide-viewer#vf-tour .floor__color__grayscale .office > polygon {\n  fill: #E2E2E2;\n}\n.iguide-viewer#vf-tour .floor__color__grayscale .kitchen > polygon {\n  fill: #AFAFAF;\n}\n.iguide-viewer#vf-tour .floor__color__grayscale .living > polygon {\n  fill: #D0D0D0;\n}\n.iguide-viewer#vf-tour .floor__color__grayscale .storage > polygon,\n.iguide-viewer#vf-tour .floor__color__grayscale .dining > polygon,\n.iguide-viewer#vf-tour .floor__color__grayscale .laundry > polygon,\n.iguide-viewer#vf-tour .floor__color__grayscale .utility > polygon {\n  fill: #C5C5C5;\n}\n.iguide-viewer#vf-tour .floor__color__blackwhite .room > polygon {\n  fill: #FFFFFF;\n}\n.iguide-viewer#vf-tour .floor__color__blackwhite .bathroom > polygon {\n  fill: #FFFFFF;\n}\n.iguide-viewer#vf-tour .floor__color__blackwhite .bedroom > polygon,\n.iguide-viewer#vf-tour .floor__color__blackwhite .office > polygon {\n  fill: #FFFFFF;\n}\n.iguide-viewer#vf-tour .floor__color__blackwhite .kitchen > polygon {\n  fill: #FFFFFF;\n}\n.iguide-viewer#vf-tour .floor__color__blackwhite .living > polygon {\n  fill: #FFFFFF;\n}\n.iguide-viewer#vf-tour .floor__color__blackwhite .storage > polygon,\n.iguide-viewer#vf-tour .floor__color__blackwhite .dining > polygon,\n.iguide-viewer#vf-tour .floor__color__blackwhite .laundry > polygon,\n.iguide-viewer#vf-tour .floor__color__blackwhite .utility > polygon {\n  fill: #FFFFFF;\n}\n.iguide-viewer#vf-tour .floor__color__blackwhite .window-rect {\n  fill: #FFFFFF;\n  stroke: #000000;\n  stroke-width: 6;\n}\n.iguide-viewer#vf-tour .floor__color__blackwhite .door-rect {\n  fill: #FFFFFF;\n  stroke: #FFFFFF;\n  stroke-width: 20;\n}\n.iguide-viewer#vf-tour .floor__color__blackwhite .room.excluded.void-space > polygon,\n.iguide-viewer#vf-tour .floor__color__blackwhite .ansi .room.unfinished.void-space > polygon {\n  fill: #FFFFFF !important;\n}\n.iguide-viewer#vf-tour .floor__color__blackwhite .room.excluded > polygon {\n  fill: #FFFFFF !important;\n}\n.iguide-viewer#vf-tour .room.excluded.void-space > polygon,\n.iguide-viewer#vf-tour .ansi .room.unfinished.void-space > polygon {\n  fill: #f8f8f8 !important;\n}\n.iguide-viewer#vf-tour .room.excluded > polygon {\n  fill: #f8f8f8 !important;\n}\n.iguide-viewer#vf-tour .room.void-space > polygon {\n  fill: black !important;\n}\n.iguide-viewer#vf-tour .menu > li {\n  height: 1em;\n}\n.iguide-viewer#vf-tour .menu > li a {\n  padding: 0 0.36em;\n  line-height: 2.3em;\n  font-size: 0.44em;\n  height: 100%;\n}\n.iguide-viewer#vf-tour .menu__tab__click-layout {\n  position: relative;\n}\n.iguide-viewer#vf-tour .menu li {\n  width: auto;\n  line-height: 0;\n  text-align: center;\n  cursor: pointer;\n  list-style: none;\n  white-space: nowrap;\n}\n.iguide-viewer#vf-tour .menu li a {\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n  text-align: center;\n  vertical-align: middle;\n  padding: 0 0.8em;\n  text-decoration: none;\n}\n.iguide-viewer#vf-tour .link-footer {\n  height: 0.8em;\n  border-bottom-right-radius: 10px;\n}\n.iguide-viewer#vf-tour .link-footer .menulink-container {\n  text-align: center;\n  font-size: 0.5em;\n  font-weight: 400;\n  padding: 1px 3px 0 3px;\n  white-space: nowrap;\n}\n.iguide-viewer#vf-tour .pano-hidden-overlay,\n.iguide-viewer#vf-tour #disabled-floorplanwindow span,\n.iguide-viewer#vf-tour #disabled-pano-views span {\n  position: relative;\n  top: 40%;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  z-index: 100;\n  opacity: 0.5;\n  font-size: 1em;\n  pointer-events: none;\n}\n.iguide-viewer#vf-tour .vf-tour__warning {\n  display: block;\n  text-align: center;\n  width: 100%;\n  z-index: 1200;\n  font-size: 0.6em;\n  padding: 0.5em;\n  padding-right: 1.5em;\n  cursor: pointer;\n  position: absolute;\n  top: 50%;\n  -webkit-transform: translate(0, -50%);\n  -moz-transform: translate(0, -50%);\n  -ms-transform: translate(0, -50%);\n  -o-transform: translate(0, -50%);\n  transform: translate(0, -50%);\n}\n.iguide-viewer#vf-tour .vf-tour__warning:hover .vf-tour__warning__dismiss-container .button {\n  color: black;\n}\n.iguide-viewer#vf-tour .vf-tour__warning .vf-tour__warning__dismiss-container {\n  padding: 0.3em;\n}\n.iguide-viewer#vf-tour .vf-tour__warning .vf-tour__warning__dismiss {\n  font-size: 1.2em;\n}\n.iguide-viewer#vf-tour .help-video-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  z-index: 549;\n  width: 70%;\n  background-color: transparent;\n}\n.iguide-viewer#vf-tour .help-video-container .btnbar.right {\n  right: -1em;\n}\n.iguide-viewer#vf-tour .help-video-container .btnbar.top {\n  top: -0.7em;\n}\n.iguide-viewer#vf-tour .help-video {\n  width: 100%;\n  background-color: black;\n}\n.iguide-viewer#vf-tour .social-lightbox {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 900;\n}\n.iguide-viewer#vf-tour .social-lightbox {\n  cursor: pointer;\n}\n.iguide-viewer#vf-tour .social-lightbox__btnbar {\n  width: auto;\n  max-width: 90%;\n  height: auto;\n  text-align: center;\n  cursor: initial;\n}\n.iguide-viewer#vf-tour .social-lightbox__btnbar > div {\n  margin: 1em;\n}\n.iguide-viewer#vf-tour .social-lightbox__btnbar a.viewer-btn {\n  font-size: 1em;\n  padding: 0.4em;\n}\n.iguide-viewer#vf-tour .social-lightbox__btnbar a.menulink {\n  cursor: pointer;\n  font-size: 0.6em;\n  padding: 0.5em 0.6em;\n}\n.iguide-viewer#vf-tour .social-lightbox__btnbar a.menulink:hover {\n  text-decoration: none;\n}\n.iguide-viewer#vf-tour .social-lightbox__btnbar .tooltip-inner {\n  min-width: 5em;\n}\n.iguide-viewer#vf-tour .social-lightbox__btnbar .social-btn {\n  font-size: 0.5em;\n  font-weight: 400;\n  padding: 0.5em;\n  color: white;\n  background-color: #0388CC;\n  line-height: 1.5em;\n  border: 1px solid #0271a9;\n  border-radius: 4px;\n  text-decoration: none;\n}\n.iguide-viewer#vf-tour .social-lightbox__btnbar .social-btn:hover {\n  background-color: #0377b3;\n  border-color: #026090;\n}\n.iguide-viewer#vf-tour .social-lightbox__url {\n  font-size: 0.5em;\n  margin: 1em 0;\n  text-align: left;\n}\n.iguide-viewer#vf-tour .social-lightbox__url__select {\n  display: block;\n  margin: 0.4em 0;\n}\n.iguide-viewer#vf-tour .social-lightbox__url__page {\n  display: inline-block;\n  vertical-align: top;\n  padding-right: 1em;\n}\n.iguide-viewer#vf-tour .social-lightbox__url__view {\n  display: inline-block;\n  vertical-align: bottom;\n  margin: 0.4em 0;\n}\n.iguide-viewer#vf-tour .social-lightbox__url__view span {\n  color: #ffffff;\n  font-weight: 700;\n  margin: 0 0.75em;\n}\n.iguide-viewer#vf-tour .social-lightbox__url__checkbox {\n  margin: 0;\n  cursor: pointer;\n}\n.iguide-viewer#vf-tour .social-lightbox__url__label-checkbox {\n  color: #ffffff;\n  margin: 0;\n  font-weight: 300;\n  cursor: pointer;\n  text-decoration: underline;\n}\n.iguide-viewer#vf-tour .social-lightbox__url__label {\n  color: white;\n  display: inherit;\n  text-align: left;\n}\n.iguide-viewer#vf-tour .social-lightbox__url__input {\n  width: 100%;\n}\n.iguide-viewer#vf-tour .social-lightbox__url_copy-tooltip {\n  display: none;\n  font-size: 12px;\n  background-color: black;\n  color: #fff;\n  text-align: center;\n  border-radius: 4px;\n  padding: 3px;\n  position: absolute;\n  z-index: 3;\n  top: 100%;\n  left: -6px;\n}\n.iguide-viewer#vf-tour .social-lightbox__url_copy-tooltip::after {\n  content: \"\";\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px;\n  border-style: solid;\n  border-color: transparent transparent black transparent;\n}\n.iguide-viewer#vf-tour #social-sharebtns {\n  margin-bottom: 0.2em;\n}\n.iguide-viewer#vf-tour .vf-tour-overlay {\n  margin: 0;\n  padding: 0;\n  z-index: 1000;\n  font-size: 0.75em;\n}\n.iguide-viewer#vf-tour .vf-tour-overlay .overlay-mask {\n  margin: 0;\n  padding: 30px;\n  opacity: 0.7;\n}\n.iguide-viewer#vf-tour .vf-tour-overlay .overlay-content {\n  position: absolute;\n  top: 8%;\n  bottom: 8%;\n  left: 8%;\n  right: 8%;\n  margin: 0;\n  padding: 0;\n}\n.iguide-viewer#vf-tour #preview-image {\n  padding: 5px;\n  margin: 0;\n  width: 75%;\n}\n.iguide-viewer#vf-tour #preview-image .image-container {\n  width: 100%;\n  height: 100%;\n  background: url("+_+") no-repeat center;\n  background-size: 50px;\n  white-space: nowrap;\n  text-align: center;\n}\n.iguide-viewer#vf-tour #preview-image .image-container img {\n  max-width: 100%;\n  max-height: 100%;\n  vertical-align: middle;\n}\n.iguide-viewer#vf-tour #preview-image p {\n  margin: 12px 20px 0 20px;\n  line-height: 16px;\n  text-align: center;\n  font-weight: normal;\n  font-size: 12px;\n}\n.iguide-viewer#vf-tour #preview_modal {\n  height: 95%;\n  width: 75%;\n  z-index: 10000;\n  opacity: 1;\n}\n.iguide-viewer#vf-tour #preview_modal .image-container {\n  width: 90%;\n  background: url("+_+") no-repeat center;\n}\n.iguide-viewer#vf-tour #preview_modal .image-container img {\n  display: block;\n  margin: 0 auto;\n  max-width: 100%;\n  max-height: 100%;\n}\n.iguide-viewer#vf-tour #preview_modal p {\n  margin: 12px 20px 0 20px;\n  line-height: 16px;\n  text-align: center;\n  font-weight: normal;\n  font-size: 12px;\n}\n.iguide-viewer#vf-tour .vf-tour-overlay {\n  z-index: 900;\n}\n.iguide-viewer#vf-tour .vf-tour-overlay .floorplan-icons {\n  text-shadow: none;\n}\n.iguide-viewer#vf-tour #SaveImage {\n  z-index: 900;\n  padding: 5px;\n  margin: 0;\n}\n.iguide-viewer#vf-tour #SaveImage .image-container {\n  width: 100%;\n  height: 100%;\n  white-space: nowrap;\n  text-align: center;\n}\n.iguide-viewer#vf-tour #SaveImage #save_image {\n  max-width: 100%;\n  max-height: 100%;\n  vertical-align: middle;\n}\n.iguide-viewer#vf-tour #SaveImage #save_image_header {\n  display: block;\n  position: relative;\n  width: 100%;\n  text-align: center;\n  padding: 1% 0;\n  font-weight: bold;\n  font-size: 0.4em;\n  z-index: 2;\n}\n.iguide-viewer#vf-tour #SaveImage .btnbar {\n  position: absolute;\n  z-index: 10001;\n}\n.iguide-viewer#vf-tour #disabled-floorplanwindow,\n.iguide-viewer#vf-tour #disabled-pano-views {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 2px 0 0 0;\n  text-align: center;\n  z-index: 499;\n  cursor: default;\n}\n.iguide-viewer#vf-tour #disabled-floorplanwindow,\n.iguide-viewer#vf-tour #disabled-pano-views {\n  pointer-events: none;\n}\n.iguide-viewer#vf-tour #disabled-floorplanwindow span,\n.iguide-viewer#vf-tour #disabled-pano-views span {\n  color: white;\n  background-color: rgba(0, 0, 0, 0.65);\n}\n.iguide-viewer#vf-tour #SaveImage .SaveImageCloseButton-container {\n  padding: 0.2em;\n}\n.iguide-viewer#vf-tour .pagepreview__click {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  width: 10%;\n  left: 66%;\n  line-height: normal;\n}\n.iguide-viewer#vf-tour #text {\n  top: 66%;\n  left: 66%;\n  padding: 0em 0.33em;\n  font-size: 1.9vw;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  cursor: pointer;\n}\n.iguide-viewer#vf-tour .no-vr-modal-bg {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.iguide-viewer#vf-tour .no-vr-modal {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  width: 50%;\n  height: 40%;\n  text-align: center;\n  background-color: rgba(0, 0, 0, 0.75);\n  color: white;\n  padding: 0 0.5em;\n  z-index: 200;\n}\n.iguide-viewer#vf-tour .no-vr-modal .center-horizontal {\n  position: absolute;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, 0);\n  -moz-transform: translate(-50%, 0);\n  -ms-transform: translate(-50%, 0);\n  -o-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n}\n.iguide-viewer#vf-tour .no-vr-modal .btn {\n  background: #3498db;\n  background-image: -webkit-linear-gradient(top, #3498db, #2980b9);\n  background-image: -moz-linear-gradient(top, #3498db, #2980b9);\n  background-image: -ms-linear-gradient(top, #3498db, #2980b9);\n  background-image: -o-linear-gradient(top, #3498db, #2980b9);\n  background-image: linear-gradient(to bottom, #3498db, #2980b9);\n  -webkit-border-radius: 4;\n  -moz-border-radius: 4;\n  border-radius: 4px;\n  font-family: Arial;\n  color: #ffffff;\n  font-size: 0.65em;\n  padding: 0.2em 0.75em;\n  text-decoration: none;\n}\n.iguide-viewer#vf-tour .no-vr-modal .btn:hover {\n  background: #3cb0fd;\n  background-image: -webkit-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: -moz-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: -ms-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: -o-linear-gradient(top, #3cb0fd, #3498db);\n  background-image: linear-gradient(to bottom, #3cb0fd, #3498db);\n  text-decoration: none;\n}\n.iguide-viewer#vf-tour .no-vr-modal .no-vr-modal__text {\n  display: table;\n  text-align: center;\n  vertical-align: middle;\n  margin: auto;\n  font-size: 0.5em;\n  margin: 1em auto;\n}\n.iguide-viewer#vf-tour .no-vr-modal .no-vr-modal__action-buttons {\n  position: absolute;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, 0);\n  -moz-transform: translate(-50%, 0);\n  -ms-transform: translate(-50%, 0);\n  -o-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n  bottom: 0;\n  padding: 0.5em;\n}\n.iguide-viewer#vf-tour .no-vr-modal .no-vr-modal__action-buttons__dismiss {\n  background: #3498db;\n  background-image: -webkit-linear-gradient(top, #3498db, #2980b9);\n  background-image: -moz-linear-gradient(top, #3498db, #2980b9);\n  background-image: -ms-linear-gradient(top, #3498db, #2980b9);\n  background-image: -o-linear-gradient(top, #3498db, #2980b9);\n  background-image: linear-gradient(to bottom, #3498db, #2980b9);\n  -webkit-border-radius: 4;\n  -moz-border-radius: 4;\n  border-radius: 4px;\n  font-family: Arial;\n  color: #ffffff;\n  font-size: 0.65em;\n  padding: 0.2em 0.75em;\n  text-decoration: none;\n  cursor: pointer;\n  margin: 0.55em;\n  font-size: 0.5em;\n}\n.iguide-viewer#vf-tour .no-vr-modal ol {\n  display: inline-block;\n  text-align: left;\n  font-size: 0.5em;\n}\n.iguide-viewer#vf-tour .no-vr-modal ol li {\n  line-height: 30px;\n}\n.iguide-viewer#vf-tour .no-vr-modal ol li img {\n  height: 30px;\n  margin: 0 5px;\n}\n@media (max-width: 415px) {\n  .iguide-viewer#vf-tour .no-vr-modal {\n    width: 100%;\n    height: 50%;\n  }\n}\n.iguide-viewer#vf-tour #nearby {\n  height: 100%;\n  position: relative;\n}\n.iguide-viewer#vf-tour #nearby #map_canvas {\n  height: 100%;\n  width: 100%;\n}\n.iguide-viewer#vf-tour #nearby #map_canvas .angular-google-map-container {\n  position: absolute;\n  height: 100%;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n.iguide-viewer#vf-tour #nearby #map_canvas .angular-google-map-container ui-gmap-marker {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n}\n.iguide-viewer#vf-tour .viewer__video {\n  position: absolute;\n  height: 100%;\n  font-size: 0.75em;\n  background-color: black;\n}\n.iguide-viewer#vf-tour .imagewindow__arrow_isInvisible {\n  opacity: 0 !important;\n}\n.iguide-viewer#vf-tour .imagewindow__overlay_isInvisible {\n  opacity: 0 !important;\n  z-index: 0 !important;\n}\n.iguide-viewer#vf-tour .btnbar.meas {\n  z-index: 100;\n  bottom: 1.5em;\n}\n.iguide-viewer#vf-tour .btnbar.meas .image-icons {\n  margin: 0.14em 0;\n}\n.iguide-viewer#vf-tour .meas-btnbar_animate-show {\n  opacity: 1;\n}\n.iguide-viewer#vf-tour .meas-btnbar_animate-show.ng-hide-add,\n.iguide-viewer#vf-tour .meas-btnbar_animate-show.ng-hide-remove {\n  transition: all linear 0.3s;\n}\n.iguide-viewer#vf-tour .meas-btnbar_animate-show.ng-hide {\n  transform: translateY(2em);\n  opacity: 0;\n}\n.iguide-viewer#vf-tour .imagewindow__btnbar {\n  z-index: 100;\n}\n.iguide-viewer#vf-tour #imagewindow {\n  position: relative;\n  overflow: hidden;\n}\n.iguide-viewer#vf-tour #imagewindow #imagewindow__overlay {\n  background: url("+x+") no-repeat center;\n  background-size: cover;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow {\n  width: 150px;\n  height: 150px;\n  position: absolute;\n  border-radius: 50%;\n  transition: opacity 0.4s ease;\n  will-change: transform, opacity;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow img,\n.iguide-viewer#vf-tour #imagewindow .arrow .arrow_shadow {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  border-radius: 50%;\n  transition: opacity 0.4s ease;\n  will-change: opacity;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow img {\n  opacity: 0.6;\n  outline: 1px solid transparent;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow .arrow_shadow {\n  opacity: 0;\n  box-shadow: 0 0 1em white;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow.cubetag svg {\n  position: absolute;\n  width: 100%;\n  opacity: 0.75;\n  will-change: transform, opacity;\n  transition: transform 0.25s ease, opacity 0.25s ease;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow.cubetag svg.tag-hidden {\n  opacity: 0.25 !important;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow .stem {\n  position: absolute;\n  background-color: white;\n  width: 1px;\n  opacity: 0.75;\n  z-index: -1;\n  will-change: opacity;\n  transition: opacity 0.25s ease;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow .stem .point {\n  position: absolute;\n  background-color: white;\n  width: 3px;\n  height: 3px;\n  border-radius: 50%;\n  left: -1px;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow_disabled,\n.iguide-viewer#vf-tour #imagewindow .arrow_hidden,\n.iguide-viewer#vf-tour #imagewindow .tag_arrow_disabled {\n  opacity: 0;\n}\n.iguide-viewer#vf-tour #imagewindow .tag_arrow_enabled {\n  opacity: 1;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow_disabled {\n  pointer-events: none;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow_hover_class,\n.iguide-viewer#vf-tour #imagewindow .pin {\n  opacity: 1;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow_hover_class img,\n.iguide-viewer#vf-tour #imagewindow .pin img,\n.iguide-viewer#vf-tour #imagewindow .arrow_hover_class.cubetag svg,\n.iguide-viewer#vf-tour #imagewindow .pin.cubetag svg,\n.iguide-viewer#vf-tour #imagewindow .arrow_hover_class .arrow_shadow,\n.iguide-viewer#vf-tour #imagewindow .pin .arrow_shadow,\n.iguide-viewer#vf-tour #imagewindow .arrow_hover_class .stem,\n.iguide-viewer#vf-tour #imagewindow .pin .stem {\n  opacity: 1 !important;\n}\n.iguide-viewer#vf-tour #imagewindow .arrow_hover_class.cubetag svg,\n.iguide-viewer#vf-tour #imagewindow .pin.cubetag svg {\n  transform: scale(1.25);\n}\n.iguide-viewer#vf-tour #imagewindow .tag-content > p {\n  margin: 0;\n  margin-top: 8px;\n}\n.iguide-viewer#vf-tour #imagewindow .tag-content > p:first-child {\n  margin-top: 0;\n}\n.iguide-viewer#vf-tour #imagewindow .tag-content img {\n  width: 100%;\n  max-width: 100%;\n  max-height: 100%;\n}\n.iguide-viewer#vf-tour #imagewindow .tag-content a {\n  color: #F2F2F2;\n  text-decoration: none;\n}\n.iguide-viewer#vf-tour #imagewindow .tag-content a:hover {\n  text-shadow: 0px 0px 12px white;\n}\n.iguide-viewer#vf-tour #imagewindow .tag-iframe {\n  flex-grow: 1;\n  border: none;\n}\n.iguide-viewer#vf-tour #imagewindow .video-iframe-container {\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding-bottom: 56.25%;\n  /* maintains 16:9 ratio */\n}\n.iguide-viewer#vf-tour #imagewindow .video-iframe {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  border: none;\n}\n.iguide-viewer#vf-tour #imagewindow .tag-pano-link {\n  display: inline-block;\n  color: white;\n  background-color: #060D13;\n  padding: 8px 24px;\n  border-radius: 50em;\n}\n.iguide-viewer#vf-tour #imagewindow .tag-content a:not(.tag-pano-link) {\n  text-decoration: underline;\n}\n.iguide-viewer#vf-tour #imagewindow #vmarker {\n  position: absolute;\n  height: 100%;\n  border-style: solid;\n  border-width: 0 1px 0 0;\n  left: 50%;\n  z-index: 2;\n}\n.iguide-viewer#vf-tour #imagewindow #ShutterMask {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 10;\n  -webkit-transform: translate3d(0, 0, 3000px);\n  -moz-transform: translate3d(0, 0, 3000px);\n  -ms-transform: translate3d(0, 0, 3000px);\n  -o-transform: translate(0, 0, 3000px);\n  transform: translate3d(0, 0, 3000px);\n}\n.iguide-viewer#vf-tour #imagewindow #ShutterMask .smask {\n  display: block;\n  width: 1px;\n  height: 1px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 10;\n  opacity: 0.8;\n}\n.iguide-viewer#vf-tour #imagewindow .show {\n  display: inline-block !important;\n}\n.iguide-viewer#vf-tour.portrait .pano-view-container {\n  font-size: 0.4em;\n  height: calc(100% - 6.8em);\n}\n.iguide-viewer#vf-tour.portrait .pano-view-container.no-floor-dropup {\n  height: calc(100% - 2.8em);\n}\n.iguide-viewer#vf-tour.portrait .pano-view-container.no-pano-views-resize {\n  height: calc(100% - 4em);\n}\n.iguide-viewer#vf-tour.portrait .pano-view-container.no-pano-views-resize.no-floor-dropup {\n  height: 100%;\n}\n.iguide-viewer#vf-tour.portrait #pano-views {\n  width: 100%;\n}\n.iguide-viewer#vf-tour.portrait #pano-views .pano-image-container {\n  max-width: 140px;\n}\n.iguide-viewer#vf-tour.portrait .pano-view__label {\n  width: 72%;\n}\n.iguide-viewer#vf-tour.portrait #side-panel.minimized .pano-view-container {\n  height: calc(100% - 2.8em);\n}\n.iguide-viewer#vf-tour.portrait #SaveImage {\n  width: 80%;\n}\n.iguide-viewer#vf-tour.landscape .pano-view-container {\n  height: calc(100% - 5.8em);\n  font-size: 0.5em;\n}\n.iguide-viewer#vf-tour.landscape .pano-view-container.no-floor-dropup {\n  height: calc(100% - 2.3em);\n}\n.iguide-viewer#vf-tour.landscape .pano-image-container {\n  max-width: 105px;\n}\n.iguide-viewer#vf-tour.landscape .pano-view__label {\n  width: 53%;\n}\n.iguide-viewer#vf-tour.landscape #side-panel.minimized .pano-view-container {\n  height: calc(100% - 2.3em);\n}\n.iguide-viewer#vf-tour.landscape #imagewindow {\n  float: right;\n}\n.iguide-viewer#vf-tour.tag-list {\n  float: left;\n}\n.iguide-viewer#vf-tour.tag-list.tag-open {\n  overflow: visible;\n}\n.iguide-viewer#vf-tour.tag-list-collapsed #side-panel:not(.minimized):not(.resizing) #floorplanwindow .side-panel__top-left-container #floorplanwindow__taglist.side-panel__taglist {\n  visibility: visible;\n}\n.iguide-viewer#vf-tour:focus {\n  outline: none;\n}\n.iguide-viewer#vf-tour .viewer-btn {\n  padding: 0.12em;\n  padding-left: 0;\n  z-index: 200;\n}\n.iguide-viewer#vf-tour .viewer-btn.white {\n  color: white;\n}\n.iguide-viewer#vf-tour .viewer-btn.opaque {\n  opacity: 1;\n}\n.iguide-viewer#vf-tour .iguide-logo {\n  text-decoration: none;\n}\n.iguide-viewer#vf-tour .imagewindow__btnbar .image-icons {\n  display: inline-block;\n}\n.iguide-viewer#vf-tour #loader-container {\n  width: 2em;\n  height: 2em;\n}\n.iguide-viewer#vf-tour .no-data-iguide-logo-img {\n  width: 80px;\n  margin-top: 1.125em;\n  margin-right: 0.125em;\n}\n.iguide-viewer#vf-tour .no-data-iguide-logo-img.webshot-top {\n  margin-top: 0.125em;\n}\n.iguide-viewer#vf-tour #no-data,\n.iguide-viewer#vf-tour #no-gallery,\n.iguide-viewer#vf-tour #viewer-expired {\n  width: 100%;\n}\n.iguide-viewer#vf-tour .responsive {\n  position: relative;\n  display: block;\n  height: 100%;\n  padding: 0;\n  overflow: hidden;\n}\n.iguide-viewer#vf-tour .responsive .responsive-item,\n.iguide-viewer#vf-tour .responsive iframe,\n.iguide-viewer#vf-tour .responsive embed,\n.iguide-viewer#vf-tour .responsive object,\n.iguide-viewer#vf-tour .responsive video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  border: 0;\n}\n.iguide-viewer#vf-tour .responsive video {\n  background-color: black;\n}\n.iguide-viewer#vf-tour #tour {\n  background-color: black;\n  position: relative;\n  font-size: 0.75em;\n}\n.iguide-viewer#vf-tour #tour #viewer-row {\n  transition: opacity 0.4s ease;\n  background-color: black;\n  position: relative;\n}\n.iguide-viewer#vf-tour #tour #labelEdit {\n  display: none;\n  z-index: 200;\n}\n.iguide-viewer#vf-tour #tour #labelEdit select {\n  position: absolute;\n  left: -41px;\n  width: 40px;\n  padding: 0;\n  margin: 0;\n  border: none;\n}\n.iguide-viewer#vf-tour #tour #labelEdit input {\n  width: 100%;\n  padding: 0;\n  margin: 0;\n}\n.iguide-viewer#vf-tour .nox-exit-btn {\n  z-index: 500;\n  margin: 10px;\n  line-height: 0;\n}\n.iguide-viewer#vf-tour #imagewindow {\n  position: relative;\n  overflow: hidden;\n  transition: opacity 0.4s ease-in-out;\n}\n.iguide-viewer#vf-tour #imagewindow #imagewindow__overlay {\n  background: url("+x+") no-repeat center;\n  background-size: cover;\n  cursor: default;\n  z-index: 100;\n}\n.iguide-viewer#vf-tour #imagewindow .imagewindow__btnbar #setinitangle-btn {\n  font-size: 0.75em;\n  font-weight: 400;\n  padding: 0.5em;\n  color: white;\n  background-color: #0388CC;\n  line-height: 1.5em;\n  border: 1px solid #0271a9;\n  border-radius: 4px;\n}\n.iguide-viewer#vf-tour #imagewindow .imagewindow__btnbar #setinitangle-btn:hover {\n  background-color: #0377b3;\n  border-color: #026090;\n}\n.iguide-viewer#vf-tour #imagewindow .imagewindow__btnbar #setinitangle-popup {\n  display: none;\n  color: white;\n  font-size: 0.75em;\n  background-color: black;\n  padding: 3px;\n  margin-right: 5px;\n  border-radius: 4px;\n}\n.iguide-viewer#vf-tour .image-icons {\n  cursor: pointer;\n  text-shadow: 3px 2px 2px rgba(0, 0, 0, 0.5);\n  text-decoration: none;\n  opacity: 0.65;\n}\n.iguide-viewer#vf-tour .image-icons:hover {\n  opacity: 1;\n}\n.iguide-viewer#vf-tour .floorplan-icons {\n  cursor: pointer;\n}\n.iguide-viewer#vf-tour .btnbar.bottom {\n  float: left;\n}\n.iguide-viewer#vf-tour .floorplanwindow__iguide-logo a img {\n  position: absolute;\n  top: 8px;\n  width: 70px;\n}\n.iguide-viewer#vf-tour .pano-views__iguide-logo {\n  position: absolute;\n  top: 0;\n  font-size: 0.47em;\n  padding: 0.6em 0 0 0.7em;\n}\n.iguide-viewer#vf-tour .pano-views__iguide-logo a {\n  color: #777777;\n  text-decoration: none;\n}\n.iguide-viewer#vf-tour.measure-mode #measure-mode-fullscreen {\n  display: block;\n}\n.iguide-viewer#vf-tour.measure-mode image.edit-btn,\n.iguide-viewer#vf-tour.measure-mode .icomoon-v-edit,\n.iguide-viewer#vf-tour.measure-mode image.drag-btn {\n  display: none;\n}\n.iguide-viewer#vf-tour.view-mouse-down #banner-container,\n.iguide-viewer#vf-tour.floorplan-mouse-down #banner-container,\n.iguide-viewer#vf-tour.view-mouse-down #control-btnbar,\n.iguide-viewer#vf-tour.floorplan-mouse-down #control-btnbar,\n.iguide-viewer#vf-tour.view-mouse-down #bottom-right-buttons,\n.iguide-viewer#vf-tour.floorplan-mouse-down #bottom-right-buttons,\n.iguide-viewer#vf-tour.view-mouse-down #measure-mode-fullscreen,\n.iguide-viewer#vf-tour.floorplan-mouse-down #measure-mode-fullscreen {\n  pointer-events: none;\n}\n.iguide-viewer #lightbox.inPreview {\n  width: 100%;\n  height: 100%;\n}\n.iguide-viewer #lightbox .vf-tour_hasShadow {\n  box-shadow: rgba(0, 0, 0, 0.2) 1px 1px 150px 21px;\n}\n.iguide-viewer .dimensions__section-content__title {\n  text-transform: capitalize;\n}\n.iguide-viewer .floorplanwindow__show-hide {\n  position: absolute;\n}\n.iguide-viewer .tools-container {\n  bottom: 0;\n  padding: 8px;\n  position: absolute;\n  z-index: 200;\n}\n",""]),t.default=m},53914:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"@media screen and (max-width: 1000px) {\n  ::-webkit-scrollbar {\n    -webkit-appearance: none;\n  }\n  ::-webkit-scrollbar:vertical {\n    width: 6px;\n  }\n  ::-webkit-scrollbar:horizontal {\n    height: 6px;\n  }\n  ::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.5);\n    border-radius: 10px;\n    border: 2px solid #ffffff;\n  }\n  ::-webkit-scrollbar-track {\n    border-radius: 10px;\n    background-color: #ffffff;\n  }\n}\n",""]),t.default=a},59397:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".iguide-viewer-bootstrap .show-ellipsis {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.iguide-viewer-bootstrap .full-window {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n}\n.iguide-viewer-bootstrap .cursor-crosshair {\n  cursor: crosshair;\n}\n.iguide-viewer-bootstrap .cursor-move {\n  cursor: move !important;\n}\n.iguide-viewer-bootstrap .cursor-default {\n  cursor: default;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu {\n  float: left;\n  display: block;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu a {\n  height: 100%;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu a:hover {\n  text-decoration: none;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div {\n  float: left;\n  width: 100%;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div > div.dropdown-display {\n  float: left;\n  width: 100%;\n  cursor: pointer;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div > div.dropdown-list {\n  float: left;\n  width: 100%;\n  position: absolute;\n  transform: translateY(-50em);\n  transition: transform ease 1000ms;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div > div.dropdown-list > div {\n  position: absolute;\n  width: 100%;\n  z-index: 2;\n  cursor: default;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div > div.dropdown-list > div > div {\n  float: left;\n  width: 100%;\n}\n.iguide-viewer-bootstrap vf-dropdown-menu > div.show > div.dropdown-list {\n  transition: transform ease 750ms;\n  transform: translateY(0) !important;\n}\n.iguide-viewer-bootstrap .col-md-7-fix,\n.iguide-viewer-bootstrap .col-md-5-fix,\n.iguide-viewer-bootstrap .col-md-12-fix,\n.iguide-viewer-bootstrap .col-md-8-fix,\n.iguide-viewer-bootstrap .col-md-4-fix,\n.iguide-viewer-bootstrap .col-md-6-fix,\n.iguide-viewer-bootstrap .col-md-3-fix,\n.iguide-viewer-bootstrap .col-md-9-fix,\n.iguide-viewer-bootstrap .col-sm-7-fix,\n.iguide-viewer-bootstrap .col-sm-5-fix,\n.iguide-viewer-bootstrap .col-sm-12-fix,\n.iguide-viewer-bootstrap .col-sm-8-fix,\n.iguide-viewer-bootstrap .col-sm-4-fix,\n.iguide-viewer-bootstrap .col-sm-6-fix,\n.iguide-viewer-bootstrap .col-sm-3-fix,\n.iguide-viewer-bootstrap .col-md-40percent,\n.iguide-viewer-bootstrap .col-md-30percent {\n  position: relative;\n}\n.iguide-viewer-bootstrap .image-contain-center-norepeat {\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n.iguide-viewer-bootstrap .horizontal-container {\n  width: 100%;\n}\n.iguide-viewer-bootstrap .horizontal-style {\n  display: table;\n}\n.iguide-viewer-bootstrap .horizontal-style li {\n  display: table-cell;\n}\n.iguide-viewer-bootstrap .spacer {\n  height: 2em;\n}\n.iguide-viewer-bootstrap .spacer-05em {\n  height: 0.5em;\n}\n.iguide-viewer-bootstrap .responsive {\n  position: relative;\n  display: block;\n  height: 0;\n  padding: 0;\n  overflow: hidden;\n}\n.iguide-viewer-bootstrap .responsive .responsive-item,\n.iguide-viewer-bootstrap .responsive iframe,\n.iguide-viewer-bootstrap .responsive embed,\n.iguide-viewer-bootstrap .responsive object,\n.iguide-viewer-bootstrap .responsive video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  border: 0;\n}\n.iguide-viewer-bootstrap .box-shadow {\n  -webkit-box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.1);\n  -moz-box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.1);\n  box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.1);\n}\n.iguide-viewer-bootstrap .no-border-radius {\n  -webkit-border-radius: 0;\n  -moz-border-radius: 0;\n  border-radius: 0;\n}\n.iguide-viewer-bootstrap .no-user-select {\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.iguide-viewer-bootstrap .user-select-text {\n  -webkit-user-select: text;\n  -khtml-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.iguide-viewer-bootstrap .fade-in {\n  opacity: 0.2;\n  -webkit-transition: opacity 0.5s linear;\n  -moz-transition: opacity 0.5s linear;\n  -ms-transition: opacity 0.5s linear;\n  -o-transition: opacity 0.5s linear;\n  transition: opacity 0.5s linear;\n}\n.iguide-viewer-bootstrap .cursor-pointer {\n  cursor: pointer;\n}\n.iguide-viewer-bootstrap .no-box-shadow {\n  -webkit-box-shadow: none !important;\n  -moz-box-shadow: none !important;\n  box-shadow: none !important;\n}\n.iguide-viewer-bootstrap .bottom {\n  position: absolute;\n  bottom: 0;\n}\n.iguide-viewer-bootstrap .right {\n  position: absolute;\n  right: 0;\n}\n.iguide-viewer-bootstrap .top {\n  position: absolute;\n  top: 0;\n}\n.iguide-viewer-bootstrap .padding-top-6 {\n  padding-top: 6px;\n}\n.iguide-viewer-bootstrap .centering-btn {\n  width: 100% !important;\n}\n.iguide-viewer-bootstrap .centering-btn button {\n  position: relative;\n  display: block;\n  margin: 0 auto;\n}\n.iguide-viewer-bootstrap .center-absolute,\n.cube,\n.cube .face6 {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.iguide-viewer-bootstrap .center-vertical {\n  position: absolute;\n  top: 50%;\n  -webkit-transform: translate(0, -50%);\n  -moz-transform: translate(0, -50%);\n  -ms-transform: translate(0, -50%);\n  -o-transform: translate(0, -50%);\n  transform: translate(0, -50%);\n}\n.iguide-viewer-bootstrap .center-horizontal {\n  position: absolute;\n  left: 50%;\n  -webkit-transform: translate(-50%, 0);\n  -moz-transform: translate(-50%, 0);\n  -ms-transform: translate(-50%, 0);\n  -o-transform: translate(-50%, 0);\n  transform: translate(-50%, 0);\n}\n.iguide-viewer-bootstrap .center-vertical-noposition {\n  display: flex;\n  align-items: center;\n}\n.iguide-viewer-bootstrap .nopadding {\n  padding: 0 !important;\n}\n.iguide-viewer-bootstrap .nopadding-horizontal {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\n.iguide-viewer-bootstrap .nomargin {\n  margin: 0 !important;\n}\n.iguide-viewer-bootstrap .width-full {\n  width: 100%;\n}\n.iguide-viewer-bootstrap .height-auto {\n  height: auto;\n}\n.iguide-viewer-bootstrap .margin-top-20 {\n  margin-top: 20px;\n}\n.iguide-viewer-bootstrap .margin-bottom-20 {\n  margin-bottom: 20px;\n}\n.iguide-viewer-bootstrap .margin-horizontal-minus10 {\n  margin: 0 -10px;\n}\n.iguide-viewer-bootstrap .padding-horizontal-10 {\n  padding: 10px 0;\n}\n.iguide-viewer-bootstrap .padding-10 {\n  padding: 10px;\n}\n.iguide-viewer-bootstrap .padding-horizontal-15 {\n  padding: 0 15px;\n}\n.iguide-viewer-bootstrap .bg-color-white {\n  background-color: white;\n}\n.iguide-viewer-bootstrap .border-top {\n  border-top: black solid 1px;\n}\n.iguide-viewer-bootstrap .border-bottom {\n  border-bottom: black solid 1px;\n}\n.iguide-viewer-bootstrap .border-left {\n  border-left: black solid 1px;\n}\n.iguide-viewer-bootstrap .border-right {\n  border-right: black solid 1px;\n}\n.iguide-viewer-bootstrap .border {\n  border: black solid 1px;\n}\n.iguide-viewer-bootstrap .center-flex-horizontal {\n  display: flex;\n  justify-content: center;\n}\n.iguide-viewer-bootstrap .position-absolute {\n  position: absolute;\n}\n@media screen and (orientation: landscape) {\n  .iguide-viewer-bootstrap #lightbox .col-md-12-fix {\n    float: left;\n    width: 100%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-7-fix {\n    float: left;\n    width: 58.33333333%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-5-fix {\n    float: left;\n    width: 41.66666667%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-6-fix {\n    float: left;\n    width: 50%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-8-fix {\n    float: left;\n    width: 66.66666667%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-4-fix {\n    float: left;\n    width: 33.33333333%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-9-fix {\n    float: left;\n    width: 75%;\n  }\n  .iguide-viewer-bootstrap #lightbox .col-md-3-fix {\n    float: left;\n    width: 25%;\n  }\n}\n.cube {\n  will-change: perspective, opacity;\n}\n.cube .face6 {\n  width: 49%;\n  height: 49%;\n}\n.cube figure {\n  position: absolute;\n  outline: 1px solid transparent;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  will-change: transform;\n  width: 100%;\n  height: 100%;\n}\n.cube figure .image {\n  width: 100%;\n  height: 100%;\n}\n.cube figure .mask {\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  position: absolute;\n  outline: 2px solid transparent;\n}\n.cube.inactive {\n  opacity: 0;\n}\n.cube.active figure {\n  /* FOR AUTOPLAY */\n  animation-duration: 60s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n}\n",""]),t.default=a},52586:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"vf-tag-modal {\n  display: none;\n  background-color: rgba(0, 0, 0, 0.8);\n  cursor: pointer;\n  will-change: opacity;\n  /* Editor and Preview overrides */\n  /* Editor only overrides */\n  /* Preview only overrides */\n}\nvf-tag-modal.modal {\n  z-index: 1001;\n}\nvf-tag-modal.modal.fade .modal-dialog {\n  -webkit-transform: translate(-50%, -100%);\n  -ms-transform: translate(-50%, -100%);\n  -o-transform: translate(-50%, -100%);\n  transform: translate(-50%, -100%);\n  will-change: transform;\n}\nvf-tag-modal.modal.fade.in .modal-dialog {\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\nvf-tag-modal:hover .tag-modal-close {\n  color: white;\n}\nvf-tag-modal .tag-modal-header {\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: space-between;\n  padding: 2px 0;\n}\nvf-tag-modal .tag-modal-header h2 {\n  font-size: 20px;\n  font-weight: 300;\n  color: white;\n  display: inline-block;\n  margin: 0;\n  -webkit-user-select: text;\n  -khtml-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\nvf-tag-modal .tag-modal-close {\n  display: inline-block;\n  margin: 0 1px 1px 10px;\n  color: #aaa;\n  font-size: 0.8em;\n  cursor: pointer;\n}\nvf-tag-modal .tag-modal-content-container {\n  padding: 10px 0;\n  border: 1px solid white;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  background-color: white;\n}\nvf-tag-modal .tag-modal-content {\n  padding: 0 10px;\n  font-size: 0.5em;\n  overflow: auto;\n  -webkit-user-select: text;\n  -khtml-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\nvf-tag-modal .tag-modal-content.image-extra-padding {\n  padding-right: 15px;\n}\nvf-tag-modal .tag-modal-content iframe {\n  background-color: black;\n}\nvf-tag-modal .tag-modal-content iframe.tag-iframe {\n  width: 100vw;\n  height: 100vh;\n  max-width: calc(100vw - 44px);\n  max-height: calc(100vh - 87px);\n  border: none;\n  background-color: white;\n}\nvf-tag-modal .tag-modal-content .video-iframe-container {\n  left: 0;\n  width: 100%;\n  height: 0;\n  position: relative;\n  padding-bottom: 56.2493%;\n}\nvf-tag-modal .tag-modal-content .video-iframe-container .video-iframe {\n  border: none;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\nvf-tag-modal .tag-modal-content img {\n  max-width: calc(100vw - 71px);\n  max-height: calc(100vh - 93px);\n}\nvf-tag-modal .tag-modal-content > *:first-child {\n  margin-top: 0;\n}\nvf-tag-modal .tag-modal-content > *:last-child {\n  margin-bottom: 0;\n}\nvf-tag-modal .tag-modal-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  max-width: calc(100vw - 44px);\n  max-height: calc(100vh - 44px);\n  padding-top: 10px;\n  cursor: initial;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  width: auto;\n  margin: 0;\n}\nvf-tag-modal .tag-modal-container.tag-max-width {\n  width: calc(100vw - 44px);\n}\nvf-tag-modal .tag-modal-container.iframe {\n  max-height: calc(100vh - 42px);\n}\nvf-tag-modal .tag-modal-container.iframe .tag-modal-content-container {\n  border: none;\n  display: block;\n}\n@media screen and (orientation: landscape) {\n  vf-tag-modal .tag-modal-container.tag-max-width .tag-modal-content .video-iframe-container {\n    width: 100%;\n    height: calc(100vh - 44px - 89px);\n    max-height: calc((100vw - 3em) * 0.562493);\n    padding-bottom: 0;\n  }\n}\nvf-tag-modal .tag-modal-container.no-padding {\n  background-color: transparent;\n  border: none;\n}\n@media screen and (orientation: landscape) {\n  vf-tag-modal .tag-modal-container.no-padding.one-video-only {\n    height: calc(100vh - 44px);\n    max-height: calc((100vw + 0.2em) * 0.562493);\n    width: calc((100vh - 67px) * 1.77777778);\n  }\n}\nvf-tag-modal .tag-modal-container.no-padding .tag-modal-content-container {\n  background-color: transparent;\n  padding: 0;\n  height: 100%;\n}\nvf-tag-modal .tag-modal-container.no-padding .tag-modal-content {\n  padding: 0;\n  height: 100%;\n}\nvf-tag-modal .tag-modal-container.no-padding .tag-modal-content .video-iframe-container {\n  height: 100%;\n}\nvf-tag-modal .tag-modal-container.one-video-only .tag-modal-content-container {\n  border: none;\n}\nvf-tag-modal .tag-modal-container.limit-image-height img {\n  max-height: calc(100vh - 131px);\n}\nvf-tag-modal .tag-modal-container:hover .tag-modal-close {\n  color: #aaa;\n}\nvf-tag-modal .tag-modal-container:hover .tag-modal-close:hover,\nvf-tag-modal .tag-modal-container:hover .tag-modal-close:focus {\n  color: white;\n}\nvf-tag-modal #tag-modal-content-preview-container {\n  height: calc(100% - 43px);\n}\nvf-tag-modal #tag-modal-content-preview-container #tag-modal-content-preview {\n  height: 100%;\n  overflow: auto;\n}\nvf-tag-modal #tag-modal-content-preview-container #tag-modal-content-preview > *:first-child {\n  margin-top: 0;\n}\nvf-tag-modal #tag-modal-content-preview-container #tag-modal-content-preview > *:last-child {\n  margin-bottom: 0;\n}\nvf-tag-modal.editor .tag-modal-content,\nvf-tag-modal.preview .tag-modal-content {\n  background-color: #fefefe;\n  height: 100%;\n}\nvf-tag-modal.editor .tag-modal-content .nav-tabs,\nvf-tag-modal.preview .tag-modal-content .nav-tabs {\n  cursor: default;\n}\nvf-tag-modal.editor .tag-modal-content .nav-tabs > li > a,\nvf-tag-modal.preview .tag-modal-content .nav-tabs > li > a {\n  cursor: pointer;\n}\nvf-tag-modal.editor .tag-modal-content img,\nvf-tag-modal.preview .tag-modal-content img {\n  max-width: 100%;\n}\nvf-tag-modal.editor .tag-modal-content .tag-iframe,\nvf-tag-modal.preview .tag-modal-content .tag-iframe {\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  max-height: calc(100% - 6px);\n}\nvf-tag-modal.editor .tag-modal-content .video-iframe-container,\nvf-tag-modal.preview .tag-modal-content .video-iframe-container {\n  height: 0 !important;\n}\nvf-tag-modal.editor #tag-modal-content-textarea-container,\nvf-tag-modal.preview #tag-modal-content-textarea-container {\n  height: calc(100% - 84px);\n}\nvf-tag-modal.editor #tag-modal-content-textarea-container #tag-modal-content-textarea,\nvf-tag-modal.preview #tag-modal-content-textarea-container #tag-modal-content-textarea,\nvf-tag-modal.editor #tag-modal-content-textarea-container .md-editor,\nvf-tag-modal.preview #tag-modal-content-textarea-container .md-editor {\n  height: 100%;\n}\n@media screen and (max-width: 400px) {\n  vf-tag-modal.editor #tag-modal-content-textarea-container #tag-modal-content-textarea,\n  vf-tag-modal.preview #tag-modal-content-textarea-container #tag-modal-content-textarea,\n  vf-tag-modal.editor #tag-modal-content-textarea-container .md-editor,\n  vf-tag-modal.preview #tag-modal-content-textarea-container .md-editor {\n    height: calc(100% - 15px);\n  }\n}\nvf-tag-modal #tag-modal-content-textarea.length-exceeded,\nvf-tag-modal #tag-modal-header-input.length-exceeded {\n  color: #a94442;\n  background-color: #f2dede;\n  border-color: #ebccd1;\n}\nvf-tag-modal .container-fluid {\n  padding: 15px;\n}\nvf-tag-modal .container-fluid .alert-warning {\n  padding: 5px;\n  margin: 15px 0 0;\n}\nvf-tag-modal .container-fluid .row.form-group.group-container {\n  display: block;\n  margin: 0;\n}\nvf-tag-modal.editor {\n  cursor: initial;\n}\nvf-tag-modal.editor .tag-modal-header {\n  padding: 0px;\n  background-color: #f5f5f5;\n}\nvf-tag-modal.editor .tag-modal-header .tag-modal-close {\n  display: none;\n}\nvf-tag-modal.editor .tag-modal-container {\n  border: 1px solid #888;\n  width: calc(100% - 22px);\n  height: calc(100% - 22px);\n  padding-top: 0;\n}\n@media screen and (min-width: 1000px) {\n  vf-tag-modal.editor .tag-modal-container {\n    width: 958px;\n    height: 80%;\n  }\n}\nvf-tag-modal.editor .tag-modal-container .tag-modal-content-container {\n  height: 100%;\n}\nvf-tag-modal.editor .tag-modal-footer {\n  display: block;\n  background-color: #fefefe;\n  padding: 5px;\n  text-align: right;\n}\nvf-tag-modal.editor .tag-modal-footer .max-length-reached {\n  color: red;\n  font-size: 0.5em;\n  font-weight: 500;\n}\n@media screen and (max-width: 767px) {\n  vf-tag-modal.editor .col-xs-12 {\n    width: 100% !important;\n  }\n}\n@media screen and (min-width: 812px) {\n  vf-tag-modal.editor .opacity-container {\n    height: 124px;\n  }\n}\n@media screen and (min-width: 768px) and (max-width: 783px) {\n  vf-tag-modal.editor .hotspot-container {\n    width: 125px;\n  }\n}\nvf-tag-modal.preview .tag-modal-container.iframe {\n  width: calc(100% - 22px);\n  height: calc(100% - 22px);\n}\n@media screen and (min-width: 1000px) {\n  vf-tag-modal.preview .tag-modal-container.iframe {\n    width: calc(100% - 44px);\n    height: calc(100% - 44px);\n  }\n}\nvf-tag-modal.preview .tag-modal-container.iframe .tag-modal-content-container {\n  height: 100%;\n}\nvf-tag-modal .tag-color {\n  cursor: pointer;\n}\nvf-tag-modal .tag-color div {\n  width: 24px;\n  height: 24px;\n  display: inline-block;\n  border-radius: 50%;\n}\nvf-tag-modal .tag-color.selected div {\n  border: 2px solid #333;\n}\nvf-tag-modal .tag-custom-color-hex {\n  font-weight: 500;\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot {\n  cursor: pointer;\n  display: inline-block;\n  border: 2px solid transparent;\n  width: 93px;\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot span {\n  display: block;\n  text-align: center;\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot.selected {\n  border: 2px solid #333;\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot.selected span {\n  font-weight: 400;\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot .hotspot-preview {\n  width: 100%;\n  min-height: 60px;\n  text-align: center;\n  padding: 7.5px 0;\n  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9)), /* checkered effect */ linear-gradient(to right, black 50%, white 50%), linear-gradient(to bottom, black 50%, white 50%);\n  background-blend-mode: normal, difference, normal;\n  background-size: 2em 2em;\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot .hotspot-preview svg {\n  width: 45px;\n  will-change: opacity;\n  transition: opacity 0.25s ease;\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot .hotspot-preview svg:hover,\nvf-tag-modal .tag-hotspot-container .tag-hotspot .hotspot-preview svg:hover ~ .stem {\n  opacity: 1 !important;\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot .hotspot-preview.stem-negative .stem {\n  transform: translate(44px, -50px);\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot .hotspot-preview .stem {\n  background-color: white;\n  width: 1px;\n  opacity: 0.75;\n  z-index: -1;\n  will-change: opacity, transform;\n  transition: opacity 0.25s ease;\n  transform: translate(44px, -6px);\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot .hotspot-preview .stem .stem-shadow {\n  width: 0;\n  height: 100%;\n}\nvf-tag-modal .tag-hotspot-container .tag-hotspot .hotspot-preview .stem .point {\n  background-color: white;\n  width: 3px;\n  height: 3px;\n  border-radius: 50%;\n  transform: translateX(-1px);\n}\nvf-tag-modal .tag-opacity,\nvf-tag-modal .tag-stem-slider {\n  width: 200px;\n}\nvf-tag-modal .tag-stem {\n  text-align: right;\n  width: 43px;\n}\n@media screen and (min-width: 812px) {\n  vf-tag-modal .tag-stem-slider {\n    width: 445px;\n  }\n}\nvf-tag-modal .slider-label {\n  display: flex;\n  justify-content: space-between;\n}\nvf-tag-modal .slider-label div {\n  width: 35px;\n}\nvf-tag-modal .slider-label div.min {\n  text-align: left;\n}\nvf-tag-modal .slider-label div.zero {\n  text-align: center;\n}\nvf-tag-modal .slider-label div.max {\n  text-align: right;\n}\nvf-tag-modal .group-container {\n  width: auto;\n  padding: 15px;\n  margin: 15px 15px 0 0;\n  border-radius: 10px;\n  border: 1px solid #ddd;\n  background-color: #f9f9f9;\n}\nvf-tag-modal .no-padding {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\nvf-tag-modal .section-units {\n  margin-left: 0.3em;\n  font-weight: 300;\n  display: inline-block;\n  vertical-align: middle;\n}\nvf-tag-modal .section-units ul {\n  display: block;\n  margin: 0;\n}\nvf-tag-modal .section-units ul li a {\n  padding: 0 0.25em;\n  user-select: none;\n}\n@media screen and (min-width: 768px) {\n  .modal.tag-gallery-image-modal .form-inline .input-group .input-group-btn {\n    width: 1%;\n  }\n}\n@media screen and (min-width: 768px) {\n  .modal.tag-pano-link-modal .form-inline .form-control {\n    width: 100%;\n  }\n}\nbody.tag-modal-open {\n  position: fixed;\n  overflow-y: scroll;\n}\n",""]),t.default=a},50658:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".whitelabelled .iguide-branding,\n.whitelabelled .disclaimer {\n  display: none;\n}\n.hide-h1 h1 {\n  display: none;\n}\n",""]),t.default=a},50336:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".pano-item[data-v-cad407dc] {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 12px 12px;\n  border-left: 4px solid transparent;\n  border-radius: 4px 0 0 4px;\n  color: #F2F2F2;\n  cursor: pointer;\n}\n.pano-item-md[data-v-cad407dc] {\n  height: 80px;\n  padding: 12px;\n}\n.pano-item-sm[data-v-cad407dc] {\n  height: 40px;\n  padding: 4px;\n}\n.pano-item-active[data-v-cad407dc] {\n  border-color: #F2F2F2;\n  background-color: rgba(33, 37, 41, 0.8);\n}\n.pano-container[data-v-cad407dc]:not(.pano-item-active):hover {\n  background-color: rgba(52, 58, 64, 0.8);\n}\n.pano-item-image[data-v-cad407dc] {\n  border: 1px solid transparent;\n  border-radius: 8px;\n  margin-right: 12px;\n  object-fit: cover;\n  flex-shrink: 0;\n}\n.pano-item-md .pano-item-image[data-v-cad407dc] {\n  width: 76px;\n  height: 56px;\n}\n.pano-item-sm .pano-item-image[data-v-cad407dc] {\n  margin-right: 4px;\n  width: 38px;\n  height: 28px;\n}\n.pano-item-title[data-v-cad407dc] {\n  flex-grow: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.edit-pano[data-v-cad407dc] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 95%;\n}\n.pencil-icon[data-v-cad407dc] {\n  font-size: 16px;\n}\n.hidden_floor[data-v-cad407dc] {\n  color: #C51313;\n}\n@media screen and (max-width: 767px) {\n.pano-item-md[data-v-cad407dc] {\n    height: 64px;\n    padding: 12px;\n}\n.pano-item-md .pano-item-image[data-v-cad407dc] {\n    width: 52px;\n    height: 40px;\n}\n.pano-item-sm .pano-item-image[data-v-cad407dc] {\n    width: 26px;\n    height: 20px;\n}\n}\n",""]),t.default=a},32556:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".pano-list-container[data-v-39626030] {\n  height: 100%;\n  padding-top: 42px;\n  padding-bottom: 64px;\n}\n.pano-list-container-full-height[data-v-39626030] {\n  padding-bottom: 0;\n}\n.pano-list[data-v-39626030] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  overflow-y: auto;\n  color: white;\n}\n.pano-list > *[data-v-39626030] {\n  margin-bottom: 4px;\n}\n.pano-list > *[data-v-39626030]:last-child {\n  margin-bottom: 0;\n}\n@media screen and (max-width: 767px) {\n.pano-list-container[data-v-39626030] {\n    padding-top: 32px;\n    padding-bottom: 50px;\n}\n.pano-list-container-full-height[data-v-39626030] {\n    padding-bottom: 0;\n}\n}\n",""]),t.default=a},36122:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".banner-links[data-v-00bd372e] {\n  width: min-content;\n  position: relative;\n}\n.link-buttons[data-v-00bd372e] {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n.link-buttons > *[data-v-00bd372e] {\n  margin-right: 4px;\n}\n.link-buttons > *[data-v-00bd372e]:last-child {\n  margin-right: 0;\n}\n.scroll-button[data-v-00bd372e] {\n  position: absolute;\n  top: 7px;\n  filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.25));\n}\n.scroll-left[data-v-00bd372e] {\n  left: -4px;\n  transform: translateX(-50%);\n}\n.scroll-right[data-v-00bd372e] {\n  right: -4px;\n  transform: translateX(50%);\n}\n@media screen and (max-width: 767px) {\n.scroll-left[data-v-00bd372e] {\n    left: 0;\n    transform: translateX(-50%);\n}\n.scroll-right[data-v-00bd372e] {\n    right: 0;\n    transform: translateX(50%);\n}\n}\n",""]),t.default=a},94806:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".full-screen-btn[data-v-23f28574] {\n  filter: drop-shadow(1px 1px 1.5px #000000);\n}\n",""]),t.default=a},95217:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".logo[data-v-5d82dbd2] {\n  filter: drop-shadow(1px 1px 1.5px #000000);\n}\n.logo-unbranded[data-v-5d82dbd2] {\n  pointer-events: none;\n}\n",""]),t.default=a},58533:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".navigation-help-video[data-v-1317f4f6] {\n  width: 376px;\n  height: auto;\n  border-radius: 8px;\n}\n@media screen and (max-width: 767px) {\n.navigation-help-video[data-v-1317f4f6] {\n    width: 232px;\n    max-width: 100%;\n    max-height: 50%;\n}\n}\n",""]),t.default=a},82708:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"input[data-v-300123b0]:focus {\n  outline: none !important;\n}\na[data-v-300123b0] {\n  color: inherit;\n  text-decoration: none;\n}\n.tabs-list[data-v-300123b0] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 376px;\n  height: 32px;\n}\n.tabs-list > *[data-v-300123b0] {\n  border-right: 1px solid #6C757D;\n}\n.tabs-list > *[data-v-300123b0]:first-child {\n  border-radius: 16px 0 0 16px;\n}\n.tabs-list > *[data-v-300123b0]:last-child {\n  border-right: 0;\n  border-radius: 0 16px 16px 0;\n}\n.subheading-label[data-v-300123b0] {\n  display: flex;\n  font-size: 14px;\n  margin-bottom: 12px;\n}\n.share-item[data-v-300123b0] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 32px;\n  cursor: pointer;\n  background-color: #343A40;\n  color: #6C757D;\n}\n.label-font[data-v-300123b0] {\n  font-size: 14px;\n  padding-top: 2px;\n}\n.share-item-selected[data-v-300123b0] {\n  background-color: #060D13;\n  color: #F2F2F2;\n}\n.current-view-container[data-v-300123b0] {\n  display: flex;\n  align-items: center;\n  margin-bottom: 16px;\n}\n.radio-option-square[data-v-300123b0] {\n  width: 14px;\n  height: 14px;\n  padding: 1.5px;\n  border-radius: 2px;\n  box-sizing: border-box;\n  border: 1px solid #F2F2F2;\n  margin-right: 2px;\n}\n.radio-option-fill[data-v-300123b0] {\n  width: 100%;\n  height: 100%;\n  background-color: #F2F2F2;\n}\n.share-subheading[data-v-300123b0] {\n  font-size: 14px;\n  margin-bottom: 16px;\n}\n.hidden[data-v-300123b0] {\n  display: none;\n}\n.space-between-container[data-v-300123b0] {\n  display: flex;\n  justify-content: space-between;\n}\n.url-items-style[data-v-300123b0] {\n  height: 32px;\n  color: #E5E5E6;\n  background-color: #343A40;\n  border: 1px solid #343A40;\n  border-radius: 16px;\n  font-size: 14px;\n}\n.url-input[data-v-300123b0] {\n  display: block;\n  padding: 6px 12px;\n  line-height: 1.42857143;\n  background-image: none;\n  cursor: text;\n}\n.url-input-dimensions[data-v-300123b0] {\n  width: 288px;\n  height: 32px;\n}\n.copy-button[data-v-300123b0] {\n  width: 80px;\n  height: 32px;\n  background-color: #343A40;\n}\n.copy-button[data-v-300123b0]:active {\n  background-color: #060D13;\n}\n.centered-container[data-v-300123b0] {\n  display: flex;\n  justify-content: center;\n}\n.icon-label-container[data-v-300123b0] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.vertical-stack[data-v-300123b0] {\n  display: grid;\n}\n.link-button[data-v-300123b0] {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  background-color: #343A40;\n  margin-bottom: 2px;\n}\n.center-align-button[data-v-300123b0] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.social-label[data-v-300123b0] {\n  font-size: 10px;\n  font-weight: 400;\n}\n.subheading-tabs-container[data-v-300123b0] {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 12px;\n  align-items: flex-start;\n}\n.social-icons-container[data-v-300123b0] {\n  margin-bottom: 16px;\n}\n.url-field-container[data-v-300123b0] {\n  margin-bottom: 12px;\n}\n/* Landscape Mobile */\n@media screen and (max-width: 992px) {\n.tabs-list[data-v-300123b0] {\n    width: 223px;\n    height: 20px;\n}\n.share-subheading[data-v-300123b0] {\n    font-size: 12px;\n    margin-bottom: 8px;\n}\n.url-input-dimensions[data-v-300123b0] {\n    width: 227px;\n    height: 20px;\n}\n.copy-button[data-v-300123b0] {\n    width: 60px;\n    height: 20px;\n}\n.subheading-label[data-v-300123b0] {\n    font-size: 12px;\n    margin-bottom: 0;\n}\n.url-items-style[data-v-300123b0] {\n    font-size: 12px;\n}\n.share-item[data-v-300123b0] {\n    height: 20px;\n}\n.social-label[data-v-300123b0] {\n    font-size: 10px;\n    font-weight: 400;\n}\n.link-button[data-v-300123b0] {\n    width: 36px;\n    height: 36px;\n}\n.label-font[data-v-300123b0] {\n    font-size: 12px;\n    padding-top: 1px;\n}\n.current-view-container[data-v-300123b0] {\n    display: flex;\n    margin-bottom: 8px;\n}\n.radio-option-square[data-v-300123b0] {\n    width: 12px;\n    height: 12px;\n    padding: 1px;\n}\n.subheading-tabs-container[data-v-300123b0] {\n    display: flex;\n    justify-content: space-between;\n    flex-direction: row;\n    align-items: center;\n    margin-bottom: 8px;\n}\n.social-icons-container[data-v-300123b0] {\n    margin-bottom: 10px;\n}\n.url-field-container[data-v-300123b0] {\n    margin-bottom: 8px;\n}\n}\n/* Portrait Mobile */\n@media screen and (max-width: 767px) {\n.share-subheading[data-v-300123b0] {\n    font-size: 12px;\n    margin-bottom: 8px;\n}\n.link-button[data-v-300123b0] {\n    width: 36px;\n    height: 36px;\n}\n.tabs-list[data-v-300123b0] {\n    width: 259px;\n    height: 20px;\n}\n.subheading-label[data-v-300123b0] {\n    font-size: 12px;\n    margin-bottom: 8px;\n}\n.url-input-dimensions[data-v-300123b0] {\n    width: 192px;\n    height: 20px;\n}\n.social-label[data-v-300123b0] {\n    font-size: 10px;\n    font-weight: 400;\n}\n.current-view-container[data-v-300123b0] {\n    display: flex;\n    margin-bottom: 12px;\n}\n.subheading-tabs-container[data-v-300123b0] {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 8px;\n    align-items: flex-start;\n}\n.social-icons-container[data-v-300123b0] {\n    margin-bottom: 8px;\n}\n}\n",""]),t.default=a},89939:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".vr-button[data-v-0dea918e] {\n  filter: drop-shadow(1px 1px 1.5px #000000);\n}\n",""]),t.default=a},7839:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".nav-menu[data-v-093e0de0] {\n  padding-bottom: 8px;\n  box-sizing: border-box;\n  transition: width 0.25s ease;\n  width: min(calc(90% + 16px), 856px);\n}\n.nav-title[data-v-093e0de0] {\n  line-height: 1.5;\n  flex-grow: 1;\n  align-self: center;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  user-select: text;\n}\n.banner[data-v-093e0de0] {\n  position: absolute;\n  top: 100%;\n  right: 8px;\n  z-index: -1;\n}\n@media screen and (max-height: 718px) {\n.banner[data-v-093e0de0] {\n    right: 0;\n}\n}\n@media screen and (max-width: 767px) {\n.banner[data-v-093e0de0] {\n    right: 0;\n}\n}\n",""]),t.default=a},8778:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".section[data-v-20f9b011] {\n  padding: 0.5em 0.5em;\n  overflow: hidden;\n  position: relative;\n  border-radius: 8px;\n  background-color: #212529;\n  color: #F2F2F2;\n  box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.1);\n}\n.section .section-header[data-v-20f9b011] {\n  padding: 0.3em 0.5em 0 0.5em;\n}\n.section .section-header .section-title[data-v-20f9b011] {\n  font-size: 20px;\n  font-weight: bold;\n  float: left;\n}\n.section .section-content[data-v-20f9b011] {\n  padding: 0.5em 1.5em;\n  max-height: 999999px;\n  font-size: 16px;\n  clear: both;\n}\n",""]),t.default=a},80453:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".section[data-v-211cee90] {\n  padding: 0.5em 0.5em;\n  overflow: hidden;\n  position: relative;\n  border-radius: 8px;\n  background-color: #212529;\n  color: #F2F2F2;\n  box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.1);\n}\n.section .section-header[data-v-211cee90] {\n  padding: 0.3em 0.5em;\n}\n.section .section-header .section-title[data-v-211cee90] {\n  font-size: 20px;\n  font-weight: bold;\n  float: left;\n}\n.section .section-content[data-v-211cee90] {\n  padding: 0.5em 1.5em;\n  max-height: 999999px;\n  font-size: 16px;\n  clear: both;\n}\n.description__section-content[data-v-211cee90] {\n  white-space: pre-wrap;\n}\n",""]),t.default=a},87968:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"#details[data-v-1482c025] {\n  height: 100%;\n  position: relative;\n  font-size: 0.75em;\n  -webkit-user-select: text;\n  user-select: text;\n  background-color: #060D13;\n}\n#details[data-v-1482c025] .details-container {\n  height: 100%;\n  padding: 0.3em;\n  overflow-y: auto;\n  background-color: #060D13;\n}\n#details[data-v-1482c025] .details-container a {\n  color: #F2F2F2;\n  cursor: pointer;\n  text-decoration: none;\n}\n#details[data-v-1482c025] .details-container a:hover {\n  color: #CACCCE;\n}\n#details[data-v-1482c025] .details-container span a {\n  text-decoration: underline;\n}\n#details[data-v-1482c025] .details-container span a:hover {\n  text-decoration: none;\n}\n.section-padding[data-v-1482c025] {\n  padding: 0.3em;\n}\n.details-layout_vertical[data-v-1482c025] {\n  float: left;\n  width: 100%;\n}\n.details-layout_horizontal[data-v-1482c025] {\n  display: flex;\n  justify-content: center;\n}\n.details-layout_horizontal .col-md-50percent[data-v-1482c025] {\n  float: left;\n  width: 50%;\n}\n",""]),t.default=a},32810:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".section[data-v-0a3c784a] {\n  padding: 0.5em 0.5em;\n  overflow: hidden;\n  position: relative;\n  border-radius: 8px;\n  background-color: #212529;\n  color: #F2F2F2;\n  box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.1);\n}\n.section .section-header[data-v-0a3c784a] {\n  padding: 0.3em 0.5em 0 0.5em;\n}\n.section .section-header .section-title[data-v-0a3c784a] {\n  font-size: 20px;\n  font-weight: bold;\n  float: left;\n}\n.section .section-header #dimensions__options[data-v-0a3c784a] {\n  float: right;\n  font-size: 0.65em;\n  padding-top: 0.25em;\n  color: #444444;\n}\n.section .section-header #dimensions__options a[data-v-0a3c784a] {\n  color: #444444 !important;\n}\n.section .section-header #dimensions__options #dimensions__options-menu[data-v-0a3c784a] {\n  position: absolute;\n  right: 1.5em;\n  padding-left: 0;\n  margin-bottom: 0;\n  list-style: none;\n}\n.section .section-header #dimensions__options #dimensions__options-menu li[data-v-0a3c784a] {\n  width: auto;\n  line-height: 0;\n  text-align: center;\n  cursor: pointer;\n  list-style: none;\n  white-space: nowrap;\n  height: 1.3em;\n  margin: 0 !important;\n  float: left;\n  position: relative;\n  display: block;\n}\n.section .section-header #dimensions__options #dimensions__options-menu li > a[data-v-0a3c784a] {\n  width: 100%;\n  display: inline-block;\n  text-align: center;\n  vertical-align: middle;\n  text-decoration: none;\n  padding: 0.2em 0.6em;\n  line-height: 1.3em;\n  font-size: 0.75em;\n  height: 100%;\n  background-color: white;\n  border: 1px solid #dddddd;\n}\n.section .section-header #dimensions__options #dimensions__options-menu li > a[data-v-0a3c784a]:hover {\n  color: white !important;\n  border: 1px solid black;\n  background-color: #444444;\n}\n.section .section-content[data-v-0a3c784a] {\n  padding: 0.5em 1.5em;\n  max-height: 999999px;\n  font-size: 16px;\n  clear: both;\n}\n.section .section-content .building-name[data-v-0a3c784a] {\n  text-transform: capitalize;\n}\n.section .section-content .floor-wrapper[data-v-0a3c784a] {\n  margin-left: 0.5em;\n}\n.section .section-content .floor-name[data-v-0a3c784a] {\n  text-transform: capitalize;\n  font-weight: 400;\n}\n.section .section-content .room-name[data-v-0a3c784a] {\n  margin-left: 0.75em;\n  font-weight: 400;\n}\n.section .section-content .room-dims[data-v-0a3c784a],\n.section .section-content .room-area[data-v-0a3c784a] {\n  font-weight: 200;\n}\n.section .section-content .dims-area-separator[data-v-0a3c784a] {\n  font-weight: 400;\n}\n",""]),t.default=a},80264:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".section[data-v-2447b58b] {\n  padding: 0.5em 0.5em;\n  overflow: hidden;\n  position: relative;\n  border-radius: 8px;\n  background-color: #212529;\n  color: #F2F2F2;\n  box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.1);\n}\n.section .section-header[data-v-2447b58b] {\n  padding: 0.3em 0.5em 0 0.5em;\n}\n.section .section-header .section-title[data-v-2447b58b] {\n  font-size: 20px;\n  font-weight: bold;\n  float: left;\n}\n.section .section-content[data-v-2447b58b] {\n  padding: 0.5em 1.5em;\n  max-height: 999999px;\n  font-size: 16px;\n  clear: both;\n}\n.download-button[data-v-2447b58b] {\n  padding-left: 0.9em !important;\n}\n.download-button .btn[data-v-2447b58b] {\n  display: inline-block;\n  padding: 6px 12px;\n  margin-bottom: 0;\n  font-weight: 400;\n  line-height: 1.42857143;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  -ms-touch-action: manipulation;\n  touch-action: manipulation;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-image: none;\n  border: 1px solid transparent;\n  overflow: hidden;\n}\n.download-button .btn-primary[data-v-2447b58b] {\n  background-color: #343A40;\n  border-color: #343A40;\n  border-radius: 50em;\n  box-shadow: 4px 4px 10px 0px rgba(0, 0, 0, 0.3);\n}\n.download-button .btn-primary .icon[data-v-2447b58b] {\n  padding-right: 12px;\n}\n.download-button .btn-primary[data-v-2447b58b]:hover {\n  color: #CACCCE;\n}\n",""]),t.default=a},68257:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".section-units .units[data-v-1bc1e93f] {\n  width: auto;\n  margin: 0 0.6em 0.1em 0.6em;\n}\n.section-units .units li a[data-v-1bc1e93f] {\n  display: inline;\n  width: 32px;\n  height: 24px;\n  text-align: center;\n  font-size: 14px;\n  color: #F2F2F2;\n  background-color: #212529;\n  border-color: #343A40;\n}\n.section-units .units li:first-child > a[data-v-1bc1e93f] {\n  border-radius: 50em 0 0 50em;\n}\n.section-units .units li:last-child > a[data-v-1bc1e93f] {\n  border-radius: 0 50em 50em 0;\n}\n.section-units .units li.active > a[data-v-1bc1e93f],\n.section-units .units li.active > a[data-v-1bc1e93f]:focus {\n  background-color: #343A40;\n  border-color: #343A40;\n}\n",""]),t.default=a},44699:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".gallery[data-v-3bc90956] {\n  width: 100%;\n  height: 100%;\n  padding: 0 24px;\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  grid-auto-rows: min-content;\n  grid-gap: 8px;\n  overflow-y: auto;\n}\n@media screen and (max-width: 767px) {\n.gallery[data-v-3bc90956] {\n    grid-gap: 4px;\n    padding: 0 8px;\n}\n}\n@media screen and (max-width: 767px) and (orientation: portrait) {\n.gallery[data-v-3bc90956] {\n    grid-template-columns: repeat(3, 1fr);\n}\n}\n",""]),t.default=a},93209:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".gallery-image-container[data-v-6fec113f] {\n  position: relative;\n  width: 100%;\n  border-radius: 8px;\n  overflow: hidden;\n  background-color: #212529;\n  cursor: pointer;\n}\n.gallery-image-container[data-v-6fec113f]:before {\n  content: '';\n  display: block;\n  height: 0;\n  width: 0;\n  padding-bottom: calc(2 / 3 * 100%);\n}\n.gallery-image[data-v-6fec113f] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n@media screen and (max-width: 767px) {\n.gallery-image[data-v-6fec113f] {\n    border-radius: 4px;\n}\n}\n",""]),t.default=a},56546:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".not-ready-banner[data-v-5f814fd4] {\n  width: 100%;\n  padding: 8px;\n  text-align: center;\n  color: #F2F2F2;\n  background-color: rgba(6, 13, 19, 0.8);\n  pointer-events: none;\n  z-index: 1;\n}\n",""]),t.default=a},70516:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".slideshow[data-v-54dbb7f0] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  padding: 0 8px 8px 8px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.slideshow-image-container[data-v-54dbb7f0] {\n  position: relative;\n  flex-grow: 1;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.slideshow-image[data-v-54dbb7f0] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: auto;\n  margin-bottom: auto;\n  object-fit: contain;\n  max-width: calc(100% - 64px);\n  max-height: 100%;\n  border-radius: 4px;\n  background-color: #212529;\n}\n.slideshow-previews[data-v-54dbb7f0] {\n  position: relative;\n  align-self: flex-end;\n  flex-shrink: 0;\n  width: 100%;\n  padding: 8px;\n  display: grid;\n  grid-auto-flow: column;\n  grid-auto-columns: min-content;\n  align-items: end;\n  grid-gap: 8px;\n  overflow-x: auto;\n}\n.scroll-button[data-v-54dbb7f0] {\n  position: absolute;\n  filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.25));\n}\n.scroll-left[data-v-54dbb7f0] {\n  left: 0;\n}\n.scroll-right[data-v-54dbb7f0] {\n  right: 0;\n}\n.slide-left-enter-active[data-v-54dbb7f0],\n.slide-left-leave-active[data-v-54dbb7f0],\n.slide-right-enter-active[data-v-54dbb7f0],\n.slide-right-leave-active[data-v-54dbb7f0] {\n  transition: opacity 0.5s ease, transform 0.5s ease;\n  opacity: 1;\n  transform: translateX(0);\n}\n.slide-left-enter[data-v-54dbb7f0],\n.slide-left-leave-to[data-v-54dbb7f0],\n.slide-right-enter[data-v-54dbb7f0],\n.slide-right-leave-to[data-v-54dbb7f0] {\n  opacity: 0;\n}\n.slide-left-enter[data-v-54dbb7f0] {\n  transform: translateX(100%);\n}\n.slide-left-leave-to[data-v-54dbb7f0] {\n  transform: translateX(-100%);\n}\n.slide-right-enter[data-v-54dbb7f0] {\n  transform: translateX(-100%);\n}\n.slide-right-leave-to[data-v-54dbb7f0] {\n  transform: translateX(100%);\n}\n@media screen and (max-width: 767px) {\n.slideshow-image-container[data-v-54dbb7f0] {\n    padding: 0 16px;\n}\n.slideshow-image[data-v-54dbb7f0] {\n    max-width: calc(100% - 32px);\n}\n}\n",""]),t.default=a},25890:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".slideshow-preview-image-container[data-v-8d9ce792] {\n  position: relative;\n  width: 120px;\n  height: 80px;\n  border-radius: 8px;\n  overflow: hidden;\n  background-color: #212529;\n  cursor: pointer;\n}\n.slideshow-preview-image-container-active[data-v-8d9ce792] {\n  outline: 4px solid #F2F2F2;\n}\n.slideshow-preview-image[data-v-8d9ce792] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n@media screen and (max-width: 767px) {\n.slideshow-preview-image-container[data-v-8d9ce792] {\n    width: 54px;\n    height: 36px;\n    border-radius: 4px;\n}\n.slideshow-preview-image-container-active[data-v-8d9ce792] {\n    outline-width: 2px;\n}\n}\n",""]),t.default=a},48057:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".photos-container[data-v-0e595b48] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding-top: 64px;\n  display: flex;\n  flex-direction: column;\n  background-color: #060D13;\n}\n.photos-container-no-menu[data-v-0e595b48] {\n  padding-top: 8px;\n}\n.photos-body[data-v-0e595b48] {\n  position: relative;\n  flex-grow: 1;\n  overflow: hidden;\n}\n.photos-not-ready-banner[data-v-0e595b48] {\n  position: absolute;\n  top: 0;\n}\n.photos-footer[data-v-0e595b48] {\n  width: 100%;\n  padding: 8px;\n  display: flex;\n  justify-content: space-between;\n}\n.photos-footer > *[data-v-0e595b48] {\n  z-index: 1;\n}\n@media screen and (max-width: 767px) {\n.photos-container[data-v-0e595b48] {\n    padding-top: 52px;\n}\n}\n",""]),t.default=a},65023:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".tag[data-v-60fe48ea] {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  user-select: text;\n}\n.tag > *[data-v-60fe48ea] {\n  margin-bottom: 12px;\n  padding: 0 24px;\n}\n.tag > *[data-v-60fe48ea]:first-child {\n  padding-top: 24px;\n}\n.tag > *[data-v-60fe48ea]:last-child {\n  margin-bottom: 0;\n  padding-bottom: 24px;\n}\n.tag-content[data-v-60fe48ea] {\n  flex-grow: 1;\n  position: relative;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n}\n.link-style[data-v-60fe48ea] {\n  text-decoration: none;\n  font-size: 12px;\n  color: white;\n  cursor: pointer;\n}\n.link-style.icomoon-v-checkmark[data-v-60fe48ea] {\n  font-size: 9px;\n  background-color: #060D13;\n  border-radius: 50%;\n  padding: 3px;\n  position: relative;\n  bottom: 2px;\n}\n.link-container[data-v-60fe48ea] {\n  display: inline-block;\n  width: 15px;\n  margin-right: 4px;\n}\n",""]),t.default=a},90423:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".tag-preview[data-v-32a865c4] {\n  transform-origin: top left;\n  position: absolute;\n  z-index: 1;\n  pointer-events: none;\n}\n.tag-preview-maximized[data-v-32a865c4] {\n  z-index: 1001;\n  transition: left 0.5s ease, top 0.5s ease;\n}\n.tag-preview-bottom .tag-preview-container[data-v-32a865c4] {\n  transform: translate(-50%, -10px);\n  padding-top: 40px;\n}\n.tag-preview-top .tag-preview-container[data-v-32a865c4] {\n  transform: translate(-50%, calc(-100% - -10px));\n  padding-bottom: 40px;\n}\n.tag-preview-left .tag-preview-container[data-v-32a865c4] {\n  transform: translate(calc(-100% - -10px), -50%);\n  padding-right: 40px;\n}\n.tag-preview-right .tag-preview-container[data-v-32a865c4] {\n  transform: translate(-10px, -50%);\n  padding-left: 40px;\n}\n.tag-preview-bottom-left .tag-preview-container[data-v-32a865c4] {\n  transform: translate(calc(-100% + 20px), -20px);\n  padding-top: 40px;\n  padding-right: 40px;\n}\n.tag-preview-bottom-right .tag-preview-container[data-v-32a865c4] {\n  transform: translate(-20px, -20px);\n  padding-top: 40px;\n  padding-left: 40px;\n}\n.tag-preview-top-left .tag-preview-container[data-v-32a865c4] {\n  transform: translate(calc(-100% + 20px), calc(-100% + 20px));\n  padding-bottom: 40px;\n  padding-right: 40px;\n}\n.tag-preview-top-right .tag-preview-container[data-v-32a865c4] {\n  transform: translate(-20px, calc(-100% + 20px));\n  padding-bottom: 40px;\n  padding-left: 40px;\n}\n.tag-preview-top .tag-preview-triangle[data-v-32a865c4] {\n  left: 50%;\n  bottom: 0;\n  transform: translate(-50%, 0) rotate(180deg);\n}\n.tag-preview-bottom .tag-preview-triangle[data-v-32a865c4] {\n  left: 50%;\n  top: 0;\n  transform: translate(-50%, 0);\n}\n.tag-preview-left .tag-preview-triangle[data-v-32a865c4] {\n  right: 0;\n  top: 50%;\n  transform: translate(10px, -50%) rotate(90deg);\n}\n.tag-preview-right .tag-preview-triangle[data-v-32a865c4] {\n  left: 0;\n  top: 50%;\n  transform: translate(-10px, -50%) rotate(-90deg);\n}\n.tag-preview-container[data-v-32a865c4] {\n  position: relative;\n  pointer-events: auto;\n}\n.tag-preview-maximized .tag-preview-container[data-v-32a865c4] {\n  transition: transform 0.5s ease;\n  transform: translate(-50%, -50%);\n}\n.tag-preview-panel[data-v-32a865c4] {\n  width: 320px;\n  height: auto;\n  max-height: 320px;\n  border: 1px solid transparent;\n  display: flex;\n  transition: width 0.5s ease, height 0.5s ease;\n}\n.tag-preview-panel-full-height[data-v-32a865c4] {\n  height: 320px;\n}\n.tag-preview-maximized .tag-preview-panel[data-v-32a865c4] {\n  min-width: 340px;\n  height: auto;\n  max-width: 100%;\n  max-height: 100%;\n}\n.tag-preview-resize[data-v-32a865c4] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 1;\n}\n.tag-preview-triangle[data-v-32a865c4] {\n  position: absolute;\n  width: 60px;\n  height: 40px;\n  fill: rgba(33, 37, 41, 0.8);\n  cursor: pointer;\n}\n.tag-preview-diagonal-zone[data-v-32a865c4] {\n  position: absolute;\n  width: 60px;\n  height: 60px;\n  cursor: pointer;\n}\n.tag-preview-bottom-left .tag-preview-diagonal-zone[data-v-32a865c4] {\n  top: 0;\n  right: 0;\n}\n.tag-preview-bottom-right .tag-preview-diagonal-zone[data-v-32a865c4] {\n  top: 0;\n  left: 0;\n}\n.tag-preview-top-left .tag-preview-diagonal-zone[data-v-32a865c4] {\n  bottom: 0;\n  right: 0;\n}\n.tag-preview-top-right .tag-preview-diagonal-zone[data-v-32a865c4] {\n  bottom: 0;\n  left: 0;\n}\n.tag-preview-overlay[data-v-32a865c4] {\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: -1;\n  position: fixed;\n  top: 0;\n  left: 0;\n  pointer-events: auto;\n}\n.fade-enter-active[data-v-32a865c4],\n.fade-leave-active[data-v-32a865c4] {\n  transition: opacity 0.5s ease;\n}\n.fade-enter[data-v-32a865c4],\n.fade-leave-to[data-v-32a865c4] {\n  opacity: 0;\n}\n@media screen and (max-width: 767px) {\n.tag-preview-panel[data-v-32a865c4] {\n    width: 200px;\n    max-height: 200px;\n}\n.tag-preview-panel-full-height[data-v-32a865c4] {\n    height: 200px;\n}\n.tag-preview-maximized .tag-preview-panel[data-v-32a865c4] {\n    min-width: 276px;\n}\n}\n",""]),t.default=a},59902:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".base-accordion-header[data-v-2dc401e0] {\n  width: 100%;\n  padding: 0 8px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n.base-accordion-toggle-button[data-v-2dc401e0] {\n  margin-right: 8px;\n  flex-shrink: 0;\n}\n.base-accordion-content[data-v-2dc401e0] {\n  margin-top: 4px;\n}\n",""]),t.default=a},62459:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".base-dropdown-button[data-v-5301bf8f] {\n  cursor: pointer;\n}\n.base-dropdown-menu[data-v-5301bf8f] {\n  position: absolute;\n  margin: 8px 0;\n  padding: 4px 0 4px 1px;\n  border-radius: 4px;\n  color: #F2F2F2;\n}\n.primary[data-v-5301bf8f] {\n  background-color: rgba(33, 37, 41, 0.8);\n}\n.dark[data-v-5301bf8f] {\n  background-color: rgba(33, 37, 41, 0.95);\n}\n.dropdown[data-v-5301bf8f] {\n  top: 100%;\n}\n.dropup[data-v-5301bf8f] {\n  bottom: 100%;\n}\n.dropleft[data-v-5301bf8f] {\n  transform: translateX(-100%);\n  bottom: 0;\n  margin: 0 8px;\n}\n.left[data-v-5301bf8f] {\n  left: 0;\n}\n.right[data-v-5301bf8f] {\n  right: 0;\n}\n.small[data-v-5301bf8f] {\n  width: 128px;\n}\n.medium[data-v-5301bf8f] {\n  width: 288px;\n}\n.dynamic[data-v-5301bf8f] {\n  width: auto;\n  min-width: 100%;\n  overflow-y: auto;\n}\n@media screen and (max-width: 767px) {\n.medium[data-v-5301bf8f] {\n    width: 236px;\n}\n}\n",""]),t.default=a},9216:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,'.base-dropdown-button[data-v-431e3a38] {\n  display: flex;\n  align-items: center;\n  height: 30px;\n  padding: 0 8px;\n  border-left: 2px solid transparent;\n  color: #F2F2F2;\n  font-family: "Roboto";\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 30px;\n  cursor: default;\n}\n.base-dropdown-button-title[data-v-431e3a38] {\n  margin-right: 12px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n@media screen and (max-width: 767px) {\n.base-dropdown-button[data-v-431e3a38] {\n    height: 30px;\n    padding: 0 4px;\n    font-size: 14px;\n    line-height: 30px;\n}\n.base-dropdown-button-title[data-v-431e3a38] {\n    margin-right: 8px;\n}\n}\n',""]),t.default=a},64871:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".base-dropdown-divider[data-v-d7f6fdea] {\n  width: 100%;\n  margin: 4px 0;\n  border-bottom: 1px solid rgba(108, 117, 125, 0.8);\n  cursor: default;\n}\n",""]),t.default=a},82670:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,'.base-dropdown-item[data-v-025eb3b8] {\n  height: 30px;\n  padding: 0 8px;\n  border-left: 2px solid transparent;\n  color: #F2F2F2;\n  font-family: "Roboto";\n  font-weight: normal;\n  line-height: 30px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  cursor: pointer;\n}\n.base-dropdown-item[data-v-025eb3b8]:hover {\n  text-shadow: 0px 0px 12px white;\n}\n.active[data-v-025eb3b8] {\n  border-color: #E5E5E6;\n}\n.disabled[data-v-025eb3b8] {\n  color: #B1B5B9;\n  pointer-events: none;\n}\n.indented[data-v-025eb3b8] {\n  padding-left: 16px;\n}\n.bold[data-v-025eb3b8] {\n  font-weight: bold;\n}\n.md[data-v-025eb3b8] {\n  font-size: 16px;\n}\n.sm[data-v-025eb3b8] {\n  font-size: 14px;\n}\n.xsm[data-v-025eb3b8] {\n  font-size: 10px;\n}\n.pencil-icon[data-v-025eb3b8] {\n  font-size: 16px;\n  line-height: 1.7 !important;\n  margin-right: 5px;\n}\n.pencil-icon[data-v-025eb3b8]:hover {\n  cursor: pointer;\n}\n.dropdown-item-container[data-v-025eb3b8] {\n  display: flex;\n  justify-content: flex-start;\n}\n.hidden-item[data-v-025eb3b8] {\n  color: #C51313;\n}\n@media screen and (max-width: 767px) {\n.base-dropdown-item[data-v-025eb3b8] {\n    height: 30px;\n    padding: 0 4px;\n    line-height: 30px;\n}\n.md[data-v-025eb3b8] {\n    font-size: 16px;\n}\n.sm[data-v-025eb3b8] {\n    font-size: 14px;\n}\n.xsm[data-v-025eb3b8] {\n    font-size: 10px;\n}\n}\n',""]),t.default=a},63439:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,'.base-dropdown-radio[data-v-a986f8a6] {\n  display: flex;\n  align-items: center;\n  height: 30px;\n  padding: 0 8px;\n  border-left: 2px solid transparent;\n  color: #F2F2F2;\n  font-family: "Roboto";\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 30px;\n  cursor: default;\n}\n.base-dropdown-radio-title[data-v-a986f8a6] {\n  margin-right: 12px;\n}\n@media screen and (max-width: 767px) {\n.base-dropdown-radio[data-v-a986f8a6] {\n    height: 30px;\n    padding: 0 4px;\n    font-size: 14px;\n    line-height: 30px;\n}\n.base-dropdown-radio-title[data-v-a986f8a6] {\n    margin-right: 8px;\n}\n}\n',""]),t.default=a},77481:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,'.base-header[data-v-b41984ac] {\n  font-family: "Roboto";\n  line-height: 1;\n}\n.bold[data-v-b41984ac] {\n  font-weight: bold;\n}\n.regular[data-v-b41984ac] {\n  font-weight: normal;\n}\n.light[data-v-b41984ac] {\n  font-weight: 300;\n}\n.lg[data-v-b41984ac] {\n  font-size: 20px;\n}\n.md[data-v-b41984ac] {\n  font-size: 16px;\n}\n.sm[data-v-b41984ac] {\n  font-size: 14px;\n}\n.xsm[data-v-b41984ac] {\n  font-size: 10px;\n}\n@media screen and (max-width: 767px) {\n.lg[data-v-b41984ac] {\n    font-size: 20px;\n}\n.md[data-v-b41984ac] {\n    font-size: 16px;\n}\n.sm[data-v-b41984ac] {\n    font-size: 14px;\n}\n.xsm[data-v-b41984ac] {\n    font-size: 10px;\n}\n}\n',""]),t.default=a},40976:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,'.base-label[data-v-4d8f67ca] {\n  font-family: "Roboto";\n  font-size: 14px;\n  line-height: 1;\n  white-space: nowrap;\n}\n.regular[data-v-4d8f67ca] {\n  font-weight: normal;\n}\n.light[data-v-4d8f67ca] {\n  font-weight: 300;\n}\n.bold[data-v-4d8f67ca] {\n  font-weight: bold;\n}\n.md[data-v-4d8f67ca] {\n  font-size: 16px;\n}\n.sm[data-v-4d8f67ca] {\n  font-size: 14px;\n}\n.xsm[data-v-4d8f67ca] {\n  font-size: 10px;\n}\n@media screen and (max-width: 767px) {\n.base-label[data-v-4d8f67ca] {\n    font-size: 14px;\n}\n.md[data-v-4d8f67ca] {\n    font-size: 16px;\n}\n.sm[data-v-4d8f67ca] {\n    font-size: 14px;\n}\n.xsm[data-v-4d8f67ca] {\n    font-size: 10px;\n}\n}\n',""]),t.default=a},55502:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,'.base-link[data-v-12bd921b] {\n  font-family: "Roboto";\n  color: #E5E5E6;\n  line-height: 1;\n}\n.hideLineHeight[data-v-12bd921b] {\n  line-height: initial;\n}\n.base-link[data-v-12bd921b]:hover {\n  text-shadow: 0px 0px 12px white;\n}\n.primary[data-v-12bd921b] {\n  font-size: 14px;\n  text-decoration: underline;\n}\n.soft[data-v-12bd921b] {\n  font-size: 10px;\n  text-decoration: none;\n}\n@media screen and (max-width: 767px) {\n.primary[data-v-12bd921b] {\n    font-size: 14px;\n}\n.soft[data-v-12bd921b] {\n    font-size: 10px;\n}\n}\n',""]),t.default=a},47737:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".base-modal-overlay[data-v-34444c44] {\n  width: 100%;\n  height: 100%;\n  color: #060D13;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 900;\n}\n.modal-container[data-v-34444c44] {\n  display: block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 400;\n}\n.h-100[data-v-34444c44] {\n  height: 100%;\n}\n.h-auto[data-v-34444c44] {\n  height: auto;\n}\n.base-modal-panel[data-v-34444c44] {\n  padding: 24px;\n}\n.scroll-body[data-v-34444c44] {\n  display: block;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.base-modal-panel-md[data-v-34444c44] {\n  width: 424px;\n  max-height: 372px;\n}\n.base-modal-panel-md .scroll-body[data-v-34444c44] {\n  max-height: 328px;\n}\n.base-modal-panel-dynamic[data-v-34444c44] {\n  width: auto;\n  height: auto;\n}\n.base-modal-panel-dynamic .scroll-body[data-v-34444c44] {\n  max-height: 80vh;\n}\n.base-modal-header[data-v-34444c44] {\n  margin-bottom: 16px;\n}\n/* Landscape Mobile */\n@media screen and (max-width: 992px) {\n.base-modal-panel[data-v-34444c44] {\n    padding: 16px;\n}\n.base-modal-panel-md[data-v-34444c44] {\n    width: 324px;\n    max-height: 250px;\n}\n.base-modal-panel-md .scroll-body[data-v-34444c44] {\n    max-height: 210px;\n}\n.base-modal-header[data-v-34444c44] {\n    margin-bottom: 12px;\n}\n}\n/* Portrait Mobile */\n@media screen and (max-width: 767px) {\n.base-modal-panel[data-v-34444c44] {\n    padding: 16px;\n}\n.base-modal-panel-md[data-v-34444c44] {\n    width: 292px;\n    max-height: 278px;\n}\n.base-modal-panel-md .scroll-body[data-v-34444c44] {\n    max-height: 240px;\n}\n.base-modal-header[data-v-34444c44] {\n    margin-bottom: 12px;\n}\n}\n/* Short Window */\n@media screen and (max-height: 600px) {\n.base-modal-panel-dynamic .scroll-body[data-v-34444c44] {\n    max-height: 60vh;\n}\n}\n",""]),t.default=a},95951:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".base-panel[data-v-06587610] {\n  position: relative;\n  color: #F2F2F2;\n  background-color: #212529;\n  border-radius: 8px;\n}\n.opacity-regular[data-v-06587610] {\n  background-color: rgba(33, 37, 41, 0.8);\n}\n.opacity-dark[data-v-06587610] {\n  background-color: rgba(33, 37, 41, 0.95);\n}\n.close-button[data-v-06587610] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  transform: translate(50%, -50%);\n  z-index: 1;\n  filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.25));\n}\n",""]),t.default=a},89620:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,'.base-paragraph[data-v-48b94d4b] {\n  font-family: "Roboto";\n  font-size: 16px;\n  line-height: 24px;\n}\n.regular[data-v-48b94d4b] {\n  font-weight: normal;\n}\n.light[data-v-48b94d4b] {\n  font-weight: 300;\n}\n@media screen and (max-width: 767px) {\n.base-paragraph[data-v-48b94d4b] {\n    font-size: 14px;\n    line-height: 21px;\n}\n}\n',""]),t.default=a},62709:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".base-radio[data-v-6ba44341] {\n  display: flex;\n  align-items: center;\n}\n",""]),t.default=a},67413:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".base-radio-option[data-v-2ba60ba0] {\n  display: flex;\n  align-items: center;\n  color: #F2F2F2;\n  margin-right: 16px;\n  cursor: pointer;\n}\n.base-radio-option[data-v-2ba60ba0]:last-child {\n  margin-right: 0;\n}\n.base-radio-option-circle[data-v-2ba60ba0] {\n  width: 14px;\n  height: 14px;\n  border-radius: 100%;\n  padding: 2px;\n  border: 1px solid #F2F2F2;\n}\n.base-radio-option-fill[data-v-2ba60ba0] {\n  width: 100%;\n  height: 100%;\n  border-radius: 100%;\n  background-color: #F2F2F2;\n}\n.base-radio-option-label[data-v-2ba60ba0] {\n  margin-left: 4px;\n}\n@media screen and (max-width: 767px) {\n.base-radio-option[data-v-2ba60ba0] {\n    margin-right: 8px;\n}\n.base-radio-option-label[data-v-2ba60ba0] {\n    margin-left: 2px;\n}\n}\n",""]),t.default=a},53920:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".base-search[data-v-d179c55e] {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 32px;\n  width: 100%;\n}\n.base-search-input[data-v-d179c55e] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  color: #F2F2F2;\n  font-size: 14px;\n  line-height: 14px;\n  padding: 0 28px 0 12px;\n  background-color: #212529;\n  outline: none;\n  border: none;\n  border-radius: 50rem;\n}\n.base-search-clear[data-v-d179c55e] {\n  position: absolute;\n  right: 0;\n  display: flex;\n  align-items: center;\n  width: 24px;\n  height: 100%;\n  font-size: 12px;\n  cursor: pointer;\n}\n.base-search-clear[data-v-d179c55e]:hover {\n  text-shadow: 0px 0px 12px white;\n}\n@media screen and (max-width: 767px) {\n.base-search[data-v-d179c55e] {\n    height: 24px;\n}\n.base-search-input[data-v-d179c55e] {\n    font-size: 14px;\n    line-height: 10px;\n    padding: 0 16px 0 6px;\n}\n.base-search-clear[data-v-d179c55e] {\n    width: 12px;\n    font-size: 8px;\n}\n}\n",""]),t.default=a},59e3:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".button-toolbar[data-v-28e167ea] {\n  width: min-content;\n  padding: 8px 16px;\n  color: #F2F2F2;\n  border-radius: 24px;\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.button-toolbar > *[data-v-28e167ea] {\n  margin-right: 24px;\n}\n.button-toolbar > *[data-v-28e167ea]:last-child {\n  margin-right: 0;\n}\n.primary[data-v-28e167ea] {\n  background-color: rgba(33, 37, 41, 0.8);\n}\n.transparent[data-v-28e167ea] {\n  background-color: transparent;\n  padding: 6px;\n}\n.transparent > *[data-v-28e167ea] {\n  margin-right: 12px;\n}\n.close-button[data-v-28e167ea] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 0;\n  transform: translate(50%, -50%);\n  filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.25));\n}\n.confirm-button[data-v-28e167ea] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: 0;\n  transform: translate(50%, -50%);\n  filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.25));\n}\n@media screen and (max-width: 767px) {\n.button-toolbar > *[data-v-28e167ea] {\n    margin-right: 16px;\n}\n.close-button[data-v-28e167ea] {\n    margin: 0;\n}\n.transparent > *[data-v-28e167ea] {\n    margin-right: 12px;\n}\n}\n",""]),t.default=a},38705:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".circle-button[data-v-6636933c] {\n  border-radius: 50%;\n  color: #F2F2F2;\n  font-size: 9px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n.circle-button-icon[data-v-6636933c] {\n  font-weight: bold !important;\n}\n.circle-button-primary[data-v-6636933c] {\n  background: #343A40;\n}\n.circle-button-raised[data-v-6636933c] {\n  background: #343A40;\n  filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.25));\n}\n.circle-button-dark[data-v-6636933c] {\n  background: #060D13;\n}\n.circle-button-sm[data-v-6636933c] {\n  width: 16px;\n  height: 16px;\n}\n.circle-button-md[data-v-6636933c] {\n  width: 32px;\n  height: 32px;\n}\n.circle-button-lg[data-v-6636933c] {\n  width: 64px;\n  height: 64px;\n  font-size: 18px;\n}\n.circle-button-constant[data-v-6636933c] {\n  width: 32px;\n  height: 32px;\n}\n@media screen and (max-width: 767px) {\n.circle-button[data-v-6636933c] {\n    font-size: 6px;\n}\n.circle-button-constant[data-v-6636933c] {\n    font-size: 9px;\n}\n.circle-button-sm[data-v-6636933c] {\n    width: 12px;\n    height: 12px;\n}\n.circle-button-md[data-v-6636933c] {\n    width: 24px;\n    height: 24px;\n}\n.circle-button-lg[data-v-6636933c] {\n    width: 32px;\n    height: 32px;\n    font-size: 9px;\n}\n}\n",""]),t.default=a},78402:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".collapsible-bar[data-v-1484f214] {\n  width: 100%;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  border-radius: 8px 0 0 8px;\n  color: #F2F2F2;\n  background-color: rgba(33, 37, 41, 0.8);\n}\n.collapsible-bar-content[data-v-1484f214] {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 0 16px;\n  transition: width 0.25s ease;\n  overflow: hidden;\n}\n.collapsible-bar-content > *[data-v-1484f214] {\n  margin-right: 16px;\n}\n.collapsible-bar-content > *[data-v-1484f214]:last-child {\n  margin-right: 0;\n}\n.expanded[data-v-1484f214] {\n  width: 100%;\n}\n.collapse-button[data-v-1484f214] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 16px;\n  height: 100%;\n  font-size: 12px;\n  border-radius: 8px 0 0 8px;\n  background-color: rgba(33, 37, 41, 0.8);\n  cursor: pointer;\n}\n.collapse-button[data-v-1484f214]:hover {\n  text-shadow: 0px 0px 5px white;\n}\n@media screen and (max-width: 767px) {\n.collapsible-bar[data-v-1484f214] {\n    height: 38px;\n    border-radius: 4px 0 0 4px;\n}\n.collapse-button[data-v-1484f214] {\n    border-radius: 4px 0 0 4px;\n}\n}\n",""]),t.default=a},51987:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".contact-button[data-v-40310305] {\n  width: 96px;\n  height: 32px;\n  border-radius: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  white-space: nowrap;\n  text-decoration: none;\n  cursor: pointer;\n}\n.primary[data-v-40310305] {\n  color: #F2F2F2;\n  background-color: #343A40;\n  border: 1px solid #343A40;\n}\n.secondary[data-v-40310305] {\n  color: #F2F2F2;\n  background-color: transparent;\n  border: 1px solid #495057;\n}\n.clear[data-v-40310305] {\n  width: auto;\n  height: auto;\n  color: #F2F2F2;\n  background-color: transparent;\n  opacity: 0.8;\n}\n.clear[data-v-40310305]:hover {\n  opacity: 1;\n}\n.contact-button-label[data-v-40310305] {\n  display: flex;\n  align-items: center;\n}\n.contact-button-label-icon[data-v-40310305] {\n  margin-right: 2px;\n}\n@media screen and (max-width: 767px) {\n.contact-button[data-v-40310305] {\n    width: 80px;\n}\n.clear[data-v-40310305] {\n    width: auto;\n    height: auto;\n}\n}\n",""]),t.default=a},84200:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,'.error-page[data-v-48075e9f] {\n  width: 100%;\n  height: 100%;\n  padding: 20vh 20vw 0 20vw;\n  color: #F2F2F2;\n  background: #060D13;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  text-align: center;\n}\n.error-page > *[data-v-48075e9f] {\n  margin-bottom: 32px;\n}\n.error-page > *[data-v-48075e9f]:last-child {\n  margin-bottom: 0;\n}\n.error-page-header[data-v-48075e9f] {\n  font-family: "Roboto";\n  font-size: 24px;\n  line-height: 1.5;\n  padding: 64px 0 32px 0;\n}\n.error-page-body[data-v-48075e9f] {\n  flex-grow: 1;\n}\n.error-page-footer[data-v-48075e9f] {\n  padding: 8px 4px;\n}\n@media screen and (max-width: 767px) {\n.error-page[data-v-48075e9f] {\n    padding: 20vh 10vw 0 10vw;\n}\n.error-page > *[data-v-48075e9f] {\n    margin-bottom: 16px;\n}\n.error-page > *[data-v-48075e9f]:last-child {\n    margin-bottom: 0;\n}\n.error-page-header[data-v-48075e9f] {\n    font-size: 24px;\n    padding: 32px 0 16px 0;\n}\n}\n',""]),t.default=a},14760:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".icon-button[data-v-a0e66cdc] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #F2F2F2;\n  font-size: 24px;\n}\n.icon-button[data-v-a0e66cdc]:hover {\n  text-shadow: 0px 0px 15px white;\n}\n.icon-button-disabled[data-v-a0e66cdc] {\n  color: #6C757D;\n  pointer-events: none;\n}\n.icon-button-active > span[data-v-a0e66cdc]:before {\n  font-weight: bold;\n}\n@media screen and (max-width: 767px) {\n.icon-button[data-v-a0e66cdc] {\n    font-size: 24px;\n}\n}\n",""]),t.default=a},99064:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".link-button[data-v-1697f3f6] {\n  width: min-content;\n  height: min-content;\n  color: #F2F2F2;\n  text-decoration: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.link-button-icon[data-v-1697f3f6] {\n  width: 48px;\n  height: 48px;\n  font-size: 16px;\n  border-radius: 50%;\n  background-color: #343A40;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.link-button-label[data-v-1697f3f6] {\n  margin-top: 4px;\n}\n@media screen and (max-width: 767px) {\n.link-button-label[data-v-1697f3f6] {\n    margin-top: 2px;\n}\n}\n",""]),t.default=a},26223:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,'.list-action-item[data-v-aae69ece] {\n  display: flex;\n  align-items: center;\n  height: 30px;\n  padding: 0 8px;\n  border-left: 2px solid transparent;\n  color: #F2F2F2;\n  font-family: "Roboto";\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 30px;\n  cursor: pointer;\n}\n.list-action-item > *[data-v-aae69ece] {\n  margin-right: 4px;\n}\n.list-action-item > *[data-v-aae69ece]:last-child {\n  padding-top: 7px;\n  margin-top: -7px;\n  padding-left: 7px;\n  margin-left: -7px;\n  padding-bottom: 7px;\n  margin-bottom: -7px;\n  margin-right: -4px;\n}\n.active[data-v-aae69ece] {\n  border-color: inherit;\n  font-weight: normal;\n}\n.indented[data-v-aae69ece] {\n  padding-left: 16px;\n}\n.highlighted[data-v-aae69ece]:not(.active),\n.list-action-item[data-v-aae69ece]:not(.active):hover {\n  text-shadow: 0px 0px 12px white;\n}\n.hideLabel[data-v-aae69ece] {\n  color: #FF0000 !important;\n}\n.list-action-item-label[data-v-aae69ece] {\n  flex-grow: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.highlighted-icon[data-v-aae69ece]:before {\n  color: #337ab7 !important;\n}\n@media screen and (max-width: 767px) {\n.list-action-item[data-v-aae69ece] {\n    height: 30px;\n    padding: 0 4px;\n    font-size: 14px;\n    line-height: 30px;\n}\n}\n',""]),t.default=a},1230:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,'.pill-button[data-v-eea93790] {\n  display: block;\n  border: none;\n  padding: 0;\n  border-radius: 50rem;\n  width: min-content;\n  color: #F2F2F2;\n  font-family: "Roboto";\n  font-size: 14px;\n  font-weight: normal;\n  line-height: 1;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.dynamic[data-v-eea93790] {\n  padding: 8px 28px;\n}\n.md[data-v-eea93790] {\n  width: 96px;\n  height: 24px;\n}\n.lg[data-v-eea93790] {\n  width: 148px;\n  height: 32px;\n}\n.primary[data-v-eea93790] {\n  background-color: rgba(33, 37, 41, 0.8);\n}\n.secondary[data-v-eea93790] {\n  background-color: transparent;\n  border: 1px solid #F2F2F2;\n}\n.dark[data-v-eea93790] {\n  background-color: #060D13;\n}\n@media screen and (max-width: 767px) {\n.pill-button[data-v-eea93790] {\n    font-size: 14px;\n}\n.lg[data-v-eea93790] {\n    width: 96px;\n    height: 24px;\n}\n}\n',""]),t.default=a},71223:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".pill-container[data-v-e3f289a2] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: min-content;\n  border-radius: 50rem;\n  color: #F2F2F2;\n  background-color: rgba(33, 37, 41, 0.8);\n  padding: 8px;\n}\n",""]),t.default=a},15688:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".svg-container[data-v-4c8bf407] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #F2F2F2;\n}\n.svg-container[data-v-4c8bf407]:hover {\n  text-shadow: 0px 0px 15px white;\n}\n.svg-container-disabled[data-v-4c8bf407] {\n  color: #6C757D;\n  pointer-events: none;\n}\n.svg-button[data-v-4c8bf407] {\n  height: 24px;\n}\n@media screen and (max-width: 767px) {\n.svg-button[data-v-4c8bf407] {\n    height: 24px;\n}\n}\n",""]),t.default=a},14240:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".triangle-button[data-v-d2874d5a] {\n  position: relative;\n  color: #F2F2F2;\n  font-size: 12px;\n  padding: 0;\n  background: none;\n  border: none;\n  border-radius: 0 8px 0 0;\n  overflow: hidden;\n  cursor: pointer;\n}\n.triangle-button[data-v-d2874d5a]:hover {\n  text-shadow: 0px 0px 5px white;\n}\n.sm[data-v-d2874d5a] {\n  width: 32px;\n  height: 32px;\n}\n.md[data-v-d2874d5a] {\n  width: 42px;\n  height: 42px;\n}\n.triangle-button-background[data-v-d2874d5a] {\n  width: 100%;\n  height: 100%;\n  fill: rgba(33, 37, 41, 0.8);\n  position: relative;\n}\n.triangle-button-icon[data-v-d2874d5a] {\n  position: absolute;\n  top: 12.5%;\n  right: 12.5%;\n}\n@media screen and (max-width: 767px) {\n.triangle-button[data-v-d2874d5a] {\n    border-radius: 0 4px 0 0;\n}\n.sm[data-v-d2874d5a] {\n    width: 26px;\n    height: 26px;\n}\n.md[data-v-d2874d5a] {\n    width: 30px;\n    height: 30px;\n}\n}\n",""]),t.default=a},61465:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".vertical-divider[data-v-7155ff9b] {\n  margin: 0 4px;\n  border-right: 1px solid #F2F2F2;\n}\n",""]),t.default=a},16667:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,".legal-doc-details h1 {\n  color: #F2F2F2;\n  font-size: 0.9em;\n}\n.legal-doc-details h2 {\n  color: #F2F2F2;\n  font-size: 0.7em;\n}\n.legal-doc-details h3 {\n  color: #F2F2F2;\n  font-size: 0.5em;\n}\n.legal-doc-details p {\n  font-size: 16px;\n}\n.legal-doc-details ol {\n  list-style-type: upper-alpha;\n}\n.legal-doc-details li {\n  margin: 0 0 10px 10px;\n  font-size: 16px;\n}\n.legal-doc-details li a {\n  color: #F2F2F2;\n  text-decoration: underline;\n}\n",""]),t.default=a},99339:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.viewer-banner {\n  margin-left: 1px;\n  margin-right: 1px;\n}\n",""]),t.default=a},78279:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.banner-heading[data-v-5d6d8c3d] {\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 5px;\n}\n.banner-title[data-v-5d6d8c3d] {\n  padding-top: 5px;\n}\n.contact-links[data-v-5d6d8c3d] {\n  padding-top: 10px;\n}\n.banner-organization[data-v-5d6d8c3d] {\n  align-self: center;\n  margin-top: 10px;\n}\n.banner-company[data-v-5d6d8c3d] {\n  padding-bottom: 6px;\n}\n",""]),t.default=a},17013:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.banner-info {\n  flex-grow: 1;\n}\n.banner-row {\n  display: flex;\n  margin-top: 8px;\n  white-space: nowrap;\n}\n.row-left {\n  justify-content: left;\n}\n.row-center {\n  justify-content: center;\n}\n.banner-row:first-child {\n  margin-top: 0;\n}\n.phone-container-standard {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  max-width: 340px;\n}\n.phone-container-custom {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  max-width: 340px;\n}\n.phone-wrapper {\n  flex: 50%;\n}\n.phone-item {\n  padding-top: 8px;\n}\n.banner-primary-phone {\n  margin-right: 10px;\n}\n.banner-secondary-phone-links {\n  margin-left: 2px;\n}\n@media screen and (max-width: 767px) {\n.banner-primary-phone {\n    margin-right: 4px;\n}\n}\n",""]),t.default=a},67230:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\nimg[data-v-533ee02c] {\n  object-fit: contain;\n}\n.banner[data-v-533ee02c] {\n  overflow: hidden;\n}\n.custom-banner-container[data-v-533ee02c] {\n  display: flex;\n  flex-direction: column;\n}\n.custom-banner-container[data-v-533ee02c]:first-child {\n  flex-grow: 1;\n}\n.image-container[data-v-533ee02c] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.banner-info-section[data-v-533ee02c] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* XXX: add way to get media queries from variables.less in @plntr/viewer-ui */\n@media screen and (max-width: 767px) {\n.banner[data-v-533ee02c] {\n    overflow: hidden;\n}\n}\n",""]),t.default=a},88708:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.help-video-button[data-v-13bfc197] {\n  position: absolute;\n  right: 12px;\n  bottom: 12px;\n  padding: 0.25em 0.5em;\n  line-height: 1.2em;\n}\n.help-video-button-icon[data-v-13bfc197] {\n  font-size: 2em;\n  margin-right: 0.25em;\n}\n.help-video-button-text[data-v-13bfc197] {\n  white-space: pre-line;\n  letter-spacing: 2px;\n}\n",""]),t.default=a},73865:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.locale-dropdown-button[data-v-143b9183] {\n  display: flex;\n  align-items: center;\n}\n.locale-dropdown-menu-item[data-v-143b9183]:hover, .locale-dropdown-button[data-v-143b9183]:hover {\n  text-shadow: 0px 0px 12px white;\n}\n.locale-dropdown-active-locale[data-v-143b9183] {\n  padding: 0 8px 0 4px;\n}\n",""]),t.default=a},89948:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.measure-mode-status-bar[data-v-bbd49e6e] {\n  cursor: default;\n  position: absolute;\n  padding: 10px;\n  z-index: 500;\n}\n.base-panel[data-v-bbd49e6e] {\n  padding: 24px;\n}\n.measure-mode-status-bar-header[data-v-bbd49e6e] {\n  margin-bottom: 12px;\n}\n",""]),t.default=a},52095:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.page-list[data-v-7ab5495b] {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  padding-bottom: 1px;\n}\n.page-list-item[data-v-7ab5495b] {\n  height: 100%;\n  box-sizing: border-box;\n  border-bottom: 2px solid transparent;\n  margin-right: 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n.page-list-item[data-v-7ab5495b]:hover {\n  text-shadow: 0px 0px 15px white;\n}\n.page-list-item-selected[data-v-7ab5495b] {\n  border-color: #F2F2F2;\n}\n",""]),t.default=a},17789:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.portal-links[data-v-56093f03] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n",""]),t.default=a},94925:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.banner[data-v-21ed17fd] {\n  padding: 24px;\n  overflow: hidden;\n}\n.banner-image-container[data-v-21ed17fd] {\n  display: flex;\n  justify-content: right;\n  align-items: right;\n  margin-right: 24px;\n  flex-direction: column;\n}\n.banner-logo-container[data-v-21ed17fd] {\n  margin-left: 24px;\n}\n.image-wrapper[data-v-21ed17fd] {\n  display: flex;\n  width: inherit;\n  height: inherit;\n}\n.right-justify[data-v-21ed17fd] {\n  justify-content: right;\n}\n.banner-image[data-v-21ed17fd] {\n  object-fit: contain;\n  width: auto;\n  height: auto;\n  max-width: 136px;\n  max-height: 168px;\n}\n.banner-primary-phone[data-v-21ed17fd] {\n  margin-right: 10px;\n}\n.banner-logo[data-v-21ed17fd] {\n  margin-top: 24px;\n  object-fit: contain;\n  width: auto;\n  height: auto;\n  max-width: 136px;\n  max-height: 168px;\n}\n.banner-logo-width[data-v-21ed17fd] {\n  max-width: 136px;\n}\n.banner-section[data-v-21ed17fd] {\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  margin-bottom: 12px;\n}\n.banner-section[data-v-21ed17fd]:last-child {\n  margin-bottom: 0;\n}\n@media screen and (max-width: 767px) {\n.banner[data-v-21ed17fd] {\n    padding: 16px;\n}\n.banner-image-container[data-v-21ed17fd] {\n    margin-right: 12px;\n}\n.banner-logo-container[data-v-21ed17fd] {\n    margin-left: 12px;\n}\n}\n\n/* XXX: add way to get media queries from variables.less in @plntr/viewer-ui */\n@media screen and (max-width: 602px) {\n.banner-logo[data-v-21ed17fd] {\n    margin-top: 0px;\n}\n.banner-section[data-v-21ed17fd] {\n    margin-bottom: 8px;\n}\n.banner-logo-width[data-v-21ed17fd] {\n    max-width: 96px;\n}\n}\n",""]),t.default=a},88395:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.page-links[data-v-2efe9e74] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.page-links > *[data-v-2efe9e74] {\n  margin-right: 8px;\n}\n.page-links > *[data-v-2efe9e74]:last-child {\n  margin-right: 0;\n}\n",""]),t.default=a},52473:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.page-overlay[data-v-18de1ccf] {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding-top: 8px;\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n  width: 100%;\n}\n.page-overlay-nav-menu[data-v-18de1ccf] {\n  z-index: 501;\n}\n.page-overlay-logo[data-v-18de1ccf] {\n  position: absolute;\n  right: 6px;\n  top: 100%;\n  z-index: 200;\n}\n",""]),t.default=a},80889:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.wall-thickness-input[data-v-27bcfabc] {\n  width: 5em;\n  text-align: right\n}\n",""]),t.default=a},75797:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.edit-label-modal[data-v-5b767151] td {\n  width: 50%;\n  padding: 0 .5em 0 .5em;\n}\n.checkbox-label[data-v-5b767151] {\n  margin: 0 0 .3em 0 !important;\n}\n.edit-label-modal[data-v-5b767151] input[type=text],\n.edit-label-modal[data-v-5b767151] select {\n  height: 1.5em;\n  margin: 0 .3em .3em .3em;\n  width:100%\n}\n.checkbox-input[data-v-5b767151] {\n  margin: 0 0.2em 0 .2em !important;\n}\n",""]),t.default=a},64305:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.font-size-option[data-v-d3805e92] {\n  display: table;\n  margin-right: 0;\n  width: 100%;\n}\n.font-size-option-label[data-v-d3805e92] {\n  float: left;\n}\n.font-size-select[data-v-d3805e92] {\n  float: right;\n}\n",""]),t.default=a},33149:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.section-header[data-v-0b372c16] {\n  margin-bottom: 0.5em;\n}\n",""]),t.default=a},81008:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.floorplan-compass {\n  display: flex;\n  width: 32px;\n  height: 32px;\n}\n@media screen and (max-width: 767px) {\n.floorplan-compass {\n    width: 24px;\n    height: 24px;\n}\n}\n",""]),t.default=a},48724:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.floor-selector-dropup[data-v-7bfed082] {\n  min-width: 0;\n}\n.floor-selector-toggle[data-v-7bfed082] {\n  max-width: 100%;\n}\n.pencil-icon[data-v-7bfed082] {\n  font-size: 16px;\n}\n\n/* XXX: temp class for the SVG until icon font is updated */\n.floor-selector-icon[data-v-7bfed082] {\n  fill: #F2F2F2;\n  font-size: 14px;\n  margin-right: 4px;\n  vertical-align: bottom;\n}\n.hidden_floor[data-v-7bfed082] {\n  color: #C51313;\n}\n.pillbutton-container[data-v-7bfed082] {\n  display: flex;\n}\n.active-floor-label[data-v-7bfed082] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n",""]),t.default=a},4817:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.floorplan-overlay[data-v-0472593f] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  pointer-events: none;\n}\n.floorplan-overlay-top[data-v-0472593f] {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n.floorplan-overlay-bottom[data-v-0472593f] {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n}\n.floorplan-overlay-bottom-spacer[data-v-0472593f] {\n  flex-grow: 1;\n}\n.floorplan-overlay-compass[data-v-0472593f] {\n  margin-right: 8px;\n}\n.floorplan-overlay-pan-zoom-tools[data-v-0472593f] {\n  pointer-events: auto;\n}\n.floorplan-overlay-floor-selector[data-v-0472593f] {\n  position: relative;\n  pointer-events: auto;\n}\n",""]),t.default=a},2997:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.css3d-scene[data-v-0a52f7c6] {\n  outline: 1px solid transparent; /* Needed to fix Chrome 72 touchmove bug. */\n  /* See https://github.com/PlanitarInc/youriguide.com/issues/2070 */\n  position: absolute;\n  z-index: 1;\n  touch-action: none;\n}\n.cube[data-v-0a52f7c6] {\n  pointer-events: none;\n  position: absolute;\n}\n",""]),t.default=a},61869:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.measure-cube-container[data-v-03aba748] {\n  position: absolute;\n  z-index: 1;\n  touch-action: none;\n  pointer-events: none;\n}\n.cube[data-v-03aba748] {\n  pointer-events: none;\n  position: absolute;\n}\n",""]),t.default=a},26816:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.scene[data-v-8c76f7b8] {\n  position: absolute;\n  z-index: 1;\n  touch-action: none;\n}\n",""]),t.default=a},75357:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.tag-list-container[data-v-1ffb5ad3] {\n  left: 0;\n  float: left;\n  height: 100%;\n  z-index: 600;\n}\n.wide-container[data-v-1ffb5ad3] {\n  width: 300px;\n}\n.narrow-container[data-v-1ffb5ad3] {\n  width: 200px;\n}\n.floating[data-v-1ffb5ad3] {\n  position: absolute;\n  width: 100%;\n  padding: 8px;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.floating > .tag-list[data-v-1ffb5ad3] {\n  border-radius: 8px;\n}\n.tag-list[data-v-1ffb5ad3] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  color: #F2F2F2;\n  background-color: #343A40;\n}\n.tag-list-header[data-v-1ffb5ad3] {\n  display: flex;\n  align-items: center;\n  padding: 8px 12px 12px 12px;\n}\n.tag-list-title[data-v-1ffb5ad3] {\n  flex-grow: 1;\n}\n.tag-list-body[data-v-1ffb5ad3] {\n  position: relative;\n  overflow-y: auto;\n}\n.tag-list-body > *[data-v-1ffb5ad3] {\n  margin-bottom: 12px;\n}\n.tag-list-search[data-v-1ffb5ad3] {\n  padding: 0 12px;\n  margin-bottom: 12px;\n}\n.tag-list-floor-content[data-v-1ffb5ad3] {\n  padding-left: 1px;\n}\n.notvisible[data-v-1ffb5ad3]:before {\n  color: #FF0000;\n}\n.list-action-item:hover .tag-buttons-container[data-v-1ffb5ad3] {\n  text-shadow: none;\n}\n.hideLabel .tag-buttons-container[data-v-1ffb5ad3] {\n  color: #F2F2F2F2 !important;\n}\n.tag-buttons-container[data-v-1ffb5ad3] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 8px;\n  margin-right: 2px !important;\n}\n",""]),t.default=a},73824:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.tag-preview[data-v-4227fcb8] {\n  transition: opacity 0.5s ease, transform 0.5s ease;\n}\n.tag-previews-enter[data-v-4227fcb8] {\n  opacity: 0;\n  transform: scale(0.5);\n}\n.tag-previews-leave-to[data-v-4227fcb8] {\n  opacity: 0;\n}\n",""]),t.default=a},38132:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.bold-button[data-v-7135684c] {\n  font-weight: 400;\n  font-size: 0.5em;\n  padding: 0.5em;\n  color: #fff;\n  background-color: #0388cc;\n  cursor: pointer;\n  border: none;\n  border-radius: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n",""]),t.default=a},64335:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.modal[data-v-05fddf45] {\n  display: block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  transform: translate(-50%, -50%);\n  width: 40%;\n  height: 40%;\n  background-color: black;\n  color: white;\n  opacity: 0.75;\n  padding: 0 0.5em;\n  z-index: 900;\n}\n.message[data-v-05fddf45] {\n  display: table;\n  text-align: center;\n  vertical-align: middle;\n  margin: auto;\n  font-size: 0.5em;\n  margin: 1em auto;\n}\n.hidden[data-v-05fddf45] {\n  display: none;\n}\n.buttons[data-v-05fddf45] {\n  position: absolute;\n  left: 50%;\n  margin-right: -50%;\n  transform: translate(-50%, 0);\n  bottom: 0;\n  padding: 0.5em;\n}\n.btn[data-v-05fddf45] {\n  background: #3498db;\n  background-image: linear-gradient(to bottom, #3498db, #2980b9);\n  border-radius: 4px;\n  font-family: Arial;\n  color: #ffffff;\n  font-size: 0.5em;\n  padding: 0.2em 0.75em;\n  text-decoration: none;\n  cursor: pointer;\n  margin: 0.55em;\n}\n.btn[data-v-05fddf45]:hover {\n  background: #3cb0fd;\n  background-image: linear-gradient(to bottom, #3cb0fd, #3498db);\n}\n",""]),t.default=a},53523:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.button[data-v-5628618b] {\n  color: white;\n  font-size: 0.5em;\n  border: 1px solid #000000;\n  border-bottom: none;\n  line-height: 2em;\n  padding: 0 5px;\n  list-style-type: none;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  cursor: pointer;\n  user-select: none;\n}\n.button[data-v-5628618b]:last-child {\n  border-bottom: 1px solid #000000\n}\n.default[data-v-5628618b] {\n  background-color: #333333;\n}\n.default[data-v-5628618b]:hover {\n  background-color: #333333;\n}\n.red[data-v-5628618b] {\n  background-color: #ff0000;\n}\n.red[data-v-5628618b]:hover {\n  background-color: #cc0000;\n}\n.green[data-v-5628618b] {\n  background-color: #009941;\n}\n.green[data-v-5628618b]:hover {\n  background-color: #00662b;\n}\n.blue[data-v-5628618b] {\n  background-color: #3498db;\n}\n.blue[data-v-5628618b]:hover {\n  background-color: #217dba;\n}\n",""]),t.default=a},22734:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.menu-container[data-v-57b8ad41] {\n  vertical-align: top;\n  display: inline-block;\n}\n.toggle-button[data-v-57b8ad41] {\n  color: white;\n  font-size: 0.5em;\n  background-color: #333333;\n  line-height: 2em;\n  padding: 0 0.5em;\n  white-space: nowrap;\n  cursor: pointer;\n  user-select: none;\n}\n.toggle-icon[data-v-57b8ad41] {\n  vertical-align: middle;\n}\n.list[data-v-57b8ad41] {\n  position: absolute;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n.slide-transition[data-v-57b8ad41] {\n  z-index: 600;\n}\n",""]),t.default=a},21041:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.modal[data-v-cbc85f1a] {\n  display: block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  right: auto;\n  bottom: auto;\n  transform: translate(-50%, -50%);\n  width: auto;\n  height: auto;\n  background-color: #333;\n  color: white;\n  padding: 0 0.5em;\n  z-index: 1000;\n}\n.form[data-v-cbc85f1a] {\n  font-size: 0.5em;\n  margin-top: 1.3em;\n  line-height: 1.5em;\n}\n.form > *[data-v-cbc85f1a] {\n  margin-top: 1em;\n  display: block;\n}\n.form > *[data-v-cbc85f1a]:first-child {\n  margin-top: 0;\n}\n.buttons[data-v-cbc85f1a] {\n  bottom: 0;\n  padding: 0.5em;\n  margin: 0 auto 0 auto;\n  display: initial;\n}\n.btn[data-v-cbc85f1a] {\n  display: inline;\n  background: #3498db;\n  background-image: linear-gradient(to bottom, #3498db, #2980b9);\n  border-radius: 4px;\n  font-family: Arial;\n  color: #ffffff;\n  font-size: 0.5em;\n  padding: 0.2em 0.75em;\n  text-decoration: none;\n  cursor: pointer;\n  margin: 0.55em;\n  font-weight: 300;\n}\n.btn[data-v-cbc85f1a]:hover {\n  background: #3cb0fd;\n  background-image: linear-gradient(to bottom, #3cb0fd, #3498db);\n}\n",""]),t.default=a},58761:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.checkbox-label[data-v-7d7b45a4] {\n  font-weight: unset;\n  color: white;\n  display: block;\n  max-width: 100%;\n  margin-bottom: 5px;\n  position: relative;\n}\n.checkbox-input[data-v-7d7b45a4] {\n  margin: 0.5em 0.3em 0.5em 0.2em;\n}\n.checkbox-text[data-v-7d7b45a4] {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n",""]),t.default=a},31780:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.input[data-v-13868324] {\n  color: #333;\n  font-weight: 300;\n  line-height: 1.4em;\n}\n",""]),t.default=a},48344:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.modal-radio[data-v-48b2b1ba] {\n  display: block;\n}\n.modal-radio-label[data-v-48b2b1ba] {\n  text-align: start;\n  font-weight: 300;\n}\n.modal-radio-input[data-v-48b2b1ba] {\n  margin-right: 0.3em;\n}\n",""]),t.default=a},8266:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.select[data-v-701f1eee] {\n  color: #333;\n  font-weight: 300;\n}\n",""]),t.default=a},58246:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.radio[data-v-085ec36c] {\n  display: inline-block;\n  vertical-align: middle;\n  margin: 0;\n  padding-left: 0;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-left: 0.3em;\n}\n.option[data-v-085ec36c] {\n  position: relative;\n  float: left;\n  padding: 0 0.25em;\n  margin-left: -1px;\n  color: #337ab7;\n  text-decoration: none;\n  background-color: #fff;\n  border: 1px solid #ddd;\n}\n.option.selected[data-v-085ec36c] {\n  z-index: 3;\n  color: #fff;\n  cursor: default;\n  background-color: #337ab7;\n  border-color: #337ab7;\n}\n.option[data-v-085ec36c]:first-child {\n  margin-left: 0;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.option[data-v-085ec36c]:last-child {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n",""]),t.default=a},90097:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.pan-fade-enter-active[data-v-3a2eace2], .pan-fade-leave-active[data-v-3a2eace2] {\n  transform: translateY(0);\n  opacity: 1;\n  transition: transform 0.5s ease, opacity 0.5s ease;\n  overflow: hidden;\n}\n.pan-fade-enter[data-v-3a2eace2], .pan-fade-leave-to[data-v-3a2eace2] {\n  transform: translateY(-100%);\n  opacity: 0;\n}\n",""]),t.default=a},43729:function(e,t,n){"use strict";n.r(t);var i=n(54933),r=n.n(i),o=n(93476),a=n.n(o)()(r());a.push([e.id,"\n.slide-enter-active[data-v-2c03d7c3], .slide-leave-active[data-v-2c03d7c3] {\n  transition: height 0.25s ease;\n  /* !important is used here to ensure the animating element does not display a scroll bar as its\n  height changes. this class is also only temporarily applied during the transition, so it is safe\n  to use. */\n  overflow: hidden !important;\n}\n.slide-enter[data-v-2c03d7c3], .slide-leave-to[data-v-2c03d7c3] {\n  height: 0;\n}\n",""]),t.default=a},93476:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);i&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},91678:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},54933:function(e){"use strict";e.exports=function(e){return e[1]}},31699:function(e){e.exports=function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.hasOwnProperty,n=Object.setPrototypeOf,i=Object.isFrozen,r=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,a=Object.freeze,s=Object.seal,l=Object.create,c="undefined"!=typeof Reflect&&Reflect,u=c.apply,d=c.construct;u||(u=function(e,t,n){return e.apply(t,n)}),a||(a=function(e){return e}),s||(s=function(e){return e}),d||(d=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(e(n))))});var h=x(Array.prototype.forEach),p=x(Array.prototype.pop),f=x(Array.prototype.push),m=x(String.prototype.toLowerCase),g=x(String.prototype.match),v=x(String.prototype.replace),y=x(String.prototype.indexOf),b=x(String.prototype.trim),w=x(RegExp.prototype.test),_=T(TypeError);function x(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return u(e,t,i)}}function T(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return d(e,n)}}function S(e,t){n&&n(e,null);for(var r=t.length;r--;){var o=t[r];if("string"==typeof o){var a=m(o);a!==o&&(i(t)||(t[r]=a),o=a)}e[o]=!0}return e}function E(e){var n=l(null),i=void 0;for(i in e)u(t,e,[i])&&(n[i]=e[i]);return n}function M(e,t){for(;null!==e;){var n=o(e,t);if(n){if(n.get)return x(n.get);if("function"==typeof n.value)return x(n.value)}e=r(e)}function i(e){return console.warn("fallback value for",e),null}return i}var A=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),k=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=a(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),R=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$=a(["#text"]),I=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),O=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),N=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),B=s(/<%[\s\S]*|[\s\S]*%>/gm),U=s(/^data-[\-\w.\u00B7-\uFFFF]/),z=s(/^aria-[\-\w]+$/),V=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),H=s(/^(?:\w+script|data):/i),j=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function G(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var q=function(){return"undefined"==typeof window?null:window},Z=function(e,t){if("object"!==(void 0===e?"undefined":W(e))||"function"!=typeof e.createPolicy)return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(),t=function(e){return X(e)};if(t.version="2.2.9",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,i=e.document,r=e.DocumentFragment,o=e.HTMLTemplateElement,s=e.Node,l=e.Element,c=e.NodeFilter,u=e.NamedNodeMap,d=void 0===u?e.NamedNodeMap||e.MozNamedAttrMap:u,x=e.Text,T=e.Comment,Y=e.DOMParser,K=e.trustedTypes,J=l.prototype,Q=M(J,"cloneNode"),ee=M(J,"nextSibling"),te=M(J,"childNodes"),ne=M(J,"parentNode");if("function"==typeof o){var ie=i.createElement("template");ie.content&&ie.content.ownerDocument&&(i=ie.content.ownerDocument)}var re=Z(K,n),oe=re&&Oe?re.createHTML(""):"",ae=i,se=ae.implementation,le=ae.createNodeIterator,ce=ae.createDocumentFragment,ue=n.importNode,de={};try{de=E(i).documentMode?i.documentMode:{}}catch(e){}var he={};t.isSupported="function"==typeof ne&&se&&void 0!==se.createHTMLDocument&&9!==de;var pe=F,fe=B,me=U,ge=z,ve=H,ye=j,be=V,we=null,_e=S({},[].concat(G(A),G(C),G(k),G(D),G($))),xe=null,Te=S({},[].concat(G(I),G(L),G(O),G(N))),Se=null,Ee=null,Me=!0,Ae=!0,Ce=!1,ke=!1,Pe=!1,De=!1,Re=!1,$e=!1,Ie=!1,Le=!0,Oe=!1,Ne=!0,Fe=!0,Be=!1,Ue={},ze=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ve=null,He=S({},["audio","video","img","source","image","track"]),je=null,We=S({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",qe="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml",Xe=Ze,Ye=!1,Ke=null,Je=i.createElement("form"),Qe=function(e){Ke&&Ke===e||(e&&"object"===(void 0===e?"undefined":W(e))||(e={}),e=E(e),we="ALLOWED_TAGS"in e?S({},e.ALLOWED_TAGS):_e,xe="ALLOWED_ATTR"in e?S({},e.ALLOWED_ATTR):Te,je="ADD_URI_SAFE_ATTR"in e?S(E(We),e.ADD_URI_SAFE_ATTR):We,Ve="ADD_DATA_URI_TAGS"in e?S(E(He),e.ADD_DATA_URI_TAGS):He,Se="FORBID_TAGS"in e?S({},e.FORBID_TAGS):{},Ee="FORBID_ATTR"in e?S({},e.FORBID_ATTR):{},Ue="USE_PROFILES"in e&&e.USE_PROFILES,Me=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,Ce=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ke=e.SAFE_FOR_TEMPLATES||!1,Pe=e.WHOLE_DOCUMENT||!1,$e=e.RETURN_DOM||!1,Ie=e.RETURN_DOM_FRAGMENT||!1,Le=!1!==e.RETURN_DOM_IMPORT,Oe=e.RETURN_TRUSTED_TYPE||!1,Re=e.FORCE_BODY||!1,Ne=!1!==e.SANITIZE_DOM,Fe=!1!==e.KEEP_CONTENT,Be=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||be,Xe=e.NAMESPACE||Ze,ke&&(Ae=!1),Ie&&($e=!0),Ue&&(we=S({},[].concat(G($))),xe=[],!0===Ue.html&&(S(we,A),S(xe,I)),!0===Ue.svg&&(S(we,C),S(xe,L),S(xe,N)),!0===Ue.svgFilters&&(S(we,k),S(xe,L),S(xe,N)),!0===Ue.mathMl&&(S(we,D),S(xe,O),S(xe,N))),e.ADD_TAGS&&(we===_e&&(we=E(we)),S(we,e.ADD_TAGS)),e.ADD_ATTR&&(xe===Te&&(xe=E(xe)),S(xe,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&S(je,e.ADD_URI_SAFE_ATTR),Fe&&(we["#text"]=!0),Pe&&S(we,["html","head","body"]),we.table&&(S(we,["tbody"]),delete Se.tbody),a&&a(e),Ke=e)},et=S({},["mi","mo","mn","ms","mtext"]),tt=S({},["foreignobject","desc","title","annotation-xml"]),nt=S({},C);S(nt,k),S(nt,P);var it=S({},D);S(it,R);var rt=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Ze,tagName:"template"});var n=m(e.tagName),i=m(t.tagName);if(e.namespaceURI===qe)return t.namespaceURI===Ze?"svg"===n:t.namespaceURI===Ge?"svg"===n&&("annotation-xml"===i||et[i]):Boolean(nt[n]);if(e.namespaceURI===Ge)return t.namespaceURI===Ze?"math"===n:t.namespaceURI===qe?"math"===n&&tt[i]:Boolean(it[n]);if(e.namespaceURI===Ze){if(t.namespaceURI===qe&&!tt[i])return!1;if(t.namespaceURI===Ge&&!et[i])return!1;var r=S({},["title","style","font","a","script"]);return!it[n]&&(r[n]||!nt[n])}return!1},ot=function(e){f(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},at=function(e,n){try{f(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(e){f(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),"is"===e&&!xe[e])if($e||Ie)try{ot(n)}catch(e){}else try{n.setAttribute(e,"")}catch(e){}},st=function(e){var t=void 0,n=void 0;if(Re)e="<remove></remove>"+e;else{var r=g(e,/^[\r\n\t ]+/);n=r&&r[0]}var o=re?re.createHTML(e):e;if(Xe===Ze)try{t=(new Y).parseFromString(o,"text/html")}catch(e){}if(!t||!t.documentElement){t=se.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Ye?"":o}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),Pe?t.documentElement:a},lt=function(e){return le.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},ct=function(e){return!(e instanceof x||e instanceof T||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof d&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},ut=function(e){return"object"===(void 0===s?"undefined":W(s))?e instanceof s:e&&"object"===(void 0===e?"undefined":W(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},dt=function(e,n,i){he[e]&&h(he[e],(function(e){e.call(t,n,i,Ke)}))},ht=function(e){var n=void 0;if(dt("beforeSanitizeElements",e,null),ct(e))return ot(e),!0;if(g(e.nodeName,/[\u0080-\uFFFF]/))return ot(e),!0;var i=m(e.nodeName);if(dt("uponSanitizeElement",e,{tagName:i,allowedTags:we}),!ut(e.firstElementChild)&&(!ut(e.content)||!ut(e.content.firstElementChild))&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return ot(e),!0;if(!we[i]||Se[i]){if(Fe&&!ze[i]){var r=ne(e)||e.parentNode,o=te(e)||e.childNodes;if(o&&r)for(var a=o.length-1;a>=0;--a)r.insertBefore(Q(o[a],!0),ee(e))}return ot(e),!0}return e instanceof l&&!rt(e)?(ot(e),!0):"noscript"!==i&&"noembed"!==i||!w(/<\/no(script|embed)/i,e.innerHTML)?(ke&&3===e.nodeType&&(n=e.textContent,n=v(n,pe," "),n=v(n,fe," "),e.textContent!==n&&(f(t.removed,{element:e.cloneNode()}),e.textContent=n)),dt("afterSanitizeElements",e,null),!1):(ot(e),!0)},pt=function(e,t,n){if(Ne&&("id"===t||"name"===t)&&(n in i||n in Je))return!1;if(Ae&&w(me,t));else if(Me&&w(ge,t));else{if(!xe[t]||Ee[t])return!1;if(je[t]);else if(w(be,v(n,ye,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!Ve[e])if(Ce&&!w(ve,v(n,ye,"")));else if(n)return!1}return!0},ft=function(e){var n=void 0,i=void 0,r=void 0,o=void 0;dt("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};for(o=a.length;o--;){var l=n=a[o],c=l.name,u=l.namespaceURI;if(i=b(n.value),r=m(c),s.attrName=r,s.attrValue=i,s.keepAttr=!0,s.forceKeepAttr=void 0,dt("uponSanitizeAttribute",e,s),i=s.attrValue,!s.forceKeepAttr&&(at(c,e),s.keepAttr))if(w(/\/>/i,i))at(c,e);else{ke&&(i=v(i,pe," "),i=v(i,fe," "));var d=e.nodeName.toLowerCase();if(pt(d,r,i))try{u?e.setAttributeNS(u,c,i):e.setAttribute(c,i),p(t.removed)}catch(e){}}}dt("afterSanitizeAttributes",e,null)}},mt=function e(t){var n=void 0,i=lt(t);for(dt("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)dt("uponSanitizeShadowNode",n,null),ht(n)||(n.content instanceof r&&e(n.content),ft(n));dt("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(i,o){var a=void 0,l=void 0,c=void 0,u=void 0,d=void 0;if((Ye=!i)&&(i="\x3c!--\x3e"),"string"!=typeof i&&!ut(i)){if("function"!=typeof i.toString)throw _("toString is not a function");if("string"!=typeof(i=i.toString()))throw _("dirty is not a string, aborting")}if(!t.isSupported){if("object"===W(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof i)return e.toStaticHTML(i);if(ut(i))return e.toStaticHTML(i.outerHTML)}return i}if(De||Qe(o),t.removed=[],"string"==typeof i&&(Be=!1),Be);else if(i instanceof s)1===(l=(a=st("\x3c!----\x3e")).ownerDocument.importNode(i,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?a=l:a.appendChild(l);else{if(!$e&&!ke&&!Pe&&-1===i.indexOf("<"))return re&&Oe?re.createHTML(i):i;if(!(a=st(i)))return $e?null:oe}a&&Re&&ot(a.firstChild);for(var h=lt(Be?i:a);c=h.nextNode();)3===c.nodeType&&c===u||ht(c)||(c.content instanceof r&&mt(c.content),ft(c),u=c);if(u=null,Be)return i;if($e){if(Ie)for(d=ce.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return Le&&(d=ue.call(n,d,!0)),d}var p=Pe?a.outerHTML:a.innerHTML;return ke&&(p=v(p,pe," "),p=v(p,fe," ")),re&&Oe?re.createHTML(p):p},t.setConfig=function(e){Qe(e),De=!0},t.clearConfig=function(){Ke=null,De=!1},t.isValidAttribute=function(e,t,n){Ke||Qe({});var i=m(e),r=m(t);return pt(i,r,n)},t.addHook=function(e,t){"function"==typeof t&&(he[e]=he[e]||[],f(he[e],t))},t.removeHook=function(e){he[e]&&p(he[e])},t.removeHooks=function(e){he[e]&&(he[e]=[])},t.removeAllHooks=function(){he={}},t}return X()}()},31829:function(e){!function(e,t,n){function i(e,t){return typeof e===t}function r(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):T?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function o(e,n,i,o){var a,s,l,c,u="modernizr",d=r("div"),h=function(){var e=t.body;return e||((e=r(T?"svg":"body")).fake=!0),e}();if(parseInt(i,10))for(;i--;)(l=r("div")).id=o?o[i]:u+(i+1),d.appendChild(l);return(a=r("style")).type="text/css",a.id="s"+u,(h.fake?h:d).appendChild(a),h.appendChild(d),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),d.id=u,h.fake&&(h.style.background="",h.style.overflow="hidden",c=w.style.overflow,w.style.overflow="hidden",w.appendChild(h)),s=n(d,e),h.fake?(h.parentNode.removeChild(h),w.style.overflow=c,w.offsetHeight):d.parentNode.removeChild(d),!!s}function a(e,t){return!!~(""+e).indexOf(t)}function s(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,n){return t+n.toUpperCase()})).replace(/^-/,"")}function l(e,t){return function(){return e.apply(t,arguments)}}function c(t,n,i){var r;if("getComputedStyle"in e){r=getComputedStyle.call(e,t,n);var o=e.console;if(null!==r)i&&(r=r.getPropertyValue(i));else if(o){o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else r=!n&&t.currentStyle&&t.currentStyle[i];return r}function u(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function d(t,i){var r=t.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(u(t[r]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];r--;)a.push("("+u(t[r])+":"+i+")");return o("@supports ("+(a=a.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"==c(e,null,"position")}))}return n}function h(e,t,o,l){function c(){h&&(delete C.style,delete C.modElem)}if(l=!i(l,"undefined")&&l,!i(o,"undefined")){var u=d(e,o);if(!i(u,"undefined"))return u}for(var h,p,f,m,g,v=["modernizr","tspan","samp"];!C.style&&v.length;)h=!0,C.modElem=r(v.shift()),C.style=C.modElem.style;for(f=e.length,p=0;f>p;p++)if(m=e[p],g=C.style[m],a(m,"-")&&(m=s(m)),C.style[m]!==n){if(l||i(o,"undefined"))return c(),"pfx"!=t||m;try{C.style[m]=o}catch(e){}if(C.style[m]!=g)return c(),"pfx"!=t||m}return c(),!1}function p(e,t,n,r,o){var a=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+M.join(a+" ")+a).split(" ");return i(t,"string")||i(t,"undefined")?h(s,t,r,o):function(e,t,n){var r;for(var o in e)if(e[o]in t)return!1===n?e[o]:i(r=t[e[o]],"function")?l(r,n||t):r;return!1}(s=(e+" "+x.join(a+" ")+a).split(" "),t,n)}function f(e,t,i){return p(e,n,n,t,i)}var m=[],g=[],v={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){g.push({name:e,fn:t,options:n})},addAsyncTest:function(e){g.push({name:null,fn:e})}},y=function(){};y.prototype=v,y=new y;var b=v._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];v._prefixes=b;var w=t.documentElement,_="Moz O ms Webkit",x=v._config.usePrefixes?_.toLowerCase().split(" "):[];v._domPrefixes=x;var T="svg"===w.nodeName.toLowerCase(),S="CSS"in e&&"supports"in e.CSS,E="supportsCSS"in e;y.addTest("supports",S||E);var M=(v.testStyles=o,v._config.usePrefixes?_.split(" "):[]);v._cssomPrefixes=M;var A={elem:r("modernizr")};y._q.push((function(){delete A.elem}));var C={style:A.elem.style};y._q.unshift((function(){delete C.style})),v.testProp=function(e,t,i){return h([e],n,t,i)},v.testAllProps=p,v.testAllProps=f,y.addTest("csstransforms",(function(){return-1===navigator.userAgent.indexOf("Android 2.")&&f("transform","scale(1)",!0)})),y.addTest("cssanimations",f("animationName","a",!0)),y.addTest("csstransforms3d",(function(){return!!f("perspective","1px",!0)})),function(){var e,t,n,r,o,a;for(var s in g)if(g.hasOwnProperty(s)){if(e=[],(t=g[s]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=i(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)1===(a=e[o].split(".")).length?y[a[0]]=r:(!y[a[0]]||y[a[0]]instanceof Boolean||(y[a[0]]=new Boolean(y[a[0]])),y[a[0]][a[1]]=r),m.push((r?"":"no-")+a.join("-"))}}(),function(e){var t=w.className,n=y._config.classPrefix||"";if(T&&(t=t.baseVal),y._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}y._config.enableClasses&&(t+=" "+n+e.join(" "+n),T?w.className.baseVal=t:w.className=t)}(m),delete v.addTest,delete v.addAsyncTest;for(var k=0;k<y._q.length;k++)y._q[k]();e.Modernizr=y}(window,document),e.exports=window.Modernizr},22680:function(e){!function(e){function t(){this.coff=["1,0,-29496.6,0.0,11.6,0.0","1,1,-1586.3,4944.4,16.5,-25.9","2,0,-2396.6,0.0,-12.1,0.0","2,1,3026.1,-2707.7,-4.4,-22.5","2,2,1668.6,-576.1,1.9,-11.8","3,0,1340.1,0.0,0.4,0.0","3,1,-2326.2,-160.2,-4.1,7.3","3,2,1231.9,251.9,-2.9,-3.9","3,3,634.0,-536.6,-7.7,-2.6","4,0,912.6,0.0,-1.8,0.0","4,1,808.9,286.4,2.3,1.1","4,2,166.7,-211.2,-8.7,2.7","4,3,-357.1,164.3,4.6,3.9","4,4,89.4,-309.1,-2.1,-0.8","5,0,-230.9,0.0,-1.0,0.0","5,1,357.2,44.6,0.6,0.4","5,2,200.3,188.9,-1.8,1.8","5,3,-141.1,-118.2,-1.0,1.2","5,4,-163.0,0.0,0.9,4.0","5,5,-7.8,100.9,1.0,-0.6","6,0,72.8,0.0,-0.2,0.0","6,1,68.6,-20.8,-0.2,-0.2","6,2,76.0,44.1,-0.1,-2.1","6,3,-141.4,61.5,2.0,-0.4","6,4,-22.8,-66.3,-1.7,-0.6","6,5,13.2,3.1,-0.3,0.5","6,6,-77.9,55.0,1.7,0.9","7,0,80.5,0.0,0.1,0.0","7,1,-75.1,-57.9,-0.1,0.7","7,2,-4.7,-21.1,-0.6,0.3","7,3,45.3,6.5,1.3,-0.1","7,4,13.9,24.9,0.4,-0.1","7,5,10.4,7.0,0.3,-0.8","7,6,1.7,-27.7,-0.7,-0.3","7,7,4.9,-3.3,0.6,0.3","8,0,24.4,0.0,-0.1,0.0","8,1,8.1,11.0,0.1,-0.1","8,2,-14.5,-20.0,-0.6,0.2","8,3,-5.6,11.9,0.2,0.4","8,4,-19.3,-17.4,-0.2,0.4","8,5,11.5,16.7,0.3,0.1","8,6,10.9,7.0,0.3,-0.1","8,7,-14.1,-10.8,-0.6,0.4","8,8,-3.7,1.7,0.2,0.3","9,0,5.4,0.0,0.0,0.0","9,1,9.4,-20.5,-0.1,0.0","9,2,3.4,11.5,0.0,-0.2","9,3,-5.2,12.8,0.3,0.0","9,4,3.1,-7.2,-0.4,-0.1","9,5,-12.4,-7.4,-0.3,0.1","9,6,-0.7,8.0,0.1,0.0","9,7,8.4,2.1,-0.1,-0.2","9,8,-8.5,-6.1,-0.4,0.3","9,9,-10.1,7.0,-0.2,0.2","10,0,-2.0,0.0,0.0,0.0","10,1,-6.3,2.8,0.0,0.1","10,2,0.9,-0.1,-0.1,-0.1","10,3,-1.1,4.7,0.2,0.0","10,4,-0.2,4.4,0.0,-0.1","10,5,2.5,-7.2,-0.1,-0.1","10,6,-0.3,-1.0,-0.2,0.0","10,7,2.2,-3.9,0.0,-0.1","10,8,3.1,-2.0,-0.1,-0.2","10,9,-1.0,-2.0,-0.2,0.0","10,10,-2.8,-8.3,-0.2,-0.1","11,0,3.0,0.0,0.0,0.0","11,1,-1.5,0.2,0.0,0.0","11,2,-2.1,1.7,0.0,0.1","11,3,1.7,-0.6,0.1,0.0","11,4,-0.5,-1.8,0.0,0.1","11,5,0.5,0.9,0.0,0.0","11,6,-0.8,-0.4,0.0,0.1","11,7,0.4,-2.5,0.0,0.0","11,8,1.8,-1.3,0.0,-0.1","11,9,0.1,-2.1,0.0,-0.1","11,10,0.7,-1.9,-0.1,0.0","11,11,3.8,-1.8,0.0,-0.1","12,0,-2.2,0.0,0.0,0.0","12,1,-0.2,-0.9,0.0,0.0","12,2,0.3,0.3,0.1,0.0","12,3,1.0,2.1,0.1,0.0","12,4,-0.6,-2.5,-0.1,0.0","12,5,0.9,0.5,0.0,0.0","12,6,-0.1,0.6,0.0,0.1","12,7,0.5,0.0,0.0,0.0","12,8,-0.4,0.1,0.0,0.0","12,9,-0.4,0.3,0.0,0.0","12,10,0.2,-0.9,0.0,0.0","12,11,-0.8,-0.2,-0.1,0.0","12,12,0.0,0.9,0.1,0.0"],this.c=new Array(13),this.cd=new Array(13),this.tc=new Array(13),this.dp=new Array(13),this.k=new Array(13);for(var e=0;e<13;e++)this.c[e]=new Array(13),this.cd[e]=new Array(13),this.tc[e]=new Array(13),this.dp[e]=new Array(13),this.k[e]=new Array(13);this.snorm=new Array(169),this.sp=new Array(13),this.cp=new Array(13),this.fn=new Array(13),this.fm=new Array(13),this.pp=new Array(13);var t,n,i,r,o,a,s,l,c,u,d,h,p,f;for(12,this.sp[0]=0,this.cp[0]=this.snorm[0]=this.pp[0]=1,this.dp[0][0]=0,6371.2,(s=(o=6378.137)*o)-(l=(a=6356.7523142)*a),s*s,l*l,22083079019902.25,this.c[0][0]=0,this.cd[0][0]=0,e=0;e<this.coff.length;e++)f=this.coff[e].split(","),i=parseInt(f[0],10),r=parseInt(f[1],10),c=parseFloat(f[2]),u=parseFloat(f[3]),d=parseFloat(f[4]),h=parseFloat(f[5]),r<=i&&(this.c[r][i]=c,this.cd[r][i]=d,0!=r&&(this.c[i][r-1]=u,this.cd[i][r-1]=h));for(this.snorm[0]=1,i=1;i<=12;i++){for(this.snorm[i]=this.snorm[i-1]*(2*i-1)/i,t=2,1,n=(i-(r=0)+1)/1;n>0;n--,r+=1)this.k[r][i]=((i-1)*(i-1)-r*r)/((2*i-1)*(2*i-3)),r>0&&(p=(i-r+1)*t/(i+r),this.snorm[i+13*r]=this.snorm[i+13*(r-1)]*Math.sqrt(p),t=1,this.c[i][r-1]=this.snorm[i+13*r]*this.c[i][r-1],this.cd[i][r-1]=this.snorm[i+13*r]*this.cd[i][r-1]),this.c[r][i]=this.snorm[i+13*r]*this.c[r][i],this.cd[r][i]=this.snorm[i+13*r]*this.cd[r][i];this.fn[i]=i+1,this.fm[i]=i}this.k[1][1]=0,this.fm[0]=0}t.prototype.declination=function(e,t){var n,i,o,a,s,l,c,u,d,h,p,f,m,g,v,y,b,w,_,x,T,S,E,M,A,C,k,P,D,R,$,I,L,O,N,F,B,U=6378.137,z=6356.7523142,V=U*U,H=z*z,j=V-H,W=V*V,G=t,q=e;for(5,3.14159265359,l=G*(I=3.14159265359/180),c=q*I,u=Math.sin(l),d=Math.sin(c),h=Math.cos(l),f=d*d,m=(p=Math.cos(c))*p,this.sp[1]=u,this.cp[1]=h,y=((v=0*(g=Math.sqrt(V-j*f)))+V)/(v+H)*((v+V)/(v+H)),b=d/Math.sqrt(y*m+f),N=Math.sqrt(1-b*b),S=0+2*v+(W-22083079019902.25*f)/(g*g),r=Math.sqrt(S),F=(0+(w=Math.sqrt(V*m+H*f)))/r,B=j*p*d/(r*w),s=2;s<=12;s++)this.sp[s]=this.sp[1]*this.cp[s-1]+this.cp[1]*this.sp[s-1],this.cp[s]=this.cp[1]*this.cp[s-1]-this.sp[1]*this.sp[s-1];for(x=(_=6371.2/r)*_,T=O=L=E=0,a=1;a<=12;a++)for(x*=_,1,n=(a+(s=0)+1)/1;n>0;n--,s+=1)a==s?(this.snorm[a+13*s]=N*this.snorm[a-1+13*(s-1)],this.dp[s][a]=N*this.dp[s-1][a-1]+b*this.snorm[a-1+13*(s-1)]):1==a&&0==s?(this.snorm[a+13*s]=b*this.snorm[a-1+13*s],this.dp[s][a]=b*this.dp[s][a-1]-N*this.snorm[a-1+13*s]):a>1&&a!=s&&(s>a-2&&(this.snorm[a-2+13*s]=0),s>a-2&&(this.dp[s][a-2]=0),this.snorm[a+13*s]=b*this.snorm[a-1+13*s]-this.k[s][a]*this.snorm[a-2+13*s],this.dp[s][a]=b*this.dp[s][a-1]-N*this.snorm[a-1+13*s]-this.k[s][a]*this.dp[s][a-2]),this.tc[s][a]=this.c[s][a]+5*this.cd[s][a],0!=s&&(this.tc[a][s-1]=this.c[a][s-1]+5*this.cd[a][s-1]),M=x*this.snorm[a+13*s],0==s?(A=this.tc[s][a]*this.cp[s],k=this.tc[s][a]*this.sp[s]):(A=this.tc[s][a]*this.cp[s]+this.tc[a][s-1]*this.sp[s],k=this.tc[s][a]*this.sp[s]-this.tc[a][s-1]*this.cp[s]),O-=x*A*this.dp[s][a],L+=this.fm[s]*k*M,T+=this.fn[a]*A*M,0==N&&1==s&&(this.pp[a]=1==a?this.pp[a-1]:this.ct*this.pp[a-1]-this.k[s][a]*this.pp[a-2],C=x*this.pp[a],E+=this.fm[s]*k*C);return 0==N?L=E:L/=N,P=-O*F-T*B,D=L,R=O*B-T*F,$=Math.sqrt(P*P+D*D),Math.sqrt($*$+R*R),o=Math.atan2(D,P)/I,Math.atan2(R,$)/I,i=-999,Math.abs(q)>=55&&(q>0&&G>=0&&(i=o-G),q>0&&G<0&&(i=o+Math.abs(G)),q<0&&G>=0&&(i=o+G),q<0&&G<0&&(i=o-Math.abs(G)),i>180&&(i-=360),i<-180&&(i+=360)),o},e.WorldMagneticModel=t}(window),e.exports=window.WorldMagneticModel},88276:function(e,t,n){var i,r=r||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},l=function(e){setTimeout((function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()}),4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(t,u,d){d||(t=c(t));var h,p=this,f="application/octet-stream"===t.type,m=function(){!function(e,t,n){for(var i=(t=[].concat(t)).length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){s(e)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,r)return h=n().createObjectURL(t),void setTimeout((function(){var e,t;i.href=h,i.download=u,e=i,t=new MouseEvent("click"),e.dispatchEvent(t),m(),l(h),p.readyState=p.DONE}));!function(){if((a||f&&o)&&e.FileReader){var i=new FileReader;return i.onloadend=function(){var t=a?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,m()},i.readAsDataURL(t),void(p.readyState=p.INIT)}(h||(h=n().createObjectURL(t)),f)?e.location.href=h:e.open(h,"_blank")||(e.location.href=h);p.readyState=p.DONE,m(),l(h)}()},d=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);e.exports?e.exports.saveAs=r:null!==n.amdD&&null!==n.amdO&&(void 0===(i=function(){return r}.call(t,n,t,e))||(e.exports=i))},86905:function(e,t,n){"use strict";n.d(t,{ML:function(){return i},MQ:function(){return s},SX:function(){return c},VN:function(){return u},ZP:function(){return r},fw:function(){return l},li:function(){return o}}),e=n.hmd(e);var i="undefined"!=typeof window?window:e.exports&&void 0!==n.g?n.g:{},r=function(e,t){var n={},i=e.document,r=e.GreenSockGlobals=e.GreenSockGlobals||e;if(r.TweenLite)return r.TweenLite;var o,a,s,l,c,u,d,h=function(e){var t,n=e.split("."),i=r;for(t=0;t<n.length;t++)i[n[t]]=i=i[n[t]]||{};return i},p=h("com.greensock"),f=1e-10,m=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},g=function(){},v=(u=Object.prototype.toString,d=u.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&u.call(e)===d)}),y={},b=function(e,t,i,o){this.sc=y[e]?y[e].sc:[],y[e]=this,this.gsClass=null,this.func=i;var a=[];this.check=function(s){for(var l,c,u,d,p=t.length,f=p;--p>-1;)(l=y[t[p]]||new b(t[p],[])).gsClass?(a[p]=l.gsClass,f--):s&&l.sc.push(this);if(0===f&&i)for(u=(c=("com.greensock."+e).split(".")).pop(),d=h(c.join("."))[u]=this.gsClass=i.apply(i,a),o&&(r[u]=n[u]=d),p=0;p<this.sc.length;p++)this.sc[p].check()},this.check(!0)},w=e._gsDefine=function(e,t,n,i){return new b(e,t,n,i)},_=p._class=function(e,t,n){return t=t||function(){},w(e,[],(function(){return t}),n),t};w.globals=r;var x=[0,0,1,1],T=_("easing.Ease",(function(e,t,n,i){this._func=e,this._type=n||0,this._power=i||0,this._params=t?x.concat(t):x}),!0),S=T.map={},E=T.register=function(e,t,n,i){for(var r,o,a,s,l=t.split(","),c=l.length,u=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=l[c],r=i?_("easing."+o,null,!0):p.easing[o]||{},a=u.length;--a>-1;)s=u[a],S[o+"."+s]=S[s+o]=r[s]=e.getRatio?e:e[s]||new e};for((s=T.prototype)._calcEnd=!1,s.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,i=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===t?1-i:2===t?i:e<.5?i/2:1-i/2},a=(o=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--a>-1;)s=o[a]+",Power"+a,E(new T(null,null,1,a),s,"easeOut",!0),E(new T(null,null,2,a),s,"easeIn"+(0===a?",easeNone":"")),E(new T(null,null,3,a),s,"easeInOut");S.linear=p.easing.Linear.easeIn,S.swing=p.easing.Quad.easeInOut;var M=_("events.EventDispatcher",(function(e){this._listeners={},this._eventTarget=e||this}));(s=M.prototype).addEventListener=function(e,t,n,i,r){r=r||0;var o,a,s=this._listeners[e],u=0;for(this!==l||c||l.wake(),null==s&&(this._listeners[e]=s=[]),a=s.length;--a>-1;)(o=s[a]).c===t&&o.s===n?s.splice(a,1):0===u&&o.pr<r&&(u=a+1);s.splice(u,0,{c:t,s:n,up:i,pr:r})},s.removeEventListener=function(e,t){var n,i=this._listeners[e];if(i)for(n=i.length;--n>-1;)if(i[n].c===t)return void i.splice(n,1)},s.dispatchEvent=function(e){var t,n,i,r=this._listeners[e];if(r)for((t=r.length)>1&&(r=r.slice(0)),n=this._eventTarget;--t>-1;)(i=r[t])&&(i.up?i.c.call(i.s||n,{type:e,target:n}):i.c.call(i.s||n))};var A=e.requestAnimationFrame,C=e.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},P=k();for(a=(o=["ms","moz","webkit","o"]).length;--a>-1&&!A;)A=e[o[a]+"RequestAnimationFrame"],C=e[o[a]+"CancelAnimationFrame"]||e[o[a]+"CancelRequestAnimationFrame"];_("Ticker",(function(e,t){var n,r,o,a,s,u=this,d=k(),h=!(!1===t||!A)&&"auto",p=500,m=33,v=function(e){var t,i,l=k()-P;l>p&&(d+=l-m),P+=l,u.time=(P-d)/1e3,t=u.time-s,(!n||t>0||!0===e)&&(u.frame++,s+=t+(t>=a?.004:a-t),i=!0),!0!==e&&(o=r(v)),i&&u.dispatchEvent("tick")};M.call(u),u.time=u.frame=0,u.tick=function(){v(!0)},u.lagSmoothing=function(e,t){if(!arguments.length)return p<1/f;p=e||1/f,m=Math.min(t,p,0)},u.sleep=function(){null!=o&&(h&&C?C(o):clearTimeout(o),r=g,o=null,u===l&&(c=!1))},u.wake=function(e){null!==o?u.sleep():e?d+=-P+(P=k()):u.frame>10&&(P=k()-p+5),r=0===n?g:h&&A?A:function(e){return setTimeout(e,1e3*(s-u.time)+1|0)},u===l&&(c=!0),v(2)},u.fps=function(e){if(!arguments.length)return n;a=1/((n=e)||60),s=this.time+a,u.wake()},u.useRAF=function(e){if(!arguments.length)return h;u.sleep(),h=e,u.fps(n)},u.fps(e),setTimeout((function(){"auto"===h&&u.frame<5&&"hidden"!==(i||{}).visibilityState&&u.useRAF(!1)}),1500)})),(s=p.Ticker.prototype=new p.events.EventDispatcher).constructor=p.Ticker;var D=_("core.Animation",(function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,Y){c||l.wake();var n=this.vars.useFrames?X:Y;n.add(this,n._time),this.vars.paused&&this.paused(!0)}}));l=D.ticker=new p.Ticker,(s=D.prototype)._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var R=function(){c&&k()-P>2e3&&("hidden"!==(i||{}).visibilityState||!l.lagSmoothing())&&l.wake();var e=setTimeout(R,2e3);e.unref&&e.unref()};R(),s.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},s.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},s.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},s.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},s.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},s.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},s.render=function(e,t,n){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},s.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},s._enabled=function(e,t){return c||l.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(e,t){return this._enabled(!1,!1)},s.kill=function(e,t){return this._kill(e,t),this},s._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},s._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},s._callback=function(e){var t=this.vars,n=t[e],i=t[e+"Params"],r=t[e+"Scope"]||t.callbackScope||this;switch(i?i.length:0){case 0:n.call(r);break;case 1:n.call(r,i[0]);break;case 2:n.call(r,i[0],i[1]);break;default:n.apply(r,i)}},s.eventCallback=function(e,t,n,i){if("on"===(e||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[e];null==t?delete r[e]:(r[e]=t,r[e+"Params"]=v(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,r[e+"Scope"]=i),"onUpdate"===e&&(this._onUpdate=t)}return this},s.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},s.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},s.totalTime=function(e,t,n){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,r=this._timeline;if(e>i&&!n&&(e=i),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?i-e:e)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(O.length&&J(),this.render(e,t,!1),O.length&&J())}return this},s.progress=s.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},s.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},s.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||f,this._timeline&&this._timeline.smoothChildTiming&&(n=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},s.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(e){if(!arguments.length)return this._paused;var t,n,i=this._timeline;return e!=this._paused&&i&&(c||e||l.wake(),n=(t=i.rawTime())-this._pauseTime,!e&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=i.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var $=_("core.SimpleTimeline",(function(e){D.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0}));(s=$.prototype=new D).constructor=$,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(e,t,n,i){var r,o;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),r=this._last,this._sortChildren)for(o=e._startTime;r&&r._startTime>o;)r=r._prev;return r?(e._next=r._next,r._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=r,this._recent=e,this._timeline&&this._uncache(!0),this},s._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(e,t,n){var i,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;r;)i=r._next,(r._active||e>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n)),r=i},s.rawTime=function(){return c||l.wake(),this._totalTime};var I=_("TweenLite",(function(t,n,i){if(D.call(this,n,i),this.render=I.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:I.selector(t)||t;var r,o,a,s=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?Z[I.defaultOverwrite]:"number"==typeof l?l>>0:Z[l],(s||t instanceof Array||t.push&&v(t))&&"number"!=typeof t[0])for(this._targets=a=m(t),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)(o=a[r])?"string"!=typeof o?o.length&&o!==e&&o[0]&&(o[0]===e||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(m(o))):(this._siblings[r]=Q(o,this,!1),1===l&&this._siblings[r].length>1&&te(o,this,null,1,this._siblings[r])):"string"==typeof(o=a[r--]=I.selector(o))&&a.splice(r+1,1):a.splice(r--,1);else this._propLookup={},this._siblings=Q(t,this,!1),1===l&&this._siblings.length>1&&te(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))}),!0),L=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)};(s=I.prototype=new D).constructor=I,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,I.version="2.0.2",I.defaultEase=s._ease=new T(null,null,1,1),I.defaultOverwrite="auto",I.ticker=l,I.autoSleep=120,I.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},I.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(I.selector=n,n(t)):(i||(i=e.document),i?i.querySelectorAll?i.querySelectorAll(t):i.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var O=[],N={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,B=/[\+-]=-?[\.\d]/,U=function(e){for(var t,n=this._firstPT,i=1e-6;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m.call(this._tween,t,this._target||n.t,this._tween):t<i&&t>-i&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},z=function(e,t,n,i){var r,o,a,s,l,c,u,d=[],h=0,p="",f=0;for(d.start=e,d.end=t,e=d[0]=e+"",t=d[1]=t+"",n&&(n(d),e=d[0],t=d[1]),d.length=0,r=e.match(F)||[],o=t.match(F)||[],i&&(i._next=null,i.blob=1,d._firstPT=d._applyPT=i),l=o.length,s=0;s<l;s++)u=o[s],p+=(c=t.substr(h,t.indexOf(u,h)-h))||!s?c:",",h+=c.length,f?f=(f+1)%5:"rgba("===c.substr(-5)&&(f=1),u===r[s]||r.length<=s?p+=u:(p&&(d.push(p),p=""),a=parseFloat(r[s]),d.push(a),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:a,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-a)||0,f:0,m:f&&f<4?Math.round:0}),h+=u.length;return(p+=t.substr(h))&&d.push(p),d.setRatio=U,B.test(t)&&(d.end=null),d},V=function(e,t,n,i,r,o,a,s,l){"function"==typeof i&&(i=i(l||0,e));var c=typeof e[t],u="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),d="get"!==n?n:u?a?e[u](a):e[u]():e[t],h="string"==typeof i&&"="===i.charAt(1),p={t:e,p:t,s:d,f:"function"===c,pg:0,n:r||t,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:h?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-d||0};if(("number"!=typeof d||"number"!=typeof i&&!h)&&(a||isNaN(d)||!h&&isNaN(i)||"boolean"==typeof d||"boolean"==typeof i?(p.fp=a,p={t:z(d,h?parseFloat(p.s)+p.c+(p.s+"").replace(/[0-9\-\.]/g,""):i,s||I.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:r||t,pr:0,m:0}):(p.s=parseFloat(d),h||(p.c=parseFloat(i)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},H=I._internals={isArray:v,isSelector:L,lazyTweens:O,blobDif:z},j=I._plugins={},W=H.tweenLookup={},G=0,q=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Z={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},X=D._rootFramesTimeline=new $,Y=D._rootTimeline=new $,K=30,J=H.lazyRender=function(){var e,t=O.length;for(N={};--t>-1;)(e=O[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);O.length=0};Y._startTime=l.time,X._startTime=l.frame,Y._active=X._active=!0,setTimeout(J,1),D._updateRoot=I.render=function(){var e,t,n;if(O.length&&J(),Y.render((l.time-Y._startTime)*Y._timeScale,!1,!1),X.render((l.frame-X._startTime)*X._timeScale,!1,!1),O.length&&J(),l.frame>=K){for(n in K=l.frame+(parseInt(I.autoSleep,10)||120),W){for(e=(t=W[n].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete W[n]}if((!(n=Y._first)||n._paused)&&I.autoSleep&&!X._first&&1===l._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||l.sleep()}}},l.addEventListener("tick",D._updateRoot);var Q=function(e,t,n){var i,r,o=e._gsTweenID;if(W[o||(e._gsTweenID=o="t"+G++)]||(W[o]={target:e,tweens:[]}),t&&((i=W[o].tweens)[r=i.length]=t,n))for(;--r>-1;)i[r]===t&&i.splice(r,1);return W[o].tweens},ee=function(e,t,n,i){var r,o,a=e.vars.onOverwrite;return a&&(r=a(e,t,n,i)),(a=I.onOverwrite)&&(o=a(e,t,n,i)),!1!==r&&!1!==o},te=function(e,t,n,i,r){var o,a,s,l;if(1===i||i>=4){for(l=r.length,o=0;o<l;o++)if((s=r[o])!==t)s._gc||s._kill(null,e,t)&&(a=!0);else if(5===i)break;return a}var c,u=t._startTime+f,d=[],h=0,p=0===t._duration;for(o=r.length;--o>-1;)(s=r[o])===t||s._gc||s._paused||(s._timeline!==t._timeline?(c=c||ne(t,0,p),0===ne(s,c,p)&&(d[h++]=s)):s._startTime<=u&&s._startTime+s.totalDuration()/s._timeScale>u&&((p||!s._initted)&&u-s._startTime<=2e-10||(d[h++]=s)));for(o=h;--o>-1;)if(l=(s=d[o])._firstPT,2===i&&s._kill(n,e,t)&&(a=!0),2!==i||!s._firstPT&&s._initted&&l){if(2!==i&&!ee(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},ne=function(e,t,n){for(var i=e._timeline,r=i._timeScale,o=e._startTime;i._timeline;){if(o+=i._startTime,r*=i._timeScale,i._paused)return-100;i=i._timeline}return(o/=r)>t?o-t:n&&o===t||!e._initted&&o-t<2e-10?f:(o+=e.totalDuration()/e._timeScale/r)>t+f?0:o-t-f};s._init=function(){var e,t,n,i,r,o,a=this.vars,s=this._overwrittenProps,l=this._duration,c=!!a.immediateRender,u=a.ease;if(a.startAt){for(i in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={},a.startAt)r[i]=a.startAt[i];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=c&&!1!==a.lazy,r.startAt=r.delay=null,r.onUpdate=a.onUpdate,r.onUpdateParams=a.onUpdateParams,r.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=I.to(this.target||{},0,r),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(i in 0!==this._time&&(c=!1),n={},a)q[i]&&"autoCSS"!==i||(n[i]=a[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&!1!==a.lazy,n.immediateRender=c,this._startAt=I.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof T?u:"function"==typeof u?new T(u,a.easeParams):S[u]||I.defaultEase:I.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,e=0;e<o;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&I._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},s._initProps=function(t,n,i,r,o){var a,s,l,c,u,d;if(null==t)return!1;for(a in N[t._gsTweenID]&&J(),this.vars.css||t.style&&t!==e&&t.nodeType&&j.css&&!1!==this.vars.autoCSS&&function(e,t){var n,i={};for(n in e)q[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!j[n]||j[n]&&j[n]._autoCSS)||(i[n]=e[n],delete e[n]);e.css=i}(this.vars,t),this.vars)if(d=this.vars[a],q[a])d&&(d instanceof Array||d.push&&v(d))&&-1!==d.join("").indexOf("{self}")&&(this.vars[a]=d=this._swapSelfInParams(d,this));else if(j[a]&&(c=new j[a])._onInitTween(t,this.vars[a],this,o)){for(this._firstPT=u={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)n[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else n[a]=V.call(this,t,a,"get",d,a,0,null,this.vars.stringFilter,o);return r&&this._kill(r,t)?this._initProps(t,n,i,r,o):this._overwrite>1&&this._firstPT&&i.length>1&&te(t,this,n,this._overwrite,i)?(this._kill(n,t),this._initProps(t,n,i,r,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(N[t._gsTweenID]=!0),l)},s.render=function(e,t,n){var i,r,o,a,s=this._time,l=this._duration,c=this._rawPrevTime;if(e>=l-1e-7&&e>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,r="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(c<0||e<=0&&e>=-1e-7||c===f&&"isPause"!==this.data)&&c!==e&&(n=!0,c>f&&(r="onReverseComplete")),this._rawPrevTime=a=!t||e||c===e?e:f);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&c>0)&&(r="onReverseComplete",i=this._reversed),e<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(c!==f||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!t||e||c===e?e:f)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var u=e/l,d=this._easeType,h=this._easePower;(1===d||3===d&&u>=.5)&&(u=1-u),3===d&&(u*=2),1===h?u*=u:2===h?u*=u*u:3===h?u*=u*u*u:4===h&&(u*=u*u*u*u),this.ratio=1===d?1-u:2===d?u:e/l<.5?u/2:1-u/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,O.push(this),void(this._lazy=[e,t]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/l):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,!0,n):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&-1e-4!==e&&this._startAt.render(e,!0,n),t||(this._time!==s||i||n)&&this._callback("onUpdate")),r&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,!0,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===f&&a!==f&&(this._rawPrevTime=0)))}},s._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:I.selector(t)||t;var i,r,o,a,s,l,c,u,d,h=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline,p=this._firstPT;if((v(t)||L(t))&&"number"!=typeof t[0])for(i=t.length;--i>-1;)this._kill(e,t[i],n)&&(l=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(t===this._targets[i]){s=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(c=e||s,u=e!==r&&"all"!==r&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(I.onOverwrite||this.vars.onOverwrite)){for(o in c)s[o]&&(d||(d=[]),d.push(o));if((d||!e)&&!ee(this,n,t,d))return!1}for(o in c)(a=s[o])&&(h&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(c)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),u&&(r[o]=1);!this._firstPT&&this._initted&&p&&this._enabled(!1,!1)}}return l},s.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],D.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},s._enabled=function(e,t){if(c||l.wake(),e&&this._gc){var n,i=this._targets;if(i)for(n=i.length;--n>-1;)this._siblings[n]=Q(i[n],this,!0);else this._siblings=Q(this.target,this,!0)}return D.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&I._onPluginEvent(e?"_onEnable":"_onDisable",this)},I.to=function(e,t,n){return new I(e,t,n)},I.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new I(e,t,n)},I.fromTo=function(e,t,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new I(e,t,i)},I.delayedCall=function(e,t,n,i,r){return new I(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:i,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},I.set=function(e,t){return new I(e,0,t)},I.getTweensOf=function(e,t){if(null==e)return[];var n,i,r,o;if(e="string"!=typeof e?e:I.selector(e)||e,(v(e)||L(e))&&"number"!=typeof e[0]){for(n=e.length,i=[];--n>-1;)i=i.concat(I.getTweensOf(e[n],t));for(n=i.length;--n>-1;)for(o=i[n],r=n;--r>-1;)o===i[r]&&i.splice(n,1)}else if(e._gsTweenID)for(n=(i=Q(e).concat()).length;--n>-1;)(i[n]._gc||t&&!i[n].isActive())&&i.splice(n,1);return i||[]},I.killTweensOf=I.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var i=I.getTweensOf(e,t),r=i.length;--r>-1;)i[r]._kill(n,e)};var ie=_("plugins.TweenPlugin",(function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ie.prototype}),!0);if(s=ie.prototype,ie.version="1.19.0",ie.API=2,s._firstPT=null,s._addTween=V,s.setRatio=U,s._kill=function(e){var t,n=this._overwriteProps,i=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;i;)null!=e[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},s._mod=s._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},I._onPluginEvent=function(e,t){var n,i,r,o,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,i=r;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:o)?s._prev._next=s:r=s,(s._next=i)?i._prev=s:o=s,s=a}s=t._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},ie.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ie.API&&(j[(new e[t])._propName]=e[t]);return!0},w.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,i=e.priority||0,r=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=_("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",(function(){ie.call(this,n,i),this._overwriteProps=r||[]}),!0===e.global),s=a.prototype=new ie(n);for(t in s.constructor=a,a.API=e.API,o)"function"==typeof e[t]&&(s[o[t]]=e[t]);return a.version=e.version,ie.activate([a]),a},o=e._gsQueue){for(a=0;a<o.length;a++)o[a]();for(s in y)y[s].func||e.console.log("GSAP encountered missing dependency: "+s)}return c=!1,I}(i),o=i.GreenSockGlobals,a=o.com.greensock,s=a.core.SimpleTimeline,l=a.core.Animation,c=o.Ease,u=(o.Linear,o.Power1,o.Power2,o.Power3,o.Power4,o.TweenPlugin);a.events.EventDispatcher},61370:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},18918:function(e,t,n){var i=n(65638);n(65638);!function(e){"use strict";var t={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(e){if(!z(e))return t;U(e.objectMaxDepth)&&(t.objectMaxDepth=r(e.objectMaxDepth)?e.objectMaxDepth:NaN),U(e.urlErrorParamsEnabled)&&J(e.urlErrorParamsEnabled)&&(t.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function r(e){return j(e)&&e>0}function o(e,n){n=n||Error;var i="https://errors.angularjs.org/1.8.3/",r=i.replace(".","\\.")+"[\\s\\S]*",o=new RegExp(r,"g");return function(){var r,a,s=arguments[0],l=arguments[1],c="["+(e?e+":":"")+s+"] ",u=pe(arguments,2).map((function(e){return We(e,t.objectMaxDepth)}));if(c+=l.replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1);return t<u.length?u[t].replace(o,""):e})),c+="\n"+i+(e?e+"/":"")+s,t.urlErrorParamsEnabled)for(a=0,r="?";a<u.length;a++,r="&")c+=r+"p"+a+"="+encodeURIComponent(u[a]);return new n(c)}}var a,s,l,c,u=/^\/(.+)\/([a-z]*)$/,d="validity",h=Object.prototype.hasOwnProperty,p=function(e){return H(e)?e.toLowerCase():e},f=function(e){return H(e)?e.toUpperCase():e},m=[].slice,g=[].splice,v=[].push,y=Object.prototype.toString,b=Object.getPrototypeOf,w=o("ng"),_=e.angular||(e.angular={}),x=0;function T(e){if(null==e||Y(e))return!1;if(G(e)||H(e)||s&&e instanceof s)return!0;var t="length"in Object(e)&&e.length;return j(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function S(e,t,n){var i,r;if(e)if(Z(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(G(e)||T(e)){var o="object"!=typeof e;for(i=0,r=e.length;i<r;i++)(o||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==S)e.forEach(t,n,e);else if(V(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)h.call(e,i)&&t.call(n,e[i],i,e);return e}function E(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function M(e){return function(t,n){e(n,t)}}function A(){return++x}function C(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function k(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(z(a)||Z(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l],d=a[u];n&&z(d)?W(d)?e[u]=new Date(d.valueOf()):X(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):ie(d)?e[u]=d.clone():"__proto__"!==u&&(z(e[u])||(e[u]=G(d)?[]:{}),k(e[u],[d],!0)):e[u]=d}}return C(e,i),e}function P(e){return k(e,m.call(arguments,1),!1)}function D(e){return k(e,m.call(arguments,1),!0)}function R(e){return parseInt(e,10)}a=e.document.documentMode;var $=Number.isNaN||function(e){return e!=e};function I(e,t){return P(Object.create(e),t)}function L(){}function O(e){return e}function N(e){return function(){return e}}function F(e){return Z(e.toString)&&e.toString!==y}function B(e){return void 0===e}function U(e){return void 0!==e}function z(e){return null!==e&&"object"==typeof e}function V(e){return null!==e&&"object"==typeof e&&!b(e)}function H(e){return"string"==typeof e}function j(e){return"number"==typeof e}function W(e){return"[object Date]"===y.call(e)}function G(e){return Array.isArray(e)||e instanceof Array}function q(e){switch(y.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function Z(e){return"function"==typeof e}function X(e){return"[object RegExp]"===y.call(e)}function Y(e){return e&&e.window===e}function K(e){return e&&e.$evalAsync&&e.$watch}function J(e){return"boolean"==typeof e}function Q(e){return e&&Z(e.then)}L.$inject=[],O.$inject=[];var ee=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var te=function(e){return H(e)?e.trim():e},ne=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function ie(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function re(e){return p(e.nodeName||e[0]&&e[0].nodeName)}function oe(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function ae(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function se(e,t,n){var i,o,a=[],s=[];if(n=r(n)?n:NaN,t){if((o=t)&&j(o.length)&&ee.test(y.call(o))||(i=t,"[object ArrayBuffer]"===y.call(i)))throw w("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw w("cpi","Can't copy! Source and destination are identical.");return G(t)?t.length=0:S(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),a.push(e),s.push(t),l(e,t,n)}return c(e,n);function l(e,t,n){if(--n<0)return"...";var i,r=t.$$hashKey;if(G(e))for(var o=0,a=e.length;o<a;o++)t.push(c(e[o],n));else if(V(e))for(i in e)t[i]=c(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=c(e[i],n));else for(i in e)h.call(e,i)&&(t[i]=c(e[i],n));return C(t,r),t}function c(e,t){if(!z(e))return e;var n=a.indexOf(e);if(-1!==n)return s[n];if(Y(e)||K(e))throw w("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=function(e){switch(y.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(c(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(Z(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===r&&(r=G(e)?[]:Object.create(b(e)),i=!0),a.push(e),s.push(r),i?l(e,r,t):r}}function le(e,t){return e===t||e!=e&&t!=t}function ce(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,i,r,o=typeof e;if(o===typeof t&&"object"===o){if(!G(e)){if(W(e))return!!W(t)&&le(e.getTime(),t.getTime());if(X(e))return!!X(t)&&e.toString()===t.toString();if(K(e)||K(t)||Y(e)||Y(t)||G(t)||W(t)||X(t))return!1;for(i in r=ze(),e)if("$"!==i.charAt(0)&&!Z(e[i])){if(!ce(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&U(t[i])&&!Z(t[i]))return!1;return!0}if(!G(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!ce(e[i],t[i]))return!1;return!0}}return!1}var ue=function(){if(!U(ue.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ue.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ue.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ue.rules},de=function(){if(U(de.name_))return de.name_;var t,n,i,r,o=Ae.length;for(n=0;n<o;++n)if(i=Ae[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return de.name_=r};function he(e,t,n){return e.concat(m.call(t,n))}function pe(e,t){return m.call(e,t||0)}function fe(e,t){var n=arguments.length>2?pe(arguments,2):[];return!Z(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,he(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function me(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:Y(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":K(n)&&(i="$SCOPE"),i}function ge(e,t){if(!B(e))return j(t)||(t=t?2:null),JSON.stringify(e,me,t)}function ve(e){return H(e)?JSON.parse(e):e}var ye=/:/g;function be(e,t){e=e.replace(ye,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return $(n)?t:n}function we(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function _e(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return we(e,n*(be(t,i)-i))}function xe(e){e=s(e).clone().empty();var t=s("<div></div>").append(e).html();try{return e[0].nodeType===He?p(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(e,t){return"<"+p(t)}))}catch(e){return p(t)}}function Te(e){try{return decodeURIComponent(e)}catch(e){}}function Se(e){var t={};return S((e||"").split("&"),(function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(i=e.substring(0,n),r=e.substring(n+1)),U(i=Te(i))&&(r=!U(r)||Te(r),h.call(t,i)?G(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))})),t}function Ee(e){return Me(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Me(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Ae=["ng-","data-ng-","ng:","x-ng-"];var Ce=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var i=n.attributes;return[i.getNamedItem("src"),i.getNamedItem("href"),i.getNamedItem("xlink:href")].every((function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(e.document);function ke(t,n){var i,r,o={};if(S(Ae,(function(e){var n=e+"app";!i&&t.hasAttribute&&t.hasAttribute(n)&&(i=t,r=t.getAttribute(n))})),S(Ae,(function(e){var n,o=e+"app";!i&&(n=t.querySelector("["+o.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(o))})),i){if(!Ce)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(e,t){var n,i,r=Ae.length;for(i=0;i<r;++i)if(n=Ae[i]+t,H(n=e.getAttribute(n)))return n;return null}(i,"strict-di"),n(i,r?[r]:[],o)}}function Pe(t,n,i){z(i)||(i={});i=P({strictDi:!1},i);var r=function(){if((t=s(t)).injector()){var r=t[0]===e.document?"document":xe(t);throw w("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Qt(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply((function(){t.data("$injector",i),n(t)(e)}))}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!a.test(e.name))return r();e.name=e.name.replace(a,""),_.resumeBootstrap=function(e){return S(e,(function(e){n.push(e)})),r()},Z(_.resumeDeferredBootstrap)&&_.resumeDeferredBootstrap()}function De(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Re(e){var t=_.element(e).injector();if(!t)throw w("test","no injector found for element argument to getTestability");return t.get("$$testability")}var $e=/[A-Z]/g;function Ie(e,t){return t=t||"_",e.replace($e,(function(e,n){return(n?t:"")+e.toLowerCase()}))}var Le=!1;function Oe(){ft.legacyXHTMLReplacement=!0}function Ne(e,t,n){if(!e)throw w("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Fe(e,t,n){return n&&G(e)&&(e=e[e.length-1]),Ne(Z(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Be(e,t){if("hasOwnProperty"===e)throw w("badname","hasOwnProperty is not a valid {0} name",t)}function Ue(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=s(m.call(e,0,r))),t.push(n));return t||e}function ze(){return Object.create(null)}function Ve(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!F(e)||G(e)||W(e)?ge(e):e.toString()}return e}var He=3;function je(e,t){if(G(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(z(e))for(var r in t=t||{},e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t||e}function We(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):B(e)?"undefined":"string"!=typeof e?function(e,t){var n=[];return r(t)&&(e=_.copy(e,null,t)),JSON.stringify(e,(function(e,t){if(z(t=me(e,t))){if(n.indexOf(t)>=0)return"...";n.push(t)}return t}))}(e,t):e}var Ge={full:"1.8.3",major:1,minor:8,dot:3,codeName:"ultimate-farewell"};ft.expando="ng339";var qe=ft.cache={},Ze=1;ft._data=function(e){return this.cache[e[this.expando]]||{}};var Xe=/-([a-z])/g,Ye=/^-ms-/,Ke={mouseleave:"mouseout",mouseenter:"mouseover"},Je=o("jqLite");function Qe(e,t){return t.toUpperCase()}function et(e){return e.replace(Xe,Qe)}var tt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,nt=/<|&#?\w+;/,it=/<([\w:-]+)/,rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ot={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td;var at={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var st in ot){var lt=ot[st],ct=lt.slice().reverse();at[st]=[ct.length,"<"+ct.join("><")+">","</"+lt.join("></")+">"]}function ut(e){return!nt.test(e)}function dt(e){var t=e.nodeType;return 1===t||!t||9===t}function ht(t,n){var i,r,o,s,l,c=n.createDocumentFragment(),u=[];if(ut(t))u.push(n.createTextNode(t));else{if(i=c.appendChild(n.createElement("div")),r=(it.exec(t)||["",""])[1].toLowerCase(),s=ft.legacyXHTMLReplacement?t.replace(rt,"<$1></$2>"):t,a<10)for(o=at[r]||at._default,i.innerHTML=o[1]+s+o[2],l=o[0];l--;)i=i.firstChild;else{for(l=(o=ot[r]||[]).length;--l>-1;)i.appendChild(e.document.createElement(o[l])),i=i.firstChild;i.innerHTML=s}u=he(u,i.childNodes),(i=c.firstChild).textContent=""}return c.textContent="",c.innerHTML="",S(u,(function(e){c.appendChild(e)})),c}at.optgroup=at.option;var pt=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function ft(t){if(t instanceof ft)return t;var n,i,r,o;if(H(t)&&(t=te(t),n=!0),!(this instanceof ft)){if(n&&"<"!==t.charAt(0))throw Je("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ft(t)}n?Mt(this,(i=t,r=r||e.document,(o=tt.exec(i))?[r.createElement(o[1])]:(o=ht(i,r))?o.childNodes:[])):Z(t)?Dt(t):Mt(this,t)}function mt(e){return e.cloneNode(!0)}function gt(e,t){!t&&dt(e)&&s.cleanData([e]),e.querySelectorAll&&s.cleanData(e.querySelectorAll("*"))}function vt(e){var t;for(t in e)return!1;return!0}function yt(e){var t=e.ng339,n=t&&qe[t],i=n&&n.events,r=n&&n.data;r&&!vt(r)||i&&!vt(i)||(delete qe[t],e.ng339=void 0)}function bt(e,t,n,i){if(U(i))throw Je("offargs","jqLite#off() does not support the `selector` argument");var r=_t(e),o=r&&r.events,a=r&&r.handle;if(a){if(t){var s=function(t){var i=o[t];U(n)&&ae(i||[],n),U(n)&&i&&i.length>0||(e.removeEventListener(t,a),delete o[t])};S(t.split(" "),(function(e){s(e),Ke[e]&&s(Ke[e])}))}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,a),delete o[t];yt(e)}}function wt(e,t){var n=e.ng339,i=n&&qe[n];i&&(t?delete i.data[t]:i.data={},yt(e))}function _t(e,t){var n=e.ng339,i=n&&qe[n];return t&&!i&&(e.ng339=n=++Ze,i=qe[n]={events:{},data:{},handle:void 0}),i}function xt(e,t,n){if(dt(e)){var i,r=U(n),o=!r&&t&&!z(t),a=!t,s=_t(e,!o),l=s&&s.data;if(r)l[et(t)]=n;else{if(a)return l;if(o)return l&&l[et(t)];for(i in t)l[et(i)]=t[i]}}}function Tt(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function St(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;S(t.split(" "),(function(e){e=te(e),i=i.replace(" "+e+" "," ")})),i!==n&&e.setAttribute("class",te(i))}}function Et(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;S(t.split(" "),(function(e){e=te(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")})),i!==n&&e.setAttribute("class",te(i))}}function Mt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function At(e,t){return Ct(e,"$"+(t||"ngController")+"Controller")}function Ct(e,t,n){9===e.nodeType&&(e=e.documentElement);for(var i=G(t)?t:[t];e;){for(var r=0,o=i.length;r<o;r++)if(U(n=s.data(e,i[r])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function kt(e){for(gt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Pt(e,t){t||gt(e);var n=e.parentNode;n&&n.removeChild(e)}function Dt(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}var Rt=ft.prototype={ready:Dt,toString:function(){var e=[];return S(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return s(e>=0?this[e]:this[this.length+e])},length:0,push:v,sort:[].sort,splice:[].splice},$t={};S("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){$t[p(e)]=e}));var It={};S("input,select,option,textarea,button,form,details".split(","),(function(e){It[e]=!0}));var Lt={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Ot(e,t){var n=$t[t.toLowerCase()];return n&&It[re(e)]&&n}function Nt(e,t,n){n.call(e,t)}function Ft(e,t,n){var i=t.relatedTarget;i&&(i===e||pt.call(e,i))||n.call(e,t)}function Bt(){this.$get=function(){return P(ft,{hasClass:function(e,t){return e.attr&&(e=e[0]),Tt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Et(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),St(e,t)}})}}function Ut(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"===i||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||A)():i+":"+e}S({data:xt,removeData:wt,hasData:function(e){for(var t in qe[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)wt(e[t]),bt(e[t])}},(function(e,t){ft[t]=e})),S({data:xt,inheritedData:Ct,scope:function(e){return s.data(e,"$scope")||Ct(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return s.data(e,"$isolateScope")||s.data(e,"$isolateScopeNoTemplate")},controller:At,injector:function(e){return Ct(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Tt,css:function(e,t,n){if(t=function(e){return et(e.replace(Ye,"ms-"))}(t),!U(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var i,r=e.nodeType;if(r!==He&&2!==r&&8!==r&&e.getAttribute){var o=p(t),a=$t[o];if(!U(n))return i=e.getAttribute(t),a&&null!==i&&(i=o),null===i?void 0:i;null===n||!1===n&&a?e.removeAttribute(t):e.setAttribute(t,a?o:n)}},prop:function(e,t,n){if(!U(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(B(t)){var n=e.nodeType;return 1===n||n===He?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(B(t)){if(e.multiple&&"select"===re(e)){var n=[];return S(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),n}return e.value}e.value=t},html:function(e,t){if(B(t))return e.innerHTML;gt(e,!0),e.innerHTML=t},empty:kt},(function(e,t){ft.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==kt&&B(2===e.length&&e!==Tt&&e!==At?t:n)){if(z(t)){for(i=0;i<o;i++)if(e===xt)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var a=e.$dv,s=B(a)?Math.min(o,1):o,l=0;l<s;l++){var c=e(this[l],t,n);a=a?a+c:c}return a}for(i=0;i<o;i++)e(this[i],t,n);return this}})),S({removeData:wt,on:function(e,t,n,i){if(U(i))throw Je("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(dt(e)){var r=_t(e,!0),o=r.events,a=r.handle;a||(a=r.handle=function(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(B(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||Nt;o>1&&(r=je(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,c=function(t,i,r){var s=o[t];s||((s=o[t]=[]).specialHandlerWrapper=i,"$destroy"===t||r||e.addEventListener(t,a)),s.push(n)};l--;)t=s[l],Ke[t]?(c(Ke[t],Ft),c(t,void 0,!0)):c(t)}},off:bt,one:function(e,t,n){(e=s(e)).on(t,(function i(){e.off(t,n),e.off(t,i)})),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;gt(e),S(new ft(t),(function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t}))},children:function(e){var t=[];return S(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n)for(var i=0,r=(t=new ft(t)).length;i<r;i++){var o=t[i];e.appendChild(o)}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;S(new ft(t),(function(t){e.insertBefore(t,n)}))}},wrap:function(e,t){var n,i,r;n=e,i=s(t).eq(0).clone()[0],(r=n.parentNode)&&r.replaceChild(i,n),i.appendChild(n)},remove:Pt,detach:function(e){Pt(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i)for(var r=0,o=(t=new ft(t)).length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:Et,removeClass:St,toggleClass:function(e,t,n){t&&S(t.split(" "),(function(t){var i=n;B(i)&&(i=!Tt(e,t)),(i?Et:St)(e,t)}))},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:mt,triggerHandler:function(e,t,n){var i,r,o,a=t.type||t,s=_t(e),l=s&&s.events,c=l&&l[a];c&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:L,type:a,target:e},t.type&&(i=P(i,t)),r=je(c),o=n?[i].concat(n):[i],S(r,(function(t){i.isImmediatePropagationStopped()||t.apply(e,o)})))}},(function(e,t){ft.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;o<a;o++)B(r)?U(r=e(this[o],t,n,i))&&(r=s(r)):Mt(r,e(this[o],t,n,i));return U(r)?r:this}})),ft.prototype.bind=ft.prototype.on,ft.prototype.unbind=ft.prototype.off;var zt=Object.create(null);function Vt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Vt.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return $(e)?zt:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ht=Vt,jt=[function(){this.$get=[function(){return Ht}]}],Wt=/^([^(]+?)=>/,Gt=/^[^(]*\(\s*([^)]*)\)/m,qt=/,/,Zt=/^\s*(_?)(\S+?)\1\s*$/,Xt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Yt=o("$injector");function Kt(e){return Function.prototype.toString.call(e)}function Jt(e){var t=Kt(e).replace(Xt,"");return t.match(Wt)||t.match(Gt)}function Qt(e,t){t=!0===t;var n={},i="Provider",r=[],o=new Ht,s={$provide:{provider:f(m),factory:f(v),service:f((function(e,t){return v(e,["$injector",function(e){return e.instantiate(t)}])})),value:f((function(e,t){return v(e,N(t),!1)})),constant:f((function(e,t){Be(e,"constant"),s[e]=t,u[e]=t})),decorator:function(e,t){var n=l.get(e+i),r=n.$get;n.$get=function(){var e=h.invoke(r,n);return h.invoke(t,null,{$delegate:e})}}}},l=s.$injector=b(s,(function(e,t){throw _.isString(t)&&r.push(t),Yt("unpr","Unknown provider: {0}",r.join(" <- "))})),u={},d=b(u,(function(e,t){var n=l.get(e+i,t);return h.invoke(n.$get,n,void 0,e)})),h=d;s.$injectorProvider={$get:N(d)},h.modules=l.modules=ze();var p=y(e);return(h=d.get("$injector")).strictDi=t,S(p,(function(e){e&&h.invoke(e)})),h.loadNewModules=function(e){S(y(e),(function(e){e&&h.invoke(e)}))},h;function f(e){return function(t,n){if(!z(t))return e(t,n);S(t,M(e))}}function m(e,t){if(Be(e,"service"),(Z(t)||G(t))&&(t=l.instantiate(t)),!t.$get)throw Yt("pget","Provider '{0}' must define $get factory method.",e);return s[e+i]=t}function g(e,t){return function(){var n=h.invoke(t,this);if(B(n))throw Yt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function v(e,t,n){return m(e,{$get:!1!==n?g(e,t):t})}function y(e){Ne(B(e)||G(e),"modulesToLoad","not an array");var t,n=[];return S(e,(function(e){if(!o.get(e)){o.set(e,!0);try{H(e)?(t=c(e),h.modules[e]=t,n=n.concat(y(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):Z(e)||G(e)?n.push(l.invoke(e)):Fe(e,"module")}catch(t){throw G(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Yt("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=l.get(i[0]);r[i[1]].apply(r,i[2])}}})),n}function b(e,o){function l(t,i){if(e.hasOwnProperty(t)){if(e[t]===n)throw Yt("cdep","Circular dependency found: {0}",t+" <- "+r.join(" <- "));return e[t]}try{return r.unshift(t),e[t]=n,e[t]=o(t,i),e[t]}catch(i){throw e[t]===n&&delete e[t],i}finally{r.shift()}}function c(e,n,i){for(var r=[],o=Qt.$$annotate(e,t,i),a=0,s=o.length;a<s;a++){var c=o[a];if("string"!=typeof c)throw Yt("itkn","Incorrect injection token! Expected service name as string, got {0}",c);r.push(n&&n.hasOwnProperty(c)?n[c]:l(c,i))}return r}return{invoke:function(e,t,n,i){"string"==typeof n&&(i=n,n=null);var r=c(e,n,i);return G(e)&&(e=e[e.length-1]),function(e){if(a||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return J(t)||(t=e.$$ngIsClass=/^class\b/.test(Kt(e))),t}(e)?(r.unshift(null),new(Function.prototype.bind.apply(e,r))):e.apply(t,r)},instantiate:function(e,t,n){var i=G(e)?e[e.length-1]:e,r=c(e,t,n);return r.unshift(null),new(Function.prototype.bind.apply(i,r))},get:l,annotate:Qt.$$annotate,has:function(t){return s.hasOwnProperty(t+i)||e.hasOwnProperty(t)}}}}function en(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,i,r){var o=n.document;function a(e){if(e){e.scrollIntoView();var t=function(){var e=l.yOffset;if(Z(e))e=e();else if(ie(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else j(e)||(e=0);return e}();if(t){var i=e.getBoundingClientRect().top;n.scrollBy(0,i-t)}}else n.scrollTo(0,0)}function l(e){var t,n,r;(e=H(e)?e:j(e)?e.toString():i.hash())?(t=o.getElementById(e))?a(t):(n=o.getElementsByName(e),r=null,Array.prototype.some.call(n,(function(e){if("a"===re(e))return r=e,!0})),(t=r)?a(t):"top"===e&&a(null)):a(null)}return t&&r.$watch((function(){return i.hash()}),(function(t,n){var i,o;t===n&&""===t||(i=function(){r.$evalAsync(l)},"complete"===(o=o||e).document.readyState?o.setTimeout(i):s(o).on("load",i))})),l}]}Qt.$$annotate=function(e,t,n){var i,r;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw H(n)&&n||(n=e.name||function(e){var t=Jt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Yt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);S(Jt(e)[1].split(qt),(function(e){e.replace(Zt,(function(e,t,n){i.push(n)}))}))}e.$inject=i}}else G(e)?(Fe(e[r=e.length-1],"fn"),i=e.slice(0,r)):Fe(e,"fn",!0);return i};var tn=o("$animate"),nn="ng-animate";function rn(e,t){return e||t?e?t?(G(e)&&(e=e.join(" ")),G(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function on(e){return z(e)?e:{}}var an=function(){this.$get=L},sn=function(){var e=new Ht,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){return{enabled:L,on:L,off:L,pin:L,push:function(a,s,l,c){c&&c(),(l=l||{}).from&&a.css(l.from),l.to&&a.css(l.to),(l.addClass||l.removeClass)&&function(n,a,s){var l=e.get(n)||{},c=r(l,a,!0),u=r(l,s,!1);(c||u)&&(e.set(n,l),t.push(n),1===t.length&&i.$$postDigest(o))}(a,l.addClass,l.removeClass);var u=new n;return u.complete(),u}};function r(e,t,n){var i=!1;return t&&S(t=H(t)?t.split(" "):G(t)?t:[],(function(t){t&&(i=!0,e[t]=n)})),i}function o(){S(t,(function(t){var n=e.get(t);if(n){var i=function(e){H(e)&&(e=e.split(" "));var t=ze();return S(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),r="",o="";S(n,(function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:o+=(o.length?" ":"")+t)})),S(t,(function(e){r&&Et(e,r),o&&St(e,o)})),e.delete(t)}})),t.length=0}}]},ln=["$provide",function(e){var t=this,n=null,i=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw tn("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.customFilter=function(e){return 1===arguments.length&&(i=Z(e)?e:null),i},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){var t=new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]");if(t.test(n.toString()))throw n=null,tn("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',nn)}return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(n,i,r,o){return i=i&&s(i),r=r&&s(r),t(n,i=i||r.parent(),r),e.push(n,"enter",on(o))},move:function(n,i,r,o){return i=i&&s(i),r=r&&s(r),t(n,i=i||r.parent(),r),e.push(n,"move",on(o))},leave:function(t,n){return e.push(t,"leave",on(n),(function(){t.remove()}))},addClass:function(t,n,i){return(i=on(i)).addClass=rn(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return(i=on(i)).removeClass=rn(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return(r=on(r)).addClass=rn(r.addClass,n),r.removeClass=rn(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return(o=on(o)).from=o.from?P(o.from,n):n,o.to=o.to?P(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=rn(o.tempClasses,r),e.push(t,"animate",o)}}}]}],cn=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return n((function(){e=!0})),function(t){e?t():n(t)}}}]},un=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,r){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){i()?function(e){r(e,0,!1)}(e):t(e)},this._state=0}return o.chain=function(e,t){var n=0;!function i(){if(n===e.length)return void t(!0);e[n]((function(e){!1!==e?(n++,i()):t(!1)}))}()},o.all=function(e,t){var n=0,i=!0;function r(r){i=i&&r,++n===e.length&&t(i)}S(e,(function(e){e.done(r)}))},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:L,getPromise:function(){if(!this.promise){var t=this;this.promise=e((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&(S(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},o}]},dn=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){var r=i||{};r.$$prepared||(r=se(r)),r.cleanupStyles&&(r.from=r.to=null),r.from&&(t.css(r.from),r.from=null);var o,a=new n;return{start:s,end:s};function s(){return e((function(){!function(){r.addClass&&(t.addClass(r.addClass),r.addClass=null);r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null);r.to&&(t.css(r.to),r.to=null)}(),o||a.complete(),o=!0})),a}}}]};function hn(e,t,n,i,r){var o=this,a=e.location,l=e.history,c=e.setTimeout,u=e.clearTimeout,d={},h=r(n);o.isMock=!1,o.$$completeOutstandingRequest=h.completeTask,o.$$incOutstandingRequestCount=h.incTaskCount,o.notifyWhenNoOutstandingRequests=h.notifyWhenNoPendingTasks;var p,f,m=a.href,g=t.find("base"),v=null,y=i.history?function(){try{return l.state}catch(e){}}:L;T(),o.url=function(t,n,r){if(B(r)&&(r=null),a!==e.location&&(a=e.location),l!==e.history&&(l=e.history),t){var s=f===r;if(t=hr(t).href,m===t&&(!i.history||s))return o;var c=m&&di(m)===di(t);return m=t,f=r,!i.history||c&&s?(c||(v=t),n?a.replace(t):c?a.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):a.href=t,a.href!==t&&(v=t)):(l[n?"replaceState":"pushState"](r,"",t),T()),v&&(v=t),o}return function(e){return e.replace(/#$/,"")}(v||a.href)},o.state=function(){return p};var b=[],w=!1;function _(){v=null,E()}var x=null;function T(){ce(p=B(p=y())?null:p,x)&&(p=x),x=p,f=p}function E(){var e=f;T(),m===o.url()&&e===p||(m=o.url(),f=p,S(b,(function(e){e(o.url(),p)})))}o.onUrlChange=function(t){return w||(i.history&&s(e).on("popstate",_),s(e).on("hashchange",_),w=!0),b.push(t),t},o.$$applicationDestroyed=function(){s(e).off("hashchange popstate",_)},o.$$checkUrlChange=E,o.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},o.defer=function(e,t,n){var i;return t=t||0,n=n||h.DEFAULT_TASK_TYPE,h.incTaskCount(n),i=c((function(){delete d[i],h.completeTask(e,n)}),t),d[i]=n,i},o.defer.cancel=function(e){if(d.hasOwnProperty(e)){var t=d[e];return delete d[e],u(e),h.completeTask(L,t),!0}return!1}}function pn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,i,r){return new hn(e,i,t,n,r)}]}function fn(){this.$get=function(){var e={};function t(t,n){if(t in e)throw o("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var i=0,r=P({},n,{id:t}),a=ze(),s=n&&n.capacity||Number.MAX_VALUE,l=ze(),c=null,u=null;return e[t]={put:function(e,t){if(!B(t)){if(s<Number.MAX_VALUE)d(l[e]||(l[e]={key:e}));return e in a||i++,a[e]=t,i>s&&this.remove(u.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;d(t)}return a[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;t===c&&(c=t.p),t===u&&(u=t.n),h(t.n,t.p),delete l[e]}e in a&&(delete a[e],i--)},removeAll:function(){a=ze(),i=0,l=ze(),c=u=null},destroy:function(){a=null,r=null,l=null,delete e[t]},info:function(){return P({},r,{size:i})}};function d(e){e!==c&&(u?u===e&&(u=e.n):u=e,h(e.n,e.p),h(e,c),(c=e).n=null)}function h(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return S(e,(function(e,n){t[n]=e.info()})),t},t.get=function(t){return e[t]},t}}function mn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var gn=o("$compile");var vn=new function(){};function yn(t,n){var i={},r="Directive",o=/^\s*directive:\s*([\w-]+)\s+(.*)$/,l=/(([\w-]+)(?::([^;]+))?;?)/,c=function(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),u=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,d=/^(on[a-z]+|formaction)$/,f=ze();function m(e,t,n){var i=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,r=ze();return S(e,(function(e,o){if((e=e.trim())in f)r[o]=f[e];else{var a=e.match(i);if(!a)throw gn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(f[e]=r[o])}})),r}function g(e,t){var n={isolateScope:null,bindToController:null};if(z(e.scope)&&(!0===e.bindToController?(n.bindToController=m(e.scope,t,!0),n.isolateScope={}):n.isolateScope=m(e.scope,t,!1)),z(e.bindToController)&&(n.bindToController=m(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw gn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(n,o){return Ne(n,"name"),Be(n,"directive"),H(n)?(!function(e){var t=e.charAt(0);if(!t||t!==p(t))throw gn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw gn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),Ne(o,"directiveFactory"),i.hasOwnProperty(n)||(i[n]=[],t.factory(n+r,["$injector","$exceptionHandler",function(e,t){var r=[];return S(i[n],(function(i,o){try{var a=e.invoke(i);Z(a)?a={compile:N(a)}:!a.compile&&a.link&&(a.compile=N(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=function(e){var t=e.require||e.controller&&e.name;return!G(t)&&z(t)&&S(t,(function(e,n){var i=e.match(u);e.substring(i[0].length)||(t[n]=i[0]+n)})),t}(a),a.restrict=function(e,t){if(e&&(!H(e)||!/[EACM]/.test(e)))throw gn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(a.restrict,n),a.$$moduleName=i.$$moduleName,r.push(a)}catch(e){t(e)}})),r}])),i[n].push(o)):S(n,M(e)),this},this.component=function e(t,n){if(!H(t))return S(t,M(fe(this,e))),this;var i=n.controller||function(){};function r(e){function t(t){return Z(t)||G(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var r=n.template||n.templateUrl?n.template:"",o={controller:i,controllerAs:An(n.controller)||n.controllerAs||"$ctrl",template:t(r),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return S(n,(function(e,t){"$"===t.charAt(0)&&(o[t]=e)})),o}return S(n,(function(e,t){"$"===t.charAt(0)&&(r[t]=e,Z(i)&&(i[t]=e))})),r.$inject=["$injector"],this.directive(t,r)},this.aHrefSanitizationTrustedUrlList=function(e){return U(e)?(n.aHrefSanitizationTrustedUrlList(e),this):n.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return U(e)?(n.imgSrcSanitizationTrustedUrlList(e),this):n.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var v=!0;this.debugInfoEnabled=function(e){return U(e)?(v=e,this):v};var b=!1;this.strictComponentBindingsEnabled=function(e){return U(e)?(b=e,this):b};var w=10;this.onChangesTtl=function(e){return arguments.length?(w=e,this):w};var _=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(_=e,this):_};var x=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(x=e,this):x};var T=ze();this.addPropertySecurityContext=function(e,t,n){var i=e.toLowerCase()+"|"+t.toLowerCase();if(i in T&&T[i]!==n)throw gn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,T[i],n);return T[i]=n,this},function(){function e(e,t){S(t,(function(t){T[t.toLowerCase()]=e}))}e(Zi.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(Zi.CSS,["*|style"]),e(Zi.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(Zi.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(Zi.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,n,f,m,E,M,A,C,k){var D,R=/^\w/,$=e.document.createElement("div"),N=_,F=x,U=w;function V(){try{if(!--U)throw D=void 0,gn("infchng","{0} $onChanges() iterations reached. Aborting!\n",w);A.$apply((function(){for(var e=0,t=D.length;e<t;++e)try{D[e]()}catch(e){f(e)}D=void 0}))}finally{U++}}function j(e,t){if(!e)return e;if(!H(e))throw gn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",i=te(e),r=/\s/.test(i)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o=i.split(r),a=Math.floor(o.length/2),s=0;s<a;s++){var l=2*s;n+=C.getTrustedMediaUrl(te(o[l])),n+=" "+te(o[l+1])}var c=te(o[2*s]).split(/\s/);return n+=C.getTrustedMediaUrl(te(c[0])),2===c.length&&(n+=" "+te(c[1])),n}function W(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=t[r]}else this.$attr={};this.$$element=e}function X(e,t){try{e.addClass(t)}catch(e){}}W.prototype={$normalize:xn,$addClass:function(e){e&&e.length>0&&k.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&k.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Tn(e,t);n&&n.length&&k.addClass(this.$$element,n);var i=Tn(t,e);i&&i.length&&k.removeClass(this.$$element,i)},$set:function(e,t,n,i){var r=Ot(this.$$element[0],e),o=Lt[e],a=e;r?(this.$$element.prop(e,t),i=r):o&&(this[o]=t,a=o),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=Ie(e,"-")),"img"===re(this.$$element)&&"srcset"===e&&(this[e]=t=j(t,"$set('srcset', value)")),!1!==n&&(null===t||B(t)?this.$$element.removeAttr(i):R.test(i)?r&&!1===t?this.$$element.removeAttr(i):this.$$element.attr(i,t):function(e,t,n){$.innerHTML="<span "+t+">";var i=$.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}(this.$$element[0],i,t));var s=this.$$observers;s&&S(s[a],(function(e){try{e(t)}catch(e){f(e)}}))},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=ze()),r=i[e]||(i[e]=[]);return r.push(t),A.$evalAsync((function(){r.$$inter||!n.hasOwnProperty(e)||B(n[e])||t(n[e])})),function(){ae(r,t)}}};var Y=n.startSymbol(),Q=n.endSymbol(),ee="{{"===Y&&"}}"===Q?O:function(e){return e.replace(/\{\{/g,Y).replace(/}}/g,Q)},ne=/^ng(Attr|Prop|On)([A-Z].*)$/,ie=/^(.+)Start$/;return oe.$$addBindingInfo=v?function(e,t){var n=e.data("$binding")||[];G(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:L,oe.$$addBindingClass=v?function(e){X(e,"ng-binding")}:L,oe.$$addScopeInfo=v?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:L,oe.$$addScopeClass=v?function(e,t){X(e,t?"ng-isolate-scope":"ng-scope")}:L,oe.$$createComment=function(t,n){var i="";return v&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},oe;function oe(e,t,n,i,r){e instanceof s||(e=s(e));var o=se(e,t,e,n,i,r);oe.$$addScopeClass(e);var a=null;return function(t,n,i){if(!e)throw gn("multilink","This element has already been linked.");Ne(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new());var l,c,u,d=(i=i||{}).parentBoundTranscludeFn,h=i.transcludeControllers,p=i.futureParentElement;if(d&&d.$$boundTransclude&&(d=d.$$boundTransclude),a||(c=(l=p)&&l[0],a=c&&"foreignobject"!==re(c)&&y.call(c).match(/SVG/)?"svg":"html"),u="html"!==a?s(Ce(a,s("<div></div>").append(e).html())):n?Rt.clone.call(e):e,h)for(var f in h)u.data("$"+f+"Controller",h[f].instance);return oe.$$addScopeInfo(u,t),n&&n(u,t),o&&o(t,u,u,d),n||(e=o=null),u}}function se(e,t,n,i,r,o){for(var l,c,u,d,h,p,f,m=[],g=G(e)||e instanceof s,v=0;v<e.length;v++)l=new W,11===a&&ue(e,v,g),(u=(c=he(e[v],[],l,0===v?i:void 0,r)).length?ye(c,e[v],l,t,n,null,[],[],o):null)&&u.scope&&oe.$$addScopeClass(l.$$element),h=u&&u.terminal||!(d=e[v].childNodes)||!d.length?null:se(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||h)&&(m.push(v,u,h),p=!0,f=f||u),o=null;return p?function(e,n,i,r){var o,a,l,c,u,d,h,p,g;if(f){var v=n.length;for(g=new Array(v),u=0;u<m.length;u+=3)h=m[u],g[h]=n[h]}else g=n;for(u=0,d=m.length;u<d;)l=g[m[u++]],o=m[u++],a=m[u++],o?(o.scope?(c=e.$new(),oe.$$addScopeInfo(s(l),c)):c=e,p=o.transcludeOnThisElement?de(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?de(e,t):null,o(a,c,l,i,p)):a&&a(e,l.childNodes,void 0,r)}:null}function ue(e,t,n){var i,r=e[t],o=r.parentNode;if(r.nodeType===He)for(;(i=o?r.nextSibling:e[t+1])&&i.nodeType===He;)r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}function de(e,t,n){function i(i,r,o,a,s){return i||((i=e.$new(!1,s)).$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=ze();for(var o in t.$$slots)t.$$slots[o]?r[o]=de(e,t.$$slots[o],n):r[o]=null;return i}function he(e,t,i,r,a){var s,c,u,d=e.nodeType,h=i.$attr;switch(d){case 1:_e(t,xn(c=re(e)),"E",r,a);for(var p,f,m,g,v,y=e.attributes,b=0,w=y&&y.length;b<w;b++){var _,x=!1,T=!1,S=!1,E=!1,M=!1;f=(p=y[b]).name,g=p.value,(v=(m=xn(f.toLowerCase())).match(ne))?(S="Attr"===v[1],E="Prop"===v[1],M="On"===v[1],f=f.replace(wn,"").toLowerCase().substr(4+v[1].length).replace(/_(.)/g,(function(e,t){return t.toUpperCase()}))):(_=m.match(ie))&&Te(_[1])&&(x=f,T=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),E||M?(i[m]=g,h[m]=p.name,E?Pe(e,t,m,f):De(t,m,f)):(h[m=xn(f.toLowerCase())]=f,!S&&i.hasOwnProperty(m)||(i[m]=g,Ot(e,m)&&(i[m]=!0)),Re(e,t,g,m,S),_e(t,m,"A",r,a,x,T))}if("input"===c&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!F)break;if(z(u=e.className)&&(u=u.animVal),H(u)&&""!==u)for(;s=l.exec(u);)_e(t,m=xn(s[2]),"C",r,a)&&(i[m]=te(s[3])),u=u.substr(s.index+s[0].length);break;case He:!function(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&oe.$$addBindingClass(t),function(e,t){var r=t.parent();n||oe.$$addBindingClass(r),oe.$$addBindingInfo(r,i.expressions),e.$watch(i,(function(e){t[0].nodeValue=e}))}}})}(t,e.nodeValue);break;case 8:if(!N)break;!function(e,t,n,i,r){try{var a=o.exec(e.nodeValue);if(a){var s=xn(a[1]);_e(t,s,"M",i,r)&&(n[s]=te(a[2]))}}catch(e){}}(e,t,i,r,a)}return t.sort(Me),t}function me(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw gn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1===e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0);else i.push(e);return s(i)}function ge(e,t,n){return function(i,r,o,a,s){return r=me(r[0],t,n),e(i,r,o,a,s)}}function ve(e,t,n,i,r,o){var a;return e?oe(t,n,i,r,o):function(){return a||(a=oe(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function ye(t,n,i,r,o,a,l,c,u){u=u||{};for(var d,h,p,m,g,v=-Number.MAX_VALUE,y=u.newScopeDirective,b=u.controllerDirectives,w=u.newIsolateScopeDirective,_=u.templateDirective,x=u.nonTlbTranscludeDirective,T=!1,E=!1,A=u.hasElementTranscludeDirective,C=i.$$element=s(n),k=a,D=r,R=!1,$=!1,I=0,L=t.length;I<L;I++){var O=(d=t[I]).$$start,N=d.$$end;if(O&&(C=me(n,O,N)),p=void 0,v>d.priority)break;if((g=d.scope)&&(d.templateUrl||(z(g)?(Ae("new/isolated scope",w||y,d,C),w=d):Ae("new/isolated scope",w,d,C)),y=y||d),h=d.name,!R&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var F,U=I+1;F=t[U++];)if(F.transclude&&!F.$$tlb||F.replace&&(F.templateUrl||F.template)){$=!0;break}R=!0}if(!d.templateUrl&&d.controller&&(b=b||ze(),Ae("'"+h+"' controller",b[h],d,C),b[h]=d),g=d.transclude)if(T=!0,d.$$tlb||(Ae("transclusion",x,d,C),x=d),"element"===g)A=!0,v=d.priority,p=C,C=i.$$element=s(oe.$$createComment(h,i[h])),n=C[0],$e(o,pe(p),n),D=ve($,p,r,v,k&&k.name,{nonTlbTranscludeDirective:x});else{var V=ze();if(z(g)){p=e.document.createDocumentFragment();var H=ze(),j=ze();for(var q in S(g,(function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,H[e]=t,V[t]=null,j[t]=n})),S(C.contents(),(function(t){var n=H[xn(re(t))];n?(j[n]=!0,V[n]=V[n]||e.document.createDocumentFragment(),V[n].appendChild(t)):p.appendChild(t)})),S(j,(function(e,t){if(!e)throw gn("reqslot","Required transclusion slot `{0}` was not filled.",t)})),V)if(V[q]){var X=s(V[q].childNodes);V[q]=ve($,X,r)}p=s(p.childNodes)}else p=s(mt(n)).contents();C.empty(),(D=ve($,p,r,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope})).$$slots=V}if(d.template)if(E=!0,Ae("template",_,d,C),_=d,g=Z(d.template)?d.template(C,i):d.template,g=ee(g),d.replace){if(k=d,p=ut(g)?[]:Sn(Ce(d.templateNamespace,te(g))),n=p[0],1!==p.length||1!==n.nodeType)throw gn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h,"");$e(o,C,n);var Y={$attr:{}},J=he(n,[],Y),Q=t.splice(I+1,t.length-(I+1));(w||y)&&we(J,w,y),t=t.concat(J).concat(Q),Se(i,Y),L=t.length}else C.html(g);if(d.templateUrl)E=!0,Ae("template",_,d,C),_=d,d.replace&&(k=d),ae=Ee(t.splice(I,t.length-I),C,i,o,T&&D,l,c,{controllerDirectives:b,newScopeDirective:y!==d&&y,newIsolateScopeDirective:w,templateDirective:_,nonTlbTranscludeDirective:x}),L=t.length;else if(d.compile)try{m=d.compile(C,i,D);var ne=d.$$originalDirective||d;Z(m)?ie(null,fe(ne,m),O,N):m&&ie(fe(ne,m.pre),fe(ne,m.post),O,N)}catch(e){f(e,xe(C))}d.terminal&&(ae.terminal=!0,v=Math.max(v,d.priority))}return ae.scope=y&&!0===y.scope,ae.transcludeOnThisElement=T,ae.templateOnThisElement=E,ae.transclude=D,u.hasElementTranscludeDirective=A,ae;function ie(e,t,n,i){e&&(n&&(e=ge(e,n,i)),e.require=d.require,e.directiveName=h,(w===d||d.$$isolateScope)&&(e=Le(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=ge(t,n,i)),t.require=d.require,t.directiveName=h,(w===d||d.$$isolateScope)&&(t=Le(t,{isolateScope:!0})),c.push(t))}function ae(e,t,r,o,a){var u,d,h,p,m,g,v,x,T,E;for(var C in n===r?(T=i,x=i.$$element):T=new W(x=s(r),i),m=t,w?p=t.$new(!0):y&&(m=t.$parent),a&&(v=function(e,t,n,i){var r;K(e)||(i=n,n=t,t=e,e=void 0);A&&(r=g);n||(n=A?x.parent():x);if(!i)return a(e,t,r,n,$);var o=a.$$slots[i];if(o)return o(e,t,r,n,$);if(B(o))throw gn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,xe(x))},v.$$boundTransclude=a,v.isSlotFilled=function(e){return!!a.$$slots[e]}),b&&(g=function(e,t,n,i,r,o,a){var s=ze();for(var l in i){var c=i[l],u={$scope:c===a||c.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"===d&&(d=t[c.name]);var h=M(d,u,!0,c.controllerAs);s[c.name]=h,e.data("$"+c.name+"Controller",h.instance)}return s}(x,T,v,b,p,t,w)),w&&(oe.$$addScopeInfo(x,p,!0,!(_&&(_===w||_===w.$$originalDirective))),oe.$$addScopeClass(x,!0),p.$$isolateBindings=w.$$isolateBindings,(E=Be(t,T,p,p.$$isolateBindings,w)).removeWatches&&p.$on("$destroy",E.removeWatches)),g){var k=b[C],D=g[C],R=k.$$bindings.bindToController;D.instance=D(),x.data("$"+k.name+"Controller",D.instance),D.bindingInfo=Be(m,T,D.instance,R,k)}for(S(b,(function(e,t){var n=e.require;e.bindToController&&!G(n)&&z(n)&&P(g[t].instance,be(t,n,x,g))})),S(g,(function(e){var t=e.instance;if(Z(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){f(e)}if(Z(t.$onInit))try{t.$onInit()}catch(e){f(e)}Z(t.$doCheck)&&(m.$watch((function(){t.$doCheck()})),t.$doCheck()),Z(t.$onDestroy)&&m.$on("$destroy",(function(){t.$onDestroy()}))})),u=0,d=l.length;u<d;u++)Oe(h=l[u],h.isolateScope?p:t,x,T,h.require&&be(h.directiveName,h.require,x,g),v);var $=t;for(w&&(w.template||null===w.templateUrl)&&($=p),e&&e($,r.childNodes,void 0,a),u=c.length-1;u>=0;u--)Oe(h=c[u],h.isolateScope?p:t,x,T,h.require&&be(h.directiveName,h.require,x,g),v);S(g,(function(e){var t=e.instance;Z(t.$postLink)&&t.$postLink()}))}}function be(e,t,n,i){var r;if(H(t)){var o=t.match(u),a=t.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():r=(r=i&&i[a])&&r.instance,!r){var c="$"+a+"Controller";r="^^"===s&&n[0]&&9===n[0].nodeType?null:s?n.inheritedData(c):n.data(c)}if(!r&&!l)throw gn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(G(t)){r=[];for(var d=0,h=t.length;d<h;d++)r[d]=be(e,t[d],n,i)}else z(t)&&(r={},S(t,(function(t,o){r[o]=be(e,t,n,i)})));return r||null}function we(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=I(e[i],{$$isolateScope:t,$$newScope:n})}function _e(e,n,o,a,s,l,c){if(n===s)return null;var u=null;if(i.hasOwnProperty(n))for(var d,h=t.get(n+r),p=0,f=h.length;p<f;p++)if(d=h[p],(B(a)||a>d.priority)&&-1!==d.restrict.indexOf(o)){if(l&&(d=I(d,{$$start:l,$$end:c})),!d.$$bindings){var m=d.$$bindings=g(d,d.name);z(m.isolateScope)&&(d.$$isolateBindings=m.isolateScope)}e.push(d),u=d}return u}function Te(e){if(i.hasOwnProperty(e))for(var n=t.get(e+r),o=0,a=n.length;o<a;o++)if(n[o].multiElement)return!0;return!1}function Se(e,t){var n=t.$attr,i=e.$attr;S(e,(function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i.length?i+=("style"===r?";":" ")+t[r]:i=t[r]),e.$set(r,i,!0,n[r]))})),S(t,(function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))}))}function Ee(e,t,n,i,r,o,a,l){var c,u,d=[],h=t[0],p=e.shift(),g=I(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),v=Z(p.templateUrl)?p.templateUrl(t,n):p.templateUrl,y=p.templateNamespace;return t.empty(),m(v).then((function(f){var m,b,w,_;if(f=ee(f),p.replace){if(w=ut(f)?[]:Sn(Ce(y,te(f))),m=w[0],1!==w.length||1!==m.nodeType)throw gn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,v);b={$attr:{}},$e(i,t,m);var x=he(m,[],b);z(p.scope)&&we(x,!0),e=x.concat(e),Se(n,b)}else m=h,t.html(f);for(e.unshift(g),c=ye(e,m,n,r,t,p,o,a,l),S(i,(function(e,n){e===m&&(i[n]=t[0])})),u=se(t[0].childNodes,r);d.length;){var T=d.shift(),E=d.shift(),M=d.shift(),A=d.shift(),C=t[0];if(!T.$$destroyed){if(E!==h){var k=E.className;l.hasElementTranscludeDirective&&p.replace||(C=mt(m)),$e(M,s(E),C),X(s(C),k)}_=c.transcludeOnThisElement?de(T,c.transclude,A):A,c(u,T,C,i,_)}}d=null})).catch((function(e){q(e)&&f(e)})),function(e,t,n,i,r){var o=r;t.$$destroyed||(d?d.push(t,n,i,o):(c.transcludeOnThisElement&&(o=de(t,c.transclude,r)),c(u,t,n,i,o)))}}function Me(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Ae(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw gn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,xe(i))}function Ce(t,n){switch(t=p(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function ke(e){return j(C.valueOf(e),"ng-prop-srcset")}function Pe(e,t,n,i){if(d.test(i))throw gn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var r=re(e),o=function(e,t){var n=t.toLowerCase();return T[e+"|"+n]||T["*|"+n]}(r,i),a=O;"srcset"!==i||"img"!==r&&"source"!==r?o&&(a=C.getTrusted.bind(C,o)):a=ke,t.push({priority:100,compile:function(e,t){var r=E(t[n]),o=E(t[n],(function(e){return C.valueOf(e)}));return{pre:function(e,t){function n(){var n=r(e);t[0][i]=a(n)}n(),e.$watch(o,n)}}}})}function De(e,t,n){e.push(Fo(E,A,f,t,n,!1))}function Re(e,t,i,r,o){var a=re(e),s=function(e,t){return"srcdoc"===t?C.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?C.RESOURCE_URL:C.MEDIA_URL:"xlinkHref"===t?"image"===e?C.MEDIA_URL:"a"===e?C.URL:C.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?C.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:C.URL}(a,r),l=!o,u=c[r]||o,h=n(i,l,s,u);if(h){if("multiple"===r&&"select"===a)throw gn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",xe(e));if(d.test(r))throw gn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var a=o.$$observers||(o.$$observers=ze()),l=o[r];l!==i&&(h=l&&n(l,!0,s,u),i=l),h&&(o[r]=h(e),(a[r]||(a[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||e).$watch(h,(function(e,t){"class"===r&&e!==t?o.$updateClass(e,t):o.$set(r,e)})))}}}})}}function $e(t,n,i){var r,o,a=n[0],l=n.length,c=a.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]===a){t[r++]=i;for(var u=r,d=u+l-1,h=t.length;u<h;u++,d++)d<h?t[u]=t[d]:delete t[u];t.length-=l-1,t.context===a&&(t.context=i);break}c&&c.replaceChild(i,a);var p=e.document.createDocumentFragment();for(r=0;r<l;r++)p.appendChild(n[r]);for(s.hasData(a)&&(s.data(i,s.data(a)),s(a).off("$destroy")),s.cleanData(p.querySelectorAll("*")),r=1;r<l;r++)delete n[r];n[0]=i,n.length=1}function Le(e,t){return P((function(){return e.apply(null,arguments)}),e,t)}function Oe(e,t,n,i,r,o){try{e(t,n,i,r,o)}catch(e){f(e,xe(n))}}function Fe(e,t){if(b)throw gn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function Be(e,t,i,r,o){var a,s=[],l={};function c(t,n,r){Z(i.$onChanges)&&!le(n,r)&&(D||(e.$$postDigest(V),D=[]),a||(a={},D.push(u)),a[t]&&(r=a[t].previousValue),a[t]=new bn(r,n))}function u(){i.$onChanges(a),a=void 0}return S(r,(function(r,a){var u,d,p,f,m,g=r.attrName,v=r.optional;switch(r.mode){case"@":v||h.call(t,g)||(Fe(g,o.name),i[a]=t[g]=void 0),m=t.$observe(g,(function(e){if(H(e)||J(e)){var t=i[a];c(a,e,t),i[a]=e}})),t.$$observers[g].$$scope=e,H(u=t[g])?i[a]=n(u)(e):J(u)&&(i[a]=u),l[a]=new bn(vn,i[a]),s.push(m);break;case"=":if(!h.call(t,g)){if(v)break;Fe(g,o.name),t[g]=void 0}if(v&&!t[g])break;d=E(t[g]),f=d.literal?ce:le,p=d.assign||function(){throw u=i[a]=d(e),gn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[g],g,o.name)},u=i[a]=d(e);var y=function(t){return f(t,i[a])||(f(t,u)?p(e,t=i[a]):i[a]=t),u=t};y.$stateful=!0,m=r.collection?e.$watchCollection(t[g],y):e.$watch(E(t[g],y),null,d.literal),s.push(m);break;case"<":if(!h.call(t,g)){if(v)break;Fe(g,o.name),t[g]=void 0}if(v&&!t[g])break;var b=(d=E(t[g])).literal,w=i[a]=d(e);l[a]=new bn(vn,i[a]),m=e[r.collection?"$watchCollection":"$watch"](d,(function(e,t){if(t===e){if(t===w||b&&ce(t,w))return;t=w}c(a,e,t),i[a]=e})),s.push(m);break;case"&":if(v||h.call(t,g)||Fe(g,o.name),(d=t.hasOwnProperty(g)?E(t[g]):L)===L&&v)break;i[a]=function(t){return d(e,t)}}})),{initialChanges:l,removeWatches:s.length&&function(){for(var e=0,t=s.length;e<t;++e)s[e]()}}}}]}function bn(e,t){this.previousValue=e,this.currentValue=t}yn.$inject=["$provide","$$sanitizeUriProvider"],bn.prototype.isFirstChange=function(){return this.previousValue===vn};var wn=/^((?:x|data)[:\-_])/i,_n=/[:\-_]+(.)/g;function xn(e){return e.replace(wn,"").replace(_n,(function(e,t,n){return n?t.toUpperCase():t}))}function Tn(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function Sn(e){var t=(e=s(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===He&&""===n.nodeValue.trim())&&g.call(e,t,1)}return e}var En=o("$controller"),Mn=/^(\S+)(\s+as\s+([\w$]+))?$/;function An(e,t){if(t&&H(t))return t;if(H(e)){var n=Mn.exec(e);if(n)return n[3]}}function Cn(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){Be(t,"controller"),z(t)?P(e,t):e[t]=n},this.$get=["$injector",function(t){return function(i,r,o,a){var s,l,c,u;if(o=!0===o,a&&H(a)&&(u=a),H(i)){if(!(l=i.match(Mn)))throw En("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);if(c=l[1],u=u||l[3],i=e.hasOwnProperty(c)?e[c]:function(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&Z(e)?fe(o,e):e}(r.$scope,c,!0),!i)throw En("ctrlreg","The controller with the name '{0}' is not registered.",c);Fe(i,c,!0)}if(o){var d=(G(i)?i[i.length-1]:i).prototype;return s=Object.create(d||null),u&&n(r,u,s,c||i.name),P((function(){var e=t.invoke(i,s,r,c);return e!==s&&(z(e)||Z(e))&&(s=e,u&&n(r,u,s,c||i.name)),s}),{instance:s,identifier:u})}return s=t.instantiate(i,r,c),u&&n(r,u,s,c||i.name),s};function n(e,t,n,i){if(!e||!z(e.$scope))throw o("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}}]}function kn(){this.$get=["$window",function(e){return s(e.document)}]}function Pn(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],i=n&&n.hidden;function r(){i=n.hidden}return e.on("visibilitychange",r),t.$on("$destroy",(function(){e.off("visibilitychange",r)})),function(){return i}}]}function Dn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var Rn=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof s&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},$n="application/json",In={"Content-Type":"application/json;charset=utf-8"},Ln=/^\[|^\{(?!\{)/,On={"[":/]$/,"{":/}$/},Nn=/^\)]\}',?\n/,Fn=o("$http");function Bn(e){return z(e)?W(e)?e.toISOString():ge(e):e}function Un(){this.$get=function(){return function(e){if(!e)return"";var t=[];return E(e,(function(e,n){null===e||B(e)||Z(e)||(G(e)?S(e,(function(e){t.push(Me(n)+"="+Me(Bn(e)))})):t.push(Me(n)+"="+Me(Bn(e))))})),t.join("&")}}}function zn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,i,r){G(n)?S(n,(function(t,n){e(t,i+"["+(z(t)?n:"")+"]")})):z(n)&&!W(n)?E(n,(function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))})):(Z(n)&&(n=n()),t.push(Me(i)+"="+(null==n?"":Me(Bn(n)))))}(e,"",!0),t.join("&")}}}function Vn(e,t){if(H(e)){var n=e.replace(Nn,"").trim();if(n){var i=t("Content-Type"),r=i&&0===i.indexOf($n);if(r||(a=(o=n).match(Ln))&&On[a[0]].test(o))try{e=ve(n)}catch(t){if(!r)return e;throw Fn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}var o,a;return e}function Hn(e){var t,n=ze();function i(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return H(e)?S(e.split("\n"),(function(e){t=e.indexOf(":"),i(p(te(e.substr(0,t))),te(e.substr(t+1)))})):z(e)&&S(e,(function(e,t){i(p(t),te(e))})),n}function jn(e){var t;return function(n){if(t||(t=Hn(e)),n){var i=t[p(n)];return void 0===i&&(i=null),i}return t}}function Wn(e,t,n,i){return Z(i)?i(e,t,n):(S(i,(function(i){e=i(e,t,n)})),e)}function Gn(e){return 200<=e&&e<300}function qn(){var e=this.defaults={transformResponse:[Vn],transformRequest:[function(e){return!z(e)||(t=e,"[object File]"===y.call(t))||function(e){return"[object Blob]"===y.call(e)}(e)||function(e){return"[object FormData]"===y.call(e)}(e)?e:ge(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:je(In),put:je(In),patch:je(In)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return U(e)?(t=!!e,this):t};var n=this.interceptors=[],i=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,a,s,l,c,u,d,h){var m=l("$http");e.paramSerializer=H(e.paramSerializer)?d.get(e.paramSerializer):e.paramSerializer;var g=[];S(n,(function(e){g.unshift(H(e)?d.get(e):d.invoke(e))}));var v,y=(v=[ur].concat(i.map(hr)),function(e){var t=hr(e);return v.some(pr.bind(null,t))});function b(n){if(!z(n))throw o("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!H(h.valueOf(n.url)))throw o("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var i=P({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);i.headers=function(t){var n,i,r,o=e.headers,a=P({},t.headers);o=P({},o.common,o[p(t.method)]);e:for(n in o){for(r in i=p(n),a)if(p(r)===i)continue e;a[n]=o[n]}return function(e,t){var n,i={};return S(e,(function(e,r){Z(e)?null!=(n=e(t))&&(i[r]=n):i[r]=e})),i}(a,je(t))}(n),i.method=f(i.method),i.paramSerializer=H(i.paramSerializer)?d.get(i.paramSerializer):i.paramSerializer,r.$$incOutstandingRequestCount("$http");var l=[],v=[],w=u.resolve(i);return S(g,(function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&v.push(e.response,e.responseError)})),w=(w=_(w,l)).then((function(n){var i=n.headers,r=Wn(n.data,jn(i),void 0,n.transformRequest);B(r)&&S(i,(function(e,t){"content-type"===p(t)&&delete i[t]}));B(n.withCredentials)&&!B(e.withCredentials)&&(n.withCredentials=e.withCredentials);return function(n,i){var r,o,l=u.defer(),d=l.promise,f=n.headers,g="jsonp"===p(n.method),v=n.url;g?v=h.getTrustedResourceUrl(v):H(v)||(v=h.valueOf(v));v=function(e,t){t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(v,n.paramSerializer(n.params)),g&&(v=function(e,t){var n=e.split("?");if(n.length>2)throw Fn("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return S(Se(n[1]),(function(n,i){if("JSON_CALLBACK"===n)throw Fn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(i===t)throw Fn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)})),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}(v,n.jsonpCallbackParam));b.pendingRequests.push(n),d.then(M,M),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(r=z(n.cache)?n.cache:z(e.cache)?e.cache:m);r&&(U(o=r.get(v))?Q(o)?o.then(E,E):G(o)?T(o[1],o[0],je(o[2]),o[3],o[4]):T(o,200,{},"OK","complete"):r.put(v,d));if(B(o)){var w=y(n.url)?s()[n.xsrfCookieName||e.xsrfCookieName]:void 0;w&&(f[n.xsrfHeaderName||e.xsrfHeaderName]=w),a(n.method,v,i,x,f,n.timeout,n.withCredentials,n.responseType,_(n.eventHandlers),_(n.uploadEventHandlers))}return d;function _(e){if(e){var n={};return S(e,(function(e,i){n[i]=function(n){function i(){e(n)}t?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}})),n}}function x(e,n,i,o,a){function s(){T(n,e,i,o,a)}r&&(Gn(e)?r.put(v,[e,n,Hn(i),o,a]):r.remove(v)),t?c.$applyAsync(s):(s(),c.$$phase||c.$apply())}function T(e,t,i,r,o){(Gn(t=t>=-1?t:0)?l.resolve:l.reject)({data:e,status:t,headers:jn(i),config:n,statusText:r,xhrStatus:o})}function E(e){T(e.data,e.status,je(e.headers()),e.statusText,e.xhrStatus)}function M(){var e=b.pendingRequests.indexOf(n);-1!==e&&b.pendingRequests.splice(e,1)}}(n,r).then(x,x)})),w=(w=_(w,v)).finally((function(){r.$$completeOutstandingRequest(L,"$http")}));function _(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function x(e){var t=P({},e);return t.data=Wn(e.data,e.headers,e.status,i.transformResponse),Gn(e.status)?t:u.reject(t)}}return b.pendingRequests=[],function(e){S(arguments,(function(e){b[e]=function(t,n){return b(P({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){S(arguments,(function(e){b[e]=function(t,n,i){return b(P({},i||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),b.defaults=e,b}]}function Zn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Xn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return function(e,t,n,i,r){return function(r,a,s,l,c,u,d,h,f,m){if(a=a||e.url(),"jsonp"===p(r))var g=i.createCallback(a),v=o(a,g,(function(e,t){var n=200===e&&i.getResponse(g);M(l,e,n,"",t,"complete"),i.removeCallback(g)}));else{var y=t(r,a),b=!1;y.open(r,a,!0),S(c,(function(e,t){U(e)&&y.setRequestHeader(t,e)})),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=t?200:"file"===hr(a).protocol?404:0),M(l,n,t,y.getAllResponseHeaders(),e,"complete")};var w=function(){M(l,-1,null,null,"","error")},_=function(){M(l,-1,null,null,"",b?"timeout":"abort")},x=function(){M(l,-1,null,null,"","timeout")};if(y.onerror=w,y.ontimeout=x,y.onabort=_,S(f,(function(e,t){y.addEventListener(t,e)})),S(m,(function(e,t){y.upload.addEventListener(t,e)})),d&&(y.withCredentials=!0),h)try{y.responseType=h}catch(e){if("json"!==h)throw e}y.send(B(s)?null:s)}if(u>0)var T=n((function(){E("timeout")}),u);else Q(u)&&u.then((function(){E(U(u.$$timeoutId)?"timeout":"abort")}));function E(e){b="timeout"===e,v&&v(),y&&y.abort()}function M(e,t,i,r,o,a){U(T)&&n.cancel(T),v=y=null,e(t,i,r,o,a)}};function o(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),r.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},o.addEventListener("load",a),o.addEventListener("error",a),r.body.appendChild(o),a}}(e,i,e.defer,t,n[0])}]}var Yn=_.$interpolateMinErr=o("$interpolate");function Kn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){var o=e.length,a=t.length,s=new RegExp(e.replace(/./g,c),"g"),l=new RegExp(t.replace(/./g,c),"g");function c(e){return"\\\\\\"+e}function u(n){return n.replace(s,e).replace(l,t)}function d(e,t,n,i){var r=e.$watch((function(e){return r(),i(e)}),t,n);return r}function h(s,l,c,h){var p=c===r.URL||c===r.MEDIA_URL;if(!s.length||-1===s.indexOf(e)){if(l)return;var f=u(s);p&&(f=r.getTrusted(c,f));var m=N(f);return m.exp=s,m.expressions=[],m.$$watchDelegate=d,m}h=!!h;for(var g,v,y,b,w,_=0,x=[],T=s.length,S=[],E=[];_<T;){if(-1===(g=s.indexOf(e,_))||-1===(v=s.indexOf(t,g+o))){_!==T&&S.push(u(s.substring(_)));break}_!==g&&S.push(u(s.substring(_,g))),b=s.substring(g+o,v),x.push(b),_=v+a,E.push(S.length),S.push("")}w=1===S.length&&1===E.length;var M=p&&w?void 0:function(e){try{return e=c&&!p?r.getTrusted(c,e):r.valueOf(e),h&&!U(e)?e:Ve(e)}catch(e){i(Yn.interr(s,e))}};if(y=x.map((function(e){return n(e,M)})),!l||x.length){var A=function(e){for(var t=0,n=x.length;t<n;t++){if(h&&B(e[t]))return;S[E[t]]=e[t]}return p?r.getTrusted(c,w?S[0]:S.join("")):(c&&S.length>1&&Yn.throwNoconcat(s),S.join(""))};return P((function(e){var t=0,n=x.length,r=new Array(n);try{for(;t<n;t++)r[t]=y[t](e);return A(r)}catch(e){i(Yn.interr(s,e))}}),{exp:s,expressions:x,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,(function(i,r){var o=A(i);t.call(this,o,i!==r?n:o,e),n=o}))}})}}return h.startSymbol=function(){return e},h.endSymbol=function(){return t},h}]}Yn.throwNoconcat=function(e){throw Yn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Yn.interr=function(e,t){return Yn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Jn=o("$interval");function Qn(){this.$get=["$$intervalFactory","$window",function(e,t){var n={},i=function(e){t.clearInterval(e),delete n[e]},r=e((function(e,i,r){var o=t.setInterval(e,i);return n[o]=r,o}),i);return r.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Jn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,r=n[t];return Hi(r.promise),r.reject("canceled"),i(t),!0},r}]}function ei(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,n,i){return function(r,o){return function(a,s,l,c){var u=arguments.length>4,d=u?pe(arguments,4):[],h=0,p=U(c)&&!c,f=(p?n:t).defer(),m=f.promise;function g(){u?a.apply(null,d):a(h)}function v(){p?e.defer(g):i.$evalAsync(g),f.notify(h++),l>0&&h>=l&&(f.resolve(h),o(m.$$intervalId)),p||i.$apply()}return l=U(l)?l:0,m.$$intervalId=r(v,s,f,p),m}}}]}var ti=function(){this.$get=function(){var e=_.callbacks,t={};return{createCallback:function(n){var i="_"+(e.$$counter++).toString(36),r="angular.callbacks."+i,o=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(i);return t[r]=e[i]=o,r},wasCalled:function(e){return t[e].called},getResponse:function(e){return t[e].data},removeCallback:function(n){var i=t[n];delete e[i.id],delete t[n]}}}},ni=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,ii={http:80,https:443,ftp:21},ri=o("$location");function oi(e,t,n){var i,r=(i=[],S(t,(function(e,t){G(e)?S(e,(function(e){i.push(Me(t,!0)+(!0===e?"":"="+Me(e,!0)))})):i.push(Me(t,!0)+(!0===e?"":"="+Me(e,!0)))})),i.length?i.join("&"):""),o=n?"#"+Ee(n):"";return function(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Ee(t[n].replace(/%2F/g,"/"));return t.join("/")}(e)+(r?"?"+r:"")+o}function ai(e,t){var n=hr(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=R(n.port)||ii[n.protocol]||null}var si=/^\s*[\\/]{2,}/;function li(e,t,n){if(si.test(e))throw ri("badpath",'Invalid url "{0}".',e);var i="/"!==e.charAt(0);i&&(e="/"+e);var r=hr(e),o=i&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname;t.$$path=function(e,t){for(var n=e.split("/"),i=n.length;i--;)n[i]=decodeURIComponent(n[i]),t&&(n[i]=n[i].replace(/\//g,"%2F"));return n.join("/")}(o,n),t.$$search=Se(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function ci(e,t){return e.slice(0,t.length)===t}function ui(e,t){if(ci(t,e))return t.substr(e.length)}function di(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function hi(e,t,n){this.$$html5=!0,n=n||"",ai(e,this),this.$$parse=function(e){var n=ui(t,e);if(!H(n))throw ri("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);li(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(U(o=ui(e,i))?(a=o,s=n&&U(o=ui(n,o))?t+(ui("/",o)||o):e+a):U(o=ui(t,i))?s=t+o:t===i+"/"&&(s=t),s&&this.$$parse(s),!!s);var o,a,s}}function pi(e,t,n){ai(e,this),this.$$parse=function(i){var r,o=ui(e,i)||ui(t,i);B(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",B(o)&&(e=i,this.replace())):B(r=ui(n,o))&&(r=o),li(r,this,!1),this.$$path=function(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;ci(t,n)&&(t=t.replace(n,""));if(r.exec(t))return e;return(i=r.exec(e))?i[1]:e}(this.$$path,r,e),this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?n+t:"")},this.$$parseLinkUrl=function(t,n){return di(e)===di(t)&&(this.$$parse(t),!0)}}function fi(e,t,n){this.$$html5=!0,pi.apply(this,arguments),this.$$parseLinkUrl=function(i,r){return r&&"#"===r[0]?(this.hash(r.slice(1)),!0):(e===di(i)?o=i:(a=ui(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o);var o,a},this.$$normalizeUrl=function(t){return e+n+t}}var mi={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=oi(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:gi("$$absUrl"),url:function(e){if(B(e))return this.$$url;var t=ni.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:gi("$$protocol"),host:gi("$$host"),port:gi("$$port"),path:vi("$$path",(function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(H(e)||j(e))e=e.toString(),this.$$search=Se(e);else{if(!z(e))throw ri("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");S(e=se(e,{}),(function(t,n){null==t&&delete e[n]})),this.$$search=e}break;default:B(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:vi("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function gi(e){return function(){return this[e]}}function vi(e,t){return function(n){return B(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function yi(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return U(t)?(e=t,this):e},this.html5Mode=function(e){return J(e)?(t.enabled=e,this):z(e)?(J(e.enabled)&&(t.enabled=e.enabled),J(e.requireBase)&&(t.requireBase=e.requireBase),(J(e.rewriteLinks)||H(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){var l,c,u,d,h=i.baseHref(),p=i.url();if(t.enabled){if(!h&&t.requireBase)throw ri("nobase","$location in HTML5 mode requires a <base> tag to be present!");u=(d=p).substring(0,d.indexOf("/",d.indexOf("//")+2))+(h||"/"),c=r.history?hi:fi}else u=di(p),c=pi;var f=function(e){return e.substr(0,di(e).lastIndexOf("/")+1)}(u);(l=new c(u,f,"#"+e)).$$parseLinkUrl(p,p),l.$$state=i.state();var m=/^\s*(javascript|mailto):/i;function g(e,t,n){var r=l.url(),o=l.$$state;try{i.url(e,t,n),l.$$state=i.state()}catch(e){throw l.url(r),l.$$state=o,e}}o.on("click",(function(e){var r=t.rewriteLinks;if(r&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var a=s(e.target);"a"!==re(a[0]);)if(a[0]===o[0]||!(a=a.parent())[0])return;if(!H(r)||!B(a.attr(r))){var c=a.prop("href"),u=a.attr("href")||a.attr("xlink:href");z(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=hr(c.animVal).href),m.test(c)||!c||a.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(c,u)&&(e.preventDefault(),l.absUrl()!==i.url()&&n.$apply())}}})),l.absUrl()!==p&&i.url(l.absUrl(),!0);var v=!0;return i.onUrlChange((function(e,t){ci(e,f)?(n.$evalAsync((function(){var i,r=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,l.absUrl()===e&&(i?(l.$$parse(r),l.$$state=o,g(r,!1,o)):(v=!1,y(r,o)))})),n.$$phase||n.$digest()):a.location.href=e})),n.$watch((function(){if(v||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var e=i.url(),t=l.absUrl(),o=i.state(),a=l.$$replace,s=!((c=e)===(u=t)||hr(c).href===hr(u).href)||l.$$html5&&r.history&&o!==l.$$state;(v||s)&&(v=!1,n.$evalAsync((function(){var t=l.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(i?(l.$$parse(e),l.$$state=o):(s&&g(t,a,o===l.$$state?null:l.$$state),y(e,o)))})))}var c,u;l.$$replace=!1})),l;function y(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}}]}function bi(){var e=!0,t=this;this.debugEnabled=function(t){return U(t)?(e=t,this):e},this.$get=["$window",function(n){var i,r=a||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:s("log"),info:s("info"),warn:s("warn"),error:s("error"),debug:(i=s("debug"),function(){e&&i.apply(t,arguments)})};function o(e){return q(e)&&(e.stack&&r?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function s(e){var t=n.console||{},i=t[e]||t.log||L;return function(){var e=[];return S(arguments,(function(t){e.push(o(t))})),Function.prototype.apply.call(i,t,e)}}}]}S([fi,pi,hi],(function(e){e.prototype=Object.create(mi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==hi||!this.$$html5)throw ri("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=B(t)?null:t,this.$$urlUpdatedByLocation=!0,this}}));var wi=o("$parse"),_i={}.constructor.prototype.valueOf;function xi(e){return e+""}var Ti=ze();S("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){Ti[e]=!0}));var Si={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ei=function(e){this.options=e};Ei.prototype={constructor:Ei,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=Ti[t],o=Ti[n],a=Ti[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=U(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw wi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=p(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=Si[o]||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Mi=function(e,t){this.lexer=e,this.options=t};function Ai(e,t){return void 0!==e?e:t}function Ci(e,t){return void 0===e?t:void 0===t?e:e+t}Mi.Program="Program",Mi.ExpressionStatement="ExpressionStatement",Mi.AssignmentExpression="AssignmentExpression",Mi.ConditionalExpression="ConditionalExpression",Mi.LogicalExpression="LogicalExpression",Mi.BinaryExpression="BinaryExpression",Mi.UnaryExpression="UnaryExpression",Mi.CallExpression="CallExpression",Mi.MemberExpression="MemberExpression",Mi.Identifier="Identifier",Mi.Literal="Literal",Mi.ArrayExpression="ArrayExpression",Mi.Property="Property",Mi.ObjectExpression="ObjectExpression",Mi.ThisExpression="ThisExpression",Mi.LocalsExpression="LocalsExpression",Mi.NGValueParameter="NGValueParameter",Mi.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Mi.Program,body:e}},expressionStatement:function(){return{type:Mi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Di(e))throw wi("lval","Trying to assign a value to a non l-value");e={type:Mi.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Mi.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Mi.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Mi.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Mi.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Mi.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Mi.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Mi.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Mi.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=se(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Mi.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:Mi.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Mi.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Mi.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Mi.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Mi.Identifier,name:e.text}},constant:function(){return{type:Mi.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Mi.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Mi.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Mi.ObjectExpression,properties:t}},throwError:function(e,t){throw wi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw wi("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw wi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:Mi.ThisExpression},$locals:{type:Mi.LocalsExpression}}};function ki(e,t,n){var i,r,o,a=e.isPure=function(e,t){switch(e.type){case Mi.MemberExpression:if(e.computed)return!1;break;case Mi.UnaryExpression:return 1;case Mi.BinaryExpression:return"+"!==e.operator&&1;case Mi.CallExpression:return!1}return void 0===t?2:t}(e,n);switch(e.type){case Mi.Program:i=!0,S(e.body,(function(e){ki(e.expression,t,a),i=i&&e.expression.constant})),e.constant=i;break;case Mi.Literal:e.constant=!0,e.toWatch=[];break;case Mi.UnaryExpression:ki(e.argument,t,a),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Mi.BinaryExpression:ki(e.left,t,a),ki(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Mi.LogicalExpression:ki(e.left,t,a),ki(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Mi.ConditionalExpression:ki(e.test,t,a),ki(e.alternate,t,a),ki(e.consequent,t,a),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Mi.Identifier:e.constant=!1,e.toWatch=[e];break;case Mi.MemberExpression:ki(e.object,t,a),e.computed&&ki(e.property,t,a),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Mi.CallExpression:o=!!e.filter&&function(e,t){return!e(t).$stateful}(t,e.callee.name),i=o,r=[],S(e.arguments,(function(e){ki(e,t,a),i=i&&e.constant,r.push.apply(r,e.toWatch)})),e.constant=i,e.toWatch=o?r:[e];break;case Mi.AssignmentExpression:ki(e.left,t,a),ki(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Mi.ArrayExpression:i=!0,r=[],S(e.elements,(function(e){ki(e,t,a),i=i&&e.constant,r.push.apply(r,e.toWatch)})),e.constant=i,e.toWatch=r;break;case Mi.ObjectExpression:i=!0,r=[],S(e.properties,(function(e){ki(e.value,t,a),i=i&&e.value.constant,r.push.apply(r,e.value.toWatch),e.computed&&(ki(e.key,t,!1),i=i&&e.key.constant,r.push.apply(r,e.key.toWatch))})),e.constant=i,e.toWatch=r;break;case Mi.ThisExpression:case Mi.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Pi(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length||n[0]!==t?n:void 0}}function Di(e){return e.type===Mi.Identifier||e.type===Mi.MemberExpression}function Ri(e){if(1===e.body.length&&Di(e.body[0].expression))return{type:Mi.AssignmentExpression,left:e.body[0].expression,right:{type:Mi.NGValueParameter},operator:"="}}function $i(e){this.$filter=e}function Ii(e){this.$filter=e}function Li(e,t,n){this.ast=new Mi(e,n),this.astCompiler=n.csp?new Ii(t):new $i(t)}function Oi(e){return Z(e.valueOf)?e.valueOf():_i.call(e)}function Ni(){var e,t,n=ze(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){var o={csp:ue().noUnsafeEval,literals:se(i),isIdentifierStart:Z(e)&&e,isIdentifierContinue:Z(t)&&t};return a.$$getAst=function(e){return new Li(new Ei(o),r,o).getAst(e).ast},a;function a(e,t){var i,a;switch(typeof e){case"string":if(e=e.trim(),!(i=n[a=e]))i=new Li(new Ei(o),r,o).parse(e),n[a]=h(i);return p(i,t);case"function":return p(e,t);default:return p(L,t)}}function s(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Oi(e))&&!n)&&(e===t||e!=e&&t!=t)}function l(e,t,n,i,r){var o,a=i.inputs;if(1===a.length){var l=s;return a=a[0],e.$watch((function(e){var t=a(e);return s(t,l,a.isPure)||(o=i(e,void 0,void 0,[t]),l=t&&Oi(t)),o}),t,n,r)}for(var c=[],u=[],d=0,h=a.length;d<h;d++)c[d]=s,u[d]=null;return e.$watch((function(e){for(var t=!1,n=0,r=a.length;n<r;n++){var l=a[n](e);(t||(t=!s(l,c[n],a[n].isPure)))&&(u[n]=l,c[n]=l&&Oi(l))}return t&&(o=i(e,void 0,void 0,u)),o}),t,n,r)}function c(e,t,n,i,r){var o,a,s=i.literal?u:U,l=i.$$intercepted||i,c=i.$$interceptor||O,d=i.inputs&&!l.inputs;return f.literal=i.literal,f.constant=i.constant,f.inputs=i.inputs,h(f),o=e.$watch(f,t,n,r);function p(){s(a)&&o()}function f(e,t,n,i){return a=d&&i?i[0]:l(e,t,n,i),s(a)&&e.$$postDigest(p),c(a)}}function u(e){var t=!0;return S(e,(function(e){U(e)||(t=!1)})),t}function d(e,t,n,i){var r=e.$watch((function(e){return r(),i(e)}),t,n);return r}function h(e){return e.constant?e.$$watchDelegate=d:e.oneTime?e.$$watchDelegate=c:e.inputs&&(e.$$watchDelegate=l),e}function p(e,t){if(!t)return e;e.$$interceptor&&(t=function(e,t){function n(n){return t(e(n))}return n.$stateful=e.$stateful||t.$stateful,n.$$pure=e.$$pure&&t.$$pure,n}(e.$$interceptor,t),e=e.$$intercepted);var n=!1,i=function(i,r,o,a){var s=n&&a?a[0]:e(i,r,o,a);return t(s)};return i.$$intercepted=e,i.$$interceptor=t,i.literal=e.literal,i.oneTime=e.oneTime,i.constant=e.constant,t.$stateful||(n=!e.inputs,i.inputs=e.inputs?e.inputs:[e],t.$$pure||(i.inputs=i.inputs.map((function(e){return 2===e.isPure?function(t){return e(t)}:e})))),h(i)}}]}function Fi(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Ui((function(e){t.$evalAsync(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return U(t)?(e=t,this):e}}function Bi(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Ui((function(e){t.defer(e)}),n,e)}],this.errorOnUnhandledRejections=function(t){return U(t)?(e=t,this):e}}function Ui(e,t,n){var i=o("$q",TypeError),r=0,a=[];function s(){return new l}function l(){var e=this.promise=new c;this.resolve=function(t){h(e,t)},this.reject=function(t){f(e,t)},this.notify=function(t){g(e,t)}}function c(){this.$$state={status:0}}function u(){for(;!r&&a.length;){var e=a.shift();if(!zi(e)){Vi(e);var n="Possibly unhandled rejection: "+We(e.value);q(e.value)?t(e.value,n):t(n)}}}function d(i){!n||i.pending||2!==i.status||zi(i)||(0===r&&0===a.length&&e(u),a.push(i)),!i.processScheduled&&i.pending&&(i.processScheduled=!0,++r,e((function(){!function(i){var o,a,s;s=i.pending,i.processScheduled=!1,i.pending=void 0;try{for(var l=0,c=s.length;l<c;++l){Vi(i),a=s[l][0],o=s[l][i.status];try{Z(o)?h(a,o(i.value)):1===i.status?h(a,i.value):f(a,i.value)}catch(e){f(a,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--r,n&&0===r&&e(u)}}(i)})))}function h(e,t){e.$$state.status||(t===e?m(e,i("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):p(e,t))}function p(e,t){var n,i=!1;try{(z(t)||Z(t))&&(n=t.then),Z(n)?(e.$$state.status=-1,n.call(t,(function(t){if(i)return;i=!0,p(e,t)}),r,(function(t){g(e,t)}))):(e.$$state.value=t,e.$$state.status=1,d(e.$$state))}catch(e){r(e)}function r(t){i||(i=!0,m(e,t))}}function f(e,t){e.$$state.status||m(e,t)}function m(e,t){e.$$state.value=t,e.$$state.status=2,d(e.$$state)}function g(n,i){var r=n.$$state.pending;n.$$state.status<=0&&r&&r.length&&e((function(){for(var e,n,o=0,a=r.length;o<a;o++){n=r[o][0],e=r[o][3];try{g(n,Z(e)?e(i):i)}catch(e){t(e)}}}))}function v(e){var t=new c;return f(t,e),t}function y(e,t,n){var i=null;try{Z(n)&&(i=n())}catch(e){return v(e)}return Q(i)?i.then((function(){return t(e)}),v):t(e)}function b(e,t,n,i){var r=new c;return h(r,e),r.then(t,n,i)}P(c.prototype,{then:function(e,t,n){if(B(e)&&B(t)&&B(n))return this;var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&d(this.$$state),i},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return y(t,w,e)}),(function(t){return y(t,v,e)}),t)}});var w=b;function _(e){if(!Z(e))throw i("norslvr","Expected resolverFn, got '{0}'",e);var t=new c;return e((function(e){h(t,e)}),(function(e){f(t,e)})),t}return _.prototype=c.prototype,_.defer=s,_.reject=v,_.when=b,_.resolve=w,_.all=function(e){var t=new c,n=0,i=G(e)?[]:{};return S(e,(function(e,r){n++,b(e).then((function(e){i[r]=e,--n||h(t,i)}),(function(e){f(t,e)}))})),0===n&&h(t,i),t},_.race=function(e){var t=s();return S(e,(function(e){b(e).then(t.resolve,t.reject)})),t.promise},_}function zi(e){return!!e.pur}function Vi(e){e.pur=!0}function Hi(e){e.$$state&&Vi(e.$$state)}function ji(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Wi(){var e=10,t=o("$rootScope"),n=null,i=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(r,o,s){function l(e){e.currentScope.$$destroyed=!0}function c(e){9===a&&(e.$$childHead&&c(e.$$childHead),e.$$nextSibling&&c(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function u(){this.$id=A(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}u.prototype={constructor:u,$new:function(e,t){var n;return t=t||this,e?(n=new u).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=A(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",l),n},$watch:function(e,t,i,r){var a=o(e),s=Z(t)?t:L;if(a.$$watchDelegate)return a.$$watchDelegate(this,s,i,a,e);var l=this,c=l.$$watchers,u={fn:s,last:_,get:a,exp:r||e,eq:!!i};return n=null,c||((c=l.$$watchers=[]).$$digestWatchIndex=-1),c.unshift(u),c.$$digestWatchIndex++,b(this,1),function(){var e=ae(c,u);e>=0&&(b(l,-1),e<c.$$digestWatchIndex&&c.$$digestWatchIndex--),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),i=new Array(e.length),r=[],o=this,a=!1,s=!0;if(!e.length){var l=!0;return o.$evalAsync((function(){l&&t(i,i,o)})),function(){l=!1}}if(1===e.length)return this.$watch(e[0],(function(e,r,o){i[0]=e,n[0]=r,t(i,e===r?i:n,o)}));function c(){a=!1;try{s?(s=!1,t(i,i,o)):t(i,n,o)}finally{for(var r=0;r<e.length;r++)n[r]=i[r]}}return S(e,(function(e,t){var n=o.$watch(e,(function(e){i[t]=e,a||(a=!0,o.$evalAsync(c))}));r.push(n)})),function(){for(;r.length;)r.shift()()}},$watchCollection:function(e,t){m.$$pure=o(e).literal,m.$stateful=!m.$$pure;var n,i,r,a=this,s=t.length>1,l=0,c=o(e,m),u=[],d={},p=!0,f=0;function m(e){var t,r,o,a;if(!B(n=e)){if(z(n))if(T(n)){i!==u&&(f=(i=u).length=0,l++),t=n.length,f!==t&&(l++,i.length=f=t);for(var s=0;s<t;s++)a=i[s],o=n[s],a!=a&&o!=o||a===o||(l++,i[s]=o)}else{for(r in i!==d&&(i=d={},f=0,l++),t=0,n)h.call(n,r)&&(t++,o=n[r],a=i[r],r in i?a!=a&&o!=o||a===o||(l++,i[r]=o):(f++,i[r]=o,l++));if(f>t)for(r in l++,i)h.call(n,r)||(f--,delete i[r])}else i!==n&&(i=n,l++);return l}}return this.$watch(c,(function(){if(p?(p=!1,t(n,n,a)):t(n,r,a),s)if(z(n))if(T(n)){r=new Array(n.length);for(var e=0;e<n.length;e++)r[e]=n[e]}else for(var i in r={},n)h.call(n,i)&&(r[i]=n[i]);else r=n}))},$digest:function(){var o,a,l,c,u,h,m,b,w,T=e,S=p.length?d:this,E=[];v("$digest"),s.$$checkUrlChange(),this===d&&null!==i&&(s.defer.cancel(i),x()),n=null;do{u=!1,m=S;for(var M=0;M<p.length;M++){try{(0,(w=p[M]).fn)(w.scope,w.locals)}catch(e){r(e)}n=null}p.length=0;e:do{if(c=!m.$$suspended&&m.$$watchers)for(c.$$digestWatchIndex=c.length;c.$$digestWatchIndex--;)try{if(o=c[c.$$digestWatchIndex])if((a=(0,o.get)(m))===(l=o.last)||(o.eq?ce(a,l):$(a)&&$(l))){if(o===n){u=!1;break e}}else u=!0,n=o,o.last=o.eq?se(a,null):a,(0,o.fn)(a,l===_?a:l,m),T<5&&(E[b=4-T]||(E[b]=[]),E[b].push({msg:Z(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:a,oldVal:l}))}catch(e){r(e)}if(!(h=!m.$$suspended&&m.$$watchersCount&&m.$$childHead||m!==S&&m.$$nextSibling))for(;m!==S&&!(h=m.$$nextSibling);)m=m.$parent}while(m=h);if((u||p.length)&&!T--)throw y(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,E)}while(u||p.length);for(y();g<f.length;)try{f[g++]()}catch(e){r(e)}f.length=g=0,s.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===d&&s.$$applicationDestroyed(),b(this,-this.$$watchersCount),this.$$listenerCount)w(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=L,this.$on=this.$watch=this.$watchGroup=function(){return L},this.$$listeners={},this.$$nextSibling=null,c(this)}},$eval:function(e,t){return o(e)(this,t)},$evalAsync:function(e,t){d.$$phase||p.length||s.defer((function(){p.length&&d.$digest()}),null,"$evalAsync"),p.push({scope:this,fn:o(e),locals:t})},$$postDigest:function(e){f.push(e)},$apply:function(e){try{v("$apply");try{return this.$eval(e)}finally{y()}}catch(e){r(e)}finally{try{d.$digest()}catch(e){throw r(e),e}}},$applyAsync:function(e){var t=this;e&&m.push((function(){t.$eval(e)})),e=o(e),null===i&&(i=s.defer((function(){d.$apply(x)}),null,"$applyAsync"))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do{i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(delete n[i],w(r,1,e))}},$emit:function(e,t){var n,i,o,a=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=he([c],arguments,1);do{for(n=s.$$listeners[e]||a,c.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,u)}catch(e){r(e)}else n.splice(i,1),i--,o--;if(l)break;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,i=n,o=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var s,l,c,u=he([a],arguments,1);i=o;){for(a.currentScope=i,l=0,c=(s=i.$$listeners[e]||[]).length;l<c;l++)if(s[l])try{s[l].apply(null,u)}catch(e){r(e)}else s.splice(l,1),l--,c--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var d=new u,p=d.$$asyncQueue=[],f=d.$$postDigestQueue=[],m=d.$$applyAsyncQueue=[],g=0;return d;function v(e){if(d.$$phase)throw t("inprog","{0} already in progress",d.$$phase);d.$$phase=e}function y(){d.$$phase=null}function b(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function w(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function _(){}function x(){for(;m.length;)try{m.shift()()}catch(e){r(e)}i=null}}]}function Gi(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(t){return U(t)?(e=t,this):e},this.imgSrcSanitizationTrustedUrlList=function(e){return U(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r=i?t:e,o=hr(n&&n.trim()).href;return""===o||o.match(r)?n:"unsafe:"+o}}}$i.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},ki(e,t.$filter);var n,i="";if(this.stage="assign",n=Ri(e)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r),this.return_(r),i="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Pi(e.body);t.stage="inputs",S(o,(function(e,n){var i="fn"+n;t.state[i]={vars:[],body:[],own:{}},t.state.computing=i;var r=t.nextId();t.recurse(e,r),t.return_(r),t.state.inputs.push({name:i,isPure:e.isPure}),e.watchId=n})),this.state.computing="fn",this.stage="main",this.recurse(e);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,xi,Ai,Ci);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return S(t,(function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")})),t.length&&e.push("fn.inputs=["+t.map((function(e){return e.name})).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return S(this.state.filters,(function(n,i){e.push(n+"=$filter("+t.escape(i)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,r,o){var a,s,l,c,u,d=this;if(i=i||L,!o&&U(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,r,!0));switch(e.type){case Mi.Program:S(e.body,(function(t,n){d.recurse(t.expression,void 0,void 0,(function(e){s=e})),n!==e.body.length-1?d.current().body.push(s,";"):d.return_(s)}));break;case Mi.Literal:c=this.escape(e.value),this.assign(t,c),i(t||c);break;case Mi.UnaryExpression:this.recurse(e.argument,void 0,void 0,(function(e){s=e})),c=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),i(c);break;case Mi.BinaryExpression:this.recurse(e.left,void 0,void 0,(function(e){a=e})),this.recurse(e.right,void 0,void 0,(function(e){s=e})),c="+"===e.operator?this.plus(a,s):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):"("+a+")"+e.operator+"("+s+")",this.assign(t,c),i(c);break;case Mi.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),i(t);break;case Mi.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),i(t);break;case Mi.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),(function(){d.if_("inputs"===d.stage||"s",(function(){r&&1!==r&&d.if_(d.isNull(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))}))}),t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),i(t);break;case Mi.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,a,void 0,(function(){d.if_(d.notNull(a),(function(){e.computed?(s=d.nextId(),d.recurse(e.property,s),d.getStringValue(s),r&&1!==r&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),c=d.computedMember(a,s),d.assign(t,c),n&&(n.computed=!0,n.name=s)):(r&&1!==r&&d.if_(d.isNull(d.nonComputedMember(a,e.property.name)),d.lazyAssign(d.nonComputedMember(a,e.property.name),"{}")),c=d.nonComputedMember(a,e.property.name),d.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))}),(function(){d.assign(t,"undefined")})),i(t)}),!!r);break;case Mi.CallExpression:t=t||this.nextId(),e.filter?(s=d.filter(e.callee.name),l=[],S(e.arguments,(function(e){var t=d.nextId();d.recurse(e,t),l.push(t)})),c=s+"("+l.join(",")+")",d.assign(t,c),i(t)):(s=d.nextId(),a={},l=[],d.recurse(e.callee,s,a,(function(){d.if_(d.notNull(s),(function(){S(e.arguments,(function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,(function(e){l.push(e)}))})),c=a.name?d.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(t,c)}),(function(){d.assign(t,"undefined")})),i(t)})));break;case Mi.AssignmentExpression:s=this.nextId(),a={},this.recurse(e.left,void 0,a,(function(){d.if_(d.notNull(a.context),(function(){d.recurse(e.right,s),c=d.member(a.context,a.name,a.computed)+e.operator+s,d.assign(t,c),i(t||c)}))}),1);break;case Mi.ArrayExpression:l=[],S(e.elements,(function(t){d.recurse(t,e.constant?void 0:d.nextId(),void 0,(function(e){l.push(e)}))})),c="["+l.join(",")+"]",this.assign(t,c),i(t||c);break;case Mi.ObjectExpression:l=[],u=!1,S(e.properties,(function(e){e.computed&&(u=!0)})),u?(t=t||this.nextId(),this.assign(t,"{}"),S(e.properties,(function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===Mi.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)}))):(S(e.properties,(function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,(function(e){l.push(d.escape(t.key.type===Mi.Identifier?t.key.name:""+t.key.value)+":"+e)}))})),c="{"+l.join(",")+"}",this.assign(t,c)),i(t||c);break;case Mi.ThisExpression:this.assign(t,"s"),i(t||"s");break;case Mi.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case Mi.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(H(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(j(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw wi("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Ii.prototype={compile:function(e){var t,n,i=this;ki(e,i.$filter),(t=Ri(e))&&(n=this.recurse(t));var r,o=Pi(e.body);o&&(r=[],S(o,(function(e,t){var n=i.recurse(e);n.isPure=e.isPure,e.input=n,r.push(n),e.watchId=t})));var a=[];S(e.body,(function(e){a.push(i.recurse(e.expression))}));var s=0===e.body.length?L:1===e.body.length?a[0]:function(e,t){var n;return S(a,(function(i){n=i(e,t)})),n};return n&&(s.assign=function(e,t,i){return n(e,i,t)}),r&&(s.inputs=r),s},recurse:function(e,t,n){var i,r,o,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Mi.Literal:return this.value(e.value,t);case Mi.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case Mi.BinaryExpression:case Mi.LogicalExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case Mi.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Mi.Identifier:return a.identifier(e.name,t,n);case Mi.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(i,r,t,n):this.nonComputedMember(i,r,t,n);case Mi.CallExpression:return o=[],S(e.arguments,(function(e){o.push(a.recurse(e))})),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,n,i,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,n,i,a));var c=r.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,i,a){var s,l=r(e,n,i,a);if(null!=l.value){for(var c=[],u=0;u<o.length;++u)c.push(o[u](e,n,i,a));s=l.value.apply(l.context,c)}return t?{value:s}:s};case Mi.AssignmentExpression:return i=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,n,o,a){var s=i(e,n,o,a),l=r(e,n,o,a);return s.context[s.name]=l,t?{value:l}:l};case Mi.ArrayExpression:return o=[],S(e.elements,(function(e){o.push(a.recurse(e))})),function(e,n,i,r){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,i,r));return t?{value:a}:a};case Mi.ObjectExpression:return o=[],S(e.properties,(function(e){e.computed?o.push({key:a.recurse(e.key),computed:!0,value:a.recurse(e.value)}):o.push({key:e.key.type===Mi.Identifier?e.key.name:""+e.key.value,computed:!1,value:a.recurse(e.value)})})),function(e,n,i,r){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,n,i,r)]=o[s].value(e,n,i,r):a[o[s].key]=o[s].value(e,n,i,r);return t?{value:a}:a};case Mi.ThisExpression:return function(e){return t?{value:e}:e};case Mi.LocalsExpression:return function(e,n){return t?{value:n}:n};case Mi.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=U(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=U(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,r,o){var a=!e(n,i,r,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,r,o,a){var s=Ci(e(i,r,o,a),t(i,r,o,a));return n?{value:s}:s}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),c=(U(s)?s:0)-(U(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)*t(i,r,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)/t(i,r,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)%t(i,r,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)===t(i,r,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!==t(i,r,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)==t(i,r,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!=t(i,r,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<t(i,r,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>t(i,r,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<=t(i,r,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>=t(i,r,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)&&t(i,r,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)||t(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(i,r,o,a){var s=r&&e in r?r:i;n&&1!==n&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,n,i){return function(r,o,a,s){var l,c,u=e(r,o,a,s);return null!=u&&(l=xi(l=t(r,o,a,s)),i&&1!==i&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s);i&&1!==i&&l&&null==l[t]&&(l[t]={});var c=null!=l?l[t]:void 0;return n?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}},Li.prototype={constructor:Li,parse:function(e){var t=this.getAst(e),n=this.astCompiler.compile(t.ast);return n.literal=function(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Mi.Literal||e.body[0].expression.type===Mi.ArrayExpression||e.body[0].expression.type===Mi.ObjectExpression)}(t.ast),n.constant=function(e){return e.constant}(t.ast),n.oneTime=t.oneTime,n},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var qi=o("$sce"),Zi={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Xi=/_([a-z])/g;function Yi(e){return e.replace(Xi,Qe)}function Ki(e){var t=[];return U(e)&&S(e,(function(e){t.push(function(e){if("self"===e)return e;if(H(e)){if(e.indexOf("***")>-1)throw qi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=ne(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(X(e))return new RegExp("^"+e.source+"$");throw qi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function Ji(){this.SCE_CONTEXTS=Zi;var t=["self"],n=[];this.trustedResourceUrlList=function(e){return arguments.length&&(t=Ki(e)),t},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return arguments.length&&(n=Ki(e)),n},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(i,r){var o=function(e){throw qi("unsafe","Attempting to use an unsafe value in a safe context.")};function a(t,n){return"self"===t?pr(n,ur)||function(t){return pr(t,function(){if(e.document.baseURI)return e.document.baseURI;lr||((lr=e.document.createElement("a")).href=".",lr=lr.cloneNode(!1));return lr.href}())}(n):!!t.exec(n.href)}function s(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}i.has("$sanitize")&&(o=i.get("$sanitize"));var l=s(),c={};return c[Zi.HTML]=s(l),c[Zi.CSS]=s(l),c[Zi.MEDIA_URL]=s(l),c[Zi.URL]=s(c[Zi.MEDIA_URL]),c[Zi.JS]=s(l),c[Zi.RESOURCE_URL]=s(c[Zi.URL]),{trustAs:function(e,t){var n=c.hasOwnProperty(e)?c[e]:null;if(!n)throw qi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||B(t)||""===t)return t;if("string"!=typeof t)throw qi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,i){if(null===i||B(i)||""===i)return i;var s=c.hasOwnProperty(e)?c[e]:null;if(s&&i instanceof s)return i.$$unwrapTrustedValue();if(Z(i.$$unwrapTrustedValue)&&(i=i.$$unwrapTrustedValue()),e===Zi.MEDIA_URL||e===Zi.URL)return r(i.toString(),e===Zi.MEDIA_URL);if(e===Zi.RESOURCE_URL){if(function(e){var i,r,o=hr(e.toString()),s=!1;for(i=0,r=t.length;i<r;i++)if(a(t[i],o)){s=!0;break}if(s)for(i=0,r=n.length;i<r;i++)if(a(n[i],o)){s=!1;break}return s}(i))return i;throw qi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",i.toString())}if(e===Zi.HTML)return o(i);throw qi("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof l?e.$$unwrapTrustedValue():e}}}]}function Qi(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&a<8)throw qi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=je(Zi);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=O),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,(function(t){return i.getTrusted(e,t)}))};var r=i.parseAs,o=i.getTrusted,s=i.trustAs;return S(Zi,(function(e,t){var n=p(t);i[Yi("parse_as_"+n)]=function(t){return r(e,t)},i[Yi("get_trusted_"+n)]=function(t){return o(e,t)},i[Yi("trust_as_"+n)]=function(t){return s(e,t)}})),i}]}function er(){this.$get=["$window","$document",function(e,t){var n={},i=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,r=R((/android (\d+)/.exec(p((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=s.body&&s.body.style,c=!1,u=!1;return l&&(c=!(!("transition"in l)&&!("webkitTransition"in l)),u=!(!("animation"in l)&&!("webkitAnimation"in l))),{history:!(!i||r<4||o),hasEvent:function(e){if("input"===e&&a)return!1;if(B(n[e])){var t=s.createElement("div");n[e]="on"+e in t}return n[e]},csp:ue(),transitions:c,animations:u,android:r}}]}function tr(){this.$get=N((function(e){return new nr(e)}))}function nr(e){var t=this,n={},i=[],r=t.ALL_TASKS_TYPE="$$all$$",o=t.DEFAULT_TASK_TYPE="$$default$$";function a(){var e=i.pop();return e&&e.cb}function s(e){for(var t=i.length-1;t>=0;--t){var n=i[t];if(n.type===e)return i.splice(t,1),n.cb}}t.completeTask=function(t,i){i=i||o;try{t()}finally{!function(e){n[e=e||o]&&(n[e]--,n[r]--)}(i);var l=n[i],c=n[r];if(!c||!l)for(var u,d=c?s:a;u=d(i);)try{u()}catch(t){e.error(t)}}},t.incTaskCount=function(e){n[e=e||o]=(n[e]||0)+1,n[r]=(n[r]||0)+1},t.notifyWhenNoPendingTasks=function(e,t){n[t=t||r]?i.push({type:t,cb:e}):e()}}var ir=o("$templateRequest");function rr(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,o){function a(s,l){a.totalPendingRequests++,H(s)&&!B(n.get(s))||(s=o.getTrustedResourceUrl(s));var c=i.defaults&&i.defaults.transformResponse;return G(c)?c=c.filter((function(e){return e!==Vn})):c===Vn&&(c=null),i.get(s,P({cache:n,transformResponse:c},e)).finally((function(){a.totalPendingRequests--})).then((function(e){return n.put(s,e.data)}),(function(e){l||(e=ir("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e));return r.reject(e)}))}return a.totalPendingRequests=0,a}]}function or(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={findBindings:function(e,t,n){var i=e.getElementsByClassName("ng-binding"),r=[];return S(i,(function(e){var i=_.element(e).data("$binding");i&&S(i,(function(i){n?new RegExp("(^|\\s)"+ne(t)+"(\\s|\\||$)").test(i)&&r.push(e):-1!==i.indexOf(t)&&r.push(e)}))})),r},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o="["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return i}]}var ar=o("$timeout");function sr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){var o={};function a(a,s,l){Z(a)||(l=s,s=a,a=L);var c,u=pe(arguments,3),d=U(l)&&!l,h=(d?i:n).defer(),p=h.promise;return c=t.defer((function(){try{h.resolve(a.apply(null,u))}catch(e){h.reject(e),r(e)}finally{delete o[p.$$timeoutId]}d||e.$apply()}),s,"$timeout"),p.$$timeoutId=c,o[c]=h,p}return a.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw ar("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!o.hasOwnProperty(e.$$timeoutId))return!1;var n=e.$$timeoutId,i=o[n];return Hi(i.promise),i.reject("canceled"),delete o[n],t.defer.cancel(n)},a}]}var lr,cr=e.document.createElement("a"),ur=hr(e.location.href);cr.href="http://[::1]";var dr="[::1]"===cr.hostname;function hr(e){if(!H(e))return e;var t=e;a&&(cr.setAttribute("href",t),t=cr.href),cr.setAttribute("href",t);var n=cr.hostname;return!dr&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:cr.href,protocol:cr.protocol?cr.protocol.replace(/:$/,""):"",host:cr.host,search:cr.search?cr.search.replace(/^\?/,""):"",hash:cr.hash?cr.hash.replace(/^#/,""):"",hostname:n,port:cr.port,pathname:"/"===cr.pathname.charAt(0)?cr.pathname:"/"+cr.pathname}}function pr(e,t){return e=hr(e),t=hr(t),e.protocol===t.protocol&&e.host===t.host}function fr(){this.$get=N(e)}function mr(e){var t=e[0]||{},n={},i="";function r(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,a,s,l,c=function(e){try{return e.cookie||""}catch(e){return""}}(t);if(c!==i)for(e=(i=c).split("; "),n={},a=0;a<e.length;a++)(s=(o=e[a]).indexOf("="))>0&&(l=r(o.substring(0,s)),B(n[l])&&(n[l]=r(o.substring(s+1))));return n}}function gr(){this.$get=mr}function vr(e){var t="Filter";function n(i,r){if(z(i)){var o={};return S(i,(function(e,t){o[t]=n(t,e)})),o}return e.factory(i+t,r)}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",_r),n("date",$r),n("filter",yr),n("json",Ir),n("limitTo",Nr),n("lowercase",Lr),n("number",xr),n("orderBy",Br),n("uppercase",Or)}function yr(){return function(e,t,n,i){if(!T(e)){if(null==e)return e;throw o("filter")("notarray","Expected array but received: {0}",e)}var r,a;switch(i=i||"$",wr(t)){case"function":r=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":r=function(e,t,n,i){var r=z(e)&&n in e;!0===t?t=ce:Z(t)||(t=function(e,t){return!B(e)&&(null===e||null===t?e===t:!(z(t)||z(e)&&!F(e))&&(e=p(""+e),t=p(""+t),-1!==e.indexOf(t)))});return function(o){return r&&!z(o)?br(o,e[n],t,n,!1):br(o,e,t,n,i)}}(t,n,i,a);break;default:return e}return Array.prototype.filter.call(e,r)}}function br(e,t,n,i,r,o){var a=wr(e),s=wr(t);if("string"===s&&"!"===t.charAt(0))return!br(e,t.substring(1),n,i,r);if(G(e))return e.some((function(e){return br(e,t,n,i,r)}));switch(a){case"object":var l;if(r){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&br(e[l],t,n,i,!0))return!0;return!o&&br(e,t,n,i,!1)}if("object"===s){for(l in t){var c=t[l];if(!Z(c)&&!B(c)){var u=l===i;if(!br(u?e:e[l],c,n,i,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function wr(e){return null===e?"null":typeof e}mr.$inject=["$document"],vr.$inject=["$provide"];function _r(e){var t=e.NUMBER_FORMATS;return function(e,n,i){B(n)&&(n=t.CURRENCY_SYM),B(i)&&(i=t.PATTERNS[1].maxFrac);var r=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:Tr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(r,n)}}function xr(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Tr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Tr(e,t,n,i,r){if(!H(e)&&!j(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(a)c="∞";else{o=function(e){var t,n,i,r,o,a=0;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;"0"===e.charAt(i);i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;"0"===e.charAt(o);)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{d:t,e:a,i:n}}(l),function(e,t,n,i){var r=e.d,o=r.length-e.i,a=(t=B(t)?Math.min(Math.max(n,o),i):+t)+e.i,s=r[a];if(a>0){r.splice(Math.max(e.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var d=r.reduceRight((function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)}),0);d&&(r.unshift(d),e.i++)}(o,r,t.minFrac,t.maxFrac);var u=o.d,d=o.i,h=o.e,p=[];for(s=u.reduce((function(e,t){return e&&!t}),!0);d<0;)u.unshift(0),d++;d>0?p=u.splice(d,u.length):(p=u,u=[0]);var f=[];for(u.length>=t.lgSize&&f.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)f.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&f.unshift(u.join("")),c=f.join(n),p.length&&(c+=i+p.join("")),h&&(c+="e+"+h)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Sr(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Er(e,t,n,i,r){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),Sr(a,t,i,r)}}function Mr(e,t,n){return function(i,r){var o=i["get"+e]();return r[f((n?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function Ar(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Cr(e){return function(t){var n,i=Ar(t.getFullYear()),r=+(n=t,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+i;return Sr(1+Math.round(r/6048e5),e)}}function kr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}_r.$inject=["$locale"],xr.$inject=["$locale"];var Pr={yyyy:Er("FullYear",4,0,!1,!0),yy:Er("FullYear",2,0,!0,!0),y:Er("FullYear",1,0,!1,!0),MMMM:Mr("Month"),MMM:Mr("Month",!0),MM:Er("Month",2,1),M:Er("Month",1,1),LLLL:Mr("Month",!1,!0),dd:Er("Date",2),d:Er("Date",1),HH:Er("Hours",2),H:Er("Hours",1),hh:Er("Hours",2,-12),h:Er("Hours",1,-12),mm:Er("Minutes",2),m:Er("Minutes",1),ss:Er("Seconds",2),s:Er("Seconds",1),sss:Er("Milliseconds",3),EEEE:Mr("Day"),EEE:Mr("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=Sr(Math[i>0?"floor":"ceil"](i/60),2)+Sr(Math.abs(i%60),2)},ww:Cr(2),w:Cr(1),G:kr,GG:kr,GGG:kr,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Dr=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Rr=/^-?\d+$/;function $r(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,a,s="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,H(n)&&(n=Rr.test(n)?R(n):function(e){var n;if(n=e.match(t)){var i=new Date(0),r=0,o=0,a=n[8]?i.setUTCFullYear:i.setFullYear,s=n[8]?i.setUTCHours:i.setHours;n[9]&&(r=R(n[9]+n[10]),o=R(n[9]+n[11])),a.call(i,R(n[1]),R(n[2])-1,R(n[3]));var l=R(n[4]||0)-r,c=R(n[5]||0)-o,u=R(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(i,l,c,u,d),i}return e}(n)),j(n)&&(n=new Date(n)),!W(n)||!isFinite(n.getTime()))return n;for(;i;)(a=Dr.exec(i))?i=(l=he(l,a,1)).pop():(l.push(i),i=null);var c=n.getTimezoneOffset();return r&&(c=be(r,c),n=_e(n,r,!0)),S(l,(function(t){s+=(o=Pr[t])?o(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),s}}function Ir(){return function(e,t){return B(t)&&(t=2),ge(e,t)}}$r.$inject=["$locale"];var Lr=N(p),Or=N(f);function Nr(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):R(t),$(t)?e:(j(e)&&(e=e.toString()),T(e)?(n=(n=!n||isNaN(n)?0:R(n))<0?Math.max(0,e.length+n):n,t>=0?Fr(e,n,n+t):0===n?Fr(e,t,e.length):Fr(e,Math.max(0,n+t),n)):e)}}function Fr(e,t,n){return H(e)?e.slice(t,n):m.call(e,t,n)}function Br(e){return function(i,r,a,s){if(null==i)return i;if(!T(i))throw o("orderBy")("notarray","Expected array but received: {0}",i);G(r)||(r=[r]),0===r.length&&(r=["+"]);var l=r.map((function(t){var n=1,i=O;if(Z(t))i=t;else if(H(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t)).constant)){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}})),c=a?-1:1,u=Z(s)?s:n,d=Array.prototype.map.call(i,(function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:l.map((function(i){return function(e,n){var i=typeof e;null===e?i="null":"object"===i&&(e=function(e){if(Z(e.valueOf)&&t(e=e.valueOf()))return e;if(F(e)&&t(e=e.toString()))return e;return e}(e));return{value:e,type:i,index:n}}(i.get(e),n)}))}}));return d.sort((function(e,t){for(var i=0,r=l.length;i<r;i++){var o=u(e.predicateValues[i],t.predicateValues[i]);if(o)return o*l[i].descending*c}return(u(e.tieBreaker,t.tieBreaker)||n(e.tieBreaker,t.tieBreaker))*c})),i=d.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0,i=e.type,r=t.type;if(i===r){var o=e.value,a=t.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(z(o)&&(o=e.index),z(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n="undefined"===i?1:"undefined"===r?-1:"null"===i?1:"null"===r||i<r?-1:1;return n}}function Ur(e){return Z(e)&&(e={link:e}),e.restrict=e.restrict||"AC",N(e)}Br.$inject=["$parse"];var zr=N({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===y.call(t.prop("href"))?"xlink:href":"href";t.on("click",(function(e){t.attr(n)||e.preventDefault()}))}}}}),Vr={};S($t,(function(e,t){if("multiple"!==e){var n=xn("ng-"+t),i=r;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[n]&&r(e,0,i)}),Vr[n]=function(){return{restrict:"A",priority:100,link:i}}}function r(e,i,r){e.$watch(r[n],(function(e){r.$set(t,!!e)}))}})),S(Lt,(function(e,t){Vr[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(u);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],(function(e){i.$set(t,e)}))}}}})),S(["src","srcset","href"],(function(e){var t=xn("ng-"+e);Vr[t]=["$sce",function(n){return{priority:99,link:function(i,r,o){var s=e,l=e;"href"===e&&"[object SVGAnimatedString]"===y.call(r.prop("href"))&&(l="xlinkHref",o.$attr[l]="xlink:href",s=null),o.$set(t,n.getTrustedMediaUrl(o[t])),o.$observe(t,(function(t){t?(o.$set(l,t),a&&s&&r.prop(s,o[l])):"href"===e&&o.$set(l,null)}))}}}]}));var Hr={$addControl:L,$getControls:N([]),$$renameControl:function(e,t){e.$name=t},$removeControl:L,$setValidity:L,$setDirty:L,$setPristine:L,$setSubmitted:L,$$setSubmitted:L},jr="ng-pending",Wr="ng-submitted";function Gr(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Hr,this.$$element=e,this.$$animate=i,Yr(this)}Gr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Gr.prototype={$rollbackViewValue:function(){S(this.$$controls,(function(e){e.$rollbackViewValue()}))},$commitViewValue:function(){S(this.$$controls,(function(e){e.$commitViewValue()}))},$addControl:function(e){Be(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return je(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],S(this.$pending,(function(t,n){this.$setValidity(n,null,e)}),this),S(this.$error,(function(t,n){this.$setValidity(n,null,e)}),this),S(this.$$success,(function(t,n){this.$setValidity(n,null,e)}),this),ae(this.$$controls,e),e.$$parentForm=Hr},$setDirty:function(){this.$$animate.removeClass(this.$$element,Go),this.$$animate.addClass(this.$$element,qo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Go,qo+" "+Wr),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,S(this.$$controls,(function(e){e.$setPristine()}))},$setUntouched:function(){S(this.$$controls,(function(e){e.$setUntouched()}))},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Hr;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Wr),this.$submitted=!0,S(this.$$controls,(function(e){e.$$setSubmitted&&e.$$setSubmitted()}))}},Kr({clazz:Gr,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(ae(i,n),0===i.length&&delete e[t])}});var qr=function(e){return["$timeout","$parse",function(t,n){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Gr,compile:function(n,r){n.addClass(Go).addClass(jo);var o=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,a){var s=a[0];if(!("action"in r)){var l=function(t){e.$apply((function(){s.$commitViewValue(),s.$setSubmitted()})),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",(function(){t((function(){n[0].removeEventListener("submit",l)}),0,!1)}))}(a[1]||s.$$parentForm).$addControl(s);var c=o?i(s.$name):L;o&&(c(e,s),r.$observe(o,(function(t){s.$name!==t&&(c(e,void 0),s.$$parentForm.$$renameControl(s,t),(c=i(s.$name))(e,s))}))),n.on("$destroy",(function(){s.$$parentForm.$removeControl(s),c(e,void 0),P(s,Hr)}))}}}};function i(e){return""===e?n('this[""]').assign:n(e).assign||L}}]},Zr=qr(),Xr=qr(!0);function Yr(e){e.$$classCache={},e.$$classCache[Wo]=!(e.$$classCache[jo]=e.$$element.hasClass(jo))}function Kr(e){var t=e.clazz,n=e.set,i=e.unset;function r(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function o(e,t,n){t=t?"-"+Ie(t,"-"):"",r(e,jo+t,!0===n),r(e,Wo+t,!1===n)}t.prototype.$setValidity=function(e,t,a){var s;B(t)?function(e,t,i,r){e[t]||(e[t]={});n(e[t],i,r)}(this,"$pending",e,a):function(e,t,n,r){e[t]&&i(e[t],n,r);Jr(e[t])&&(e[t]=void 0)}(this,"$pending",e,a),J(t)?t?(i(this.$error,e,a),n(this.$$success,e,a)):(n(this.$error,e,a),i(this.$$success,e,a)):(i(this.$error,e,a),i(this.$$success,e,a)),this.$pending?(r(this,jr,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(r(this,jr,!1),this.$valid=Jr(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid)),o(this,e,s=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,s,this)}}function Jr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Qr=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,eo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,to=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,no=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,io=/^(\d{4,})-(\d{2})-(\d{2})$/,ro=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,oo=/^(\d{4,})-W(\d\d)$/,ao=/^(\d{4,})-(\d\d)$/,so=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,lo=ze();S("date,datetime-local,month,time,week".split(","),(function(e){lo[e]=!0}));var co={text:function(e,t,n,i,r,o){ho(e,t,n,i,r,o),uo(i)},date:fo("date",io,po(io,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":fo("datetimelocal",ro,po(ro,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:fo("time",so,po(so,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:fo("week",oo,(function(e,t){if(W(e))return e;if(H(e)){oo.lastIndex=0;var n=oo.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,c=Ar(i),u=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,c.getDate()+u,o,a,s,l)}}return NaN}),"yyyy-Www"),month:fo("month",ao,po(ao,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,i,r,o,a,s){var l;if(mo(e,t,n,i,"number"),go(i),ho(e,t,n,i,r,o),U(n.min)||n.ngMin){var c=n.min||s(n.ngMin)(e);l=vo(c),i.$validators.min=function(e,t){return i.$isEmpty(t)||B(l)||t>=l},n.$observe("min",(function(e){e!==c&&(l=vo(e),c=e,i.$validate())}))}if(U(n.max)||n.ngMax){var u=n.max||s(n.ngMax)(e),d=vo(u);i.$validators.max=function(e,t){return i.$isEmpty(t)||B(d)||t<=d},n.$observe("max",(function(e){e!==u&&(d=vo(e),u=e,i.$validate())}))}if(U(n.step)||n.ngStep){var h=n.step||s(n.ngStep)(e),p=vo(h);i.$validators.step=function(e,t){return i.$isEmpty(t)||B(p)||wo(t,l||0,p)},n.$observe("step",(function(e){e!==h&&(p=vo(e),h=e,i.$validate())}))}},url:function(e,t,n,i,r,o){ho(e,t,n,i,r,o),uo(i),i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||eo.test(n)}},email:function(e,t,n,i,r,o){ho(e,t,n,i,r,o),uo(i),i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||to.test(n)}},radio:function(e,t,n,i){var r=!n.ngTrim||"false"!==te(n.ngTrim);B(n.name)&&t.attr("name",A());t.on("change",(function(e){var o;t[0].checked&&(o=n.value,r&&(o=te(o)),i.$setViewValue(o,e&&e.type))})),i.$render=function(){var e=n.value;r&&(e=te(e)),t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)},range:function(e,t,n,i,r,o){mo(e,t,n,i,"range"),go(i),ho(e,t,n,i,r,o);var a=i.$$hasNativeValidators&&"range"===t[0].type,s=a?0:void 0,l=a?100:void 0,c=a?1:void 0,u=t[0].validity,d=U(n.min),h=U(n.max),p=U(n.step),f=i.$render;i.$render=a&&U(u.rangeUnderflow)&&U(u.rangeOverflow)?function(){f(),i.$setViewValue(t.val())}:f,d&&(s=vo(n.min),i.$validators.min=a?function(){return!0}:function(e,t){return i.$isEmpty(t)||B(s)||t>=s},m("min",(function(e){if(s=vo(e),$(i.$modelValue))return;if(a){var n=t.val();s>n&&(n=s,t.val(n)),i.$setViewValue(n)}else i.$validate()})));h&&(l=vo(n.max),i.$validators.max=a?function(){return!0}:function(e,t){return i.$isEmpty(t)||B(l)||t<=l},m("max",(function(e){if(l=vo(e),$(i.$modelValue))return;if(a){var n=t.val();l<n&&(t.val(l),n=l<s?s:l),i.$setViewValue(n)}else i.$validate()})));p&&(c=vo(n.step),i.$validators.step=a?function(){return!u.stepMismatch}:function(e,t){return i.$isEmpty(t)||B(c)||wo(t,s||0,c)},m("step",(function(e){if(c=vo(e),$(i.$modelValue))return;a?i.$viewValue!==t.val()&&i.$setViewValue(t.val()):i.$validate()})));function m(e,i){t.attr(e,n[e]);var r=n[e];n.$observe(e,(function(e){e!==r&&(r=e,i(e))}))}},checkbox:function(e,t,n,i,r,o,a,s){var l=_o(s,e,"ngTrueValue",n.ngTrueValue,!0),c=_o(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",(function(e){i.$setViewValue(t[0].checked,e&&e.type)})),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push((function(e){return ce(e,l)})),i.$parsers.push((function(e){return e?l:c}))},hidden:L,button:L,submit:L,reset:L,file:L};function uo(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function ho(e,t,n,i,r,o){var a,s=p(t[0].type);if(!r.android){var l=!1;t.on("compositionstart",(function(){l=!0})),t.on("compositionupdate",(function(e){(B(e.data)||""===e.data)&&(l=!1)})),t.on("compositionend",(function(){l=!1,c()}))}var c=function(e){if(a&&(o.defer.cancel(a),a=null),!l){var r=t.val(),c=e&&e.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=te(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,c)}};if(r.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){a||(a=o.defer((function(){a=null,t&&t.value===n||c(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)})),r.hasEvent("paste")&&t.on("paste cut drop",u)}t.on("change",c),lo[s]&&i.$$hasNativeValidators&&s===n.type&&t.on("keydown wheel mousedown",(function(e){if(!a){var t=this.validity,n=t.badInput,i=t.typeMismatch;a=o.defer((function(){a=null,t.badInput===n&&t.typeMismatch===i||c(e)}))}})),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function po(e,t){return function(n,i){var r,o;if(W(n))return n;if(H(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Qr.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n)){r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},S(r,(function(e,n){n<t.length&&(o[t[n]]=+e)}));var a=new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0);return o.yyyy<100&&a.setFullYear(o.yyyy),a}}return NaN}}function fo(e,t,n,i){return function(r,o,a,s,l,c,u,d){mo(r,o,a,s,e),ho(0,o,a,s,l,c);var h,p,f="time"===e||"datetimelocal"===e;if(s.$parsers.push((function(n){return s.$isEmpty(n)?null:t.test(n)?_(n,h):void(s.$$parserName=e)})),s.$formatters.push((function(e){if(e&&!W(e))throw Jo("datefmt","Expected `{0}` to be a date",e);if(b(e)){h=e;var t=s.$options.getOption("timezone");return t&&(p=t,h=_e(h,t,!0)),function(e,t){var n=i;f&&H(s.$options.getOption("timeSecondsFormat"))&&(n=i.replace("ss.sss",s.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var r=u("date")(e,n,t);f&&s.$options.getOption("timeStripZeroSeconds")&&(r=r.replace(/(?::00)?(?:\.000)?$/,""));return r}(e,t)}return h=null,p=null,""})),U(a.min)||a.ngMin){var m=a.min||d(a.ngMin)(r),g=w(m);s.$validators.min=function(e){return!b(e)||B(g)||n(e)>=g},a.$observe("min",(function(e){e!==m&&(g=w(e),m=e,s.$validate())}))}if(U(a.max)||a.ngMax){var v=a.max||d(a.ngMax)(r),y=w(v);s.$validators.max=function(e){return!b(e)||B(y)||n(e)<=y},a.$observe("max",(function(e){e!==v&&(y=w(e),v=e,s.$validate())}))}function b(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function w(e){return U(e)&&!W(e)?_(e)||void 0:e}function _(e,t){var i=s.$options.getOption("timezone");p&&p!==i&&(t=we(t,be(p)));var r=n(e,t);return!isNaN(r)&&i&&(r=_e(r,i)),r}}}function mo(e,t,n,i,r){var o=t[0];(i.$$hasNativeValidators=z(o.validity))&&i.$parsers.push((function(e){var n=t.prop(d)||{};if(!n.badInput&&!n.typeMismatch)return e;i.$$parserName=r}))}function go(e){e.$parsers.push((function(t){return e.$isEmpty(t)?null:no.test(t)?parseFloat(t):void(e.$$parserName="number")})),e.$formatters.push((function(t){if(!e.$isEmpty(t)){if(!j(t))throw Jo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}))}function vo(e){return U(e)&&!j(e)&&(e=parseFloat(e)),$(e)?void 0:e}function yo(e){return(0|e)===e}function bo(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var i=/e-(\d+)$/.exec(t);if(i)return Number(i[1])}return 0}return t.length-n-1}function wo(e,t,n){var i=Number(e),r=!yo(i),o=!yo(t),a=!yo(n);if(r||o||a){var s=r?bo(i):0,l=o?bo(t):0,c=a?bo(n):0,u=Math.max(s,l,c),d=Math.pow(10,u);i*=d,t*=d,n*=d,r&&(i=Math.round(i)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(i-t)%n==0}function _o(e,t,n,i,r){var o;if(U(i)){if(!(o=e(i)).constant)throw Jo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}var xo=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(co[p(a.type)]||co.text)(r,o,a,s[0],t,e,n,i)}}}}],To=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,n){if("hidden"===p(n.type))return{pre:function(t,n,i,r){var o=n[0];o.parentNode&&o.parentNode.insertBefore(o,o.nextSibling),Object.defineProperty&&Object.defineProperty(o,"value",e)}}}}},So=/^(true|false|\d+)$/,Eo=function(){function e(e,t,n){var i=U(n)?n:9===a?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return So.test(n.ngValue)?function(t,n,i){e(n,i,t.$eval(i.ngValue))}:function(t,n,i){t.$watch(i.ngValue,(function(t){e(n,i,t)}))}}}},Mo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,(function(e){n.textContent=Ve(e)}))}}}}],Ao=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",(function(e){i.textContent=B(e)?"":e}))}}}}],Co=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,(function(t){return e.valueOf(t)}));return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,(function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")}))}}}}],ko=N({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push((function(){e.$eval(n.ngChange)}))}});function Po(e,t){var n;return e="ngClass"+e,["$parse",function(a){return{restrict:"AC",link:function(s,l,c){var u,d=l.data("$classCounts"),h=!0;function p(e,t){var n=[];return S(e,(function(e){(t>0||d[e])&&(d[e]=(d[e]||0)+t,d[e]===+(t>0)&&n.push(e))})),n.join(" ")}d||(d=ze(),l.data("$classCounts",d)),"ngClass"!==e&&(n||(n=a("$index",(function(e){return 1&e}))),s.$watch(n,(function(e){e===t?(n=p(r(n=u),1),c.$addClass(n)):function(e){e=p(r(e),-1),c.$removeClass(e)}(u);var n;h=e}))),s.$watch(a(c[e],o),(function(e){h===t&&function(e,t){var n=r(e),o=r(t),a=i(n,o),s=i(o,n),l=p(a,-1),u=p(s,1);c.$addClass(u),c.$removeClass(l)}(u,e);u=e}))}}}];function i(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function r(e){return e&&e.split(" ")}function o(e){if(!e)return e;var t=e;return G(e)?t=e.map(o).join(" "):z(e)?t=Object.keys(e).filter((function(t){return e[t]})).join(" "):H(e)||(t=e+""),t}}var Do=Po("",!0),Ro=Po("Odd",0),$o=Po("Even",1),Io=Ur({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Lo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Oo={},No={blur:!0,focus:!0};function Fo(e,t,n,i,r,o){return{restrict:"A",compile:function(a,s){var l=e(s[i]);return function(e,i){i.on(r,(function(i){var r=function(){l(e,{$event:i})};if(t.$$phase)if(o)e.$evalAsync(r);else try{r()}catch(e){n(e)}else e.$apply(r)}))}}}}S("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=xn("ng-"+e);Oo[t]=["$parse","$rootScope","$exceptionHandler",function(n,i,r){return Fo(n,i,r,t,e,No[e])}]}));var Bo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,c;n.$watch(r.ngIf,(function(n){n?l||a((function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=Ue(s.clone),e.leave(c).done((function(e){!1!==e&&(c=null)})),s=null))}))}}}],Uo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:_.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,c,u){var d,h,p,f=0,m=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).done((function(e){!1!==e&&(h=null)})),h=p,p=null)};i.$watch(o,(function(o){var l=function(e){!1===e||!U(s)||s&&!i.$eval(s)||t()},h=++f;o?(e(o,!0).then((function(e){if(!i.$$destroyed&&h===f){var t=i.$new();c.template=e;var s=u(t,(function(e){m(),n.enter(e,null,r).done(l)}));p=s,(d=t).$emit("$includeContentLoaded",o),i.$eval(a)}}),(function(){i.$$destroyed||h===f&&(m(),i.$emit("$includeContentError",o))})),i.$emit("$includeContentRequested",o)):(m(),c.template=null)}))}}}}],zo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){if(y.call(i[0]).match(/SVG/))return i.empty(),void t(ht(o.template,e.document).childNodes)(n,(function(e){i.append(e)}),{futureParentElement:i});i.html(o.template),t(i.contents())(n)}}}],Vo=Ur({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ho=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,a=o?te(r):r;i.$parsers.push((function(e){if(!B(e)){var t=[];return e&&S(e.split(a),(function(e){e&&t.push(o?te(e):e)})),t}})),i.$formatters.push((function(e){if(G(e))return e.join(r)})),i.$isEmpty=function(e){return!e||!e.length}}}},jo="ng-valid",Wo="ng-invalid",Go="ng-pristine",qo="ng-dirty",Zo="ng-untouched",Xo="ng-touched",Yo="ng-empty",Ko="ng-not-empty",Jo=o("ngModel");function Qo(e,t,n,i,r,o,a,s,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Hr,this.$options=ea,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,Yr(this),(c=this).$$scope.$watch((function(e){var t=c.$$ngModelGet(e);return t===c.$modelValue||c.$modelValue!=c.$modelValue&&t!=t||c.$$setModelValue(t),t}))}Qo.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Qo.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return Z(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){Z(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Jo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,xe(this.$$element))},$render:L,$isEmpty:function(e){return B(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,Ko),this.$$animate.addClass(this.$$element,Yo)):(this.$$animate.removeClass(this.$$element,Yo),this.$$animate.addClass(this.$$element,Ko))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,qo),this.$$animate.addClass(this.$$element,Go)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Go),this.$$animate.addClass(this.$$element,qo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Zo,Xo)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Xo,Zo)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!$(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,(function(e){r||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==i&&o.$$writeModelToScope())}))}},$$runValidators:function(e,t,n){this.$$currentValidationRunId++;var i,r,o=this.$$currentValidationRunId,a=this;(function(){var e=a.$$parserName;if(!B(a.$$parserValid))return a.$$parserValid||(S(a.$validators,(function(e,t){s(t,null)})),S(a.$asyncValidators,(function(e,t){s(t,null)}))),s(e,a.$$parserValid),a.$$parserValid;s(e,null);return!0})()?!function(){var n=!0;if(S(a.$validators,(function(i,r){var o=Boolean(i(e,t));n=n&&o,s(r,o)})),!n)return S(a.$asyncValidators,(function(e,t){s(t,null)})),!1;return!0}()?l(!1):(i=[],r=!0,S(a.$asyncValidators,(function(n,o){var a=n(e,t);if(!Q(a))throw Jo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),i.push(a.then((function(){s(o,!0)}),(function(){r=!1,s(o,!1)})))})),i.length?a.$$q.all(i).then((function(){l(r)}),L):l(!0)):l(!1);function s(e,t){o===a.$$currentValidationRunId&&a.$setValidity(e,t)}function l(e){o===a.$$currentValidationRunId&&n(e)}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!B(e)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(B(e=this.$parsers[n](e))){this.$$parserValid=!1;break}$(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");function o(){t.$modelValue!==i&&t.$$writeModelToScope()}this.$$rawModelValue=e,r&&(this.$modelValue=e,o()),this.$$runValidators(e,this.$$lastCommittedViewValue,(function(n){r||(t.$modelValue=n?e:void 0,o())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),S(this.$viewChangeListeners,(function(e){try{e()}catch(e){this.$$exceptionHandler(e)}}),this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");j(t[e])?t=t[e]:j(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:j(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout((function(){n.$commitViewValue()}),t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){n.$commitViewValue()}))},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,L))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},Kr({clazz:Qo,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var ea,ta=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Qo,priority:1,compile:function(t){return t.addClass(Go).addClass(Zo).addClass(jo),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm,a=i[2];a&&(r.$options=a.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",(function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)})),e.$on("$destroy",(function(){r.$$parentForm.$removeControl(r)}))},post:function(t,n,i,r){var o=r[0];function a(){o.$setTouched()}o.$$setUpdateOnEvents(),n.on("blur",(function(){o.$touched||(e.$$phase?t.$evalAsync(a):t.$apply(a))}))}}}}}],na=/(\s+|^)default(\s+|$)/;function ia(e){this.$$options=e}ia.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return S(e=P({},e),(function(n,i){"$inherit"===n?"*"===i?t=!0:(e[i]=this.$$options[i],"updateOn"===i&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(e.updateOnDefault=!1,e[i]=te(n.replace(na,(function(){return e.updateOnDefault=!0," "}))))}),this),t&&(delete e["*"],oa(e,this.$$options)),oa(e,ea.$$options),new ia(e)}},ea=new ia({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ra=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:ea,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function oa(e,t){S(t,(function(t,n){U(e[n])||(e[n]=t)}))}var aa=Ur({terminal:!0,priority:1e3}),sa=o("ngOptions"),la=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ca=["$compile","$document","$parse",function(t,n,i){var r=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=L},post:function(e,a,l,c){for(var u=c[0],d=c[1],h=l.multiple,p=0,f=a.children(),m=f.length;p<m;p++)if(""===f[p].value){u.hasEmptyOption=!0,u.emptyOption=f.eq(p);break}a.empty();var g,v=!!u.emptyOption;s(r.cloneNode(!1)).val("?");var y=function(e,t,n){var r=e.match(la);if(!r)throw sa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,xe(t));var o=r[5]||r[7],a=r[6],s=/ as /.test(r[0])&&r[1],l=r[9],c=i(r[2]?r[1]:o),u=s&&i(s)||c,d=l&&i(l),h=l?function(e,t){return d(n,t)}:function(e){return Ut(e)},p=function(e,t){return h(e,b(e,t))},f=i(r[2]||r[1]),m=i(r[3]||""),g=i(r[4]||""),v=i(r[8]),y={},b=a?function(e,t){return y[a]=t,y[o]=e,y}:function(e){return y[o]=e,y};function w(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function _(e){var t;if(!a&&T(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:l,getTrackByValue:p,getWatchables:i(v,(function(e){for(var t=[],i=_(e=e||[]),o=i.length,a=0;a<o;a++){var s=e===i?a:i[a],l=e[s],c=b(l,s),u=h(l,c);if(t.push(u),r[2]||r[1]){var d=f(n,c);t.push(d)}if(r[4]){var p=g(n,c);t.push(p)}}return t})),getOptions:function(){for(var e=[],t={},i=v(n)||[],r=_(i),o=r.length,a=0;a<o;a++){var s=i===r?a:r[a],c=i[s],d=b(c,s),y=u(n,d),x=h(y,d),T=new w(x,y,f(n,d),m(n,d),g(n,d));e.push(T),t[x]=T}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)]},getViewValueFromOption:function(e){return l?se(e.viewValue):e.viewValue}}}}}(l.ngOptions,a,e),b=n[0].createDocumentFragment();function w(e,t){var n=r.cloneNode(!1);t.appendChild(n),function(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label);t.value=e.selectValue}(e,n)}function _(e){var t=g.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}u.generateUnknownOptionValue=function(e){return"?"},h?(u.writeValue=function(e){if(g){var t=e&&e.map(_)||[];g.items.forEach((function(e){e.element.selected&&!oe(t,e)&&(e.element.selected=!1)}))}},u.readValue=function(){var e=a.val()||[],t=[];return S(e,(function(e){var n=g.selectValueMap[e];n&&!n.disabled&&t.push(g.getViewValueFromOption(n))})),t},y.trackBy&&e.$watchCollection((function(){if(G(d.$viewValue))return d.$viewValue.map((function(e){return y.getTrackByValue(e)}))}),(function(){d.$render()}))):(u.writeValue=function(e){if(g){var t=a[0].options[a[0].selectedIndex],n=g.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(a[0].value!==n.selectValue&&(u.removeUnknownOption(),a[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):u.selectUnknownOrEmptyOption(e)}},u.readValue=function(){var e=g.selectValueMap[a.val()];return e&&!e.disabled?(u.unselectEmptyOption(),u.removeUnknownOption(),g.getViewValueFromOption(e)):null},y.trackBy&&e.$watch((function(){return y.getTrackByValue(d.$viewValue)}),(function(){d.$render()}))),v&&(t(u.emptyOption)(e),a.prepend(u.emptyOption),8===u.emptyOption[0].nodeType?(u.hasEmptyOption=!1,u.registerOption=function(e,t){""===t.val()&&(u.hasEmptyOption=!0,u.emptyOption=t,u.emptyOption.removeClass("ng-scope"),d.$render(),t.on("$destroy",(function(){var e=u.$isEmptyOptionSelected();u.hasEmptyOption=!1,u.emptyOption=void 0,e&&d.$render()})))}):u.emptyOption.removeClass("ng-scope")),e.$watchCollection(y.getWatchables,(function(){var e=g&&u.readValue();if(g)for(var t=g.items.length-1;t>=0;t--){var n=g.items[t];U(n.group)?Pt(n.element.parentNode):Pt(n.element)}g=y.getOptions();var i={};if(g.items.forEach((function(e){var t;U(e.group)?((t=i[e.group])||(t=o.cloneNode(!1),b.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),w(e,t)):w(e,b)})),a[0].appendChild(b),d.$render(),!d.$isEmpty(e)){var r=u.readValue();(y.trackBy||h?ce(e,r):e===r)||(d.$setViewValue(r),d.$render())}}))}}}}],ua=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,a,s){var l,c=s.count,u=s.$attr.when&&a.attr(s.$attr.when),d=s.offset||0,h=o.$eval(u)||{},f={},m=t.startSymbol(),g=t.endSymbol(),v=m+c+"-"+d+g,y=_.noop;function b(e){a.text(e||"")}S(s,(function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+p(n[2]);h[i]=a.attr(s.$attr[t])}})),S(h,(function(e,n){f[n]=t(e.replace(i,v))})),o.$watch(c,(function(t){var i=parseFloat(t),r=$(i);if(r||i in h||(i=e.pluralCat(i-d)),!(i===l||r&&$(l))){y();var a=f[i];B(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+u),y=L,b()):y=o.$watch(a,b),l=i}}))}}}],da=o("ngRef"),ha=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,n){var i=xn(re(t)),r=e(n.ngRef),o=r.assign||function(){throw da("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(e,t,a){var s;if(a.hasOwnProperty("ngRefRead")){if("$element"===a.ngRefRead)s=t;else if(!(s=t.data("$"+a.ngRefRead+"Controller")))throw da("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',a.ngRefRead,n.ngRef)}else s=t.data("$"+i+"Controller");o(e,s=s||t),t.on("$destroy",(function(){r(e)===s&&o(e,null)}))}}}}],pa=["$parse","$animate","$compile",function(e,t,n){var i="$$NG_REMOVED",r=o("ngRepeat"),a=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},s=function(e){return e.clone[0]},l=function(e){return e.clone[e.clone.length-1]},c=function(e,t,n){return Ut(n)},u=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(o,d){var p=d.ngRepeat,f=n.$$createComment("end ngRepeat",p),m=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw r("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=m[1],v=m[2],y=m[3],b=m[4];if(!(m=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw r("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var w,_=m[3]||m[1],x=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw r("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);if(b){var E={$id:Ut},M=e(b);w=function(e,t,n,i){return x&&(E[x]=t),E[_]=n,E.$index=i,M(e,E)}}return function(e,n,o,d,m){var g=ze();e.$watchCollection(v,(function(o){var d,v,b,M,A,C,k,P,D,R,$,I,L=n[0],O=ze();if(y&&(e[y]=o),T(o))D=o,P=w||c;else for(var N in P=w||u,D=[],o)h.call(o,N)&&"$"!==N.charAt(0)&&D.push(N);for(M=D.length,$=new Array(M),d=0;d<M;d++)if(A=o===D?d:D[d],C=o[A],k=P(e,A,C,d),g[k])R=g[k],delete g[k],O[k]=R,$[d]=R;else{if(O[k])throw S($,(function(e){e&&e.scope&&(g[e.id]=e)})),r("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,k,C);$[d]={id:k,scope:void 0,clone:void 0},O[k]=!0}for(var F in E&&(E[_]=void 0),g){if(I=Ue((R=g[F]).clone),t.leave(I),I[0].parentNode)for(d=0,v=I.length;d<v;d++)I[d][i]=!0;R.scope.$destroy()}for(d=0;d<M;d++)if(A=o===D?d:D[d],C=o[A],(R=$[d]).scope){b=L;do{b=b.nextSibling}while(b&&b[i]);s(R)!==b&&t.move(Ue(R.clone),null,L),L=l(R),a(R.scope,d,_,C,x,A,M)}else m((function(e,n){R.scope=n;var i=f.cloneNode(!1);e[e.length++]=i,t.enter(e,null,L),L=i,R.clone=e,O[R.id]=R,a(R.scope,d,_,C,x,A,M)}));g=O}))}}}}],fa="ng-hide",ma="ng-hide-animate",ga=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,(function(t){e[t?"removeClass":"addClass"](n,fa,{tempClasses:ma})}))}}}],va=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,(function(t){e[t?"addClass":"removeClass"](n,fa,{tempClasses:ma})}))}}}],ya=Ur((function(e,t,n){e.$watchCollection(n.ngStyle,(function(e,n){n&&e!==n&&S(n,(function(e,n){t.css(n,"")})),e&&t.css(e)}))})),ba=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var a=r.ngSwitch||r.on,s=[],l=[],c=[],u=[],d=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(a,(function(n){for(var i,r;c.length;)e.cancel(c.pop());for(i=0,r=u.length;i<r;++i){var a=Ue(l[i].clone);u[i].$destroy(),(c[i]=e.leave(a)).done(d(c,i))}l.length=0,u.length=0,(s=o.cases["!"+n]||o.cases["?"])&&S(s,(function(n){n.transclude((function(i,r){u.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:i};l.push(a),e.enter(i,o.parent(),o)}))}))}))}}}],wa=Ur({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){var o=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter((function(e,t,n){return n[t-1]!==e}));S(o,(function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})}))}}),_a=Ur({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),xa=o("ngTransclude"),Ta=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,o){if(!o)throw xa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",xe(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var a=i.ngTransclude||i.ngTranscludeSlot;function s(){n(e,(function(e){t.append(e)}))}o((function(e,n){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.nodeType!==He||i.nodeValue.trim())return!0}}(e)?t.append(e):(s(),n.$destroy())}),null,a),a&&!o.isSlotFilled(a)&&s()}}}}],Sa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],Ea={$setViewValue:L,$render:L};function Ma(e,t){e.prop("selected",t),e.attr("selected",t)}var Aa=["$element","$scope",function(t,n){var i=this,r=new Ht;i.selectValueMap={},i.ngModelCtrl=Ea,i.multiple=!1,i.unknownOption=s(e.document.createElement("option")),i.hasEmptyOption=!1,i.emptyOption=void 0,i.renderUnknownOption=function(e){var n=i.generateUnknownOptionValue(e);i.unknownOption.val(n),t.prepend(i.unknownOption),Ma(i.unknownOption,!0),t.val(n)},i.updateUnknownOption=function(e){var n=i.generateUnknownOptionValue(e);i.unknownOption.val(n),Ma(i.unknownOption,!0),t.val(n)},i.generateUnknownOptionValue=function(e){return"? "+Ut(e)+" ?"},i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.selectEmptyOption=function(){i.emptyOption&&(t.val(""),Ma(i.emptyOption,!0))},i.unselectEmptyOption=function(){i.hasEmptyOption&&Ma(i.emptyOption,!1)},n.$on("$destroy",(function(){i.renderUnknownOption=L})),i.readValue=function(){var e=t.val(),n=e in i.selectValueMap?i.selectValueMap[e]:e;return i.hasOption(n)?n:null},i.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&Ma(s(n),!1),i.hasOption(e)){i.removeUnknownOption();var r=Ut(e);t.val(r in i.selectValueMap?r:e);var o=t[0].options[t[0].selectedIndex];Ma(s(o),!0)}else i.selectUnknownOrEmptyOption(e)},i.addOption=function(e,t){if(8!==t[0].nodeType){Be(e,'"option value"'),""===e&&(i.hasEmptyOption=!0,i.emptyOption=t);var n=r.get(e)||0;r.set(e,n+1),a()}},i.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.delete(e),""===e&&(i.hasEmptyOption=!1,i.emptyOption=void 0)):r.set(e,t-1))},i.hasOption=function(e){return!!r.get(e)},i.$hasEmptyOption=function(){return i.hasEmptyOption},i.$isUnknownOptionSelected=function(){return t[0].options[0]===i.unknownOption[0]},i.$isEmptyOptionSelected=function(){return i.hasEmptyOption&&t[0].options[t[0].selectedIndex]===i.emptyOption[0]},i.selectUnknownOrEmptyOption=function(e){null==e&&i.emptyOption?(i.removeUnknownOption(),i.selectEmptyOption()):i.unknownOption.parent().length?i.updateUnknownOption(e):i.renderUnknownOption(e)};var o=!1;function a(){o||(o=!0,n.$$postDigest((function(){o=!1,i.ngModelCtrl.$render()})))}var l=!1;function c(e){l||(l=!0,n.$$postDigest((function(){n.$$destroyed||(l=!1,i.ngModelCtrl.$setViewValue(i.readValue()),e&&i.ngModelCtrl.$render())})))}i.registerOption=function(e,t,n,r,o){var s,l;n.$attr.ngValue?n.$observe("value",(function(e){var n,r=t.prop("selected");U(l)&&(i.removeOption(s),delete i.selectValueMap[l],n=!0),l=Ut(e),s=e,i.selectValueMap[l]=e,i.addOption(e,t),t.attr("value",l),n&&r&&c()})):r?n.$observe("value",(function(e){var n;i.readValue();var r=t.prop("selected");U(s)&&(i.removeOption(s),n=!0),s=e,i.addOption(e,t),n&&r&&c()})):o?e.$watch(o,(function(e,r){n.$set("value",e);var o=t.prop("selected");r!==e&&i.removeOption(r),i.addOption(e,t),r&&o&&c()})):i.addOption(n.value,t);n.$observe("disabled",(function(e){("true"===e||e&&t.prop("selected"))&&(i.multiple?c(!0):(i.ngModelCtrl.$setViewValue(null),i.ngModelCtrl.$render()))})),t.on("$destroy",(function(){var e=i.readValue(),t=n.value;i.removeOption(t),a(),(i.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)}))}}],Ca=function(){return{restrict:"E",require:["select","?ngModel"],controller:Aa,priority:1,link:{pre:function(e,t,n,i){var r=i[0],o=i[1];if(!o)return void(r.registerOption=L);if(r.ngModelCtrl=o,t.on("change",(function(){r.removeUnknownOption(),e.$apply((function(){o.$setViewValue(r.readValue())}))})),n.multiple){r.multiple=!0,r.readValue=function(){var e=[];return S(t.find("option"),(function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in r.selectValueMap?r.selectValueMap[n]:n)}})),e},r.writeValue=function(e){S(t.find("option"),(function(t){var n=!!e&&(oe(e,t.value)||oe(e,r.selectValueMap[t.value]));n!==t.selected&&Ma(s(t),n)}))};var a,l=NaN;e.$watch((function(){l!==o.$viewValue||ce(a,o.$viewValue)||(a=je(o.$viewValue),o.$render()),l=o.$viewValue})),o.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,i){var r=i[1];if(!r)return;var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}},ka=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var i,r;return U(n.ngValue)||(U(n.value)?i=e(n.value,!0):(r=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,i,r)}}}}],Pa=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o=i.hasOwnProperty("required")||e(i.ngRequired)(t);i.ngRequired||(i.required=!0),r.$validators.required=function(e,t){return!o||!r.$isEmpty(t)},i.$observe("required",(function(e){o!==e&&(o=e,r.$validate())}))}}}}],Da=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,n){var i,r;return n.ngPattern&&(i=n.ngPattern,r="/"===n.ngPattern.charAt(0)&&u.test(n.ngPattern)?function(){return n.ngPattern}:e(n.ngPattern)),function(e,t,n,o){if(o){var a=n.pattern;n.ngPattern?a=r(e):i=n.pattern;var s=Ia(a,i,t);n.$observe("pattern",(function(e){var n=s;s=Ia(e,i,t),(n&&n.toString())!==(s&&s.toString())&&o.$validate()})),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||B(s)||s.test(t)}}}}}}],Ra=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o=i.maxlength||e(i.ngMaxlength)(t),a=La(o);i.$observe("maxlength",(function(e){o!==e&&(a=La(e),o=e,r.$validate())})),r.$validators.maxlength=function(e,t){return a<0||r.$isEmpty(t)||t.length<=a}}}}}],$a=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o=i.minlength||e(i.ngMinlength)(t),a=La(o)||-1;i.$observe("minlength",(function(e){o!==e&&(a=La(e)||-1,o=e,r.$validate())})),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=a}}}}}];function Ia(e,t,n){if(e){if(H(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw o("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,xe(n));return e}}function La(e){var t=R(e);return $(t)?-1:t}e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load AngularJS more than once."):(!function(){var t;if(!Le){var n=de();(l=B(n)?i:n?e[n]:void 0)&&l.fn.on?(s=l,P(l.fn,{scope:Rt.scope,isolateScope:Rt.isolateScope,controller:Rt.controller,injector:Rt.injector,inheritedData:Rt.inheritedData})):s=ft,t=s.cleanData,s.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)(n=(s._data(i)||{}).events)&&n.$destroy&&s(i).triggerHandler("$destroy");t(e)},_.element=s,Le=!0}}(),function(t){P(t,{errorHandlingConfig:n,bootstrap:Pe,copy:se,extend:P,merge:D,equals:ce,element:s,forEach:S,injector:Qt,noop:L,bind:fe,toJson:ge,fromJson:ve,identity:O,isUndefined:B,isDefined:U,isString:H,isFunction:Z,isObject:z,isNumber:j,isElement:ie,isArray:G,version:Ge,isDate:W,callbacks:{$$counter:0},getTestability:Re,reloadWithDebugInfo:De,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:Oe,$$minErr:o,$$csp:ue,$$encodeUriSegment:Ee,$$encodeUriQuery:Me,$$lowercase:p,$$stringify:Ve,$$uppercase:f}),c=function(e){var t=o("$injector"),n=o("ng");function i(e,t,n){return e[t]||(e[t]=n())}var r=i(e,"angular",Object);return r.$$minErr=r.$$minErr||o,i(r,"module",(function(){var e={};return function(r,o,a){var s={};return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(r),o&&e.hasOwnProperty(r)&&(e[r]=null),i(e,r,(function(){if(!o)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],i=[],l=[],c=d("$injector","invoke","push",i),u={_invokeQueue:e,_configBlocks:i,_runBlocks:l,info:function(e){if(U(e)){if(!z(e))throw n("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:o,name:r,provider:h("$provide","provider"),factory:h("$provide","factory"),service:h("$provide","service"),value:d("$provide","value"),constant:d("$provide","constant","unshift"),decorator:h("$provide","decorator",i),animation:h("$animateProvider","register"),filter:h("$filterProvider","register"),controller:h("$controllerProvider","register"),directive:h("$compileProvider","directive"),component:h("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return a&&c(a),u;function d(t,n,i,r){return r||(r=e),function(){return r[i||"push"]([t,n,arguments]),u}}function h(t,n,i){return i||(i=e),function(e,o){return o&&Z(o)&&(o.$$moduleName=r),i.push([t,n,arguments]),u}}}))}}))}(e),c("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Gi}),e.provider("$compile",yn).directive({a:zr,input:xo,textarea:xo,form:Zr,script:Sa,select:Ca,option:ka,ngBind:Mo,ngBindHtml:Co,ngBindTemplate:Ao,ngClass:Do,ngClassEven:$o,ngClassOdd:Ro,ngCloak:Io,ngController:Lo,ngForm:Xr,ngHide:va,ngIf:Bo,ngInclude:Uo,ngInit:Vo,ngNonBindable:aa,ngPluralize:ua,ngRef:ha,ngRepeat:pa,ngShow:ga,ngStyle:ya,ngSwitch:ba,ngSwitchWhen:wa,ngSwitchDefault:_a,ngOptions:ca,ngTransclude:Ta,ngModel:ta,ngList:Ho,ngChange:ko,pattern:Da,ngPattern:Da,required:Pa,ngRequired:Pa,minlength:$a,ngMinlength:$a,maxlength:Ra,ngMaxlength:Ra,ngValue:Eo,ngModelOptions:ra}).directive({ngInclude:zo,input:To}).directive(Vr).directive(Oo),e.provider({$anchorScroll:en,$animate:ln,$animateCss:dn,$$animateJs:an,$$animateQueue:sn,$$AnimateRunner:un,$$animateAsyncRun:cn,$browser:pn,$cacheFactory:fn,$controller:Cn,$document:kn,$$isDocumentHidden:Pn,$exceptionHandler:Dn,$filter:vr,$$forceReflow:Rn,$interpolate:Kn,$interval:Qn,$$intervalFactory:ei,$http:qn,$httpParamSerializer:Un,$httpParamSerializerJQLike:zn,$httpBackend:Xn,$xhrFactory:Zn,$jsonpCallbacks:ti,$location:yi,$log:bi,$parse:Ni,$rootScope:Wi,$q:Fi,$$q:Bi,$sce:Qi,$sceDelegate:Ji,$sniffer:er,$$taskTrackerFactory:tr,$templateCache:mn,$templateRequest:rr,$$testability:or,$timeout:sr,$window:fr,$$rAF:ji,$$jqLite:Bt,$$Map:jt,$$cookieReader:gr})}]).info({angularVersion:"1.8.3"})}(_),_.module("ngLocale",[],["$provide",function(e){var t="one",n="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,i){var r=0|e,o=function(e,t){var n=t;void 0===n&&(n=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var i=Math.pow(10,n);return{v:n,f:(e*i|0)%i}}(e,i);return 1==r&&0==o.v?t:n}})}]),s((function(){ke(e.document,Pe)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))},48809:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},97226:function(e,t,n){var i=n(65638),r=n(65638);!function(e){function t(t){if("string"==typeof t.data&&(t.data={keys:t.data}),t.data&&t.data.keys&&"string"==typeof t.data.keys){var n=t.handler,i=t.data.keys.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!(e.hotkeys.options.filterInputAcceptingElements&&e.hotkeys.textInputTypes.test(t.target.nodeName)||e.hotkeys.options.filterContentEditable&&e(t.target).attr("contenteditable")||e.hotkeys.options.filterTextInputs&&e.inArray(t.target.type,e.hotkeys.textAcceptingInputTypes)>-1)){var r="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],o=String.fromCharCode(t.which).toLowerCase(),a="",s={};e.each(["alt","ctrl","shift"],(function(e,n){t[n+"Key"]&&r!==n&&(a+=n+"+")})),t.metaKey&&!t.ctrlKey&&"meta"!==r&&(a+="meta+"),t.metaKey&&"meta"!==r&&a.indexOf("alt+ctrl+shift+")>-1&&(a=a.replace("alt+ctrl+shift+","hyper+")),r?s[a+r]=!0:(s[a+o]=!0,s[a+e.hotkeys.shiftNums[o]]=!0,"shift+"===a&&(s[e.hotkeys.shiftNums[o]]=!0));for(var l=0,c=i.length;l<c;l++)if(s[i[l]])return n.apply(this,arguments)}}}}e.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},e.each(["keydown","keyup","keypress"],(function(){e.event.special[this]={add:t}}))}(i||this.jQuery||r)},65638:function(e,t){var n,i,r;i="undefined"!=typeof window?window:this,r=function(i,r){var o=[],a=o.slice,s=o.concat,l=o.push,c=o.indexOf,u={},d=u.toString,h=u.hasOwnProperty,p={},f=i.document,m="2.1.4",g=function(e,t){return new g.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,b=/-([\da-z])/gi,w=function(e,t){return t.toUpperCase()};function _(e){var t="length"in e&&e.length,n=g.type(e);return"function"!==n&&!g.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}g.fn=g.prototype={jquery:m,constructor:g,selector:"",length:0,toArray:function(){return a.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:a.call(this)},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return g.each(this,e,t)},map:function(e){return this.pushStack(g.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:o.sort,splice:o.splice},g.extend=g.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||g.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(i=e[t])&&(c&&i&&(g.isPlainObject(i)||(r=g.isArray(i)))?(r?(r=!1,o=n&&g.isArray(n)?n:[]):o=n&&g.isPlainObject(n)?n:{},a[t]=g.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},g.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!g.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return!("object"!==g.type(e)||e.nodeType||g.isWindow(e)||e.constructor&&!h.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[d.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=g.trim(e))&&(1===e.indexOf("use strict")?((t=f.createElement("script")).text=e,f.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(y,"ms-").replace(b,w)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,r=e.length,o=_(e);if(n){if(o)for(;i<r&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(o)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(_(Object(e))?g.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r=0,o=e.length,a=[];if(_(e))for(;r<o;r++)null!=(i=t(e[r],r,n))&&a.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&a.push(i);return s.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),g.isFunction(e))return i=a.call(arguments,2),r=function(){return e.apply(t||this,i.concat(a.call(arguments)))},r.guid=e.guid=e.guid||g.guid++,r},now:Date.now,support:p}),g.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var x=function(e){var t,n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,b,w="sizzle"+1*new Date,_=e.document,x=0,T=0,S=ae(),E=ae(),M=ae(),A=function(e,t){return e===t&&(d=!0),0},C=1<<31,k={}.hasOwnProperty,P=[],D=P.pop,R=P.push,$=P.push,I=P.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",B=F.replace("w","w#"),U="\\[[\\x20\\t\\r\\n\\f]*("+F+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+N+"*\\]",z=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",V=new RegExp(N+"+","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),j=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),G=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),q=new RegExp(z),Z=new RegExp("^"+B+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ie=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},re=function(){h()};try{$.apply(P=I.call(_.childNodes),_.childNodes),P[_.childNodes.length].nodeType}catch(e){$={apply:P.length?function(e,t){R.apply(e,I.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,i,r){var o,s,c,u,d,f,v,y,x,T;if((t?t.ownerDocument||t:_)!==p&&h(t),i=i||[],u=(t=t||p).nodeType,"string"!=typeof e||!e||1!==u&&9!==u&&11!==u)return i;if(!r&&m){if(11!==u&&(o=Q.exec(e)))if(c=o[1]){if(9===u){if(!(s=t.getElementById(c))||!s.parentNode)return i;if(s.id===c)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(c))&&b(t,s)&&s.id===c)return i.push(s),i}else{if(o[2])return $.apply(i,t.getElementsByTagName(e)),i;if((c=o[3])&&n.getElementsByClassName)return $.apply(i,t.getElementsByClassName(c)),i}if(n.qsa&&(!g||!g.test(e))){if(y=v=w,x=t,T=1!==u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(f=a(e),(v=t.getAttribute("id"))?y=v.replace(te,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",d=f.length;d--;)f[d]=y+ge(f[d]);x=ee.test(e)&&fe(t.parentNode)||t,T=f.join(",")}if(T)try{return $.apply(i,x.querySelectorAll(T)),i}catch(e){}finally{v||t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,i,r)}function ae(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function se(e){return e[w]=!0,e}function le(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),r=e.length;r--;)i.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||C)-(~e.sourceIndex||C);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return se((function(t){return t=+t,se((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=oe.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:_;return a!==p&&9===a.nodeType&&a.documentElement?(p=a,f=a.documentElement,(r=a.defaultView)&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",re,!1):r.attachEvent&&r.attachEvent("onunload",re)),m=!o(a),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(a.getElementsByClassName),n.getById=le((function(e){return f.appendChild(e).id=w,!a.getElementsByName||!a.getElementsByName(w).length})),n.getById?(i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(ne,ie);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(ne,ie);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=J.test(a.querySelectorAll))&&(le((function(e){f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+O+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")})),le((function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",z)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(f.compareDocumentPosition),b=t||J.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===a||e.ownerDocument===_&&b(_,e)?-1:t===a||t.ownerDocument===_&&b(_,t)?1:u?L(u,e)-L(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===a?-1:t===a?1:r?-1:o?1:u?L(u,e)-L(u,t):0;if(r===o)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?ue(s[i],l[i]):s[i]===_?-1:l[i]===_?1:0},a):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(G,"='$1']"),n.matchesSelector&&m&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var r=i.attrHandle[t.toLowerCase()],o=r&&k.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(A),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return u=null,e},r=oe.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},i=oe.selectors={cacheLength:50,createPseudo:se,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+N+"|$)"))&&S(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=oe.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(V," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(p=(c=(u=g[w]||(g[w]={}))[e]||[])[0]===x&&c[1],h=c[0]===x&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[x,p,h];break}}else if(y&&(c=(t[w]||(t[w]={}))[e])&&c[0]===x)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[w]||(d[w]={}))[e]=[x,h]),d!==t)););return(h-=r)===i||h%i==0&&h/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=L(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:se((function(e){var t=[],n=[],i=s(e.replace(H,"$1"));return i[w]?se((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:se((function(e){return function(t){return oe(e,t).length>0}})),contains:se((function(e){return e=e.replace(ne,ie),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}})),lang:se((function(e){return Z.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(ne,ie).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe((function(){return[0]})),last:pe((function(e,t){return[t-1]})),eq:pe((function(e,t,n){return[n<0?n+t:n]})),even:pe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:pe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:pe((function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e})),gt:pe((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=he(t);function me(){}function ge(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ve(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=T++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c=[x,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((s=(l=t[w]||(t[w]={}))[i])&&s[0]===x&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function ye(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function be(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function we(e,t,n,i,r,o){return i&&!i[w]&&(i=we(i)),r&&!r[w]&&(r=we(r,o)),se((function(o,a,s,l){var c,u,d,h=[],p=[],f=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)oe(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:be(m,h,e,s,l),v=n?r||(o?e:f||i)?[]:a:g;if(n&&n(g,v,s,l),i)for(c=be(v,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(o){if(r||e){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?L(o,d):h[u])>-1&&(o[c]=!(a[c]=d))}}else v=be(v===a?v.splice(f,v.length):v),r?r(null,a,v,l):$.apply(a,v)}))}function _e(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],l=a?1:0,u=ve((function(e){return e===t}),s,!0),d=ve((function(e){return L(t,e)>-1}),s,!0),h=[function(e,n,i){var r=!a&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])h=[ve(ye(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[w]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return we(l>1&&ye(h),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),n,l<r&&_e(e.slice(l,r)),r<o&&_e(e=e.slice(r)),r<o&&ge(e))}h.push(n)}return ye(h)}return me.prototype=i.filters=i.pseudos,i.setFilters=new me,a=oe.tokenize=function(e,t){var n,r,o,a,s,l,c,u=E[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=i.preFilter;s;){for(a in n&&!(r=j.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=W.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),s=s.slice(n.length)),i.filter)!(r=X[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):E(e,l).slice(0)},s=oe.compile=function(e,t){var n,r=[],o=[],s=M[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=_e(t[n]))[w]?r.push(s):o.push(s);s=M(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,s,l,u){var d,h,f,m=0,g="0",v=o&&[],y=[],b=c,w=o||r&&i.find.TAG("*",u),_=x+=null==b?1:Math.random()||.1,T=w.length;for(u&&(c=a!==p&&a);g!==T&&null!=(d=w[g]);g++){if(r&&d){for(h=0;f=e[h++];)if(f(d,a,s)){l.push(d);break}u&&(x=_)}n&&((d=!f&&d)&&m--,o&&v.push(d))}if(m+=g,n&&g!==m){for(h=0;f=t[h++];)f(v,y,a,s);if(o){if(m>0)for(;g--;)v[g]||y[g]||(y[g]=D.call(l));y=be(y)}$.apply(l,y),u&&!o&&y.length>0&&m+t.length>1&&oe.uniqueSort(l)}return u&&(x=_,c=b),v};return n?se(o):o}(o,r)),s.selector=e}return s},l=oe.select=function(e,t,r,o){var l,c,u,d,h,p="function"==typeof e&&e,f=!o&&a(e=p.selector||e);if(r=r||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===t.nodeType&&m&&i.relative[c[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(ne,ie),t)||[])[0]))return r;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=X.needsContext.test(e)?0:c.length;l--&&(u=c[l],!i.relative[d=u.type]);)if((h=i.find[d])&&(o=h(u.matches[0].replace(ne,ie),ee.test(c[0].type)&&fe(t.parentNode)||t))){if(c.splice(l,1),!(e=o.length&&ge(c)))return $.apply(r,o),r;break}}return(p||s(e,f))(o,t,!m,r,ee.test(e)&&fe(t.parentNode)||t),r},n.sortStable=w.split("").sort(A).join("")===w,n.detectDuplicates=!!d,h(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ce(O,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),oe}(i);g.find=x,g.expr=x.selectors,g.expr[":"]=g.expr.pseudos,g.unique=x.uniqueSort,g.text=x.getText,g.isXMLDoc=x.isXML,g.contains=x.contains;var T=g.expr.match.needsContext,S=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;function M(e,t,n){if(g.isFunction(t))return g.grep(e,(function(e,i){return!!t.call(e,i,e)!==n}));if(t.nodeType)return g.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(E.test(t))return g.filter(t,e,n);t=g.filter(t,e)}return g.grep(e,(function(e){return c.call(t,e)>=0!==n}))}g.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?g.find.matchesSelector(i,e)?[i]:[]:g.find.matches(e,g.grep(t,(function(e){return 1===e.nodeType})))},g.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(g(e).filter((function(){for(t=0;t<n;t++)if(g.contains(r[t],this))return!0})));for(t=0;t<n;t++)g.find(e,r[t],i);return(i=this.pushStack(n>1?g.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(M(this,e||[],!1))},not:function(e){return this.pushStack(M(this,e||[],!0))},is:function(e){return!!M(this,"string"==typeof e&&T.test(e)?g(e):e||[],!1).length}});var A,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(g.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:C.exec(e))||!n[1]&&t)return!t||t.jquery?(t||A).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),S.test(n[1])&&g.isPlainObject(t))for(n in t)g.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=f.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=f,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==A.ready?A.ready(e):e(g):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),g.makeArray(e,this))}).prototype=g.fn,A=g(f);var k=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function D(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}g.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&g(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),g.fn.extend({has:function(e){var t=g(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(g.contains(this,t[e]))return!0}))},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=T.test(e)||"string"!=typeof e?g(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?g.unique(o):o)},index:function(e){return e?"string"==typeof e?c.call(g(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.unique(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return g.dir(e,"parentNode")},parentsUntil:function(e,t,n){return g.dir(e,"parentNode",n)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return g.dir(e,"nextSibling")},prevAll:function(e){return g.dir(e,"previousSibling")},nextUntil:function(e,t,n){return g.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return g.dir(e,"previousSibling",n)},siblings:function(e){return g.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return g.sibling(e.firstChild)},contents:function(e){return e.contentDocument||g.merge([],e.childNodes)}},(function(e,t){g.fn[e]=function(n,i){var r=g.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=g.filter(i,r)),this.length>1&&(P[e]||g.unique(r),k.test(e)&&r.reverse()),this.pushStack(r)}}));var R,$=/\S+/g,I={};function L(){f.removeEventListener("DOMContentLoaded",L,!1),i.removeEventListener("load",L,!1),g.ready()}g.Callbacks=function(e){e="string"==typeof e?I[e]||function(e){var t=I[e]={};return g.each(e.match($)||[],(function(e,n){t[n]=!0})),t}(e):g.extend({},e);var t,n,i,r,o,a,s=[],l=!e.once&&[],c=function(d){for(t=e.memory&&d,n=!0,a=r||0,r=0,o=s.length,i=!0;s&&a<o;a++)if(!1===s[a].apply(d[0],d[1])&&e.stopOnFalse){t=!1;break}i=!1,s&&(l?l.length&&c(l.shift()):t?s=[]:u.disable())},u={add:function(){if(s){var n=s.length;!function t(n){g.each(n,(function(n,i){var r=g.type(i);"function"===r?e.unique&&u.has(i)||s.push(i):i&&i.length&&"string"!==r&&t(i)}))}(arguments),i?o=s.length:t&&(r=n,c(t))}return this},remove:function(){return s&&g.each(arguments,(function(e,t){for(var n;(n=g.inArray(t,s,n))>-1;)s.splice(n,1),i&&(n<=o&&o--,n<=a&&a--)})),this},has:function(e){return e?g.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],o=0,this},disable:function(){return s=l=t=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,t||u.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!s||n&&!l||(t=[e,(t=t||[]).slice?t.slice():t],i?l.push(t):c(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},g.extend({Deferred:function(e){var t=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return g.Deferred((function(n){g.each(t,(function(t,o){var a=g.isFunction(e[t])&&e[t];r[o[1]]((function(){var e=a&&a.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?g.extend(e,i):i}},r={};return i.pipe=i.then,g.each(t,(function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith})),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=a.call(arguments),s=o.length,l=1!==s||e&&g.isFunction(e.promise)?s:0,c=1===l?e:g.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?a.call(arguments):r,i===t?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&g.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(c.reject).progress(u(r,n,t)):--l;return l||c.resolveWith(i,o),c.promise()}}),g.fn.ready=function(e){return g.ready.promise().done(e),this},g.extend({isReady:!1,readyWait:1,holdReady:function(e){e?g.readyWait++:g.ready(!0)},ready:function(e){(!0===e?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==e&&--g.readyWait>0||(R.resolveWith(f,[g]),g.fn.triggerHandler&&(g(f).triggerHandler("ready"),g(f).off("ready"))))}}),g.ready.promise=function(e){return R||(R=g.Deferred(),"complete"===f.readyState?setTimeout(g.ready):(f.addEventListener("DOMContentLoaded",L,!1),i.addEventListener("load",L,!1))),R.promise(e)},g.ready.promise();var O=g.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===g.type(n))for(s in r=!0,n)g.access(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,g.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(g(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o};function N(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=g.expando+N.uid++}g.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},N.uid=1,N.accepts=g.acceptData,N.prototype={key:function(e){if(!N.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=N.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,g.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(g.isEmptyObject(o))g.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,g.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{g.isArray(t)?i=t.concat(t.map(g.camelCase)):(r=g.camelCase(t),i=t in a?[t,r]:(i=r)in a?[i]:i.match($)||[]),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!g.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var F=new N,B=new N,U=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,z=/([A-Z])/g;function V(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(z,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:U.test(n)?g.parseJSON(n):n)}catch(e){}B.set(e,t,n)}else n=void 0;return n}g.extend({hasData:function(e){return B.hasData(e)||F.hasData(e)},data:function(e,t,n){return B.access(e,t,n)},removeData:function(e,t){B.remove(e,t)},_data:function(e,t,n){return F.access(e,t,n)},_removeData:function(e,t){F.remove(e,t)}}),g.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=B.get(o),1===o.nodeType&&!F.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=g.camelCase(i.slice(5)),V(o,i,r[i]));F.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){B.set(this,e)})):O(this,(function(t){var n,i=g.camelCase(e);if(o&&void 0===t)return void 0!==(n=B.get(o,e))||void 0!==(n=B.get(o,i))||void 0!==(n=V(o,i,void 0))?n:void 0;this.each((function(){var n=B.get(this,i);B.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&B.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){B.remove(this,e)}))}}),g.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=F.get(e,t),n&&(!i||g.isArray(n)?i=F.access(e,t,g.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=g.queue(e,t),i=n.length,r=n.shift(),o=g._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){g.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return F.get(e,n)||F.access(e,n,{empty:g.Callbacks("once memory").add((function(){F.remove(e,[t+"queue",n])}))})}}),g.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?g.queue(this[0],e):void 0===t?this:this.each((function(){var n=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&g.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){g.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=g.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=F.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var H,j,W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,G=["Top","Right","Bottom","Left"],q=function(e,t){return e=t||e,"none"===g.css(e,"display")||!g.contains(e.ownerDocument,e)},Z=/^(?:checkbox|radio)$/i;H=f.createDocumentFragment().appendChild(f.createElement("div")),(j=f.createElement("input")).setAttribute("type","radio"),j.setAttribute("checked","checked"),j.setAttribute("name","t"),H.appendChild(j),p.checkClone=H.cloneNode(!0).cloneNode(!0).lastChild.checked,H.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!H.cloneNode(!0).lastChild.defaultValue;var X="undefined";p.focusinBubbles="onfocusin"in i;var Y=/^key/,K=/^(?:mouse|pointer|contextmenu)|click/,J=/^(?:focusinfocus|focusoutblur)$/,Q=/^([^.]*)(?:\.(.+)|)$/;function ee(){return!0}function te(){return!1}function ne(){try{return f.activeElement}catch(e){}}g.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,p,f,m,v=F.get(e);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=g.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return typeof g!==X&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match($)||[""]).length;c--;)p=m=(s=Q.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(d=g.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=g.event.special[p]||{},u=g.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&g.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(p,a,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),g.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,p,f,m,v=F.hasData(e)&&F.get(e);if(v&&(l=v.events)){for(c=(t=(t||"").match($)||[""]).length;c--;)if(p=m=(s=Q.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=g.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,v.handle)||g.removeEvent(e,p,v.handle),delete l[p])}else for(p in l)g.event.remove(e,p+t[c],n,i,!0);g.isEmptyObject(l)&&(delete v.handle,F.remove(e,"events"))}},trigger:function(e,t,n,r){var o,a,s,l,c,u,d,p=[n||f],m=h.call(e,"type")?e.type:e,v=h.call(e,"namespace")?e.namespace.split("."):[];if(a=s=n=n||f,3!==n.nodeType&&8!==n.nodeType&&!J.test(m+g.event.triggered)&&(m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[g.expando]?e:new g.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:g.makeArray(t,[e]),d=g.event.special[m]||{},r||!d.trigger||!1!==d.trigger.apply(n,t))){if(!r&&!d.noBubble&&!g.isWindow(n)){for(l=d.delegateType||m,J.test(l+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(n.ownerDocument||f)&&p.push(s.defaultView||s.parentWindow||i)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||m,(u=(F.get(a,"events")||{})[e.type]&&F.get(a,"handle"))&&u.apply(a,t),(u=c&&a[c])&&u.apply&&g.acceptData(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!g.acceptData(n)||c&&g.isFunction(n[m])&&!g.isWindow(n)&&((s=n[c])&&(n[c]=null),g.event.triggered=m,n[m](),g.event.triggered=void 0,s&&(n[c]=s)),e.result}},dispatch:function(e){e=g.event.fix(e);var t,n,i,r,o,s=[],l=a.call(arguments),c=(F.get(this,"events")||{})[e.type]||[],u=g.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=g.event.handlers.call(this,e,c),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((g.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;n<s;n++)void 0===i[r=(o=t[n]).selector+" "]&&(i[r]=o.needsContext?g(r,this).index(l)>=0:g.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||f).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[g.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=K.test(r)?this.mouseHooks:Y.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new g.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=f),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ne()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ne()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&g.nodeName(this,"input"))return this.click(),!1},_default:function(e){return g.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=g.extend(new g.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?g.event.trigger(r,null,t):g.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},g.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},g.Event=function(e,t){if(!(this instanceof g.Event))return new g.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ee:te):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={isDefaultPrevented:te,isPropagationStopped:te,isImmediatePropagationStopped:te,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ee,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ee,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ee,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||g.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),p.focusinBubbles||g.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){g.event.simulate(t,e.target,g.event.fix(e),!0)};g.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=F.access(i,t);r||i.addEventListener(e,n,!0),F.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=F.access(i,t)-1;r?F.access(i,t,r):(i.removeEventListener(e,n,!0),F.remove(i,t))}}})),g.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=te;else if(!i)return this;return 1===r&&(o=i,i=function(e){return g().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=g.guid++)),this.each((function(){g.event.add(this,e,i,n,t)}))},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,g(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=te),this.each((function(){g.event.remove(this,e,n,t)}))},trigger:function(e,t){return this.each((function(){g.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return g.event.trigger(e,t,n,!0)}});var ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,re=/<([\w:]+)/,oe=/<|&#?\w+;/,ae=/<(?:script|style|link)/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,le=/^$|\/(?:java|ecma)script/i,ce=/^true\/(.*)/,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,de={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function he(e,t){return g.nodeName(e,"table")&&g.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function fe(e){var t=ce.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function me(e,t){for(var n=0,i=e.length;n<i;n++)F.set(e[n],"globalEval",!t||F.get(t[n],"globalEval"))}function ge(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(F.hasData(e)&&(o=F.access(e),a=F.set(t,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)g.event.add(t,r,c[r][n]);B.hasData(e)&&(s=B.access(e),l=g.extend({},s),B.set(t,l))}}function ve(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&g.nodeName(e,t)?g.merge([e],n):n}de.optgroup=de.option,de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td,g.extend({clone:function(e,t,n){var i,r,o,a,s,l,c,u=e.cloneNode(!0),d=g.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(a=ve(u),i=0,r=(o=ve(e)).length;i<r;i++)s=o[i],l=a[i],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&Z.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(u),i=0,r=o.length;i<r;i++)ge(o[i],a[i]);else ge(e,u);return(a=ve(u,"script")).length>0&&me(a,!d&&ve(e,"script")),u},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((r=e[h])||0===r)if("object"===g.type(r))g.merge(d,r.nodeType?[r]:r);else if(oe.test(r)){for(o=o||u.appendChild(t.createElement("div")),a=(re.exec(r)||["",""])[1].toLowerCase(),s=de[a]||de._default,o.innerHTML=s[1]+r.replace(ie,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;g.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",h=0;r=d[h++];)if((!i||-1===g.inArray(r,i))&&(l=g.contains(r.ownerDocument,r),o=ve(u.appendChild(r),"script"),l&&me(o),n))for(c=0;r=o[c++];)le.test(r.type||"")&&n.push(r);return u},cleanData:function(e){for(var t,n,i,r,o=g.event.special,a=0;void 0!==(n=e[a]);a++){if(g.acceptData(n)&&(r=n[F.expando])&&(t=F.cache[r])){if(t.events)for(i in t.events)o[i]?g.event.remove(n,i):g.removeEvent(n,i,t.handle);F.cache[r]&&delete F.cache[r]}delete B.cache[n[B.expando]]}}}),g.fn.extend({text:function(e){return O(this,(function(e){return void 0===e?g.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||he(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=he(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var n,i=e?g.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||g.cleanData(ve(n)),n.parentNode&&(t&&g.contains(n.ownerDocument,n)&&me(ve(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return g.clone(this,e,t)}))},html:function(e){return O(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ae.test(e)&&!de[(re.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ie,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(g.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,g.cleanData(ve(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=s.apply([],e);var n,i,r,o,a,l,c=0,u=this.length,d=this,h=u-1,f=e[0],m=g.isFunction(f);if(m||u>1&&"string"==typeof f&&!p.checkClone&&se.test(f))return this.each((function(n){var i=d.eq(n);m&&(e[0]=f.call(this,n,i.html())),i.domManip(e,t)}));if(u&&(i=(n=g.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=i),i)){for(o=(r=g.map(ve(n,"script"),pe)).length;c<u;c++)a=n,c!==h&&(a=g.clone(a,!0,!0),o&&g.merge(r,ve(a,"script"))),t.call(this[c],a,c);if(o)for(l=r[r.length-1].ownerDocument,g.map(r,fe),c=0;c<o;c++)a=r[c],le.test(a.type||"")&&!F.access(a,"globalEval")&&g.contains(l,a)&&(a.src?g._evalUrl&&g._evalUrl(a.src):g.globalEval(a.textContent.replace(ue,"")))}return this}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){g.fn[e]=function(e){for(var n,i=[],r=g(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),g(r[a])[t](n),l.apply(i,n.get());return this.pushStack(i)}}));var ye,be={};function we(e,t){var n,r=g(t.createElement(e)).appendTo(t.body),o=i.getDefaultComputedStyle&&(n=i.getDefaultComputedStyle(r[0]))?n.display:g.css(r[0],"display");return r.detach(),o}function _e(e){var t=f,n=be[e];return n||("none"!==(n=we(e,t))&&n||((t=(ye=(ye||g("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=we(e,t),ye.detach()),be[e]=n),n}var xe=/^margin/,Te=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Se=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):i.getComputedStyle(e,null)};function Ee(e,t,n){var i,r,o,a,s=e.style;return(n=n||Se(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||g.contains(e.ownerDocument,e)||(a=g.style(e,t)),Te.test(a)&&xe.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Me(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,n=f.documentElement,r=f.createElement("div"),o=f.createElement("div");function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",n.appendChild(r);var a=i.getComputedStyle(o,null);e="1%"!==a.top,t="4px"===a.width,n.removeChild(r)}o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===o.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(o),i.getComputedStyle&&g.extend(p,{pixelPosition:function(){return a(),e},boxSizingReliable:function(){return null==t&&a(),t},reliableMarginRight:function(){var e,t=o.appendChild(f.createElement("div"));return t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",n.appendChild(r),e=!parseFloat(i.getComputedStyle(t,null).marginRight),n.removeChild(r),o.removeChild(t),e}}))}(),g.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r};var Ae=/^(none|table(?!-c[ea]).+)/,Ce=new RegExp("^("+W+")(.*)$","i"),ke=new RegExp("^([+-])=("+W+")","i"),Pe={position:"absolute",visibility:"hidden",display:"block"},De={letterSpacing:"0",fontWeight:"400"},Re=["Webkit","O","Moz","ms"];function $e(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Re.length;r--;)if((t=Re[r]+n)in e)return t;return i}function Ie(e,t,n){var i=Ce.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function Le(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=g.css(e,n+G[o],!0,r)),i?("content"===n&&(a-=g.css(e,"padding"+G[o],!0,r)),"margin"!==n&&(a-=g.css(e,"border"+G[o]+"Width",!0,r))):(a+=g.css(e,"padding"+G[o],!0,r),"padding"!==n&&(a+=g.css(e,"border"+G[o]+"Width",!0,r)));return a}function Oe(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Se(e),a="border-box"===g.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Ee(e,t,o))<0||null==r)&&(r=e.style[t]),Te.test(r))return r;i=a&&(p.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+Le(e,t,n||(a?"border":"content"),i,o)+"px"}function Ne(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(o[a]=F.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&q(i)&&(o[a]=F.access(i,"olddisplay",_e(i.nodeName)))):(r=q(i),"none"===n&&r||F.set(i,"olddisplay",r?n:g.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function Fe(e,t,n,i,r){return new Fe.prototype.init(e,t,n,i,r)}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ee(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=g.camelCase(t),l=e.style;if(t=g.cssProps[s]||(g.cssProps[s]=$e(l,s)),a=g.cssHooks[t]||g.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];"string"==(o=typeof n)&&(r=ke.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(g.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||g.cssNumber[s]||(n+="px"),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var r,o,a,s=g.camelCase(t);return t=g.cssProps[s]||(g.cssProps[s]=$e(e.style,s)),(a=g.cssHooks[t]||g.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Ee(e,t,i)),"normal"===r&&t in De&&(r=De[t]),""===n||n?(o=parseFloat(r),!0===n||g.isNumeric(o)?o||0:r):r}}),g.each(["height","width"],(function(e,t){g.cssHooks[t]={get:function(e,n,i){if(n)return Ae.test(g.css(e,"display"))&&0===e.offsetWidth?g.swap(e,Pe,(function(){return Oe(e,t,i)})):Oe(e,t,i)},set:function(e,n,i){var r=i&&Se(e);return Ie(0,n,i?Le(e,t,i,"border-box"===g.css(e,"boxSizing",!1,r),r):0)}}})),g.cssHooks.marginRight=Me(p.reliableMarginRight,(function(e,t){if(t)return g.swap(e,{display:"inline-block"},Ee,[e,"marginRight"])})),g.each({margin:"",padding:"",border:"Width"},(function(e,t){g.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+G[i]+t]=o[i]||o[i-2]||o[0];return r}},xe.test(e)||(g.cssHooks[e+t].set=Ie)})),g.fn.extend({css:function(e,t){return O(this,(function(e,t,n){var i,r,o={},a=0;if(g.isArray(t)){for(i=Se(e),r=t.length;a<r;a++)o[t[a]]=g.css(e,t[a],!1,i);return o}return void 0!==n?g.style(e,t,n):g.css(e,t)}),e,t,arguments.length>1)},show:function(){return Ne(this,!0)},hide:function(){return Ne(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){q(this)?g(this).show():g(this).hide()}))}}),g.Tween=Fe,Fe.prototype={constructor:Fe,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(g.cssNumber[n]?"":"px")},cur:function(){var e=Fe.propHooks[this.prop];return e&&e.get?e.get(this):Fe.propHooks._default.get(this)},run:function(e){var t,n=Fe.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Fe.propHooks._default.set(this),this}},Fe.prototype.init.prototype=Fe.prototype,Fe.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=g.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[g.cssProps[e.prop]]||g.cssHooks[e.prop])?g.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Fe.propHooks.scrollTop=Fe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},g.fx=Fe.prototype.init,g.fx.step={};var Be,Ue,ze=/^(?:toggle|show|hide)$/,Ve=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),He=/queueHooks$/,je=[function(e,t,n){var i,r,o,a,s,l,c,u=this,d={},h=e.style,p=e.nodeType&&q(e),f=F.get(e,"fxshow");for(i in n.queue||(null==(s=g._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always((function(){u.always((function(){s.unqueued--,g.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=g.css(e,"display"))?F.get(e,"olddisplay")||_e(e.nodeName):c)&&"none"===g.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",u.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),t)if(r=t[i],ze.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;p=!0}d[i]=f&&f[i]||g.style(e,i)}else c=void 0;if(g.isEmptyObject(d))"inline"===("none"===c?_e(e.nodeName):c)&&(h.display=c);else for(i in f?"hidden"in f&&(p=f.hidden):f=F.access(e,"fxshow",{}),o&&(f.hidden=!p),p?g(e).show():u.done((function(){g(e).hide()})),u.done((function(){var t;for(t in F.remove(e,"fxshow"),d)g.style(e,t,d[t])})),d)a=Ze(p?f[i]:0,i,u),i in f||(f[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],We={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Ve.exec(t),o=r&&r[3]||(g.cssNumber[e]?"":"px"),a=(g.cssNumber[e]||"px"!==o&&+i)&&Ve.exec(g.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do{a/=s=s||".5",g.style(n.elem,e,a+o)}while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};function Ge(){return setTimeout((function(){Be=void 0})),Be=g.now()}function qe(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=G[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Ze(e,t,n){for(var i,r=(We[t]||[]).concat(We["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function Xe(e,t,n){var i,r,o=0,a=je.length,s=g.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=Be||Ge(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(e,[c,i,n]),i<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Be||Ge(),duration:n.duration,tweens:[],createTween:function(t,n){var i=g.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=g.camelCase(n)],o=e[n],g.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=g.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=je[o].call(c,e,u,c.opts))return i;return g.map(u,Ze,c),g.isFunction(c.opts.start)&&c.opts.start.call(e,c),g.fx.timer(g.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}g.Animation=g.extend(Xe,{tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;i<r;i++)n=e[i],We[n]=We[n]||[],We[n].unshift(t)},prefilter:function(e,t){t?je.unshift(e):je.push(e)}}),g.speed=function(e,t,n){var i=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return i.duration=g.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in g.fx.speeds?g.fx.speeds[i.duration]:g.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g.isFunction(i.old)&&i.old.call(this),i.queue&&g.dequeue(this,i.queue)},i},g.fn.extend({fadeTo:function(e,t,n,i){return this.filter(q).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=g.isEmptyObject(e),o=g.speed(t,n,i),a=function(){var t=Xe(this,g.extend({},e),o);(r||F.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=g.timers,a=F.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&He.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||g.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=F.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=g.timers,a=i?i.length:0;for(n.finish=!0,g.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),g.each(["toggle","show","hide"],(function(e,t){var n=g.fn[t];g.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(qe(t,!0),e,i,r)}})),g.each({slideDown:qe("show"),slideUp:qe("hide"),slideToggle:qe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){g.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),g.timers=[],g.fx.tick=function(){var e,t=0,n=g.timers;for(Be=g.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||g.fx.stop(),Be=void 0},g.fx.timer=function(e){g.timers.push(e),e()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){Ue||(Ue=setInterval(g.fx.tick,g.fx.interval))},g.fx.stop=function(){clearInterval(Ue),Ue=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(e,t){return e=g.fx&&g.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}}))},function(){var e=f.createElement("input"),t=f.createElement("select"),n=t.appendChild(f.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=n.selected,t.disabled=!0,p.optDisabled=!n.disabled,(e=f.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var Ye,Ke=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return O(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){g.removeAttr(this,e)}))}}),g.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===X?g.prop(e,t,n):(1===o&&g.isXMLDoc(e)||(t=t.toLowerCase(),i=g.attrHooks[t]||(g.expr.match.bool.test(t)?Ye:void 0)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=g.find.attr(e,t))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void g.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match($);if(o&&1===e.nodeType)for(;n=o[r++];)i=g.propFix[n]||n,g.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&g.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ye={set:function(e,t,n){return!1===t?g.removeAttr(e,n):e.setAttribute(n,n),n}},g.each(g.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Ke[t]||g.find.attr;Ke[t]=function(e,t,i){var r,o;return i||(o=Ke[t],Ke[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Ke[t]=o),r}}));var Je=/^(?:input|select|textarea|button)$/i;g.fn.extend({prop:function(e,t){return O(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[g.propFix[e]||e]}))}}),g.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!g.isXMLDoc(e))&&(t=g.propFix[t]||t,r=g.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Je.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),p.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){g.propFix[this.toLowerCase()]=this}));var Qe=/[\t\r\n\f]/g;g.fn.extend({addClass:function(e){var t,n,i,r,o,a,s="string"==typeof e&&e,l=0,c=this.length;if(g.isFunction(e))return this.each((function(t){g(this).addClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match($)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Qe," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=g.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(g.isFunction(e))return this.each((function(t){g(this).removeClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match($)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Qe," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?g.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each((function(n){g(this).toggleClass(e.call(this,n,this.className,t),t)})):this.each((function(){if("string"===n)for(var t,i=0,r=g(this),o=e.match($)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else n!==X&&"boolean"!==n||(this.className&&F.set(this,"__className__",this.className),this.className=this.className||!1===e?"":F.get(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Qe," ").indexOf(t)>=0)return!0;return!1}});var et=/\r/g;g.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=g.isFunction(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,g(this).val()):e)?r="":"number"==typeof r?r+="":g.isArray(r)&&(r=g.map(r,(function(e){return null==e?"":e+""}))),(t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=g.valHooks[r.type]||g.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(et,""):null==n?"":n:void 0}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:g.trim(g.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(p.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!g.nodeName(n.parentNode,"optgroup"))){if(t=g(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=g.makeArray(t),a=r.length;a--;)((i=r[a]).selected=g.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),g.each(["radio","checkbox"],(function(){g.valHooks[this]={set:function(e,t){if(g.isArray(t))return e.checked=g.inArray(g(e).val(),t)>=0}},p.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){g.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var tt=g.now(),nt=/\?/;g.parseJSON=function(e){return JSON.parse(e+"")},g.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+e),t};var it=/#.*$/,rt=/([?&])_=[^&]*/,ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,at=/^(?:GET|HEAD)$/,st=/^\/\//,lt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ct={},ut={},dt="*/".concat("*"),ht=i.location.href,pt=lt.exec(ht.toLowerCase())||[];function ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match($)||[];if(g.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function mt(e,t,n,i){var r={},o=e===ut;function a(s){var l;return r[s]=!0,g.each(e[s]||[],(function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!r["*"]&&a("*")}function gt(e,t){var n,i,r=g.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&g.extend(!0,e,i),e}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ht,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?gt(gt(e,g.ajaxSettings),t):gt(g.ajaxSettings,e)},ajaxPrefilter:ft(ct),ajaxTransport:ft(ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,r,o,a,s,l,c,u=g.ajaxSetup({},t),d=u.context||u,h=u.context&&(d.nodeType||d.jquery)?g(d):g.event,p=g.Deferred(),f=g.Callbacks("once memory"),m=u.statusCode||{},v={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=ot.exec(r);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return n&&n.abort(t),x(0,t),this}};if(p.promise(_).complete=f.add,_.success=_.done,_.error=_.fail,u.url=((e||u.url||ht)+"").replace(it,"").replace(st,pt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=g.trim(u.dataType||"*").toLowerCase().match($)||[""],null==u.crossDomain&&(s=lt.exec(u.url.toLowerCase()),u.crossDomain=!(!s||s[1]===pt[1]&&s[2]===pt[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(pt[3]||("http:"===pt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=g.param(u.data,u.traditional)),mt(ct,u,t,_),2===b)return _;for(c in(l=g.event&&u.global)&&0==g.active++&&g.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!at.test(u.type),i=u.url,u.hasContent||(u.data&&(i=u.url+=(nt.test(i)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=rt.test(i)?i.replace(rt,"$1_="+tt++):i+(nt.test(i)?"&":"?")+"_="+tt++)),u.ifModified&&(g.lastModified[i]&&_.setRequestHeader("If-Modified-Since",g.lastModified[i]),g.etag[i]&&_.setRequestHeader("If-None-Match",g.etag[i])),(u.data&&u.hasContent&&!1!==u.contentType||t.contentType)&&_.setRequestHeader("Content-Type",u.contentType),_.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+dt+"; q=0.01":""):u.accepts["*"]),u.headers)_.setRequestHeader(c,u.headers[c]);if(u.beforeSend&&(!1===u.beforeSend.call(d,_,u)||2===b))return _.abort();for(c in w="abort",{success:1,error:1,complete:1})_[c](u[c]);if(n=mt(ut,u,t,_)){_.readyState=1,l&&h.trigger("ajaxSend",[_,u]),u.async&&u.timeout>0&&(a=setTimeout((function(){_.abort("timeout")}),u.timeout));try{b=1,n.send(v,x)}catch(e){if(!(b<2))throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,o,s){var c,v,y,w,x,T=t;2!==b&&(b=2,a&&clearTimeout(a),n=void 0,r=s||"",_.readyState=e>0?4:0,c=e>=200&&e<300||304===e,o&&(w=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(u,_,o)),w=function(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(u,w,_,c),c?(u.ifModified&&((x=_.getResponseHeader("Last-Modified"))&&(g.lastModified[i]=x),(x=_.getResponseHeader("etag"))&&(g.etag[i]=x)),204===e||"HEAD"===u.type?T="nocontent":304===e?T="notmodified":(T=w.state,v=w.data,c=!(y=w.error))):(y=T,!e&&T||(T="error",e<0&&(e=0))),_.status=e,_.statusText=(t||T)+"",c?p.resolveWith(d,[v,T,_]):p.rejectWith(d,[_,T,y]),_.statusCode(m),m=void 0,l&&h.trigger(c?"ajaxSuccess":"ajaxError",[_,u,c?v:y]),f.fireWith(d,[_,T]),l&&(h.trigger("ajaxComplete",[_,u]),--g.active||g.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,n){return g.get(e,t,n,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],(function(e,t){g[t]=function(e,n,i,r){return g.isFunction(n)&&(r=r||i,i=n,n=void 0),g.ajax({url:e,type:t,dataType:r,data:n,success:i})}})),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(e){var t;return g.isFunction(e)?this.each((function(t){g(this).wrapAll(e.call(this,t))})):(this[0]&&(t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return g.isFunction(e)?this.each((function(t){g(this).wrapInner(e.call(this,t))})):this.each((function(){var t=g(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g.isFunction(e);return this.each((function(n){g(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)})).end()}}),g.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},g.expr.filters.visible=function(e){return!g.expr.filters.hidden(e)};var vt=/%20/g,yt=/\[\]$/,bt=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,_t=/^(?:input|select|textarea|keygen)/i;function xt(e,t,n,i){var r;if(g.isArray(t))g.each(t,(function(t,r){n||yt.test(e)?i(e,r):xt(e+"["+("object"==typeof r?t:"")+"]",r,n,i)}));else if(n||"object"!==g.type(t))i(e,t);else for(r in t)xt(e+"["+r+"]",t[r],n,i)}g.param=function(e,t){var n,i=[],r=function(e,t){t=g.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=g.ajaxSettings&&g.ajaxSettings.traditional),g.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,(function(){r(this.name,this.value)}));else for(n in e)xt(n,e[n],t,r);return i.join("&").replace(vt,"+")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&_t.test(this.nodeName)&&!wt.test(e)&&(this.checked||!Z.test(e))})).map((function(e,t){var n=g(this).val();return null==n?null:g.isArray(n)?g.map(n,(function(e){return{name:t.name,value:e.replace(bt,"\r\n")}})):{name:t.name,value:n.replace(bt,"\r\n")}})).get()}}),g.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Tt=0,St={},Et={0:200,1223:204},Mt=g.ajaxSettings.xhr();i.attachEvent&&i.attachEvent("onunload",(function(){for(var e in St)St[e]()})),p.cors=!!Mt&&"withCredentials"in Mt,p.ajax=Mt=!!Mt,g.ajaxTransport((function(e){var t;if(p.cors||Mt&&!e.crossDomain)return{send:function(n,i){var r,o=e.xhr(),a=++Tt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];for(r in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete St[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(Et[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=St[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),g.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(i,r){t=g("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),f.head.appendChild(t[0])},abort:function(){n&&n()}}}));var At=[],Ct=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=At.pop()||g.expando+"_"+tt++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",(function(e,t,n){var r,o,a,s=!1!==e.jsonp&&(Ct.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ct.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ct,"$1"+r):!1!==e.jsonp&&(e.url+=(nt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||g.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always((function(){i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,At.push(r)),a&&g.isFunction(o)&&o(a[0]),a=o=void 0})),"script"})),g.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||f;var i=S.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=g.buildFragment([e],t,r),r&&r.length&&g(r).remove(),g.merge([],i.childNodes))};var kt=g.fn.load;g.fn.load=function(e,t,n){if("string"!=typeof e&&kt)return kt.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>=0&&(i=g.trim(e.slice(s)),e=e.slice(0,s)),g.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&g.ajax({url:e,type:r,dataType:"html",data:t}).done((function(e){o=arguments,a.html(i?g("<div>").append(g.parseHTML(e)).find(i):e)})).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){g.fn[t]=function(e){return this.on(t,e)}})),g.expr.filters.animated=function(e){return g.grep(g.timers,(function(t){return e===t.elem})).length};var Pt=i.document.documentElement;function Dt(e){return g.isWindow(e)?e:9===e.nodeType&&e.defaultView}g.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c=g.css(e,"position"),u=g(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=g.css(e,"top"),l=g.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),g.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){g.offset.setOffset(this,e,t)}));var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,g.contains(t,i)?(typeof i.getBoundingClientRect!==X&&(r=i.getBoundingClientRect()),n=Dt(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===g.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),g.nodeName(e[0],"html")||(i=e.offset()),i.top+=g.css(e[0],"borderTopWidth",!0),i.left+=g.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-g.css(n,"marginTop",!0),left:t.left-i.left-g.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||Pt;e&&!g.nodeName(e,"html")&&"static"===g.css(e,"position");)e=e.offsetParent;return e||Pt}))}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;g.fn[e]=function(r){return O(this,(function(e,r,o){var a=Dt(e);if(void 0===o)return a?a[t]:e[r];a?a.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length,null)}})),g.each(["top","left"],(function(e,t){g.cssHooks[t]=Me(p.pixelPosition,(function(e,n){if(n)return n=Ee(e,t),Te.test(n)?g(e).position()[t]+"px":n}))})),g.each({Height:"height",Width:"width"},(function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){g.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return O(this,(function(t,n,i){var r;return g.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?g.css(t,n,a):g.style(t,n,i,a)}),t,o?i:void 0,o,null)}}))})),g.fn.size=function(){return this.length},g.fn.andSelf=g.fn.addBack,void 0===(n=function(){return g}.apply(t,[]))||(e.exports=n);var Rt=i.jQuery,$t=i.$;return g.noConflict=function(e){return i.$===g&&(i.$=$t),e&&i.jQuery===g&&(i.jQuery=Rt),g},typeof r===X&&(i.jQuery=i.$=g),g},"object"==typeof e.exports?e.exports=i.document?r(i,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(i)},23694:function(e,t,n){var i=n(69417),r=n(72470),o=n(66165),a=n(71873),s=n(52556);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},79349:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},80594:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},66070:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},71928:function(e,t,n){var i=n(88799),r=n(85638),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||i(e,t,n)}},93382:function(e,t,n){var i=n(85638);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},41876:function(e,t,n){var i=n(35159),r=n(50098);e.exports=function(e,t){return e&&i(t,r(t),e)}},5947:function(e,t,n){var i=n(35159),r=n(53893);e.exports=function(e,t){return e&&i(t,r(t),e)}},88799:function(e,t,n){var i=n(42630);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},40699:function(e,t,n){var i=n(23694),r=n(80594),o=n(71928),a=n(41876),s=n(5947),l=n(2734),c=n(37561),u=n(31102),d=n(37048),h=n(51385),p=n(39759),f=n(3533),m=n(86541),g=n(2078),v=n(97635),y=n(19785),b=n(43854),w=n(98247),_=n(11611),x=n(47614),T=n(50098),S=n(53893),E="[object Arguments]",M="[object Function]",A="[object Object]",C={};C[E]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[A]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[M]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,k,P,D,R){var $,I=1&n,L=2&n,O=4&n;if(k&&($=D?k(t,P,D,R):k(t)),void 0!==$)return $;if(!_(t))return t;var N=y(t);if(N){if($=m(t),!I)return c(t,$)}else{var F=f(t),B=F==M||"[object GeneratorFunction]"==F;if(b(t))return l(t,I);if(F==A||F==E||B&&!D){if($=L||B?{}:v(t),!I)return L?d(t,s($,t)):u(t,a($,t))}else{if(!C[F])return D?t:{};$=g(t,F,I)}}R||(R=new i);var U=R.get(t);if(U)return U;R.set(t,$),x(t)?t.forEach((function(i){$.add(e(i,n,k,i,t,R))})):w(t)&&t.forEach((function(i,r){$.set(r,e(i,n,k,r,t,R))}));var z=N?void 0:(O?L?p:h:L?S:T)(t);return r(z||t,(function(i,r){z&&(i=t[r=i]),o($,r,e(i,n,k,r,t,R))})),$}},80158:function(e,t,n){var i=n(11611),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},23545:function(e){e.exports=function(e){return e&&e.length?e[0]:void 0}},79867:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},89278:function(e){e.exports=function(e){return e}},67375:function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},98497:function(e,t,n){var i=n(66070),r=n(79867),o=n(89278),a=n(67375),s=n(73303),l=n(39334),c=n(96348),u=n(31137),d=n(19785);e.exports=function(e,t,n){t=t.length?i(t,(function(e){return d(e)?function(t){return r(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=i(t,l(o));var p=a(e,(function(e,n,r){return{criteria:i(t,(function(t){return t(e)})),index:++h,value:e}}));return s(p,(function(e,t){return c(e,t,n)}))}},1197:function(e,t,n){var i=n(31137),r=n(11871),o=n(63132);e.exports=function(e,t){return o(r(e,t,i),e+"")}},73303:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},39334:function(e){e.exports=function(e){return function(t){return e(t)}}},2734:function(e,t,n){e=n.nmd(e);var i=n(77400),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}},17845:function(e,t,n){var i=n(55193);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,a=i(e),s=void 0!==t,l=null===t,c=t==t,u=i(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!u&&e<t||u&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},96348:function(e,t,n){var i=n(17845);e.exports=function(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++r<s;){var c=i(o[r],a[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}},37561:function(e){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},35159:function(e,t,n){var i=n(71928),r=n(88799);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?r(n,c,u):i(n,c,u)}return n}},31102:function(e,t,n){var i=n(35159),r=n(83080);e.exports=function(e,t){return i(e,r(e),t)}},37048:function(e,t,n){var i=n(35159),r=n(30791);e.exports=function(e,t){return i(e,r(e),t)}},42630:function(e,t,n){var i=n(81822),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},39120:function(e,t,n){var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},51385:function(e,t,n){var i=n(58023)(Object.keys,Object);e.exports=i},39759:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},81822:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},2173:function(e,t,n){var i=n(58023)(Object.getPrototypeOf,Object);e.exports=i},83080:function(e){e.exports=function(){return[]}},30791:function(e){e.exports=function(){return[]}},3533:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},86541:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},2078:function(e){e.exports=function(e){return e}},97635:function(e,t,n){var i=n(80158),r=n(2173),o=n(56016);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(r(e))}},57535:function(e){e.exports=function(){return!1}},56016:function(e){e.exports=function(){return!1}},69417:function(e){e.exports=function(){this.__data__=[],this.size=0}},72470:function(e,t,n){var i=n(93382),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},66165:function(e,t,n){var i=n(93382);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},71873:function(e,t,n){var i=n(93382);e.exports=function(e){return i(this.__data__,e)>-1}},52556:function(e,t,n){var i=n(93382);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},58023:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},11871:function(e,t,n){var i=n(79349),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=r(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),i(e,this,c)}}},77400:function(e,t,n){var i=n(39120),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},63132:function(e){e.exports=function(e){return e}},30454:function(e,t,n){var i=n(40699);e.exports=function(e){return i(e,5)}},66726:function(e,t,n){var i=n(11611),r=n(82846),o=n(91936),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,i=c;return l=c=void 0,f=t,d=e.apply(i,n)}function b(e){return f=e,h=setTimeout(_,t),m?y(e):d}function w(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=u}function _(){var e=r();if(w(e))return x(e);h=setTimeout(_,function(e){var n=t-(e-p);return g?s(n,u-(e-f)):n}(e))}function x(e){return h=void 0,v&&l?y(e):(l=c=void 0,d)}function T(){var e=r(),n=w(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return b(p);if(g)return clearTimeout(h),h=setTimeout(_,t),y(p)}return void 0===h&&(h=setTimeout(_,t)),d}return t=o(t)||0,i(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),T.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=p=c=h=void 0},T.flush=function(){return void 0===h?d:x(r())},T}},85638:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},31137:function(e){e.exports=function(e){return e}},19785:function(e){var t=Array.isArray;e.exports=t},43854:function(e){e.exports=function(){return!1}},98247:function(e){e.exports=function(){return!1}},11611:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},47614:function(e){e.exports=function(){return!1}},55193:function(e){e.exports=function(){return!1}},50098:function(e,t,n){var i=n(58023)(Object.keys,Object);e.exports=i},53893:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},82846:function(e,t,n){var i=n(77400);e.exports=function(){return i.Date.now()}},95099:function(e,t,n){var i=n(23545),r=n(98497),o=n(1197),a=n(57535),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),r(e,i(t,1),[])}));e.exports=s},91936:function(e){e.exports=function(e){return e}},64402:function(e){e.exports=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=n(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var a=o((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function n(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:n}})),s=(a.defaults,a.getDefaults,a.changeDefaults,/[&<>"']/),l=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=function(e){return d[e]};function p(e,t){if(t){if(s.test(e))return e.replace(l,h)}else if(c.test(e))return e.replace(u,h);return e}var f=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function m(e){return e.replace(f,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var g=/(^|[^\[])\^/g;function v(e,t){e=e.source||e,t=t||"";var n={replace:function(t,i){return i=(i=i.source||i).replace(g,"$1"),e=e.replace(t,i),n},getRegex:function(){return new RegExp(e,t)}};return n}var y=/[^\w:]/g,b=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function w(e,t,n){if(e){var i;try{i=decodeURIComponent(m(n)).replace(y,"").toLowerCase()}catch(e){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!b.test(n)&&(n=E(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var _={},x=/^[^:]+:\/*[^/]*$/,T=/^([^:]+:)[\s\S]*$/,S=/^([^:]+:\/*[^/]*)[\s\S]*$/;function E(e,t){_[" "+e]||(x.test(e)?_[" "+e]=e+"/":_[" "+e]=C(e,"/",!0));var n=-1===(e=_[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(T,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(S,"$1")+t:e+t}function M(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function A(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var i=!1,r=t;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function C(e,t,n){var i=e.length;if(0===i)return"";for(var r=0;r<i;){var o=e.charAt(i-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,i-r)}function k(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,i=0,r=0;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&--i<0)return r;return-1}function P(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}var D={escape:p,unescape:m,edit:v,cleanUrl:w,resolveUrl:E,noopTest:{exec:function(){}},merge:M,splitCells:A,rtrim:C,findClosingBracket:k,checkSanitizeDeprecation:P},R=a.defaults,$=D.rtrim,I=D.splitCells,L=D.escape,O=D.findClosingBracket;function N(e,t,n){var i=t.href,r=t.title?L(t.title):null;return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:i,title:r,text:e[1]}:{type:"image",raw:n,text:L(e[1]),href:i,title:r}}function F(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var i=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=i.length?e.slice(i.length):e})).join("\n")}var B=function(){function e(e){this.options=e||R}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e,t){var n=this.rules.block.code.exec(e);if(n){var i=t[t.length-1];if(i&&"paragraph"===i.type)return{raw:n[0],text:n[0].trimRight()};var r=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:$(r,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],i=F(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:i}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[1].length,text:t[2]}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:I(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var i,r=n.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=I(n.cells[i],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){for(var n,i,r,o,a,s,l,c=t[0],u=t[2],d=u.length>1,h={type:"list",raw:c,ordered:d,start:d?+u:"",loose:!1,items:[]},p=t[0].match(this.rules.block.item),f=!1,m=p.length,g=0;g<m;g++)c=n=p[g],i=n.length,~(n=n.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(i-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+i+"}","gm"),"")),g!==m-1&&(r=this.rules.block.bullet.exec(p[g+1])[0],(u.length>1?1===r.length:r.length>1||this.options.smartLists&&r!==u)&&(o=p.slice(g+1).join("\n"),h.raw=h.raw.substring(0,h.raw.length-o.length),g=m-1)),a=f||/\n\n(?!\s*$)/.test(n),g!==m-1&&(f="\n"===n.charAt(n.length-1),a||(a=f)),a&&(h.loose=!0),l=void 0,(s=/^\[[ xX]\] /.test(n))&&(l=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,"")),h.items.push({type:"list_item",raw:c,task:s,checked:l,loose:a,text:n});return h}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):L(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:I(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var i,r=n.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=I(n.cells[i].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e,t){var n=this.rules.block.text.exec(e);if(n){var i=t[t.length-1];return i&&"text"===i.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:L(t[1])}},t.tag=function(e,t,n){var i=this.rules.inline.tag.exec(e);if(i)return!t&&/^<a /i.test(i[0])?t=!0:t&&/^<\/a>/i.test(i[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):L(i[0]):i[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=O(t[2],"()");if(n>-1){var i=(0===t[0].indexOf("!")?5:4)+t[1].length+n;t[2]=t[2].substring(0,n),t[0]=t[0].substring(0,i).trim(),t[3]=""}var r=t[2],o="";if(this.options.pedantic){var a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);a?(r=a[1],o=a[3]):o=""}else o=t[3]?t[3].slice(1,-1):"";return N(t,{href:(r=r.trim().replace(/^<([\s\S]*)>$/,"$1"))?r.replace(this.rules.inline._escapes,"$1"):r,title:o?o.replace(this.rules.inline._escapes,"$1"):o},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var i=(n[2]||n[1]).replace(/\s+/g," ");if(!(i=t[i.toLowerCase()])||!i.href){var r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return N(n,i,n[0])}},t.strong=function(e){var t=this.rules.inline.strong.exec(e);if(t)return{type:"strong",raw:t[0],text:t[4]||t[3]||t[2]||t[1]}},t.em=function(e){var t=this.rules.inline.em.exec(e);if(t)return{type:"em",raw:t[0],text:t[6]||t[5]||t[4]||t[3]||t[2]||t[1]}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),i=/[^ ]/.test(n),r=n.startsWith(" ")&&n.endsWith(" ");return i&&r&&(n=n.substring(1,n.length-1)),n=L(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[1]}},t.autolink=function(e,t){var n,i,r=this.rules.inline.autolink.exec(e);if(r)return i="@"===r[2]?"mailto:"+(n=L(this.options.mangle?t(r[1]):r[1])):n=L(r[1]),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var i,r;if("@"===n[2])r="mailto:"+(i=L(this.options.mangle?t(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);i=L(n[0]),r="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}},t.inlineText=function(e,t,n){var i,r=this.rules.inline.text.exec(e);if(r)return i=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):L(r[0]):r[0]:L(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}},e}(),U=D.noopTest,z=D.edit,V=D.merge,H={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:U,table:U,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};H.def=z(H.def).replace("label",H._label).replace("title",H._title).getRegex(),H.bullet=/(?:[*+-]|\d{1,9}\.)/,H.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,H.item=z(H.item,"gm").replace(/bull/g,H.bullet).getRegex(),H.list=z(H.list).replace(/bull/g,H.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+H.def.source+")").getRegex(),H._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",H._comment=/<!--(?!-?>)[\s\S]*?-->/,H.html=z(H.html,"i").replace("comment",H._comment).replace("tag",H._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),H.paragraph=z(H._paragraph).replace("hr",H.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",H._tag).getRegex(),H.blockquote=z(H.blockquote).replace("paragraph",H.paragraph).getRegex(),H.normal=V({},H),H.gfm=V({},H.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),H.gfm.nptable=z(H.gfm.nptable).replace("hr",H.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",H._tag).getRegex(),H.gfm.table=z(H.gfm.table).replace("hr",H.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",H._tag).getRegex(),H.pedantic=V({},H.normal,{html:z("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",H._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:U,paragraph:z(H.normal._paragraph).replace("hr",H.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",H.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var j={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:U,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\s,punctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\s,punctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:U,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+\\-./:;<=>?@\\[^_{|}~"};j.em=z(j.em).replace(/punctuation/g,j._punctuation).getRegex(),j._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,j._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,j._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,j.autolink=z(j.autolink).replace("scheme",j._scheme).replace("email",j._email).getRegex(),j._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,j.tag=z(j.tag).replace("comment",H._comment).replace("attribute",j._attribute).getRegex(),j._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,j._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,j._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,j.link=z(j.link).replace("label",j._label).replace("href",j._href).replace("title",j._title).getRegex(),j.reflink=z(j.reflink).replace("label",j._label).getRegex(),j.normal=V({},j),j.pedantic=V({},j.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:z(/^!?\[(label)\]\((.*?)\)/).replace("label",j._label).getRegex(),reflink:z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",j._label).getRegex()}),j.gfm=V({},j.normal,{escape:z(j.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),j.gfm.url=z(j.gfm.url,"i").replace("email",j.gfm._extended_email).getRegex(),j.breaks=V({},j.gfm,{br:z(j.br).replace("{2,}","*").getRegex(),text:z(j.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var W={block:H,inline:j},G=a.defaults,q=W.block,Z=W.inline;function X(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Y(e){var t,n,i="",r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var K=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||G,this.options.tokenizer=this.options.tokenizer||new B,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:q.normal,inline:Z.normal};this.options.pedantic?(t.block=q.pedantic,t.inline=Z.pedantic):this.options.gfm&&(t.block=q.gfm,this.options.breaks?t.inline=Z.breaks:t.inline=Z.gfm),this.tokenizer.rules=t}e.lex=function(t,n){return new e(n).lex(t)};var n=e.prototype;return n.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(e,t,n){var i,r,o,a;for(void 0===t&&(t=[]),void 0===n&&(n=!0),e=e.replace(/^ +$/gm,"");e;)if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&t.push(i);else if(i=this.tokenizer.code(e,t))e=e.substring(i.raw.length),i.type?t.push(i):((a=t[t.length-1]).raw+="\n"+i.raw,a.text+="\n"+i.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.nptable(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),i.tokens=this.blockTokens(i.text,[],n),t.push(i);else if(i=this.tokenizer.list(e)){for(e=e.substring(i.raw.length),o=i.items.length,r=0;r<o;r++)i.items[r].tokens=this.blockTokens(i.items[r].text,[],!1);t.push(i)}else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.def(e)))e=e.substring(i.raw.length),this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.paragraph(e)))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.text(e,t))e=e.substring(i.raw.length),i.type?t.push(i):((a=t[t.length-1]).raw+="\n"+i.raw,a.text+="\n"+i.text);else if(e){var s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}return t},n.inline=function(e){var t,n,i,r,o,a,s=e.length;for(t=0;t<s;t++)switch((a=e[t]).type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},r=a.header.length,n=0;n<r;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(r=a.cells.length,n=0;n<r;n++)for(o=a.cells[n],a.tokens.cells[n]=[],i=0;i<o.length;i++)a.tokens.cells[n][i]=[],this.inlineTokens(o[i],a.tokens.cells[n][i]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(r=a.items.length,n=0;n<r;n++)this.inline(a.items[n].tokens)}return e},n.inlineTokens=function(e,t,n,i){var r;for(void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===i&&(i=!1);e;)if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,n,i))e=e.substring(r.raw.length),n=r.inLink,i=r.inRawBlock,t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.strong(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.em(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.autolink(e,Y))e=e.substring(r.raw.length),t.push(r);else if(n||!(r=this.tokenizer.url(e,Y))){if(r=this.tokenizer.inlineText(e,i,X))e=e.substring(r.raw.length),t.push(r);else if(e){var o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}}else e=e.substring(r.raw.length),t.push(r);return t},t(e,null,[{key:"rules",get:function(){return{block:q,inline:Z}}}]),e}(),J=a.defaults,Q=D.cleanUrl,ee=D.escape,te=function(){function e(e){this.options=e||J}var t=e.prototype;return t.code=function(e,t,n){var i=(t||"").match(/\S*/)[0];if(this.options.highlight){var r=this.options.highlight(e,i);null!=r&&r!==e&&(n=!0,e=r)}return i?'<pre><code class="'+this.options.langPrefix+ee(i,!0)+'">'+(n?e:ee(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ee(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=Q(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<a href="'+ee(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=Q(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),ne=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),ie=function(){function e(){this.seen={}}return e.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},e}(),re=a.defaults,oe=D.unescape,ae=function(){function e(e){this.options=e||re,this.options.renderer=this.options.renderer||new te,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ne,this.slugger=new ie}e.parse=function(t,n){return new e(n).parse(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,i,r,o,a,s,l,c,u,d,h,p,f,m,g,v,y,b,w="",_=e.length;for(n=0;n<_;n++)switch((d=e[n]).type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(d.tokens),d.depth,oe(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",o=d.header.length,i=0;i<o;i++)l+=this.renderer.tablecell(this.parseInline(d.tokens.header[i]),{header:!0,align:d.align[i]});for(c+=this.renderer.tablerow(l),u="",o=d.cells.length,i=0;i<o;i++){for(l="",a=(s=d.tokens.cells[i]).length,r=0;r<a;r++)l+=this.renderer.tablecell(this.parseInline(s[r]),{header:!1,align:d.align[r]});u+=this.renderer.tablerow(l)}w+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(d.tokens),w+=this.renderer.blockquote(u);continue;case"list":for(h=d.ordered,p=d.start,f=d.loose,o=d.items.length,u="",i=0;i<o;i++)v=(g=d.items[i]).checked,y=g.task,m="",g.task&&(b=this.renderer.checkbox(v),f?g.tokens.length>0&&"text"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):m+=b),m+=this.parse(g.tokens,f),u+=this.renderer.listitem(m,y,v);w+=this.renderer.list(u,h,p);continue;case"html":w+=this.renderer.html(d.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<_&&"text"===e[n+1].type;)u+="\n"+((d=e[++n]).tokens?this.parseInline(d.tokens):d.text);w+=t?this.renderer.paragraph(u):u;continue;default:var x='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(x);throw new Error(x)}return w},t.parseInline=function(e,t){t=t||this.renderer;var n,i,r="",o=e.length;for(n=0;n<o;n++)switch((i=e[n]).type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:var a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}return r},e}(),se=D.merge,le=D.checkSanitizeDeprecation,ce=D.escape,ue=a.getDefaults,de=a.changeDefaults,he=a.defaults;function pe(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=se({},pe.defaults,t||{}),le(t),n){var i,r=t.highlight;try{i=K.lex(e,t)}catch(e){return n(e)}var o=function(e){var o;if(!e)try{o=ae.parse(i,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,o)};if(!r||r.length<3)return o();if(delete t.highlight,!i.length)return o();var a=0;return pe.walkTokens(i,(function(e){"code"===e.type&&(a++,r(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--a&&o()})))})),void(0===a&&o())}try{var s=K.lex(e,t);return t.walkTokens&&pe.walkTokens(s,t.walkTokens),ae.parse(s,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ce(e.message+"",!0)+"</pre>";throw e}}return pe.options=pe.setOptions=function(e){return se(pe.defaults,e),de(pe.defaults),pe},pe.getDefaults=ue,pe.defaults=he,pe.use=function(e){var t=se({},e);if(e.renderer&&function(){var n=pe.defaults.renderer||new te,i=function(t){var i=n[t];n[t]=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var s=e.renderer[t].apply(n,o);return!1===s&&(s=i.apply(n,o)),s}};for(var r in e.renderer)i(r);t.renderer=n}(),e.tokenizer&&function(){var n=pe.defaults.tokenizer||new B,i=function(t){var i=n[t];n[t]=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var s=e.tokenizer[t].apply(n,o);return!1===s&&(s=i.apply(n,o)),s}};for(var r in e.tokenizer)i(r);t.tokenizer=n}(),e.walkTokens){var n=pe.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),n&&n(t)}}pe.setOptions(t)},pe.walkTokens=function(e,t){for(var n,i=r(e);!(n=i()).done;){var o=n.value;switch(t(o),o.type){case"table":for(var a,s=r(o.tokens.header);!(a=s()).done;){var l=a.value;pe.walkTokens(l,t)}for(var c,u=r(o.tokens.cells);!(c=u()).done;)for(var d,h=r(c.value);!(d=h()).done;){var p=d.value;pe.walkTokens(p,t)}break;case"list":pe.walkTokens(o.items,t);break;default:o.tokens&&pe.walkTokens(o.tokens,t)}}},pe.Parser=ae,pe.parser=ae.parse,pe.Renderer=te,pe.TextRenderer=ne,pe.Lexer=K,pe.lexer=K.lex,pe.Tokenizer=B,pe.Slugger=ie,pe.parse=pe,pe}()},57047:function(e,t,n){!function(e,t,n){"use strict";var i="default"in t?t.default:t;n="default"in n?n.default:n;var r=/^(attrs|props|on|nativeOn|class|style|hook)$/,o=function(e){return e.reduce((function(e,t){var n,i,o,s,l;for(o in t)if(n=e[o],i=t[o],n&&r.test(o))if("class"===o&&("string"==typeof n&&(l=n,e[o]=n={},n[l]=!0),"string"==typeof i&&(l=i,t[o]=i={},i[l]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in i)n[s]=a(n[s],i[s]);else if(Array.isArray(n))e[o]=n.concat(i);else if(Array.isArray(i))e[o]=[n].concat(i);else for(s in i)n[s]=i[s];else e[o]=t[o];return e}),{})};function a(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}function s(e,t){var n={props:"vProps",data:"vData",on:"vOn"}[e],r=new RegExp(n,"i"),o=t[n];if(i.isDefined(o))return o;var a=void 0;if(0===(a="htmlAttributes"===e?function(e){return Object.keys(e).filter((function(e){var t=/^(vProps|vData|vOn|vDirectives|watchDepth|ng)/i.test(e),n="$"===e[0];return!t&&!n&&"class"!==e&&"style"!==e}))}(t):Object.keys(t).filter((function(e){return r.test(e)}))).length)return null;var s={};return a.forEach((function(e){if(n){var i=(a=n,(l=e.slice(a.length)).charAt(0).toLowerCase()+l.slice(1));s[i]=t[e]}else{var r=t.$attr[e],o=void 0;o=""===t[e]?"'"+e+"'":t[e],s[r]=o}var a,l})),s}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};function u(e,n){return function(i){var r=i;n&&(r=t.isArray(i)?[].concat(c(i)):t.isObject(i)?l({},i):i),e(r)}}function d(e,i,r,o,a){var s=void 0;if("props"===a?s=e.props?e.props:e.data:"attrs"===a&&(s=e.htmlAttributes),s){var l=r.depth,c=r.quirk,d=function(e,i,r){return function(o){t.isString(e)?o(e,n.set.bind(n,i._v,r)):Object.keys(e).forEach((function(t){o(e[t],n.set.bind(n,i._v[r],t))}))}}(s,i,a);switch(l){case"value":d((function(e,t){o.$watch(e,u(t,c),!0)}));break;case"collection":d((function(e,t){o.$watchCollection(e,u(t,c))}));break;default:d((function(e,t){o.$watch(e,u(t,c))}))}}}function h(e,t){if(!e)return null;if(i.isString(e))return t.$eval(e);var n={};return Object.keys(e).forEach((function(i){n[i]=t.$eval(e[i])})),n}var p={Object:function(e){return[e]},Array:function(e){return e},String:function(e){return e.split(/\s*,\s*/g).filter(Boolean).map((function(e){return{name:e}}))}},f=["class","style"];function m(e,t,r,a,c){var u,m=c.has("$ngVue")?c.get("$ngVue"):null,g=c.get("$compile"),v={data:s("data",u=r),props:s("props",u),events:s("on",u),htmlAttributes:s("htmlAttributes",u)},y=function(e,t){return i.isFunction(e)?e:t.get(e)}(e,c),b=function(e,t){var n=e.vDirectives;if(i.isUndefined(n))return null;var r,o=t.$eval(n),a=p[(r=o,r.constructor.name)];return a?a(o):null}(r,a)||[],w={_v:{props:h(v.props||v.data,a)||{},attrs:h(v.htmlAttributes,a)||{},special:function(e){return f.reduce((function(t,n){var i=e[n];return(i||e[e.$normalize("ng-"+n)])&&(t[n]=i),t}),{})}(r)}},_=function(e,t){var n=e.events;if(!n||!i.isObject(n))return null;var r={};return Object.keys(n).forEach((function(e){r[e]=t.$eval(n[e]);var o=r[e];i.isFunction(o)&&(r[e]=function(){var e=arguments;return t.$evalAsync((function(){return o.apply(null,e)}))})})),r}(v,a)||{},x=!!m&&m.inQuirkMode(),T=m?m.getRootProps():{},S=T.mounted;T.mounted=function(){if(t[0].innerHTML.trim()){var e=g(t[0].innerHTML)(a),n=this.$refs.__slot__;n.parentNode.replaceChild(e[0],n)}i.isFunction(S)&&S.apply(this,arguments)};var E={depth:r.watchDepth,quirk:x};d(v,w,E,a,"props"),d(v,w,E,a,"attrs"),function(e,t,i){Object.keys(e._v.special).forEach((function(r){i.$watch((function(){return t.attr(r)}),(function(t){n.set(e._v.special,r,t)}))}))}(w,t,a);var M=new n(l({name:"NgVue",el:t[0],data:w,render:function(e){return e(y,o([{directives:b},{props:w._v.props,on:_,attrs:w._v.attrs},w._v.special]),[e("span",{ref:"__slot__"})])}},T));a.$on("$destroy",(function(){M.$destroy(),i.element(M.$el).remove(),M=null}))}var g=i.module("ngVue",[]).directive("vueComponent",["$injector",function(e){return{restrict:"E",link:function(t,n,i){m(i.name,n,i,t,e)}}}]).factory("createVueComponent",["$injector",function(e){return function(t,n){var r={restrict:"E",link:function(n,i,r){m(t,i,r,n,e)}};return i.extend(r,n)}}]);e.ngVue=g,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(28508),n(26427))},48181:function(e,t,n){var i=n(65638);!function(n,i){"use strict";var r=["ng","oc.lazyLoad"],o={},a=[],s=[],l=[],c=[],u=n.noop,d={},h=[];n.module("oc.lazyLoad",["ng"]).provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(e,t,p,g,v,y){var b={},w={$controllerProvider:e,$compileProvider:p,$filterProvider:g,$provide:t,$injector:v,$animateProvider:y},_=!1,x=!1,T=[],S={};T.push=function(e){-1===this.indexOf(e)&&Array.prototype.push.apply(this,arguments)},this.config=function(e){n.isDefined(e.modules)&&(n.isArray(e.modules)?n.forEach(e.modules,(function(e){b[e.name]=e})):b[e.modules.name]=e.modules),n.isDefined(e.debug)&&(_=e.debug),n.isDefined(e.events)&&(x=e.events)},this._init=function(e){if(0===s.length){var t=[e],o=["ng:app","ng-app","x-ng-app","data-ng-app"],a=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,l=function(e){return e&&t.push(e)};n.forEach(o,(function(t){o[t]=!0,l(document.getElementById(t)),t=t.replace(":","\\:"),void 0!==e[0]&&e[0].querySelectorAll&&(n.forEach(e[0].querySelectorAll("."+t),l),n.forEach(e[0].querySelectorAll("."+t+"\\:"),l),n.forEach(e[0].querySelectorAll("["+t+"]"),l))})),n.forEach(t,(function(t){if(0===s.length){var i=" "+e.className+" ",r=a.exec(i);r?s.push((r[2]||"").replace(/\s+/g,",")):n.forEach(t.attributes,(function(e){0===s.length&&o[e.name]&&s.push(e.value)}))}}))}0!==s.length||(i.jasmine||i.mocha)&&n.isDefined(n.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");var u=function e(t){if(-1===r.indexOf(t)){r.push(t);var i=n.module(t);k(null,i._invokeQueue,t),k(null,i._configBlocks,t),n.forEach(i.requires,e)}};n.forEach(s,(function(e){u(e)})),s=[],c.pop()};var E=function(e){try{return JSON.stringify(e)}catch(i){var t=[];return JSON.stringify(e,(function(e,i){if(n.isObject(i)&&null!==i){if(-1!==t.indexOf(i))return;t.push(i)}return i}))}},M=function(e){var t,n,i=0;if(0==e.length)return i;for(t=0,n=e.length;t<n;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return i};function A(e,t,i){if(t){var o,a,s,c=[];for(o=t.length-1;o>=0;o--)if(a=t[o],n.isString(a)||(a=P(a)),a&&-1===h.indexOf(a)&&(!b[a]||-1!==l.indexOf(a))){var p=-1===r.indexOf(a);if(s=m(a),p&&(r.push(a),A(e,s.requires,i)),s._runBlocks.length>0)for(d[a]=[];s._runBlocks.length>0;)d[a].push(s._runBlocks.shift());n.isDefined(d[a])&&(p||i.rerun)&&(c=c.concat(d[a])),k(e,s._invokeQueue,a,i.reconfig),k(e,s._configBlocks,a,i.reconfig),u(p?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",a),t.pop(),h.push(a)}var f=e.getInstanceInjector();n.forEach(c,(function(e){f.invoke(e)}))}}function C(e,t){var i=e[2][0],r=e[1],a=!1;n.isUndefined(o[t])&&(o[t]={}),n.isUndefined(o[t][r])&&(o[t][r]={});var s=function(e,i){o[t][r].hasOwnProperty(e)||(o[t][r][e]=[]),function(e,t){var i,r=!0;t.length&&(i=l(e),n.forEach(t,(function(e){r=r&&l(e)!==i})));return r}(i,o[t][r][e])&&(a=!0,o[t][r][e].push(i),u("ocLazyLoad.componentLoaded",[t,r,e]))};function l(e){return n.isArray(e)?M(e.toString()):n.isObject(e)?M(E(e)):n.isDefined(e)&&null!==e?M(e.toString()):e}if(n.isString(i))s(i,e[2][1]);else{if(!n.isObject(i))return!1;n.forEach(i,(function(e,t){n.isString(e)?s(e,i[1]):s(t,e)}))}return a}function k(e,t,i,r){var o,s,l,c;if(t)for(o=0,s=t.length;o<s;o++)if(l=t[o],n.isArray(l)){if(null!==e){if(!e.hasOwnProperty(l[0]))throw new Error("unsupported provider "+l[0]);c=e[l[0]]}var u=C(l,i);if("invoke"!==l[1])u&&n.isDefined(c)&&c[l[1]].apply(c,l[2]);else{var d=function(e){var t=a.indexOf(i+"-"+e);(-1===t||r)&&(-1===t&&a.push(i+"-"+e),n.isDefined(c)&&c[l[1]].apply(c,l[2]))};if(n.isFunction(l[2][0]))d(l[2][0]);else if(n.isArray(l[2][0]))for(var h=0,p=l[2][0].length;h<p;h++)n.isFunction(l[2][0][h])&&d(l[2][0][h])}}}function P(e){var t=null;return n.isString(e)?t=e:n.isObject(e)&&e.hasOwnProperty("name")&&n.isString(e.name)&&(t=e.name),t}function D(e){if(!n.isString(e))return!1;try{return m(e)}catch(e){if(/No module/.test(e)||e.message.indexOf("$injector:nomod")>-1)return!1}}this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(e,t,i,a,l){var d,p=a("ocLazyLoad");function g(t){var n=l.defer();return e.error(t.message),n.reject(t),n.promise}return _||((e={}).error=n.noop,e.warn=n.noop,e.info=n.noop),w.getInstanceInjector=function(){return d||(d=t.data("$injector")||n.injector())},{_broadcast:u=function(t,n){x&&i.$broadcast(t,n),_&&e.info(t,n)},_$log:e,_getFilesCache:function(){return p},toggleWatch:function(e){e?c.push(!0):c.pop()},getModuleConfig:function(e){if(!n.isString(e))throw new Error("You need to give the name of the module to get");return b[e]?n.copy(b[e]):null},setModuleConfig:function(e){if(!n.isObject(e))throw new Error("You need to give the module config object to set");return b[e.name]=e,e},getModules:function(){return r},isLoaded:function(e){var t=function(e){var t=r.indexOf(e)>-1;return t||(t=!!D(e)),t};if(n.isString(e)&&(e=[e]),n.isArray(e)){var i,o;for(i=0,o=e.length;i<o;i++)if(!t(e[i]))return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:P,_getModule:function(e){try{return m(e)}catch(t){throw(/No module/.test(t)||t.message.indexOf("$injector:nomod")>-1)&&(t.message='The module "'+E(e)+'" that you are trying to load does not exist. '+t.message),t}},moduleExists:D,_loadDependencies:function(e,t){var i,r,o,a=[],s=this;if(null===(e=s._getModuleName(e)))return l.when();try{i=s._getModule(e)}catch(e){return g(e)}return r=s.getRequires(i),n.forEach(r,(function(i){if(n.isString(i)){var r=s.getModuleConfig(i);if(null===r)return void T.push(i);i=r,r.name=void 0}if(s.moduleExists(i.name))return 0!==(o=i.files.filter((function(e){return s.getModuleConfig(i.name).files.indexOf(e)<0}))).length&&s._$log.warn('Module "',e,'" attempted to redefine configuration for dependency. "',i.name,'"\n Additional Files Loaded:',o),n.isDefined(s.filesLoader)?void a.push(s.filesLoader(i,t).then((function(){return s._loadDependencies(i)}))):g(new Error("Error: New dependencies need to be loaded from external files ("+i.files+"), but no loader has been defined."));if(n.isArray(i)){var l=[];n.forEach(i,(function(e){var t=s.getModuleConfig(e);null===t?l.push(e):t.files&&(l=l.concat(t.files))})),l.length>0&&(i={files:l})}else n.isObject(i)&&i.hasOwnProperty("name")&&i.name&&(s.setModuleConfig(i),T.push(i.name));if(n.isDefined(i.files)&&0!==i.files.length){if(!n.isDefined(s.filesLoader))return g(new Error('Error: the module "'+i.name+'" is defined in external files ('+i.files+"), but no loader has been defined."));a.push(s.filesLoader(i,t).then((function(){return s._loadDependencies(i)})))}})),l.all(a)},inject:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=this,o=l.defer();if(n.isDefined(e)&&null!==e){if(n.isArray(e)){var a=[];return n.forEach(e,(function(e){a.push(r.inject(e,t,i))})),l.all(a)}r._addToLoadList(r._getModuleName(e),!0,i)}if(s.length>0){var c=s.slice(),u=function e(n){T.push(n),S[n]=o.promise,r._loadDependencies(n,t).then((function(){try{h=[],A(w,T,t)}catch(e){return r._$log.error(e.message),void o.reject(e)}s.length>0?e(s.shift()):o.resolve(c)}),(function(e){o.reject(e)}))};u(s.shift())}else{if(t&&t.name&&S[t.name])return S[t.name];o.resolve()}return o.promise},getRequires:function(e){var t=[];return n.forEach(e.requires,(function(e){-1===r.indexOf(e)&&t.push(e)})),t},_invokeQueue:k,_registerInvokeList:C,_register:A,_addToLoadList:f,_unregister:function(e){n.isDefined(e)&&n.isArray(e)&&n.forEach(e,(function(e){o[e]=void 0}))}}}],this._init(n.element(i.document))}]);var p=n.bootstrap;n.bootstrap=function(e,t,i){return r=["ng","oc.lazyLoad"],o={},a=[],s=[],l=[],c=[],u=n.noop,d={},h=[],n.forEach(t.slice(),(function(e){f(e,!0,!0)})),p(e,t,i)};var f=function(e,t,i){(c.length>0||t)&&n.isString(e)&&-1===s.indexOf(e)&&(s.push(e),i&&l.push(e))},m=n.module;n.module=function(e,t,n){return f(e,!1,!0),m(e,t,n)},e.exports===t&&(e.exports="oc.lazyLoad")}(angular,window),function(e){"use strict";e.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(t,n,i,r,o){return{restrict:"A",terminal:!0,priority:1e3,compile:function(o,a){var s=o[0].innerHTML;return o.html(""),function(o,a,l){var c=r(l.ocLazyLoad);o.$watch((function(){return c(o)||l.ocLazyLoad}),(function(r){e.isDefined(r)&&t.load(r).then((function(){i.enter(s,a),n(a.contents())(o)}))}),!0)}}}}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(t,n,r,o){var a=!1,s=r.document.getElementsByTagName("head")[0]||r.document.getElementsByTagName("body")[0];return t.buildElement=function(l,c,u){var d,h,p=n.defer(),f=t._getFilesCache(),m=function(e){var t=(new Date).getTime();return e.indexOf("?")>=0?"&"===e.substring(0,e.length-1)?e+"_dc="+t:e+"&_dc="+t:e+"?_dc="+t};switch(e.isUndefined(f.get(c))&&f.put(c,p.promise),l){case"css":(d=r.document.createElement("link")).type="text/css",d.rel="stylesheet",d.href=!1===u.cache?m(c):c;break;case"js":(d=r.document.createElement("script")).src=!1===u.cache?m(c):c;break;default:f.remove(c),p.reject(new Error('Requested type "'+l+'" is not known. Could not inject "'+c+'"'))}d.onload=d.onreadystatechange=function(e){d.readyState&&!/^c|loade/.test(d.readyState)||h||(d.onload=d.onreadystatechange=null,h=1,t._broadcast("ocLazyLoad.fileLoaded",c),p.resolve(d))},d.onerror=function(){f.remove(c),p.reject(new Error("Unable to load "+c))},d.async=u.serie?0:1;var g=s.lastChild;if(u.insertBefore){var v=e.element(e.isDefined(i)?u.insertBefore:document.querySelector(u.insertBefore));v&&v.length>0&&(g=v[0])}if(g.parentNode.insertBefore(d,g),"css"==l){var y=r.navigator.userAgent.toLowerCase();if(y.indexOf("phantomjs/1.9")>-1)a=!0;else if(/iP(hone|od|ad)/.test(r.navigator.platform)){var b=r.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),w=parseFloat([parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3]||0,10)].join("."));a=w<6}else if(y.indexOf("android")>-1){var _=parseFloat(y.slice(y.indexOf("android")+8));a=_<4.4}else if(y.indexOf("safari")>-1){var x=y.match(/version\/([\.\d]+)/i);a=x&&x[1]&&parseFloat(x[1])<6}if(a)var T=1e3,S=o((function(){try{d.sheet.cssRules,o.cancel(S),d.onload()}catch(e){--T<=0&&d.onerror()}}),20)}return p.promise},t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.filesLoader=function(i){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=[],a=[],s=[],l=[],c=null,u=t._getFilesCache();t.toggleWatch(!0),e.extend(r,i);var d=function(n){var i,d=null;if(e.isObject(n)&&(d=n.type,n=n.path),c=u.get(n),e.isUndefined(c)||!1===r.cache){if(null!==(i=/^(css|less|html|htm|js)?(?=!)/.exec(n))&&(d=i[1],n=n.substr(i[1].length+1,n.length)),!d)if(null!==(i=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(n)))d=i[1];else{if(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!t.jsLoader.hasOwnProperty("requirejs"))return void t._$log.error("File type could not be determined. "+n);d="js"}"css"!==d&&"less"!==d||-1!==o.indexOf(n)?"html"!==d&&"htm"!==d||-1!==a.indexOf(n)?"js"===d||-1===s.indexOf(n)?s.push(n):t._$log.error("File type is not valid. "+n):a.push(n):o.push(n)}else c&&l.push(c)};if(r.serie?d(r.files.shift()):e.forEach(r.files,(function(e){d(e)})),o.length>0){var h=n.defer();t.cssLoader(o,(function(n){e.isDefined(n)&&t.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(n),h.reject(n)):h.resolve()}),r),l.push(h.promise)}if(a.length>0){var p=n.defer();t.templatesLoader(a,(function(n){e.isDefined(n)&&t.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(n),p.reject(n)):p.resolve()}),r),l.push(p.promise)}if(s.length>0){var f=n.defer();t.jsLoader(s,(function(n){e.isDefined(n)&&(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||t.jsLoader.hasOwnProperty("requirejs"))?(t._$log.error(n),f.reject(n)):f.resolve()}),r),l.push(f.promise)}if(0===l.length){var m=n.defer(),g="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";return t._$log.error(g),m.reject(g),m.promise}return r.serie&&r.files.length>0?n.all(l).then((function(){return t.filesLoader(i,r)})):n.all(l).finally((function(e){return t.toggleWatch(!1),e}))},t.load=function(i){var r,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=this,s=null,l=[],c=n.defer(),u=e.copy(i),d=e.copy(o);if(e.isArray(u))return e.forEach(u,(function(e){l.push(a.load(e,d))})),n.all(l).then((function(e){c.resolve(e)}),(function(e){c.reject(e)})),c.promise;if(e.isString(u)?(s=a.getModuleConfig(u))||(s={files:[u]}):e.isObject(u)&&(s=e.isDefined(u.path)&&e.isDefined(u.type)?{files:[u]}:a.setModuleConfig(u)),null===s){var h=a._getModuleName(u);return r='Module "'+(h||"unknown")+'" is not configured, cannot load.',t._$log.error(r),c.reject(new Error(r)),c.promise}e.isDefined(s.template)&&(e.isUndefined(s.files)&&(s.files=[]),e.isString(s.template)?s.files.push(s.template):e.isArray(s.template)&&s.files.concat(s.template));var p=e.extend({},d,s);return e.isUndefined(s.files)&&e.isDefined(s.name)&&t.moduleExists(s.name)?t.inject(s.name,p,!0):(t.filesLoader(s,p).then((function(){t.inject(null,p).then((function(e){c.resolve(e)}),(function(e){c.reject(e)}))}),(function(e){c.reject(e)})),c.promise)},t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.cssLoader=function(i,r,o){var a=[];e.forEach(i,(function(e){a.push(t.buildElement("css",e,o))})),n.all(a).then((function(){r()}),(function(e){r(e)}))},t.cssLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.jsLoader=function(i,r,o){var a=[];e.forEach(i,(function(e){a.push(t.buildElement("js",e,o))})),n.all(a).then((function(){r()}),(function(e){r(e)}))},t.jsLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(t,n,i,r){return t.templatesLoader=function(o,a,s){var l=[],c=t._getFilesCache();return e.forEach(o,(function(t){var o=i.defer();l.push(o.promise),r.get(t,s).then((function(i){var r=i.data;e.isString(r)&&r.length>0&&e.forEach(e.element(r),(function(e){"SCRIPT"===e.nodeName&&"text/ng-template"===e.type&&n.put(e.id,e.innerHTML)})),e.isUndefined(c.get(t))&&c.put(t,!0),o.resolve()})).catch((function(e){o.reject(new Error('Unable to load template file "'+t+'": '+e.data))}))})),i.all(l).then((function(){a()}),(function(e){a(e)}))},t.templatesLoader.ocLazyLoadLoader=!0,t}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=r)return-1;for(n=Math.max(o>=0?o:r-Math.abs(o),0);n<r;){if(n in i&&i[n]===e)return n;n++}return-1})},42822:function(e,t,n){var i;!function(r,o){var a={};function s(e){return function(){var t={method:e},n=Array.prototype.slice.call(arguments);/^get/.test(e)?(a.assert(n.length>0,"Get methods require a callback."),n.unshift(t)):(/^set/.test(e)&&(a.assert(0!==n.length,"Set methods require a value."),t.value=n[0]),n=[t]),this.send.apply(this,n)}}a.DEBUG=!1,a.VERSION="0.0.11",a.CONTEXT="player.js",a.POST_MESSAGE=!!r.postMessage,a.origin=function(e){return"//"===e.substr(0,2)&&(e=r.location.protocol+e),e.split("/").slice(0,3).join("/")},a.addEvent=function(e,t,n){e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},a.log=function(){a.log.history=a.log.history||[],a.log.history.push(arguments),r.console&&a.DEBUG&&r.console.log(Array.prototype.slice.call(arguments))},a.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},a.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},a.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isNone=function(e){return null==e},a.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.indexOf=function(e,t){if(null==e)return-1;var n=0,i=e.length;if(Array.prototype.IndexOf&&e.indexOf===Array.prototype.IndexOf)return e.indexOf(t);for(;n<i;n++)if(e[n]===t)return n;return-1},a.assert=function(e,t){if(!e)throw t||"Player.js Assert Failed"},a.Keeper=function(){this.init()},a.Keeper.prototype.init=function(){this.data={}},a.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},a.Keeper.prototype.has=function(e,t){if(!this.data.hasOwnProperty(e))return!1;if(a.isNone(t))return!0;for(var n=this.data[e],i=0;i<n.length;i++)if(n[i].id===t)return!0;return!1},a.Keeper.prototype.add=function(e,t,n,i,r){var o={id:e,event:t,cb:n,ctx:i,one:r};this.has(t)?this.data[t].push(o):this.data[t]=[o]},a.Keeper.prototype.execute=function(e,t,n,i){if(!this.has(e,t))return!1;for(var r=[],o=[],s=0;s<this.data[e].length;s++){var l=this.data[e][s];a.isNone(t)||!a.isNone(t)&&l.id===t?(o.push({cb:l.cb,ctx:l.ctx?l.ctx:i,data:n}),!1===l.one&&r.push(l)):r.push(l)}0===r.length?delete this.data[e]:this.data[e]=r;for(var c=0;c<o.length;c++){var u=o[c];u.cb.call(u.ctx,u.data)}},a.Keeper.prototype.on=function(e,t,n,i){this.add(e,t,n,i,!1)},a.Keeper.prototype.one=function(e,t,n,i){this.add(e,t,n,i,!0)},a.Keeper.prototype.off=function(e,t){var n=[];if(!this.data.hasOwnProperty(e))return n;for(var i=[],r=0;r<this.data[e].length;r++){var o=this.data[e][r];a.isNone(t)||o.cb===t?a.isNone(o.id)||n.push(o.id):i.push(o)}return 0===i.length?delete this.data[e]:this.data[e]=i,n},a.Player=function(e,t){if(!(this instanceof a.Player))return new a.Player(e,t);this.init(e,t)},a.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},a.EVENTS.all=function(){var e=[];for(var t in a.EVENTS)a.has(a.EVENTS,t)&&a.isString(a.EVENTS[t])&&e.push(a.EVENTS[t]);return e},a.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},a.METHODS.all=function(){var e=[];for(var t in a.METHODS)a.has(a.METHODS,t)&&a.isString(a.METHODS[t])&&e.push(a.METHODS[t]);return e},a.READIED=[],a.Player.prototype.init=function(e,t){var n=this;a.isString(e)&&(e=o.getElementById(e)),this.elem=e,a.assert("IFRAME"===e.nodeName,'playerjs.Player constructor requires an Iframe, got "'+e.nodeName+'"'),a.assert(e.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=a.origin(e.src),this.keeper=new a.Keeper,this.isReady=!1,this.queue=[],this.events=a.EVENTS.all(),this.methods=a.METHODS.all(),a.POST_MESSAGE?a.addEvent(r,"message",(function(e){n.receive(e)})):a.log("Post Message is not Available."),a.indexOf(a.READIED,e.src)>-1?n.loaded=!0:this.elem.onload=function(){n.loaded=!0}},a.Player.prototype.send=function(e,t,n){if(e.context=a.CONTEXT,e.version=a.VERSION,t){var i=this.keeper.getUUID();e.listener=i,this.keeper.one(i,e.method,t,n)}return this.isReady||"ready"===e.value?(a.log("Player.send",e,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(e),this.origin),!0):(a.log("Player.queue",e),this.queue.push(e),!1)},a.Player.prototype.receive=function(e){if(a.log("Player.receive",e),e.origin!==this.origin)return!1;var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==a.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src===this.elem.src&&this.ready(t),this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},a.Player.prototype.ready=function(e){if(!0===this.isReady)return!1;e.value.events&&(this.events=e.value.events),e.value.methods&&(this.methods=e.value.methods),this.isReady=!0,this.loaded=!0;for(var t=0;t<this.queue.length;t++){var n=this.queue[t];a.log("Player.dequeue",n),"ready"===e.event&&this.keeper.execute(n.event,n.listener,!0,this),this.send(n)}this.queue=[]},a.Player.prototype.on=function(e,t,n){var i=this.keeper.getUUID();return"ready"===e?this.keeper.one(i,e,t,n):this.keeper.on(i,e,t,n),this.send({method:"addEventListener",value:e,listener:i}),!0},a.Player.prototype.off=function(e,t){var n=this.keeper.off(e,t);if(a.log("Player.off",n),n.length>0)for(var i in n)return this.send({method:"removeEventListener",value:e,listener:n[i]}),!0;return!1},a.Player.prototype.supports=function(e,t){a.assert(a.indexOf(["method","event"],e)>-1,'evtOrMethod needs to be either "event" or "method" got '+e),t=a.isArray(t)?t:[t];for(var n="event"===e?this.events:this.methods,i=0;i<t.length;i++)if(-1===a.indexOf(n,t[i]))return!1;return!0};for(var l=0,c=a.METHODS.all().length;l<c;l++){var u=a.METHODS.all()[l];a.Player.prototype.hasOwnProperty(u)||(a.Player.prototype[u]=s(u))}a.addEvent(r,"message",(function(e){var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==a.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src&&a.READIED.push(t.value.src)})),a.Receiver=function(e,t){this.init(e,t)},a.Receiver.prototype.init=function(e,t){var n=this;this.isReady=!1,this.origin=a.origin(o.referrer),this.methods={},this.supported={events:e||a.EVENTS.all(),methods:t||a.METHODS.all()},this.eventListeners={},this.reject=!(r.self!==r.top&&a.POST_MESSAGE),this.reject||a.addEvent(r,"message",(function(e){n.receive(e)}))},a.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var t={};if(a.isObject(e.data))t=e.data;else try{t=r.JSON.parse(e.data)}catch(e){a.log("JSON Parse Error",e)}if(a.log("Receiver.receive",e,t),!t.method)return!1;if(t.context!==a.CONTEXT)return!1;if(-1===a.indexOf(a.METHODS.all(),t.method))return this.emit("error",{code:2,msg:'Invalid Method "'+t.method+'"'}),!1;var n=a.isNone(t.listener)?null:t.listener;if("addEventListener"===t.method)this.eventListeners.hasOwnProperty(t.value)?-1===a.indexOf(this.eventListeners[t.value],n)&&this.eventListeners[t.value].push(n):this.eventListeners[t.value]=[n],"ready"===t.value&&this.isReady&&this.ready();else if("removeEventListener"===t.method){if(this.eventListeners.hasOwnProperty(t.value)){var i=a.indexOf(this.eventListeners[t.value],n);i>-1&&this.eventListeners[t.value].splice(i,1),0===this.eventListeners[t.value].length&&delete this.eventListeners[t.value]}}else this.get(t.method,t.value,n)},a.Receiver.prototype.get=function(e,t,n){var i=this;if(!this.methods.hasOwnProperty(e))return this.emit("error",{code:3,msg:'Method Not Supported"'+e+'"'}),!1;var r=this.methods[e];if("get"===e.substr(0,3)){r.call(this,(function(t){i.send(e,t,n)}))}else r.call(this,t)},a.Receiver.prototype.on=function(e,t){this.methods[e]=t},a.Receiver.prototype.send=function(e,t,n){if(a.log("Receiver.send",e,t,n),this.reject)return a.log("Receiver.send.reject",e,t,n),!1;var i={context:a.CONTEXT,version:a.VERSION,event:e};a.isNone(t)||(i.value=t),a.isNone(n)||(i.listener=n);var o=JSON.stringify(i);r.parent.postMessage(o,""===this.origin?"*":this.origin)},a.Receiver.prototype.emit=function(e,t){if(!this.eventListeners.hasOwnProperty(e))return!1;a.log("Instance.emit",e,t,this.eventListeners[e]);for(var n=0;n<this.eventListeners[e].length;n++){var i=this.eventListeners[e][n];this.send(e,t,i)}return!0},a.Receiver.prototype.ready=function(){a.log("Receiver.ready"),this.isReady=!0;var e={src:r.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},a.HTML5Adapter=function(e){if(!(this instanceof a.HTML5Adapter))return new a.HTML5Adapter(e);this.init(e)},a.HTML5Adapter.prototype.init=function(e){a.assert(e,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new a.Receiver;e.addEventListener("playing",(function(){t.emit("play")})),e.addEventListener("pause",(function(){t.emit("pause")})),e.addEventListener("ended",(function(){t.emit("ended")})),e.addEventListener("timeupdate",(function(){t.emit("timeupdate",{seconds:e.currentTime,duration:e.duration})})),e.addEventListener("progress",(function(){t.emit("buffered",{percent:e.buffered.length})})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(100*e.volume)})),t.on("setVolume",(function(t){e.volume=t/100})),t.on("mute",(function(){e.muted=!0})),t.on("unmute",(function(){e.muted=!1})),t.on("getMuted",(function(t){t(e.muted)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},a.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},a.JWPlayerAdapter=function(e){if(!(this instanceof a.JWPlayerAdapter))return new a.JWPlayerAdapter(e);this.init(e)},a.JWPlayerAdapter.prototype.init=function(e){a.assert(e,"playerjs.JWPlayerAdapter requires a player object");var t=this.receiver=new a.Receiver;this.looped=!1,e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("time",(function(e){var n=e.position,i=e.duration;if(!n||!i)return!1;var r={seconds:n,duration:i};t.emit("timeupdate",r)}));var n=this;e.on("complete",(function(){!0===n.looped?e.seek(0):t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play(!0)})),t.on("pause",(function(){e.pause(!0)})),t.on("getPaused",(function(t){t(e.getState().toLowerCase()!=="PLAYING".toLowerCase())})),t.on("getCurrentTime",(function(t){t(e.getPosition())})),t.on("setCurrentTime",(function(t){e.seek(t)})),t.on("getDuration",(function(t){t(e.getDuration())})),t.on("getVolume",(function(t){t(e.getVolume())})),t.on("setVolume",(function(t){e.setVolume(t)})),t.on("mute",(function(){e.setMute(!0)})),t.on("unmute",(function(){e.setMute(!1)})),t.on("getMuted",(function(t){t(!0===e.getMute())})),t.on("getLoop",(function(e){e(this.looped)}),this),t.on("setLoop",(function(e){this.looped=e}),this)},a.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},a.MockAdapter=function(){if(!(this instanceof a.MockAdapter))return new a.MockAdapter;this.init()},a.MockAdapter.prototype.init=function(){var e={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){e.interval=setInterval((function(){e.currentTime+=.25,e.timeupdate({seconds:e.currentTime,duration:e.duration})}),250),e.playing=!0},pause:function(){clearInterval(e.interval),e.playing=!1}},t=this.receiver=new a.Receiver;t.on("play",(function(){var t=this;e.play(),this.emit("play"),e.timeupdate=function(e){t.emit("timeupdate",e)}})),t.on("pause",(function(){e.pause(),this.emit("pause")})),t.on("getPaused",(function(t){t(!e.playing)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(e.volume)})),t.on("setVolume",(function(t){e.volume=t})),t.on("mute",(function(){e.mute=!0})),t.on("unmute",(function(){e.mute=!1})),t.on("getMuted",(function(t){t(e.mute)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},a.MockAdapter.prototype.ready=function(){this.receiver.ready()},a.VideoJSAdapter=function(e){if(!(this instanceof a.VideoJSAdapter))return new a.VideoJSAdapter(e);this.init(e)},a.VideoJSAdapter.prototype.init=function(e){a.assert(e,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new a.Receiver;e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("timeupdate",(function(n){var i=e.currentTime(),r=e.duration();if(!i||!r)return!1;var o={seconds:i,duration:r};t.emit("timeupdate",o)})),e.on("ended",(function(){t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused())})),t.on("getCurrentTime",(function(t){t(e.currentTime())})),t.on("setCurrentTime",(function(t){e.currentTime(t)})),t.on("getDuration",(function(t){t(e.duration())})),t.on("getVolume",(function(t){t(100*e.volume())})),t.on("setVolume",(function(t){e.volume(t/100)})),t.on("mute",(function(){e.volume(0)})),t.on("unmute",(function(){e.volume(1)})),t.on("getMuted",(function(t){t(0===e.volume())})),t.on("getLoop",(function(t){t(e.loop())})),t.on("setLoop",(function(t){e.loop(t)}))},a.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}(window,document)},50005:function(){var e;(e=angular.module("plntr-infinite-scroll",[])).value("THROTTLE_MILLISECONDS",null),e.directive("plntrInfiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(e,t,n,i){return{scope:{plntrInfiniteScroll:"&",plntrInfiniteScrollContainer:"=",plntrInfiniteScrollDistance:"=",plntrInfiniteScrollDisabled:"=",plntrInfiniteScrollUseDocumentBottom:"=",plntrInfiniteScrollListenForEvent:"@",plntrInfiniteScrollDirection:"="},link:function(r,o,a){var s,l,c,u,d,h,p,f,m,g,v,y,b,w,_,x,T,S,E,M,A;return A=angular.element(t),x=null,T=null,c=null,u=null,v=!0,E=!1,S=null,l=!1,g=function(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight},M=function(e){return e=e[0]||e,isNaN(e.offsetWidth)?e.document.documentElement.clientWidth:e.offsetWidth},b=function(e){if(e[0].getBoundingClientRect)return e[0].getBoundingClientRect().top+_(e)},y=function(e){if(e[0].getBoundingClientRect)return e[0].getBoundingClientRect().left+w(e)},_=function(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset},w=function(e){return e=e[0]||e,isNaN(window.pageXOffset)?e.document.documentElement.scrollLeft:e.ownerDocument.defaultView.pageXOffset},m=function(){var t,i,a,s;return"vertical"===r.plntrInfiniteScrollDirection?u===A?(t=g(u)+_(u[0].document.documentElement),s=b(o)+g(o)):(t=g(u),a=0,void 0!==b(u)&&(a=b(u)),s=b(o)-a+g(o)):"horizontal"===r.plntrInfiniteScrollDirection&&(u===A?(t=M(u)+w(u[0].document.documentElement),s=y(o)+M(o)):(t=M(u),i=0,void 0!==y(u)&&(i=y(u)),s=y(o)-i+M(o))),E&&(s=g((o[0].ownerDocument||o[0].document).documentElement)),s-t<=g(u)*x+1?(c=!0,T?r.$$phase||e.$$phase?r.plntrInfiniteScroll():r.$apply(r.plntrInfiniteScroll):void 0):(l&&n.cancel(l),c=!1)},null!=i&&(m=function(e,t){var i,r,o;return o=null,r=0,i=function(){return r=(new Date).getTime(),n.cancel(o),o=null,e.call()},function(){var a,s;return a=(new Date).getTime(),(s=t-(a-r))<=0?(n.cancel(o),o=null,r=a,e.call()):o?void 0:o=n(i,s,1)}}(m,i)),r.$on("$destroy",(function(){if(u.unbind("scroll",m),null!=S&&(S(),S=null),l)return n.cancel(l)})),p=function(e){return x=parseFloat(e)||0},r.$watch("plntrInfiniteScrollDistance",p),p(r.plntrInfiniteScrollDistance),h=function(e){if((T=!e)&&c)return c=!1,m()},r.$watch("plntrInfiniteScrollDisabled",h),h(r.plntrInfiniteScrollDisabled),f=function(e){return E=e},r.$watch("plntrInfiniteScrollUseDocumentBottom",f),f(r.plntrinfiniteScrollUseDocumentBottom),(s=function(e){if(null!=u&&u.unbind("scroll",m),u=e,null!=e)return u.bind("scroll",m)})(A),r.plntrInfiniteScrollListenForEvent&&(S=e.$on(r.plntrInfiniteScrollListenForEvent,m)),d=function(e){if(null!=e&&0!==e.length){if(e.nodeType&&1===e.nodeType?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=angular.element(document.querySelector(e))),null!=e)return s(e);throw new Error("invalid infinite-scroll-container attribute.")}},r.$watch("plntrInfiniteScrollContainer",d),d(r.plntrInfiniteScrollContainer||[]),null!=a.infiniteScrollParent&&s(angular.element(o.parent())),null!=a.infiniteScrollImmediateCheck&&(v=r.$eval(a.infiniteScrollImmediateCheck)),l=n((function(){return v&&m(),n.cancel(l)}))}}}])},86248:function(e){var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:E(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",p="executing",f="completed",m={};function g(){}function v(){}function y(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==n&&i.call(_,a)&&(b=_);var x=y.prototype=g.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(r,o,a,s){var l=d(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var i=h;return function(r,o){if(i===p)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw o;return D()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=M(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=d(e,t,n);if("normal"===l.type){if(i=n.done?f:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}function M(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=d(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function P(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:D}}function D(){return{value:t,done:!0}}return v.prototype=y,r(x,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},T(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new S(u(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=P,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:P(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},53363:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var i={mixins:[n(52309).r],props:{imperial:{type:Boolean,required:!0}},methods:{toggle(){this.$emit("update",!this.imperial)}}},r=(n(47646),(0,n(40810).Z)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section-units"},[n("ul",{staticClass:"units pagination",on:{click:e.toggle}},[n("li",{class:{active:e.imperial}},[n("a",{staticClass:"nopadding"},[e._v(e._s(e.l10n.unitFt))])]),e._v(" "),n("li",{class:{active:!e.imperial}},[n("a",{staticClass:"nopadding"},[e._v(e._s(e.l10n.unitM))])])])])}),[],!1,null,"1bc1e93f",null).exports)},40810:function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,{Z:function(){return i}})},35401:function(e,t,n){var i=n(14229);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("56f10d5c",i,!0,{})},49793:function(e,t,n){var i=n(185);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("3911f068",i,!0,{})},33080:function(e,t,n){var i=n(81183);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("c7e373c4",i,!0,{})},80183:function(e,t,n){var i=n(53914);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("3494d728",i,!0,{})},63116:function(e,t,n){var i=n(59397);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("2bf20bb8",i,!0,{})},7278:function(e,t,n){var i=n(52586);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("555d9862",i,!0,{})},99435:function(e,t,n){var i=n(50658);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("ced2e32c",i,!0,{})},14767:function(e,t,n){var i=n(50336);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("2a57510f",i,!0,{})},78739:function(e,t,n){var i=n(32556);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("25e74310",i,!0,{})},62723:function(e,t,n){var i=n(36122);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("f3f6f732",i,!0,{})},57992:function(e,t,n){var i=n(94806);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("1a83eafd",i,!0,{})},57061:function(e,t,n){var i=n(95217);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("3c2c112a",i,!0,{})},26594:function(e,t,n){var i=n(58533);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("20637c60",i,!0,{})},34458:function(e,t,n){var i=n(82708);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("5c4be063",i,!0,{})},85257:function(e,t,n){var i=n(89939);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("32cf250b",i,!0,{})},48186:function(e,t,n){var i=n(7839);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("bfaec1e8",i,!0,{})},79838:function(e,t,n){var i=n(8778);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("411855ac",i,!0,{})},61545:function(e,t,n){var i=n(80453);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("29faafbd",i,!0,{})},86821:function(e,t,n){var i=n(87968);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("7da8f3c2",i,!0,{})},83758:function(e,t,n){var i=n(32810);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("2bddb29a",i,!0,{})},94259:function(e,t,n){var i=n(80264);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("48cca297",i,!0,{})},47646:function(e,t,n){var i=n(68257);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("08e150db",i,!0,{})},16548:function(e,t,n){var i=n(44699);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("3975f179",i,!0,{})},39135:function(e,t,n){var i=n(93209);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("67738f8e",i,!0,{})},42524:function(e,t,n){var i=n(56546);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("0cbf23a4",i,!0,{})},99890:function(e,t,n){var i=n(70516);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("0482e978",i,!0,{})},24790:function(e,t,n){var i=n(25890);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("25dcf245",i,!0,{})},5683:function(e,t,n){var i=n(48057);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("64875e66",i,!0,{})},53189:function(e,t,n){var i=n(65023);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("6a4c7207",i,!0,{})},38302:function(e,t,n){var i=n(90423);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("9de9910c",i,!0,{})},56678:function(e,t,n){var i=n(59902);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("214b6067",i,!0,{})},13083:function(e,t,n){var i=n(62459);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("25249b45",i,!0,{})},79729:function(e,t,n){var i=n(9216);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("2889cf8c",i,!0,{})},4450:function(e,t,n){var i=n(64871);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("1c7a370e",i,!0,{})},2290:function(e,t,n){var i=n(82670);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("26eb784d",i,!0,{})},44278:function(e,t,n){var i=n(63439);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("7254693d",i,!0,{})},90797:function(e,t,n){var i=n(77481);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("2af49fcc",i,!0,{})},48775:function(e,t,n){var i=n(40976);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("64c58011",i,!0,{})},50376:function(e,t,n){var i=n(55502);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("7077debe",i,!0,{})},94081:function(e,t,n){var i=n(47737);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("44665010",i,!0,{})},45183:function(e,t,n){var i=n(95951);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("4b68d0c7",i,!0,{})},42296:function(e,t,n){var i=n(89620);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("2208af49",i,!0,{})},34210:function(e,t,n){var i=n(62709);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("030f467e",i,!0,{})},85040:function(e,t,n){var i=n(67413);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("5b822620",i,!0,{})},51240:function(e,t,n){var i=n(53920);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("9a7d0bf6",i,!0,{})},64593:function(e,t,n){var i=n(59e3);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("d36a116a",i,!0,{})},21502:function(e,t,n){var i=n(38705);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("32df6f01",i,!0,{})},4379:function(e,t,n){var i=n(78402);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("dc4fb5bc",i,!0,{})},32317:function(e,t,n){var i=n(51987);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("c9521a2c",i,!0,{})},16733:function(e,t,n){var i=n(84200);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("193aa26e",i,!0,{})},55819:function(e,t,n){var i=n(14760);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("019d44c0",i,!0,{})},7054:function(e,t,n){var i=n(99064);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("53dd32d8",i,!0,{})},87082:function(e,t,n){var i=n(26223);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("1885dfda",i,!0,{})},74133:function(e,t,n){var i=n(1230);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("5676cae7",i,!0,{})},7966:function(e,t,n){var i=n(71223);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("7fe0dccc",i,!0,{})},1744:function(e,t,n){var i=n(15688);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("6ac20534",i,!0,{})},66404:function(e,t,n){var i=n(14240);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("70919a86",i,!0,{})},2984:function(e,t,n){var i=n(61465);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("2491566a",i,!0,{})},38116:function(e,t,n){var i=n(16667);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("93e13446",i,!0,{})},80468:function(e,t,n){var i=n(99339);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("17af70e3",i,!0,{})},37842:function(e,t,n){var i=n(78279);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("0aacc407",i,!0,{})},73308:function(e,t,n){var i=n(17013);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("4d710a85",i,!0,{})},68799:function(e,t,n){var i=n(67230);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("0abed5a8",i,!0,{})},75183:function(e,t,n){var i=n(88708);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("252af560",i,!0,{})},44221:function(e,t,n){var i=n(73865);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("9e7970aa",i,!0,{})},40221:function(e,t,n){var i=n(89948);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("59e30f4f",i,!0,{})},74361:function(e,t,n){var i=n(52095);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("18a96445",i,!0,{})},78619:function(e,t,n){var i=n(17789);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("6dab8164",i,!0,{})},49910:function(e,t,n){var i=n(94925);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("0e466fec",i,!0,{})},24146:function(e,t,n){var i=n(88395);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("ca7df47e",i,!0,{})},63852:function(e,t,n){var i=n(52473);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("b81386b2",i,!0,{})},20549:function(e,t,n){var i=n(80889);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("f376a69e",i,!0,{})},16984:function(e,t,n){var i=n(75797);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("b62596de",i,!0,{})},83858:function(e,t,n){var i=n(64305);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("3c5bc182",i,!0,{})},91901:function(e,t,n){var i=n(33149);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("97161732",i,!0,{})},64754:function(e,t,n){var i=n(81008);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("1e5845af",i,!0,{})},4793:function(e,t,n){var i=n(48724);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("1ece0e58",i,!0,{})},88279:function(e,t,n){var i=n(4817);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("7607b778",i,!0,{})},31882:function(e,t,n){var i=n(2997);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("5953a1aa",i,!0,{})},62580:function(e,t,n){var i=n(61869);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("2cb0a0c7",i,!0,{})},96934:function(e,t,n){var i=n(26816);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("affcfc2c",i,!0,{})},63061:function(e,t,n){var i=n(75357);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("63de9be0",i,!0,{})},49376:function(e,t,n){var i=n(73824);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("72677d1a",i,!0,{})},9293:function(e,t,n){var i=n(38132);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("81f354f4",i,!0,{})},30790:function(e,t,n){var i=n(64335);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("2d7c7183",i,!0,{})},3971:function(e,t,n){var i=n(53523);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("4e0fccc2",i,!0,{})},5274:function(e,t,n){var i=n(22734);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("1e949226",i,!0,{})},20309:function(e,t,n){var i=n(21041);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("2f48f05c",i,!0,{})},16750:function(e,t,n){var i=n(58761);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("5a2bf189",i,!0,{})},24528:function(e,t,n){var i=n(31780);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("1e1b82bc",i,!0,{})},79559:function(e,t,n){var i=n(48344);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("5d77f81f",i,!0,{})},82220:function(e,t,n){var i=n(8266);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("90604d82",i,!0,{})},30018:function(e,t,n){var i=n(58246);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("1b31df92",i,!0,{})},51839:function(e,t,n){var i=n(90097);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("24e1d79e",i,!0,{})},98649:function(e,t,n){var i=n(43729);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(32997).Z)("890541f2",i,!0,{})},32997:function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=o[0],s={id:e+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}n.d(t,{Z:function(){return f}});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,u=function(){},d=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,n,r){c=n,d=r||{};var a=i(e,t);return m(a),function(t){for(var n=[],r=0;r<a.length;r++){var s=a[r];(l=o[s.id]).refs--,n.push(l)}t?m(a=i(e,t)):a=[];for(r=0;r<n.length;r++){var l;if(0===(l=n[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],i=o[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(v(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(v(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function v(e){var t,n,i=document.querySelector("style["+h+'~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(p){var r=l++;i=s||(s=g()),t=w.bind(null,i,r,!1),n=w.bind(null,i,r,!0)}else i=g(),t=_.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var y,b=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function w(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function _(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),d.ssrId&&e.setAttribute(h,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},26427:function(e,t,n){"use strict";n.r(t);var i=Object.freeze({});function r(e){return null==e}function o(e){return null!=e}function a(e){return!0===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function l(e){return null!==e&&"object"==typeof e}var c=Object.prototype.toString;function u(e){return"[object Object]"===c.call(e)}function d(e){return"[object RegExp]"===c.call(e)}function h(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function f(e){return null==e?"":Array.isArray(e)||u(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function g(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}g("slot,component",!0);var v=g("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function w(e,t){return b.call(e,t)}function _(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var x=/-(\w)/g,T=_((function(e){return e.replace(x,(function(e,t){return t?t.toUpperCase():""}))})),S=_((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),E=/\B([A-Z])/g,M=_((function(e){return e.replace(E,"-$1").toLowerCase()}));var A=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function C(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function k(e,t){for(var n in t)e[n]=t[n];return e}function P(e){for(var t={},n=0;n<e.length;n++)e[n]&&k(t,e[n]);return t}function D(e,t,n){}var R=function(e,t,n){return!1},$=function(e){return e};function I(e,t){if(e===t)return!0;var n=l(e),i=l(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every((function(e,n){return I(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||o)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every((function(n){return I(e[n],t[n])}))}catch(e){return!1}}function L(e,t){for(var n=0;n<e.length;n++)if(I(e[n],t))return n;return-1}function O(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var N="data-server-rendered",F=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:D,parsePlatformTagName:$,mustUseProp:R,async:!0,_lifecycleHooks:B},z=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function H(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var j=new RegExp("[^"+z.source+".$_\\d]");var W,G="__proto__"in{},q="undefined"!=typeof window,Z="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,X=Z&&WXEnvironment.platform.toLowerCase(),Y=q&&window.navigator.userAgent.toLowerCase(),K=Y&&/msie|trident/.test(Y),J=Y&&Y.indexOf("msie 9.0")>0,Q=Y&&Y.indexOf("edge/")>0,ee=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===X),te=(Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y),Y&&Y.match(/firefox\/(\d+)/)),ne={}.watch,ie=!1;if(q)try{var re={};Object.defineProperty(re,"passive",{get:function(){ie=!0}}),window.addEventListener("test-passive",null,re)}catch(e){}var oe=function(){return void 0===W&&(W=!q&&!Z&&void 0!==n.g&&(n.g.process&&"server"===n.g.process.env.VUE_ENV)),W},ae=q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function se(e){return"function"==typeof e&&/native code/.test(e.toString())}var le,ce="undefined"!=typeof Symbol&&se(Symbol)&&"undefined"!=typeof Reflect&&se(Reflect.ownKeys);le="undefined"!=typeof Set&&se(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ue=D,de=0,he=function(){this.id=de++,this.subs=[]};he.prototype.addSub=function(e){this.subs.push(e)},he.prototype.removeSub=function(e){y(this.subs,e)},he.prototype.depend=function(){he.target&&he.target.addDep(this)},he.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},he.target=null;var pe=[];function fe(e){pe.push(e),he.target=e}function me(){pe.pop(),he.target=pe[pe.length-1]}var ge=function(e,t,n,i,r,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ve={child:{configurable:!0}};ve.child.get=function(){return this.componentInstance},Object.defineProperties(ge.prototype,ve);var ye=function(e){void 0===e&&(e="");var t=new ge;return t.text=e,t.isComment=!0,t};function be(e){return new ge(void 0,void 0,void 0,String(e))}function we(e){var t=new ge(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var _e=Array.prototype,xe=Object.create(_e);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=_e[e];H(xe,e,(function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o}))}));var Te=Object.getOwnPropertyNames(xe),Se=!0;function Ee(e){Se=e}var Me=function(e){this.value=e,this.dep=new he,this.vmCount=0,H(e,"__ob__",this),Array.isArray(e)?(G?function(e,t){e.__proto__=t}(e,xe):function(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];H(e,o,t[o])}}(e,xe,Te),this.observeArray(e)):this.walk(e)};function Ae(e,t){var n;if(l(e)&&!(e instanceof ge))return w(e,"__ob__")&&e.__ob__ instanceof Me?n=e.__ob__:Se&&!oe()&&(Array.isArray(e)||u(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Me(e)),t&&n&&n.vmCount++,n}function Ce(e,t,n,i,r){var o=new he,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set;s&&!l||2!==arguments.length||(n=e[t]);var c=!r&&Ae(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return he.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&De(t))),t},set:function(t){var i=s?s.call(e):n;t===i||t!=t&&i!=i||s&&!l||(l?l.call(e,t):n=t,c=!r&&Ae(t),o.notify())}})}}function ke(e,t,n){if(Array.isArray(e)&&h(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?n:i?(Ce(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function Pe(e,t){if(Array.isArray(e)&&h(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||w(e,t)&&(delete e[t],n&&n.dep.notify())}}function De(e){for(var t=void 0,n=0,i=e.length;n<i;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&De(t)}Me.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Ce(e,t[n])},Me.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Ae(e[t])};var Re=U.optionMergeStrategies;function $e(e,t){if(!t)return e;for(var n,i,r,o=ce?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(i=e[n],r=t[n],w(e,n)?i!==r&&u(i)&&u(r)&&$e(i,r):ke(e,n,r));return e}function Ie(e,t,n){return n?function(){var i="function"==typeof t?t.call(n,n):t,r="function"==typeof e?e.call(n,n):e;return i?$e(i,r):r}:t?e?function(){return $e("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Le(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function Oe(e,t,n,i){var r=Object.create(e||null);return t?k(r,t):r}Re.data=function(e,t,n){return n?Ie(e,t,n):t&&"function"!=typeof t?e:Ie(e,t)},B.forEach((function(e){Re[e]=Le})),F.forEach((function(e){Re[e+"s"]=Oe})),Re.watch=function(e,t,n,i){if(e===ne&&(e=void 0),t===ne&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var o in k(r,e),t){var a=r[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Re.props=Re.methods=Re.inject=Re.computed=function(e,t,n,i){if(!e)return t;var r=Object.create(null);return k(r,e),t&&k(r,t),r},Re.provide=Ie;var Ne=function(e,t){return void 0===t?e:t};function Fe(e,t,n){if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var i,r,o={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(o[T(r)]={type:null});else if(u(n))for(var a in n)r=n[a],o[T(a)]=u(r)?r:{type:r};e.props=o}}(t),function(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(u(n))for(var o in n){var a=n[o];i[o]=u(a)?k({from:o},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}(t),!t._base&&(t.extends&&(e=Fe(e,t.extends,n)),t.mixins))for(var i=0,r=t.mixins.length;i<r;i++)e=Fe(e,t.mixins[i],n);var o,a={};for(o in e)s(o);for(o in t)w(e,o)||s(o);function s(i){var r=Re[i]||Ne;a[i]=r(e[i],t[i],n,i)}return a}function Be(e,t,n,i){if("string"==typeof n){var r=e[t];if(w(r,n))return r[n];var o=T(n);if(w(r,o))return r[o];var a=S(o);return w(r,a)?r[a]:r[n]||r[o]||r[a]}}function Ue(e,t,n,i){var r=t[e],o=!w(n,e),a=n[e],s=je(Boolean,r.type);if(s>-1)if(o&&!w(r,"default"))a=!1;else if(""===a||a===M(e)){var l=je(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(e,t,n){if(!w(t,"default"))return;var i=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n])return e._props[n];return"function"==typeof i&&"Function"!==Ve(t.type)?i.call(e):i}(i,r,e);var c=Se;Ee(!0),Ae(a),Ee(c)}return a}var ze=/^\s*function (\w+)/;function Ve(e){var t=e&&e.toString().match(ze);return t?t[1]:""}function He(e,t){return Ve(e)===Ve(t)}function je(e,t){if(!Array.isArray(t))return He(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(He(t[n],e))return n;return-1}function We(e,t,n){fe();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(i,e,t,n))return}catch(e){qe(e,i,"errorCaptured hook")}}qe(e,t,n)}finally{me()}}function Ge(e,t,n,i,r){var o;try{(o=n?e.apply(t,n):e.call(t))&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(e){return We(e,i,r+" (Promise/async)")})),o._handled=!0)}catch(e){We(e,i,r)}return o}function qe(e,t,n){if(U.errorHandler)try{return U.errorHandler.call(null,e,t,n)}catch(t){t!==e&&Ze(t,null,"config.errorHandler")}Ze(e,t,n)}function Ze(e,t,n){if(!q&&!Z||"undefined"==typeof console)throw e;console.error(e)}var Xe,Ye=!1,Ke=[],Je=!1;function Qe(){Je=!1;var e=Ke.slice(0);Ke.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&se(Promise)){var et=Promise.resolve();Xe=function(){et.then(Qe),ee&&setTimeout(D)},Ye=!0}else if(K||"undefined"==typeof MutationObserver||!se(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Xe="undefined"!=typeof setImmediate&&se(setImmediate)?function(){setImmediate(Qe)}:function(){setTimeout(Qe,0)};else{var tt=1,nt=new MutationObserver(Qe),it=document.createTextNode(String(tt));nt.observe(it,{characterData:!0}),Xe=function(){tt=(tt+1)%2,it.data=String(tt)},Ye=!0}function rt(e,t){var n;if(Ke.push((function(){if(e)try{e.call(t)}catch(e){We(e,t,"nextTick")}else n&&n(t)})),Je||(Je=!0,Xe()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}var ot=new le;function at(e){st(e,ot),ot.clear()}function st(e,t){var n,i,r=Array.isArray(e);if(!(!r&&!l(e)||Object.isFrozen(e)||e instanceof ge)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(r)for(n=e.length;n--;)st(e[n],t);else for(n=(i=Object.keys(e)).length;n--;)st(e[i[n]],t)}}var lt=_((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}}));function ct(e,t){function n(){var e=arguments,i=n.fns;if(!Array.isArray(i))return Ge(i,null,arguments,t,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)Ge(r[o],null,e,t,"v-on handler")}return n.fns=e,n}function ut(e,t,n,i,o,s){var l,c,u,d;for(l in e)c=e[l],u=t[l],d=lt(l),r(c)||(r(u)?(r(c.fns)&&(c=e[l]=ct(c,s)),a(d.once)&&(c=e[l]=o(d.name,c,d.capture)),n(d.name,c,d.capture,d.passive,d.params)):c!==u&&(u.fns=c,e[l]=u));for(l in t)r(e[l])&&i((d=lt(l)).name,t[l],d.capture)}function dt(e,t,n){var i;e instanceof ge&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function l(){n.apply(this,arguments),y(i.fns,l)}r(s)?i=ct([l]):o(s.fns)&&a(s.merged)?(i=s).fns.push(l):i=ct([s,l]),i.merged=!0,e[t]=i}function ht(e,t,n,i,r){if(o(t)){if(w(t,n))return e[n]=t[n],r||delete t[n],!0;if(w(t,i))return e[n]=t[i],r||delete t[i],!0}return!1}function pt(e){return s(e)?[be(e)]:Array.isArray(e)?mt(e):void 0}function ft(e){return o(e)&&o(e.text)&&!1===e.isComment}function mt(e,t){var n,i,l,c,u=[];for(n=0;n<e.length;n++)r(i=e[n])||"boolean"==typeof i||(c=u[l=u.length-1],Array.isArray(i)?i.length>0&&(ft((i=mt(i,(t||"")+"_"+n))[0])&&ft(c)&&(u[l]=be(c.text+i[0].text),i.shift()),u.push.apply(u,i)):s(i)?ft(c)?u[l]=be(c.text+i):""!==i&&u.push(be(i)):ft(i)&&ft(c)?u[l]=be(c.text+i.text):(a(e._isVList)&&o(i.tag)&&r(i.key)&&o(t)&&(i.key="__vlist"+t+"_"+n+"__"),u.push(i)));return u}function gt(e,t){if(e){for(var n=Object.create(null),i=ce?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){for(var a=e[o].from,s=t;s;){if(s._provided&&w(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[o]){var l=e[o].default;n[o]="function"==typeof l?l.call(t):l}else 0}}return n}}function vt(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var o=e[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(yt)&&delete n[c];return n}function yt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function bt(e){return e.isComment&&e.asyncFactory}function wt(e,t,n){var r,o=Object.keys(t).length>0,a=e?!!e.$stable:!o,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&n&&n!==i&&s===n.$key&&!o&&!n.$hasNormal)return n;for(var l in r={},e)e[l]&&"$"!==l[0]&&(r[l]=_t(t,l,e[l]))}else r={};for(var c in t)c in r||(r[c]=xt(t,c));return e&&Object.isExtensible(e)&&(e._normalized=r),H(r,"$stable",a),H(r,"$key",s),H(r,"$hasNormal",o),r}function _t(e,t,n){var i=function(){var e=arguments.length?n.apply(null,arguments):n({}),t=(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:pt(e))&&e[0];return e&&(!t||1===e.length&&t.isComment&&!bt(t))?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function xt(e,t){return function(){return e[t]}}function Tt(e,t){var n,i,r,a,s;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),i=0,r=e.length;i<r;i++)n[i]=t(e[i],i);else if("number"==typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(l(e))if(ce&&e[Symbol.iterator]){n=[];for(var c=e[Symbol.iterator](),u=c.next();!u.done;)n.push(t(u.value,n.length)),u=c.next()}else for(a=Object.keys(e),n=new Array(a.length),i=0,r=a.length;i<r;i++)s=a[i],n[i]=t(e[s],s,i);return o(n)||(n=[]),n._isVList=!0,n}function St(e,t,n,i){var r,o=this.$scopedSlots[e];o?(n=n||{},i&&(n=k(k({},i),n)),r=o(n)||("function"==typeof t?t():t)):r=this.$slots[e]||("function"==typeof t?t():t);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function Et(e){return Be(this.$options,"filters",e)||$}function Mt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function At(e,t,n,i,r){var o=U.keyCodes[t]||n;return r&&i&&!U.keyCodes[t]?Mt(r,i):o?Mt(o,e):i?M(i)!==t:void 0===e}function Ct(e,t,n,i,r){if(n)if(l(n)){var o;Array.isArray(n)&&(n=P(n));var a=function(a){if("class"===a||"style"===a||v(a))o=e;else{var s=e.attrs&&e.attrs.type;o=i||U.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=T(a),c=M(a);l in o||c in o||(o[a]=n[a],r&&((e.on||(e.on={}))["update:"+a]=function(e){n[a]=e}))};for(var s in n)a(s)}else;return e}function kt(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t||Dt(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),i}function Pt(e,t,n){return Dt(e,"__once__"+t+(n?"_"+n:""),!0),e}function Dt(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&Rt(e[i],t+"_"+i,n);else Rt(e,t,n)}function Rt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function $t(e,t){if(t)if(u(t)){var n=e.on=e.on?k({},e.on):{};for(var i in t){var r=n[i],o=t[i];n[i]=r?[].concat(r,o):o}}else;return e}function It(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?It(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return i&&(t.$key=i),t}function Lt(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i&&(e[t[n]]=t[n+1])}return e}function Ot(e,t){return"string"==typeof e?t+e:e}function Nt(e){e._o=Pt,e._n=m,e._s=f,e._l=Tt,e._t=St,e._q=I,e._i=L,e._m=kt,e._f=Et,e._k=At,e._b=Ct,e._v=be,e._e=ye,e._u=It,e._g=$t,e._d=Lt,e._p=Ot}function Ft(e,t,n,r,o){var s,l=this,c=o.options;w(r,"_uid")?(s=Object.create(r))._original=r:(s=r,r=r._original);var u=a(c._compiled),d=!u;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||i,this.injections=gt(c.inject,r),this.slots=function(){return l.$slots||wt(e.scopedSlots,l.$slots=vt(n,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return wt(e.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=wt(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,i){var o=Wt(s,e,t,n,i,d);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=r),o}:this._c=function(e,t,n,i){return Wt(s,e,t,n,i,d)}}function Bt(e,t,n,i,r){var o=we(e);return o.fnContext=n,o.fnOptions=i,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Ut(e,t){for(var n in t)e[T(n)]=t[n]}Nt(Ft.prototype);var zt={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;zt.prepatch(n,n)}else{(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;o(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns);return new e.componentOptions.Ctor(n)}(e,tn)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,r,o){0;var a=r.data.scopedSlots,s=e.$scopedSlots,l=!!(a&&!a.$stable||s!==i&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key||!a&&e.$scopedSlots.$key),c=!!(o||e.$options._renderChildren||l);e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r);if(e.$options._renderChildren=o,e.$attrs=r.data.attrs||i,e.$listeners=n||i,t&&e.$options.props){Ee(!1);for(var u=e._props,d=e.$options._propKeys||[],h=0;h<d.length;h++){var p=d[h],f=e.$options.props;u[p]=Ue(p,f,t,e)}Ee(!0),e.$options.propsData=t}n=n||i;var m=e.$options._parentListeners;e.$options._parentListeners=n,en(e,n,m),c&&(e.$slots=vt(o,r.context),e.$forceUpdate());0}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,sn(i,"mounted")),e.data.keepAlive&&(n._isMounted?((t=i)._inactive=!1,cn.push(t)):on(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?an(t,!0):t.$destroy())}},Vt=Object.keys(zt);function Ht(e,t,n,s,c){if(!r(e)){var u=n.$options._base;if(l(e)&&(e=u.extend(e)),"function"==typeof e){var d;if(r(e.cid)&&(e=function(e,t){if(a(e.error)&&o(e.errorComp))return e.errorComp;if(o(e.resolved))return e.resolved;var n=Zt;n&&o(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n);if(a(e.loading)&&o(e.loadingComp))return e.loadingComp;if(n&&!o(e.owners)){var i=e.owners=[n],s=!0,c=null,u=null;n.$on("hook:destroyed",(function(){return y(i,n)}));var d=function(e){for(var t=0,n=i.length;t<n;t++)i[t].$forceUpdate();e&&(i.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},h=O((function(n){e.resolved=Xt(n,t),s?i.length=0:d(!0)})),f=O((function(t){o(e.errorComp)&&(e.error=!0,d(!0))})),m=e(h,f);return l(m)&&(p(m)?r(e.resolved)&&m.then(h,f):p(m.component)&&(m.component.then(h,f),o(m.error)&&(e.errorComp=Xt(m.error,t)),o(m.loading)&&(e.loadingComp=Xt(m.loading,t),0===m.delay?e.loading=!0:c=setTimeout((function(){c=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,d(!1))}),m.delay||200)),o(m.timeout)&&(u=setTimeout((function(){u=null,r(e.resolved)&&f(null)}),m.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}(d=e,u),void 0===e))return function(e,t,n,i,r){var o=ye();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:r},o}(d,t,n,s,c);t=t||{},kn(e),o(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var r=t.on||(t.on={}),a=r[i],s=t.model.callback;o(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(r[i]=[s].concat(a)):r[i]=s}(e.options,t);var h=function(e,t,n){var i=t.options.props;if(!r(i)){var a={},s=e.attrs,l=e.props;if(o(s)||o(l))for(var c in i){var u=M(c);ht(a,l,c,u,!0)||ht(a,s,c,u,!1)}return a}}(t,e);if(a(e.options.functional))return function(e,t,n,r,a){var s=e.options,l={},c=s.props;if(o(c))for(var u in c)l[u]=Ue(u,c,t||i);else o(n.attrs)&&Ut(l,n.attrs),o(n.props)&&Ut(l,n.props);var d=new Ft(n,l,a,r,e),h=s.render.call(null,d._c,d);if(h instanceof ge)return Bt(h,n,d.parent,s);if(Array.isArray(h)){for(var p=pt(h)||[],f=new Array(p.length),m=0;m<p.length;m++)f[m]=Bt(p[m],n,d.parent,s);return f}}(e,h,t,n,s);var f=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var m=t.slot;t={},m&&(t.slot=m)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<Vt.length;n++){var i=Vt[n],r=t[i],o=zt[i];r===o||r&&r._merged||(t[i]=r?jt(o,r):o)}}(t);var g=e.options.name||c;return new ge("vue-component-"+e.cid+(g?"-"+g:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:h,listeners:f,tag:c,children:s},d)}}}function jt(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}function Wt(e,t,n,i,r,c){return(Array.isArray(n)||s(n))&&(r=i,i=n,n=void 0),a(c)&&(r=2),function(e,t,n,i,r){if(o(n)&&o(n.__ob__))return ye();o(n)&&o(n.is)&&(t=n.is);if(!t)return ye();0;Array.isArray(i)&&"function"==typeof i[0]&&((n=n||{}).scopedSlots={default:i[0]},i.length=0);2===r?i=pt(i):1===r&&(i=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(i));var a,s;if("string"==typeof t){var c;s=e.$vnode&&e.$vnode.ns||U.getTagNamespace(t),a=U.isReservedTag(t)?new ge(U.parsePlatformTagName(t),n,i,void 0,void 0,e):n&&n.pre||!o(c=Be(e.$options,"components",t))?new ge(t,n,i,void 0,void 0,e):Ht(c,n,e,i,t)}else a=Ht(t,n,e,i);return Array.isArray(a)?a:o(a)?(o(s)&&Gt(a,s),o(n)&&function(e){l(e.style)&&at(e.style);l(e.class)&&at(e.class)}(n),a):ye()}(e,t,n,i,r)}function Gt(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),o(e.children))for(var i=0,s=e.children.length;i<s;i++){var l=e.children[i];o(l.tag)&&(r(l.ns)||a(n)&&"svg"!==l.tag)&&Gt(l,t,n)}}var qt,Zt=null;function Xt(e,t){return(e.__esModule||ce&&"Module"===e[Symbol.toStringTag])&&(e=e.default),l(e)?t.extend(e):e}function Yt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(o(n)&&(o(n.componentOptions)||bt(n)))return n}}function Kt(e,t){qt.$on(e,t)}function Jt(e,t){qt.$off(e,t)}function Qt(e,t){var n=qt;return function i(){var r=t.apply(null,arguments);null!==r&&n.$off(e,i)}}function en(e,t,n){qt=e,ut(t,n||{},Kt,Jt,Qt,e),qt=void 0}var tn=null;function nn(e){var t=tn;return tn=e,function(){tn=t}}function rn(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function on(e,t){if(t){if(e._directInactive=!1,rn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)on(e.$children[n]);sn(e,"activated")}}function an(e,t){if(!(t&&(e._directInactive=!0,rn(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)an(e.$children[n]);sn(e,"deactivated")}}function sn(e,t){fe();var n=e.$options[t],i=t+" hook";if(n)for(var r=0,o=n.length;r<o;r++)Ge(n[r],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),me()}var ln=[],cn=[],un={},dn=!1,hn=!1,pn=0;var fn=0,mn=Date.now;if(q&&!K){var gn=window.performance;gn&&"function"==typeof gn.now&&mn()>document.createEvent("Event").timeStamp&&(mn=function(){return gn.now()})}function vn(){var e,t;for(fn=mn(),hn=!0,ln.sort((function(e,t){return e.id-t.id})),pn=0;pn<ln.length;pn++)(e=ln[pn]).before&&e.before(),t=e.id,un[t]=null,e.run();var n=cn.slice(),i=ln.slice();pn=ln.length=cn.length=0,un={},dn=hn=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,on(e[t],!0)}(n),function(e){var t=e.length;for(;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&sn(i,"updated")}}(i),ae&&U.devtools&&ae.emit("flush")}var yn=0,bn=function(e,t,n,i,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++yn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new le,this.newDepIds=new le,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!j.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()};bn.prototype.get=function(){var e;fe(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;We(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&at(e),me(),this.cleanupDeps()}return e},bn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},bn.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},bn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==un[t]){if(un[t]=!0,hn){for(var n=ln.length-1;n>pn&&ln[n].id>e.id;)n--;ln.splice(n+1,0,e)}else ln.push(e);dn||(dn=!0,rt(vn))}}(this)},bn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||l(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'+this.expression+'"';Ge(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},bn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},bn.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},bn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var wn={enumerable:!0,configurable:!0,get:D,set:D};function _n(e,t,n){wn.get=function(){return this[t][n]},wn.set=function(e){this[t][n]=e},Object.defineProperty(e,n,wn)}function xn(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[];e.$parent&&Ee(!1);var o=function(o){r.push(o);var a=Ue(o,t,n,e);Ce(i,o,a),o in e||_n(e,"_props",o)};for(var a in t)o(a);Ee(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var n in t)e[n]="function"!=typeof t[n]?D:A(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;u(t=e._data="function"==typeof t?function(e,t){fe();try{return e.call(t,t)}catch(e){return We(e,t,"data()"),{}}finally{me()}}(t,e):t||{})||(t={});var n=Object.keys(t),i=e.$options.props,r=(e.$options.methods,n.length);for(;r--;){var o=n[r];0,i&&w(i,o)||V(o)||_n(e,"_data",o)}Ae(t,!0)}(e):Ae(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),i=oe();for(var r in t){var o=t[r],a="function"==typeof o?o:o.get;0,i||(n[r]=new bn(e,a||D,D,Tn)),r in e||Sn(e,r,o)}}(e,t.computed),t.watch&&t.watch!==ne&&function(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)An(e,n,i[r]);else An(e,n,i)}}(e,t.watch)}var Tn={lazy:!0};function Sn(e,t,n){var i=!oe();"function"==typeof n?(wn.get=i?En(t):Mn(n),wn.set=D):(wn.get=n.get?i&&!1!==n.cache?En(t):Mn(n.get):D,wn.set=n.set||D),Object.defineProperty(e,t,wn)}function En(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),he.target&&t.depend(),t.value}}function Mn(e){return function(){return e.call(this,this)}}function An(e,t,n,i){return u(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}var Cn=0;function kn(e){var t=e.options;if(e.super){var n=kn(e.super);if(n!==e.superOptions){e.superOptions=n;var i=function(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}(e);i&&k(e.extendOptions,i),(t=e.options=Fe(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Pn(e){this._init(e)}function Dn(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name;var a=function(e){this._init(e)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=t++,a.options=Fe(n.options,e),a.super=n,a.options.props&&function(e){var t=e.options.props;for(var n in t)_n(e.prototype,"_props",n)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var n in t)Sn(e.prototype,n,t[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,F.forEach((function(e){a[e]=n[e]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=k({},a.options),r[i]=a,a}}function Rn(e){return e&&(e.Ctor.options.name||e.tag)}function $n(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function In(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var o in n){var a=n[o];if(a){var s=a.name;s&&!t(s)&&Ln(n,o,i,r)}}}function Ln(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,y(n,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=Cn++,t._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=Fe(kn(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&en(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=vt(t._renderChildren,r),e.$scopedSlots=i,e._c=function(t,n,i,r){return Wt(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return Wt(e,t,n,i,r,!0)};var o=n&&n.data;Ce(e,"$attrs",o&&o.attrs||i,null,!0),Ce(e,"$listeners",t._parentListeners||i,null,!0)}(t),sn(t,"beforeCreate"),function(e){var t=gt(e.$options.inject,e);t&&(Ee(!1),Object.keys(t).forEach((function(n){Ce(e,n,t[n])})),Ee(!0))}(t),xn(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),sn(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(Pn),function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=ke,e.prototype.$delete=Pe,e.prototype.$watch=function(e,t,n){var i=this;if(u(t))return An(i,e,t,n);(n=n||{}).user=!0;var r=new bn(i,e,t,n);if(n.immediate){var o='callback for immediate watcher "'+r.expression+'"';fe(),Ge(t,i,[r.value],i,o),me()}return function(){r.teardown()}}}(Pn),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var o,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;for(var s=a.length;s--;)if((o=a[s])===t||o.fn===t){a.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?C(n):n;for(var i=C(arguments,1),r='event handler for "'+e+'"',o=0,a=n.length;o<a;o++)Ge(n[o],t,i,t,r)}return t}}(Pn),function(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,o=nn(n);n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){sn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),sn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Pn),function(e){Nt(e.prototype),e.prototype.$nextTick=function(e){return rt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,i=n.render,r=n._parentVnode;r&&(t.$scopedSlots=wt(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{Zt=t,e=i.call(t._renderProxy,t.$createElement)}catch(n){We(n,t,"render"),e=t._vnode}finally{Zt=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ge||(e=ye()),e.parent=r,e}}(Pn);var On=[String,RegExp,Array],Nn={name:"keep-alive",abstract:!0,props:{include:On,exclude:On,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,i=e.vnodeToCache,r=e.keyToCache;if(i){var o=i.tag,a=i.componentInstance,s=i.componentOptions;t[r]={name:Rn(s),tag:o,componentInstance:a},n.push(r),this.max&&n.length>parseInt(this.max)&&Ln(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Ln(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){In(e,(function(e){return $n(t,e)}))})),this.$watch("exclude",(function(t){In(e,(function(e){return!$n(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Yt(e),n=t&&t.componentOptions;if(n){var i=Rn(n),r=this.include,o=this.exclude;if(r&&(!i||!$n(r,i))||o&&i&&$n(o,i))return t;var a=this.cache,s=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;a[l]?(t.componentInstance=a[l].componentInstance,y(s,l),s.push(l)):(this.vnodeToCache=t,this.keyToCache=l),t.data.keepAlive=!0}return t||e&&e[0]}},Fn={KeepAlive:Nn};!function(e){var t={get:function(){return U}};Object.defineProperty(e,"config",t),e.util={warn:ue,extend:k,mergeOptions:Fe,defineReactive:Ce},e.set=ke,e.delete=Pe,e.nextTick=rt,e.observable=function(e){return Ae(e),e},e.options=Object.create(null),F.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,k(e.options.components,Fn),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=C(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Fe(this.options,e),this}}(e),Dn(e),function(e){F.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&u(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}(e)}(Pn),Object.defineProperty(Pn.prototype,"$isServer",{get:oe}),Object.defineProperty(Pn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Pn,"FunctionalRenderContext",{value:Ft}),Pn.version="2.6.14";var Bn=g("style,class"),Un=g("input,textarea,option,select,progress"),zn=g("contenteditable,draggable,spellcheck"),Vn=g("events,caret,typing,plaintext-only"),Hn=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),jn="http://www.w3.org/1999/xlink",Wn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Gn=function(e){return Wn(e)?e.slice(6,e.length):""},qn=function(e){return null==e||!1===e};function Zn(e){for(var t=e.data,n=e,i=e;o(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=Xn(i.data,t));for(;o(n=n.parent);)n&&n.data&&(t=Xn(t,n.data));return function(e,t){if(o(e)||o(t))return Yn(e,Kn(t));return""}(t.staticClass,t.class)}function Xn(e,t){return{staticClass:Yn(e.staticClass,t.staticClass),class:o(e.class)?[e.class,t.class]:t.class}}function Yn(e,t){return e?t?e+" "+t:e:t||""}function Kn(e){return Array.isArray(e)?function(e){for(var t,n="",i=0,r=e.length;i<r;i++)o(t=Kn(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):l(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var Jn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Qn=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ei=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ti=function(e){return Qn(e)||ei(e)};var ni=Object.create(null);var ii=g("text,number,password,search,email,tel,url");var ri=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(Jn[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),oi={create:function(e,t){ai(t)},update:function(e,t){e.data.ref!==t.data.ref&&(ai(e,!0),ai(t))},destroy:function(e){ai(e,!0)}};function ai(e,t){var n=e.data.ref;if(o(n)){var i=e.context,r=e.componentInstance||e.elm,a=i.$refs;t?Array.isArray(a[n])?y(a[n],r):a[n]===r&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(r)<0&&a[n].push(r):a[n]=[r]:a[n]=r}}var si=new ge("",{},[]),li=["create","activate","update","remove","destroy"];function ci(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&o(e.data)===o(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,i=o(n=e.data)&&o(n=n.attrs)&&n.type,r=o(n=t.data)&&o(n=n.attrs)&&n.type;return i===r||ii(i)&&ii(r)}(e,t)||a(e.isAsyncPlaceholder)&&r(t.asyncFactory.error))}function ui(e,t,n){var i,r,a={};for(i=t;i<=n;++i)o(r=e[i].key)&&(a[r]=i);return a}var di={create:hi,update:hi,destroy:function(e){hi(e,si)}};function hi(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,i,r,o=e===si,a=t===si,s=fi(e.data.directives,e.context),l=fi(t.data.directives,t.context),c=[],u=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,gi(r,"update",t,e),r.def&&r.def.componentUpdated&&u.push(r)):(gi(r,"bind",t,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var d=function(){for(var n=0;n<c.length;n++)gi(c[n],"inserted",t,e)};o?dt(t,"insert",d):d()}u.length&&dt(t,"postpatch",(function(){for(var n=0;n<u.length;n++)gi(u[n],"componentUpdated",t,e)}));if(!o)for(n in s)l[n]||gi(s[n],"unbind",e,e,a)}(e,t)}var pi=Object.create(null);function fi(e,t){var n,i,r=Object.create(null);if(!e)return r;for(n=0;n<e.length;n++)(i=e[n]).modifiers||(i.modifiers=pi),r[mi(i)]=i,i.def=Be(t.$options,"directives",i.name);return r}function mi(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function gi(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(i){We(i,n.context,"directive "+e.name+" "+t+" hook")}}var vi=[oi,di];function yi(e,t){var n=t.componentOptions;if(!(o(n)&&!1===n.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var i,a,s=t.elm,l=e.data.attrs||{},c=t.data.attrs||{};for(i in o(c.__ob__)&&(c=t.data.attrs=k({},c)),c)a=c[i],l[i]!==a&&bi(s,i,a,t.data.pre);for(i in(K||Q)&&c.value!==l.value&&bi(s,"value",c.value),l)r(c[i])&&(Wn(i)?s.removeAttributeNS(jn,Gn(i)):zn(i)||s.removeAttribute(i))}}function bi(e,t,n,i){i||e.tagName.indexOf("-")>-1?wi(e,t,n):Hn(t)?qn(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):zn(t)?e.setAttribute(t,function(e,t){return qn(t)||"false"===t?"false":"contenteditable"===e&&Vn(t)?t:"true"}(t,n)):Wn(t)?qn(n)?e.removeAttributeNS(jn,Gn(t)):e.setAttributeNS(jn,t,n):wi(e,t,n)}function wi(e,t,n){if(qn(n))e.removeAttribute(t);else{if(K&&!J&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}var _i={create:yi,update:yi};function xi(e,t){var n=t.elm,i=t.data,a=e.data;if(!(r(i.staticClass)&&r(i.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=Zn(t),l=n._transitionClasses;o(l)&&(s=Yn(s,Kn(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Ti,Si={create:xi,update:xi};function Ei(e,t,n){var i=Ti;return function r(){var o=t.apply(null,arguments);null!==o&&Ci(e,r,n,i)}}var Mi=Ye&&!(te&&Number(te[1])<=53);function Ai(e,t,n,i){if(Mi){var r=fn,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Ti.addEventListener(e,t,ie?{capture:n,passive:i}:n)}function Ci(e,t,n,i){(i||Ti).removeEventListener(e,t._wrapper||t,n)}function ki(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};Ti=t.elm,function(e){if(o(e.__r)){var t=K?"change":"input";e[t]=[].concat(e.__r,e[t]||[]),delete e.__r}o(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(n),ut(n,i,Ai,Ci,Ei,t.context),Ti=void 0}}var Pi,Di={create:ki,update:ki};function Ri(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,i,a=t.elm,s=e.data.domProps||{},l=t.data.domProps||{};for(n in o(l.__ob__)&&(l=t.data.domProps=k({},l)),s)n in l||(a[n]="");for(n in l){if(i=l[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=i;var c=r(i)?"":String(i);$i(a,c)&&(a.value=c)}else if("innerHTML"===n&&ei(a.tagName)&&r(a.innerHTML)){(Pi=Pi||document.createElement("div")).innerHTML="<svg>"+i+"</svg>";for(var u=Pi.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}else if(i!==s[n])try{a[n]=i}catch(e){}}}}function $i(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,i=e._vModifiers;if(o(i)){if(i.number)return m(n)!==m(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var Ii={create:Ri,update:Ri},Li=_((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function Oi(e){var t=Ni(e.style);return e.staticStyle?k(e.staticStyle,t):t}function Ni(e){return Array.isArray(e)?P(e):"string"==typeof e?Li(e):e}var Fi,Bi=/^--/,Ui=/\s*!important$/,zi=function(e,t,n){if(Bi.test(t))e.style.setProperty(t,n);else if(Ui.test(n))e.style.setProperty(M(t),n.replace(Ui,""),"important");else{var i=Hi(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},Vi=["Webkit","Moz","ms"],Hi=_((function(e){if(Fi=Fi||document.createElement("div").style,"filter"!==(e=T(e))&&e in Fi)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Vi.length;n++){var i=Vi[n]+t;if(i in Fi)return i}}));function ji(e,t){var n=t.data,i=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var a,s,l=t.elm,c=i.staticStyle,u=i.normalizedStyle||i.style||{},d=c||u,h=Ni(t.data.style)||{};t.data.normalizedStyle=o(h.__ob__)?k({},h):h;var p=function(e,t){var n,i={};if(t)for(var r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=Oi(r.data))&&k(i,n);(n=Oi(e.data))&&k(i,n);for(var o=e;o=o.parent;)o.data&&(n=Oi(o.data))&&k(i,n);return i}(t,!0);for(s in d)r(p[s])&&zi(l,s,"");for(s in p)(a=p[s])!==d[s]&&zi(l,s,null==a?"":a)}}var Wi={create:ji,update:ji},Gi=/\s+/;function qi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Gi).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Zi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Gi).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Xi(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&k(t,Yi(e.name||"v")),k(t,e),t}return"string"==typeof e?Yi(e):void 0}}var Yi=_((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Ki=q&&!J,Ji="transition",Qi="animation",er="transition",tr="transitionend",nr="animation",ir="animationend";Ki&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(er="WebkitTransition",tr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(nr="WebkitAnimation",ir="webkitAnimationEnd"));var rr=q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function or(e){rr((function(){rr(e)}))}function ar(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),qi(e,t))}function sr(e,t){e._transitionClasses&&y(e._transitionClasses,t),Zi(e,t)}function lr(e,t,n){var i=ur(e,t),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===Ji?tr:ir,l=0,c=function(){e.removeEventListener(s,u),n()},u=function(t){t.target===e&&++l>=a&&c()};setTimeout((function(){l<a&&c()}),o+1),e.addEventListener(s,u)}var cr=/\b(transform|all)(,|$)/;function ur(e,t){var n,i=window.getComputedStyle(e),r=(i[er+"Delay"]||"").split(", "),o=(i[er+"Duration"]||"").split(", "),a=dr(r,o),s=(i[nr+"Delay"]||"").split(", "),l=(i[nr+"Duration"]||"").split(", "),c=dr(s,l),u=0,d=0;return t===Ji?a>0&&(n=Ji,u=a,d=o.length):t===Qi?c>0&&(n=Qi,u=c,d=l.length):d=(n=(u=Math.max(a,c))>0?a>c?Ji:Qi:null)?n===Ji?o.length:l.length:0,{type:n,timeout:u,propCount:d,hasTransform:n===Ji&&cr.test(i[er+"Property"])}}function dr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return hr(t)+hr(e[n])})))}function hr(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function pr(e,t){var n=e.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Xi(e.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){for(var a=i.css,s=i.type,c=i.enterClass,u=i.enterToClass,d=i.enterActiveClass,h=i.appearClass,p=i.appearToClass,f=i.appearActiveClass,g=i.beforeEnter,v=i.enter,y=i.afterEnter,b=i.enterCancelled,w=i.beforeAppear,_=i.appear,x=i.afterAppear,T=i.appearCancelled,S=i.duration,E=tn,M=tn.$vnode;M&&M.parent;)E=M.context,M=M.parent;var A=!E._isMounted||!e.isRootInsert;if(!A||_||""===_){var C=A&&h?h:c,k=A&&f?f:d,P=A&&p?p:u,D=A&&w||g,R=A&&"function"==typeof _?_:v,$=A&&x||y,I=A&&T||b,L=m(l(S)?S.enter:S);0;var N=!1!==a&&!J,F=gr(R),B=n._enterCb=O((function(){N&&(sr(n,P),sr(n,k)),B.cancelled?(N&&sr(n,C),I&&I(n)):$&&$(n),n._enterCb=null}));e.data.show||dt(e,"insert",(function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),R&&R(n,B)})),D&&D(n),N&&(ar(n,C),ar(n,k),or((function(){sr(n,C),B.cancelled||(ar(n,P),F||(mr(L)?setTimeout(B,L):lr(n,s,B)))}))),e.data.show&&(t&&t(),R&&R(n,B)),N||F||B()}}}function fr(e,t){var n=e.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Xi(e.data.transition);if(r(i)||1!==n.nodeType)return t();if(!o(n._leaveCb)){var a=i.css,s=i.type,c=i.leaveClass,u=i.leaveToClass,d=i.leaveActiveClass,h=i.beforeLeave,p=i.leave,f=i.afterLeave,g=i.leaveCancelled,v=i.delayLeave,y=i.duration,b=!1!==a&&!J,w=gr(p),_=m(l(y)?y.leave:y);0;var x=n._leaveCb=O((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),b&&(sr(n,u),sr(n,d)),x.cancelled?(b&&sr(n,c),g&&g(n)):(t(),f&&f(n)),n._leaveCb=null}));v?v(T):T()}function T(){x.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),h&&h(n),b&&(ar(n,c),ar(n,d),or((function(){sr(n,c),x.cancelled||(ar(n,u),w||(mr(_)?setTimeout(x,_):lr(n,s,x)))}))),p&&p(n,x),b||w||x())}}function mr(e){return"number"==typeof e&&!isNaN(e)}function gr(e){if(r(e))return!1;var t=e.fns;return o(t)?gr(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function vr(e,t){!0!==t.data.show&&pr(t)}var yr=function(e){var t,n,i={},l=e.modules,c=e.nodeOps;for(t=0;t<li.length;++t)for(i[li[t]]=[],n=0;n<l.length;++n)o(l[n][li[t]])&&i[li[t]].push(l[n][li[t]]);function u(e){var t=c.parentNode(e);o(t)&&c.removeChild(t,e)}function d(e,t,n,r,s,l,u){if(o(e.elm)&&o(l)&&(e=l[u]=we(e)),e.isRootInsert=!s,!function(e,t,n,r){var s=e.data;if(o(s)){var l=o(e.componentInstance)&&s.keepAlive;if(o(s=s.hook)&&o(s=s.init)&&s(e,!1),o(e.componentInstance))return h(e,t),p(n,e.elm,r),a(l)&&function(e,t,n,r){var a,s=e;for(;s.componentInstance;)if(o(a=(s=s.componentInstance._vnode).data)&&o(a=a.transition)){for(a=0;a<i.activate.length;++a)i.activate[a](si,s);t.push(s);break}p(n,e.elm,r)}(e,t,n,r),!0}}(e,t,n,r)){var d=e.data,m=e.children,g=e.tag;o(g)?(e.elm=e.ns?c.createElementNS(e.ns,g):c.createElement(g,e),y(e),f(e,m,t),o(d)&&v(e,t),p(n,e.elm,r)):a(e.isComment)?(e.elm=c.createComment(e.text),p(n,e.elm,r)):(e.elm=c.createTextNode(e.text),p(n,e.elm,r))}}function h(e,t){o(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(v(e,t),y(e)):(ai(e),t.push(e))}function p(e,t,n){o(e)&&(o(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function f(e,t,n){if(Array.isArray(t)){0;for(var i=0;i<t.length;++i)d(t[i],n,e.elm,null,!0,t,i)}else s(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function m(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return o(e.tag)}function v(e,n){for(var r=0;r<i.create.length;++r)i.create[r](si,e);o(t=e.data.hook)&&(o(t.create)&&t.create(si,e),o(t.insert)&&n.push(e))}function y(e){var t;if(o(t=e.fnScopeId))c.setStyleScope(e.elm,t);else for(var n=e;n;)o(t=n.context)&&o(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent;o(t=tn)&&t!==e.context&&t!==e.fnContext&&o(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function b(e,t,n,i,r,o){for(;i<=r;++i)d(n[i],o,e,t,!1,n,i)}function w(e){var t,n,r=e.data;if(o(r))for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<i.destroy.length;++t)i.destroy[t](e);if(o(t=e.children))for(n=0;n<e.children.length;++n)w(e.children[n])}function _(e,t,n){for(;t<=n;++t){var i=e[t];o(i)&&(o(i.tag)?(x(i),w(i)):u(i.elm))}}function x(e,t){if(o(t)||o(e.data)){var n,r=i.remove.length+1;for(o(t)?t.listeners+=r:t=function(e,t){function n(){0==--n.listeners&&u(e)}return n.listeners=t,n}(e.elm,r),o(n=e.componentInstance)&&o(n=n._vnode)&&o(n.data)&&x(n,t),n=0;n<i.remove.length;++n)i.remove[n](e,t);o(n=e.data.hook)&&o(n=n.remove)?n(e,t):t()}else u(e.elm)}function T(e,t,n,i){for(var r=n;r<i;r++){var a=t[r];if(o(a)&&ci(e,a))return r}}function S(e,t,n,s,l,u){if(e!==t){o(t.elm)&&o(s)&&(t=s[l]=we(t));var h=t.elm=e.elm;if(a(e.isAsyncPlaceholder))o(t.asyncFactory.resolved)?A(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,f=t.data;o(f)&&o(p=f.hook)&&o(p=p.prepatch)&&p(e,t);var g=e.children,v=t.children;if(o(f)&&m(t)){for(p=0;p<i.update.length;++p)i.update[p](e,t);o(p=f.hook)&&o(p=p.update)&&p(e,t)}r(t.text)?o(g)&&o(v)?g!==v&&function(e,t,n,i,a){var s,l,u,h=0,p=0,f=t.length-1,m=t[0],g=t[f],v=n.length-1,y=n[0],w=n[v],x=!a;for(;h<=f&&p<=v;)r(m)?m=t[++h]:r(g)?g=t[--f]:ci(m,y)?(S(m,y,i,n,p),m=t[++h],y=n[++p]):ci(g,w)?(S(g,w,i,n,v),g=t[--f],w=n[--v]):ci(m,w)?(S(m,w,i,n,v),x&&c.insertBefore(e,m.elm,c.nextSibling(g.elm)),m=t[++h],w=n[--v]):ci(g,y)?(S(g,y,i,n,p),x&&c.insertBefore(e,g.elm,m.elm),g=t[--f],y=n[++p]):(r(s)&&(s=ui(t,h,f)),r(l=o(y.key)?s[y.key]:T(y,t,h,f))?d(y,i,e,m.elm,!1,n,p):ci(u=t[l],y)?(S(u,y,i,n,p),t[l]=void 0,x&&c.insertBefore(e,u.elm,m.elm)):d(y,i,e,m.elm,!1,n,p),y=n[++p]);h>f?b(e,r(n[v+1])?null:n[v+1].elm,n,p,v,i):p>v&&_(t,h,f)}(h,g,v,n,u):o(v)?(o(e.text)&&c.setTextContent(h,""),b(h,null,v,0,v.length-1,n)):o(g)?_(g,0,g.length-1):o(e.text)&&c.setTextContent(h,""):e.text!==t.text&&c.setTextContent(h,t.text),o(f)&&o(p=f.hook)&&o(p=p.postpatch)&&p(e,t)}}}function E(e,t,n){if(a(n)&&o(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}var M=g("attrs,class,staticClass,staticStyle,key");function A(e,t,n,i){var r,s=t.tag,l=t.data,c=t.children;if(i=i||l&&l.pre,t.elm=e,a(t.isComment)&&o(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(r=l.hook)&&o(r=r.init)&&r(t,!0),o(r=t.componentInstance)))return h(t,n),!0;if(o(s)){if(o(c))if(e.hasChildNodes())if(o(r=l)&&o(r=r.domProps)&&o(r=r.innerHTML)){if(r!==e.innerHTML)return!1}else{for(var u=!0,d=e.firstChild,p=0;p<c.length;p++){if(!d||!A(d,c[p],n,i)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else f(t,c,n);if(o(l)){var m=!1;for(var g in l)if(!M(g)){m=!0,v(t,n);break}!m&&l.class&&at(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,s){if(!r(t)){var l,u=!1,h=[];if(r(e))u=!0,d(t,h);else{var p=o(e.nodeType);if(!p&&ci(e,t))S(e,t,h,null,null,s);else{if(p){if(1===e.nodeType&&e.hasAttribute(N)&&(e.removeAttribute(N),n=!0),a(n)&&A(e,t,h))return E(t,h,!0),e;l=e,e=new ge(c.tagName(l).toLowerCase(),{},[],void 0,l)}var f=e.elm,g=c.parentNode(f);if(d(t,h,f._leaveCb?null:g,c.nextSibling(f)),o(t.parent))for(var v=t.parent,y=m(t);v;){for(var b=0;b<i.destroy.length;++b)i.destroy[b](v);if(v.elm=t.elm,y){for(var x=0;x<i.create.length;++x)i.create[x](si,v);var T=v.data.hook.insert;if(T.merged)for(var M=1;M<T.fns.length;M++)T.fns[M]()}else ai(v);v=v.parent}o(g)?_([e],0,0):o(e.tag)&&w(e)}}return E(t,h,u),t.elm}o(e)&&w(e)}}({nodeOps:ri,modules:[_i,Si,Di,Ii,Wi,q?{create:vr,activate:vr,remove:function(e,t){!0!==e.data.show?fr(e,t):t()}}:{}].concat(vi)});J&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Mr(e,"input")}));var br={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?dt(n,"postpatch",(function(){br.componentUpdated(e,t,n)})):wr(e,t,n.context),e._vOptions=[].map.call(e.options,Tr)):("textarea"===n.tag||ii(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Sr),e.addEventListener("compositionend",Er),e.addEventListener("change",Er),J&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){wr(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,Tr);if(r.some((function(e,t){return!I(e,i[t])})))(e.multiple?t.value.some((function(e){return xr(e,r)})):t.value!==t.oldValue&&xr(t.value,r))&&Mr(e,"change")}}};function wr(e,t,n){_r(e,t,n),(K||Q)&&setTimeout((function(){_r(e,t,n)}),0)}function _r(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,l=e.options.length;s<l;s++)if(a=e.options[s],r)o=L(i,Tr(a))>-1,a.selected!==o&&(a.selected=o);else if(I(Tr(a),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function xr(e,t){return t.every((function(t){return!I(t,e)}))}function Tr(e){return"_value"in e?e._value:e.value}function Sr(e){e.target.composing=!0}function Er(e){e.target.composing&&(e.target.composing=!1,Mr(e.target,"input"))}function Mr(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Ar(e){return!e.componentInstance||e.data&&e.data.transition?e:Ar(e.componentInstance._vnode)}var Cr={bind:function(e,t,n){var i=t.value,r=(n=Ar(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,pr(n,(function(){e.style.display=o}))):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=Ar(n)).data&&n.data.transition?(n.data.show=!0,i?pr(n,(function(){e.style.display=e.__vOriginalDisplay})):fr(n,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}},kr={model:br,show:Cr},Pr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Dr(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Dr(Yt(t.children)):e}function Rr(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[T(o)]=r[o];return t}function $r(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var Ir=function(e){return e.tag||bt(e)},Lr=function(e){return"show"===e.name},Or={name:"transition",props:Pr,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(Ir)).length){0;var i=this.mode;0;var r=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var o=Dr(r);if(!o)return r;if(this._leaving)return $r(e,r);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var l=(o.data||(o.data={})).transition=Rr(this),c=this._vnode,u=Dr(c);if(o.data.directives&&o.data.directives.some(Lr)&&(o.data.show=!0),u&&u.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(o,u)&&!bt(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=k({},l);if("out-in"===i)return this._leaving=!0,dt(d,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),$r(e,r);if("in-out"===i){if(bt(o))return c;var h,p=function(){h()};dt(l,"afterEnter",p),dt(l,"enterCancelled",p),dt(d,"delayLeave",(function(e){h=e}))}}return r}}},Nr=k({tag:String,moveClass:String},Pr);function Fr(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Br(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ur(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}delete Nr.mode;var zr={Transition:Or,TransitionGroup:{props:Nr,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=nn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=Rr(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(i){for(var c=[],u=[],d=0;d<i.length;d++){var h=i[d];h.data.transition=a,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?c.push(h):u.push(h)}this.kept=e(t,null,c),this.removed=u}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Fr),e.forEach(Br),e.forEach(Ur),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,i=n.style;ar(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(tr,n._moveCb=function e(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(tr,e),n._moveCb=null,sr(n,t))})}})))},methods:{hasMove:function(e,t){if(!Ki)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Zi(n,e)})),qi(n,t),n.style.display="none",this.$el.appendChild(n);var i=ur(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};Pn.config.mustUseProp=function(e,t,n){return"value"===n&&Un(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Pn.config.isReservedTag=ti,Pn.config.isReservedAttr=Bn,Pn.config.getTagNamespace=function(e){return ei(e)?"svg":"math"===e?"math":void 0},Pn.config.isUnknownElement=function(e){if(!q)return!0;if(ti(e))return!1;if(e=e.toLowerCase(),null!=ni[e])return ni[e];var t=document.createElement(e);return e.indexOf("-")>-1?ni[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ni[e]=/HTMLUnknownElement/.test(t.toString())},k(Pn.options.directives,kr),k(Pn.options.components,zr),Pn.prototype.__patch__=q?yr:D,Pn.prototype.$mount=function(e,t){return function(e,t,n){var i;return e.$el=t,e.$options.render||(e.$options.render=ye),sn(e,"beforeMount"),i=function(){e._update(e._render(),n)},new bn(e,i,D,{before:function(){e._isMounted&&!e._isDestroyed&&sn(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,sn(e,"mounted")),e}(this,e=e&&q?function(e){if("string"==typeof e){return document.querySelector(e)||document.createElement("div")}return e}(e):void 0,t)},q&&setTimeout((function(){U.devtools&&ae&&ae.emit("init",Pn)}),0),t.default=Pn},15355:function(){var e,t,n;e=function(){return this}(),n={},function(e,t){function n(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=h}function i(){return e.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function r(t,i,r){var o=new n;return i&&(o.fill="both",o.duration="auto"),"number"!=typeof t||isNaN(t)?void 0!==t&&Object.getOwnPropertyNames(t).forEach((function(n){if("auto"!=t[n]){if(("number"==typeof o[n]||"duration"==n)&&("number"!=typeof t[n]||isNaN(t[n])))return;if("fill"==n&&-1==u.indexOf(t[n]))return;if("direction"==n&&-1==d.indexOf(t[n]))return;if("playbackRate"==n&&1!==t[n]&&e.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;o[n]=t[n]}})):o.duration=t,o}function o(e,t,n,i){return e<0||e>1||n<0||n>1?h:function(r){function o(e,t,n){return 3*e*(1-n)*(1-n)*n+3*t*(1-n)*n*n+n*n*n}if(r<=0){var a=0;return e>0?a=t/e:!t&&n>0&&(a=i/n),a*r}if(r>=1){var s=0;return n<1?s=(i-1)/(n-1):1==n&&e<1&&(s=(t-1)/(e-1)),1+s*(r-1)}for(var l=0,c=1;l<c;){var u=(l+c)/2,d=o(e,n,u);if(Math.abs(r-d)<1e-5)return o(t,i,u);d<r?l=u:c=u}return o(t,i,u)}}function a(e,t){return function(n){if(n>=1)return 1;var i=1/e;return(n+=t*i)-n%i}}function s(e){v||(v=document.createElement("div").style),v.animationTimingFunction="",v.animationTimingFunction=e;var t=v.animationTimingFunction;if(""==t&&i())throw new TypeError(e+" is not a valid value for easing");return t}function l(e){if("linear"==e)return h;var t=b.exec(e);if(t)return o.apply(this,t.slice(1).map(Number));var n=w.exec(e);return n?a(Number(n[1]),{start:p,middle:f,end:m}[n[2]]):g[e]||h}function c(e,t,n){if(null==t)return _;var i=n.delay+e+n.endDelay;return t<Math.min(n.delay,i)?x:t>=Math.min(n.delay+e,i)?T:S}var u="backwards|forwards|both|none".split("|"),d="reverse|alternate|alternate-reverse".split("|"),h=function(e){return e};n.prototype={_setMember:function(t,n){this["_"+t]=n,this._effect&&(this._effect._timingInput[t]=n,this._effect._timing=e.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=e.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(e){this._setMember("delay",e)},get delay(){return this._delay},set endDelay(e){this._setMember("endDelay",e)},get endDelay(){return this._endDelay},set fill(e){this._setMember("fill",e)},get fill(){return this._fill},set iterationStart(e){if((isNaN(e)||e<0)&&i())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",e)},get iterationStart(){return this._iterationStart},set duration(e){if("auto"!=e&&(isNaN(e)||e<0)&&i())throw new TypeError("duration must be non-negative or auto, received: "+e);this._setMember("duration",e)},get duration(){return this._duration},set direction(e){this._setMember("direction",e)},get direction(){return this._direction},set easing(e){this._easingFunction=l(s(e)),this._setMember("easing",e)},get easing(){return this._easing},set iterations(e){if((isNaN(e)||e<0)&&i())throw new TypeError("iterations must be non-negative, received: "+e);this._setMember("iterations",e)},get iterations(){return this._iterations}};var p=1,f=.5,m=0,g={ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"step-start":a(1,p),"step-middle":a(1,f),"step-end":a(1,m)},v=null,y="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",b=new RegExp("cubic-bezier\\("+y+","+y+","+y+","+y+"\\)"),w=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,_=0,x=1,T=2,S=3;e.cloneTimingInput=function(e){if("number"==typeof e)return e;var t={};for(var n in e)t[n]=e[n];return t},e.makeTiming=r,e.numericTimingToObject=function(e){return"number"==typeof e&&(e=isNaN(e)?{duration:0}:{duration:e}),e},e.normalizeTimingInput=function(t,n){return r(t=e.numericTimingToObject(t),n)},e.calculateActiveDuration=function(e){return Math.abs(function(e){return 0===e.duration||0===e.iterations?0:e.duration*e.iterations}(e)/e.playbackRate)},e.calculateIterationProgress=function(e,t,n){var i=c(e,t,n),r=function(e,t,n,i,r){switch(i){case x:return"backwards"==t||"both"==t?0:null;case S:return n-r;case T:return"forwards"==t||"both"==t?e:null;case _:return null}}(e,n.fill,t,i,n.delay);if(null===r)return null;var o=function(e,t,n,i,r){var o=r;return 0===e?t!==x&&(o+=n):o+=i/e,o}(n.duration,i,n.iterations,r,n.iterationStart),a=function(e,t,n,i,r,o){var a=e===1/0?t%1:e%1;return 0!==a||n!==T||0===i||0===r&&0!==o||(a=1),a}(o,n.iterationStart,i,n.iterations,r,n.duration),s=function(e,t,n,i){return e===T&&t===1/0?1/0:1===n?Math.floor(i)-1:Math.floor(i)}(i,n.iterations,a,o),l=function(e,t,n){var i=e;if("normal"!==e&&"reverse"!==e){var r=t;"alternate-reverse"===e&&(r+=1),i="normal",r!==1/0&&r%2!=0&&(i="reverse")}return"normal"===i?n:1-n}(n.direction,s,a);return n._easingFunction(l)},e.calculatePhase=c,e.normalizeEasing=s,e.parseEasingFunction=l}(t={}),function(e,t){function n(e,t){return e in l&&l[e][t]||t}function i(e,t,i){if(!function(e){return"display"===e||0===e.lastIndexOf("animation",0)||0===e.lastIndexOf("transition",0)}(e)){var r=o[e];if(r)for(var s in a.style[e]=t,r){var l=r[s],c=a.style[l];i[l]=n(l,c)}else i[e]=n(e,t)}}function r(e){var t=[];for(var n in e)if(!(n in["easing","offset","composite"])){var i=e[n];Array.isArray(i)||(i=[i]);for(var r,o=i.length,a=0;a<o;a++)(r={}).offset="offset"in e?e.offset:1==o?1:a/(o-1),"easing"in e&&(r.easing=e.easing),"composite"in e&&(r.composite=e.composite),r[n]=i[a],t.push(r)}return t.sort((function(e,t){return e.offset-t.offset})),t}var o={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},a=document.createElementNS("http://www.w3.org/1999/xhtml","div"),s={thin:"1px",medium:"3px",thick:"5px"},l={borderBottomWidth:s,borderLeftWidth:s,borderRightWidth:s,borderTopWidth:s,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:s,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};e.convertToArrayForm=r,e.normalizeKeyframes=function(t){if(null==t)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||(t=r(t));for(var n=t.map((function(t){var n={};for(var r in t){var o=t[r];if("offset"==r){if(null!=o){if(o=Number(o),!isFinite(o))throw new TypeError("Keyframe offsets must be numbers.");if(o<0||o>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==r){if("add"==o||"accumulate"==o)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=o)throw new TypeError("Invalid composite mode "+o+".")}else o="easing"==r?e.normalizeEasing(o):""+o;i(r,o,n)}return null==n.offset&&(n.offset=null),null==n.easing&&(n.easing="linear"),n})),o=!0,a=-1/0,s=0;s<n.length;s++){var l=n[s].offset;if(null!=l){if(l<a)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");a=l}else o=!1}return n=n.filter((function(e){return e.offset>=0&&e.offset<=1})),o||function(){var e=n.length;null==n[e-1].offset&&(n[e-1].offset=1),e>1&&null==n[0].offset&&(n[0].offset=0);for(var t=0,i=n[0].offset,r=1;r<e;r++){var o=n[r].offset;if(null!=o){for(var a=1;a<r-t;a++)n[t+a].offset=i+(o-i)*a/(r-t);t=r,i=o}}}(),n}}(t),function(e){var t={};e.isDeprecated=function(e,n,i,r){var o=r?"are":"is",a=new Date,s=new Date(n);return s.setMonth(s.getMonth()+3),!(a<s&&(e in t||console.warn("Web Animations: "+e+" "+o+" deprecated and will stop working on "+s.toDateString()+". "+i),t[e]=!0,1))},e.deprecated=function(t,n,i,r){var o=r?"are":"is";if(e.isDeprecated(t,n,i,r))throw new Error(t+" "+o+" no longer supported. "+i)}}(t),function(){if(document.documentElement.animate){var e=document.documentElement.animate([],0),i=!0;if(e&&(i=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach((function(t){void 0===e[t]&&(i=!0)}))),!i)return}!function(e,t,n){t.convertEffectInput=function(n){var i=function(e){for(var t={},n=0;n<e.length;n++)for(var i in e[n])if("offset"!=i&&"easing"!=i&&"composite"!=i){var r={offset:e[n].offset,easing:e[n].easing,value:e[n][i]};t[i]=t[i]||[],t[i].push(r)}for(var o in t){var a=t[o];if(0!=a[0].offset||1!=a[a.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return t}(e.normalizeKeyframes(n)),r=function(n){var i=[];for(var r in n)for(var o=n[r],a=0;a<o.length-1;a++){var s=a,l=a+1,c=o[s].offset,u=o[l].offset,d=c,h=u;0==a&&(d=-1/0,0==u&&(l=s)),a==o.length-2&&(h=1/0,1==c&&(s=l)),i.push({applyFrom:d,applyTo:h,startOffset:o[s].offset,endOffset:o[l].offset,easingFunction:e.parseEasingFunction(o[s].easing),property:r,interpolation:t.propertyInterpolation(r,o[s].value,o[l].value)})}return i.sort((function(e,t){return e.startOffset-t.startOffset})),i}(i);return function(e,n){if(null!=n)r.filter((function(e){return n>=e.applyFrom&&n<e.applyTo})).forEach((function(i){var r=n-i.startOffset,o=i.endOffset-i.startOffset,a=0==o?0:i.easingFunction(r/o);t.apply(e,i.property,i.interpolation(a))}));else for(var o in i)"offset"!=o&&"easing"!=o&&"composite"!=o&&t.clear(e,o)}}}(t,n),function(e,t,n){function i(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function r(e,t,n){o[n]=o[n]||[],o[n].push([e,t])}var o={};t.addPropertiesHandler=function(e,t,n){for(var o=0;o<n.length;o++)r(e,t,i(n[o]))};var a={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};t.propertyInterpolation=function(n,r,s){var l=n;/-/.test(n)&&!e.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(l=i(n)),"initial"!=r&&"initial"!=s||("initial"==r&&(r=a[l]),"initial"==s&&(s=a[l]));for(var c=r==s?[]:o[l],u=0;c&&u<c.length;u++){var d=c[u][0](r),h=c[u][0](s);if(void 0!==d&&void 0!==h){var p=c[u][1](d,h);if(p){var f=t.Interpolation.apply(null,p);return function(e){return 0==e?r:1==e?s:f(e)}}}}return t.Interpolation(!1,!0,(function(e){return e?s:r}))}}(t,n),function(e,t,n){t.KeyframeEffect=function(n,i,r,o){var a,s=function(t){var n=e.calculateActiveDuration(t),i=function(i){return e.calculateIterationProgress(n,i,t)};return i._totalDuration=t.delay+n+t.endDelay,i}(e.normalizeTimingInput(r)),l=t.convertEffectInput(i),c=function(){l(n,a)};return c._update=function(e){return null!==(a=s(e))},c._clear=function(){l(n,null)},c._hasSameTarget=function(e){return n===e},c._target=n,c._totalDuration=s._totalDuration,c._id=o,c}}(t,n),function(e,t){function n(e,t,n){n.enumerable=!0,n.configurable=!0,Object.defineProperty(e,t,n)}function i(e){this._element=e,this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=e.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=function(e,t){return!(!t.namespaceURI||-1==t.namespaceURI.indexOf("/svg"))&&(o in e||(e[o]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(e.navigator.userAgent)),e[o])}(window,e),this._savedTransformAttr=null;for(var t=0;t<this._style.length;t++){var n=this._style[t];this._surrogateStyle[n]=this._style[n]}this._updateIndices()}function r(e){if(!e._webAnimationsPatchedStyle){var t=new i(e);try{n(e,"style",{get:function(){return t}})}catch(t){e.style._set=function(t,n){e.style[t]=n},e.style._clear=function(t){e.style[t]=""}}e._webAnimationsPatchedStyle=e.style}}var o="_webAnimationsUpdateSvgTransformAttr",a={cssText:1,length:1,parentRule:1},s={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},l={removeProperty:1,setProperty:1};for(var c in i.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(e){for(var t={},n=0;n<this._surrogateStyle.length;n++)t[this._surrogateStyle[n]]=!0;for(this._surrogateStyle.cssText=e,this._updateIndices(),n=0;n<this._surrogateStyle.length;n++)t[this._surrogateStyle[n]]=!0;for(var i in t)this._isAnimatedProperty[i]||this._style.setProperty(i,this._surrogateStyle.getPropertyValue(i))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(e){return function(){return this._surrogateStyle[e]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(t,n){this._style[t]=n,this._isAnimatedProperty[t]=!0,this._updateSvgTransformAttr&&"transform"==e.unprefixedPropertyName(t)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",e.transformToSvgMatrix(n)))},_clear:function(t){this._style[t]=this._surrogateStyle[t],this._updateSvgTransformAttr&&"transform"==e.unprefixedPropertyName(t)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[t]}},s)i.prototype[c]=function(e,t){return function(){var n=this._surrogateStyle[e].apply(this._surrogateStyle,arguments);return t&&(this._isAnimatedProperty[arguments[0]]||this._style[e].apply(this._style,arguments),this._updateIndices()),n}}(c,c in l);for(var u in document.documentElement.style)u in a||u in s||function(e){n(i.prototype,e,{get:function(){return this._surrogateStyle[e]},set:function(t){this._surrogateStyle[e]=t,this._updateIndices(),this._isAnimatedProperty[e]||(this._style[e]=t)}})}(u);e.apply=function(t,n,i){r(t),t.style._set(e.propertyName(n),i)},e.clear=function(t,n){t._webAnimationsPatchedStyle&&t.style._clear(e.propertyName(n))}}(n),function(e){window.Element.prototype.animate=function(t,n){var i="";return n&&n.id&&(i=n.id),e.timeline._play(e.KeyframeEffect(this,t,n,i))}}(n),function(e,t){function n(e,t,i){if("number"==typeof e&&"number"==typeof t)return e*(1-i)+t*i;if("boolean"==typeof e&&"boolean"==typeof t)return i<.5?e:t;if(e.length==t.length){for(var r=[],o=0;o<e.length;o++)r.push(n(e[o],t[o],i));return r}throw"Mismatched interpolation arguments "+e+":"+t}e.Interpolation=function(e,t,i){return function(r){return i(n(e,t,r))}}}(n),function(e,t){var n=function(){function e(e,t){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],i=0;i<4;i++)for(var r=0;r<4;r++)for(var o=0;o<4;o++)n[i][r]+=t[i][o]*e[o][r];return n}return function(t,n,i,r,o){for(var a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],s=0;s<4;s++)a[s][3]=o[s];for(s=0;s<3;s++)for(var l=0;l<3;l++)a[3][s]+=t[l]*a[l][s];var c=r[0],u=r[1],d=r[2],h=r[3],p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];p[0][0]=1-2*(u*u+d*d),p[0][1]=2*(c*u-d*h),p[0][2]=2*(c*d+u*h),p[1][0]=2*(c*u+d*h),p[1][1]=1-2*(c*c+d*d),p[1][2]=2*(u*d-c*h),p[2][0]=2*(c*d-u*h),p[2][1]=2*(u*d+c*h),p[2][2]=1-2*(c*c+u*u),a=e(a,p);var f=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];for(i[2]&&(f[2][1]=i[2],a=e(a,f)),i[1]&&(f[2][1]=0,f[2][0]=i[0],a=e(a,f)),i[0]&&(f[2][0]=0,f[1][0]=i[0],a=e(a,f)),s=0;s<3;s++)for(l=0;l<3;l++)a[s][l]*=n[s];return function(e){return 0==e[0][2]&&0==e[0][3]&&0==e[1][2]&&0==e[1][3]&&0==e[2][0]&&0==e[2][1]&&1==e[2][2]&&0==e[2][3]&&0==e[3][2]&&1==e[3][3]}(a)?[a[0][0],a[0][1],a[1][0],a[1][1],a[3][0],a[3][1]]:a[0].concat(a[1],a[2],a[3])}}();e.composeMatrix=n,e.quat=function(t,n,i){var r=e.dot(t,n);r=function(e,t,n){return Math.max(Math.min(e,n),t)}(r,-1,1);var o=[];if(1===r)o=t;else for(var a=Math.acos(r),s=1*Math.sin(i*a)/Math.sqrt(1-r*r),l=0;l<4;l++)o.push(t[l]*(Math.cos(i*a)-r*s)+n[l]*s);return o}}(n),function(e,t,n){e.sequenceNumber=0;var i=function(e,t,n){this.target=e,this.currentTime=t,this.timelineTime=n,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};t.Animation=function(t){this.id="",t&&t._id&&(this.id=t._id),this._sequenceNumber=e.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=t,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},t.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,t.timeline._animations.push(this))},_tickCurrentTime:function(e,t){e!=this._currentTime&&(this._currentTime=e,this._isFinished&&!t&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(e){e=+e,isNaN(e)||(t.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-e/this._playbackRate),this._currentTimePending=!1,this._currentTime!=e&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(e,!0),t.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(e){e=+e,isNaN(e)||this._paused||this._idle||(this._startTime=e,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),t.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(e){if(e!=this._playbackRate){var n=this.currentTime;this._playbackRate=e,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),t.applyDirtiedAnimation(this)),null!=n&&(this.currentTime=n)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),t.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,t.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),t.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(e,t){"function"==typeof t&&"finish"==e&&this._finishHandlers.push(t)},removeEventListener:function(e,t){if("finish"==e){var n=this._finishHandlers.indexOf(t);n>=0&&this._finishHandlers.splice(n,1)}},_fireEvents:function(e){if(this._isFinished){if(!this._finishedFlag){var t=new i(this,this._currentTime,e),n=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout((function(){n.forEach((function(e){e.call(t.target,t)}))}),0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(e,t){this._idle||this._paused||(null==this._startTime?t&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((e-this._startTime)*this.playbackRate)),t&&(this._currentTimePending=!1,this._fireEvents(e))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var e=this._effect._target;return e._activeAnimations||(e._activeAnimations=[]),e._activeAnimations},_markTarget:function(){var e=this._targetAnimations();-1===e.indexOf(this)&&e.push(this)},_unmarkTarget:function(){var e=this._targetAnimations(),t=e.indexOf(this);-1!==t&&e.splice(t,1)}}}(t,n),function(e,t,n){function i(e){var t=c;c=[],e<m.currentTime&&(e=m.currentTime),m._animations.sort(r),m._animations=s(e,!0,m._animations)[0],t.forEach((function(t){t[1](e)})),a()}function r(e,t){return e._sequenceNumber-t._sequenceNumber}function o(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function a(){p.forEach((function(e){e()})),p.length=0}function s(e,n,i){f=!0,h=!1,t.timeline.currentTime=e,d=!1;var r=[],o=[],a=[],s=[];return i.forEach((function(t){t._tick(e,n),t._inEffect?(o.push(t._effect),t._markTarget()):(r.push(t._effect),t._unmarkTarget()),t._needsTick&&(d=!0);var i=t._inEffect||t._needsTick;t._inTimeline=i,i?a.push(t):s.push(t)})),p.push.apply(p,r),p.push.apply(p,o),d&&requestAnimationFrame((function(){})),f=!1,[a,s]}var l=window.requestAnimationFrame,c=[],u=0;window.requestAnimationFrame=function(e){var t=u++;return 0==c.length&&l(i),c.push([t,e]),t},window.cancelAnimationFrame=function(e){c.forEach((function(t){t[0]==e&&(t[1]=function(){})}))},o.prototype={_play:function(n){n._timing=e.normalizeTimingInput(n.timing);var i=new t.Animation(n);return i._idle=!1,i._timeline=this,this._animations.push(i),t.restart(),t.applyDirtiedAnimation(i),i}};var d=!1,h=!1;t.restart=function(){return d||(d=!0,requestAnimationFrame((function(){})),h=!0),h},t.applyDirtiedAnimation=function(e){if(!f){e._markTarget();var n=e._targetAnimations();n.sort(r),s(t.timeline.currentTime,!1,n.slice())[1].forEach((function(e){var t=m._animations.indexOf(e);-1!==t&&m._animations.splice(t,1)})),a()}};var p=[],f=!1,m=new o;t.timeline=m}(t,n),function(e,t){function n(e,t){for(var n=0,i=0;i<e.length;i++)n+=e[i]*t[i];return n}function i(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3],e[0]*t[4]+e[4]*t[5]+e[8]*t[6]+e[12]*t[7],e[1]*t[4]+e[5]*t[5]+e[9]*t[6]+e[13]*t[7],e[2]*t[4]+e[6]*t[5]+e[10]*t[6]+e[14]*t[7],e[3]*t[4]+e[7]*t[5]+e[11]*t[6]+e[15]*t[7],e[0]*t[8]+e[4]*t[9]+e[8]*t[10]+e[12]*t[11],e[1]*t[8]+e[5]*t[9]+e[9]*t[10]+e[13]*t[11],e[2]*t[8]+e[6]*t[9]+e[10]*t[10]+e[14]*t[11],e[3]*t[8]+e[7]*t[9]+e[11]*t[10]+e[15]*t[11],e[0]*t[12]+e[4]*t[13]+e[8]*t[14]+e[12]*t[15],e[1]*t[12]+e[5]*t[13]+e[9]*t[14]+e[13]*t[15],e[2]*t[12]+e[6]*t[13]+e[10]*t[14]+e[14]*t[15],e[3]*t[12]+e[7]*t[13]+e[11]*t[14]+e[15]*t[15]]}function r(e){var t=e.rad||0;return((e.deg||0)/360+(e.grad||0)/400+(e.turn||0))*(2*Math.PI)+t}function o(e){switch(e.t){case"rotatex":var t=r(e.d[0]);return[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1];case"rotatey":return t=r(e.d[0]),[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1];case"rotate":case"rotatez":return t=r(e.d[0]),[Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var n=e.d[0],i=e.d[1],o=e.d[2],a=(t=r(e.d[3]),n*n+i*i+o*o);if(0===a)n=1,i=0,o=0;else if(1!==a){var s=Math.sqrt(a);n/=s,i/=s,o/=s}var l=Math.sin(t/2),c=l*Math.cos(t/2),u=l*l;return[1-2*(i*i+o*o)*u,2*(n*i*u+o*c),2*(n*o*u-i*c),0,2*(n*i*u-o*c),1-2*(n*n+o*o)*u,2*(i*o*u+n*c),0,2*(n*o*u+i*c),2*(i*o*u-n*c),1-2*(n*n+i*i)*u,0,0,0,0,1];case"scale":return[e.d[0],0,0,0,0,e.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[e.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,e.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,e.d[0],0,0,0,0,1];case"scale3d":return[e.d[0],0,0,0,0,e.d[1],0,0,0,0,e.d[2],0,0,0,0,1];case"skew":var d=r(e.d[0]),h=r(e.d[1]);return[1,Math.tan(h),0,0,Math.tan(d),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return t=r(e.d[0]),[1,0,0,0,Math.tan(t),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return t=r(e.d[0]),[1,Math.tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,n=e.d[0].px||0,i=e.d[1].px||0,0,1];case"translatex":return[1,0,0,0,0,1,0,0,0,0,1,0,n=e.d[0].px||0,0,0,1];case"translatey":return[1,0,0,0,0,1,0,0,0,0,1,0,0,i=e.d[0].px||0,0,1];case"translatez":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,o=e.d[0].px||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,n=e.d[0].px||0,i=e.d[1].px||0,o=e.d[2].px||0,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,e.d[0].px?-1/e.d[0].px:0,0,0,0,1];case"matrix":return[e.d[0],e.d[1],0,0,e.d[2],e.d[3],0,0,0,0,1,0,e.d[4],e.d[5],0,1];case"matrix3d":return e.d}}function a(e){return 0===e.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:e.map(o).reduce(i)}var s=function(){function e(e){return e[0][0]*e[1][1]*e[2][2]+e[1][0]*e[2][1]*e[0][2]+e[2][0]*e[0][1]*e[1][2]-e[0][2]*e[1][1]*e[2][0]-e[1][2]*e[2][1]*e[0][0]-e[2][2]*e[0][1]*e[1][0]}function t(e){var t=i(e);return[e[0]/t,e[1]/t,e[2]/t]}function i(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function r(e,t,n,i){return[n*e[0]+i*t[0],n*e[1]+i*t[1],n*e[2]+i*t[2]]}return function(o){var a=[o.slice(0,4),o.slice(4,8),o.slice(8,12),o.slice(12,16)];if(1!==a[3][3])return null;for(var s=[],l=0;l<4;l++)s.push(a[l].slice());for(l=0;l<3;l++)s[l][3]=0;if(0===e(s))return null;var c,u=[];a[0][3]||a[1][3]||a[2][3]?(u.push(a[0][3]),u.push(a[1][3]),u.push(a[2][3]),u.push(a[3][3]),c=function(e,t){for(var n=[],i=0;i<4;i++){for(var r=0,o=0;o<4;o++)r+=e[o]*t[o][i];n.push(r)}return n}(u,function(e){return[[e[0][0],e[1][0],e[2][0],e[3][0]],[e[0][1],e[1][1],e[2][1],e[3][1]],[e[0][2],e[1][2],e[2][2],e[3][2]],[e[0][3],e[1][3],e[2][3],e[3][3]]]}(function(t){for(var n=1/e(t),i=t[0][0],r=t[0][1],o=t[0][2],a=t[1][0],s=t[1][1],l=t[1][2],c=t[2][0],u=t[2][1],d=t[2][2],h=[[(s*d-l*u)*n,(o*u-r*d)*n,(r*l-o*s)*n,0],[(l*c-a*d)*n,(i*d-o*c)*n,(o*a-i*l)*n,0],[(a*u-s*c)*n,(c*r-i*u)*n,(i*s-r*a)*n,0]],p=[],f=0;f<3;f++){for(var m=0,g=0;g<3;g++)m+=t[3][g]*h[g][f];p.push(m)}return p.push(1),h.push(p),h}(s)))):c=[0,0,0,1];var d=a[3].slice(0,3),h=[];h.push(a[0].slice(0,3));var p=[];p.push(i(h[0])),h[0]=t(h[0]);var f=[];h.push(a[1].slice(0,3)),f.push(n(h[0],h[1])),h[1]=r(h[1],h[0],1,-f[0]),p.push(i(h[1])),h[1]=t(h[1]),f[0]/=p[1],h.push(a[2].slice(0,3)),f.push(n(h[0],h[2])),h[2]=r(h[2],h[0],1,-f[1]),f.push(n(h[1],h[2])),h[2]=r(h[2],h[1],1,-f[2]),p.push(i(h[2])),h[2]=t(h[2]),f[1]/=p[2],f[2]/=p[2];var m=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}(h[1],h[2]);if(n(h[0],m)<0)for(l=0;l<3;l++)p[l]*=-1,h[l][0]*=-1,h[l][1]*=-1,h[l][2]*=-1;var g,v,y=h[0][0]+h[1][1]+h[2][2]+1;return y>1e-4?(g=.5/Math.sqrt(y),v=[(h[2][1]-h[1][2])*g,(h[0][2]-h[2][0])*g,(h[1][0]-h[0][1])*g,.25/g]):h[0][0]>h[1][1]&&h[0][0]>h[2][2]?v=[.25*(g=2*Math.sqrt(1+h[0][0]-h[1][1]-h[2][2])),(h[0][1]+h[1][0])/g,(h[0][2]+h[2][0])/g,(h[2][1]-h[1][2])/g]:h[1][1]>h[2][2]?(g=2*Math.sqrt(1+h[1][1]-h[0][0]-h[2][2]),v=[(h[0][1]+h[1][0])/g,.25*g,(h[1][2]+h[2][1])/g,(h[0][2]-h[2][0])/g]):(g=2*Math.sqrt(1+h[2][2]-h[0][0]-h[1][1]),v=[(h[0][2]+h[2][0])/g,(h[1][2]+h[2][1])/g,.25*g,(h[1][0]-h[0][1])/g]),[d,p,f,v,c]}}();e.dot=n,e.makeMatrixDecomposition=function(e){return[s(a(e))]},e.transformListToMatrix=a}(n),function(e){function t(e,t){var n=e.exec(t);if(n)return[n=e.ignoreCase?n[0].toLowerCase():n[0],t.substr(n.length)]}function n(e,t){var n=e(t=t.replace(/^\s*/,""));if(n)return[n[0],n[1].replace(/^\s*/,"")]}function i(e,t,n,i,r){for(var o=[],a=[],s=[],l=function(e,t){for(var n=e,i=t;n&&i;)n>i?n%=i:i%=n;return e*t/(n+i)}(i.length,r.length),c=0;c<l;c++){var u=t(i[c%i.length],r[c%r.length]);if(!u)return;o.push(u[0]),a.push(u[1]),s.push(u[2])}return[o,a,function(t){var i=t.map((function(e,t){return s[t](e)})).join(n);return e?e(i):i}]}e.consumeToken=t,e.consumeTrimmed=n,e.consumeRepeated=function(e,i,r){e=n.bind(null,e);for(var o=[];;){var a=e(r);if(!a)return[o,r];if(o.push(a[0]),!(a=t(i,r=a[1]))||""==a[1])return[o,r];r=a[1]}},e.consumeParenthesised=function(e,t){for(var n=0,i=0;i<t.length&&(!/\s|,/.test(t[i])||0!=n);i++)if("("==t[i])n++;else if(")"==t[i]&&(0==--n&&i++,n<=0))break;var r=e(t.substr(0,i));return null==r?void 0:[r,t.substr(i)]},e.ignore=function(e){return function(t){var n=e(t);return n&&(n[0]=void 0),n}},e.optional=function(e,t){return function(n){return e(n)||[t,n]}},e.consumeList=function(t,n){for(var i=[],r=0;r<t.length;r++){var o=e.consumeTrimmed(t[r],n);if(!o||""==o[0])return;void 0!==o[0]&&i.push(o[0]),n=o[1]}if(""==n)return i},e.mergeNestedRepeated=i.bind(null,null),e.mergeWrappedNestedRepeated=i,e.mergeList=function(e,t,n){for(var i=[],r=[],o=[],a=0,s=0;s<n.length;s++)if("function"==typeof n[s]){var l=n[s](e[a],t[a++]);i.push(l[0]),r.push(l[1]),o.push(l[2])}else!function(e){i.push(!1),r.push(!1),o.push((function(){return n[e]}))}(s);return[i,r,function(e){for(var t="",n=0;n<e.length;n++)t+=o[n](e[n]);return t}]}}(n),function(e){function t(t){var n={inset:!1,lengths:[],color:null},i=e.consumeRepeated((function(t){var i;return(i=e.consumeToken(/^inset/i,t))?(n.inset=!0,i):(i=e.consumeLengthOrPercent(t))?(n.lengths.push(i[0]),i):(i=e.consumeColor(t))?(n.color=i[0],i):void 0}),/^/,t);if(i&&i[0].length)return[n,i[1]]}var n=function(t,n,i,r){function o(e){return{inset:e,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var a=[],s=[],l=0;l<i.length||l<r.length;l++){var c=i[l]||o(r[l].inset),u=r[l]||o(i[l].inset);a.push(c),s.push(u)}return e.mergeNestedRepeated(t,n,a,s)}.bind(null,(function(t,n){for(;t.lengths.length<Math.max(t.lengths.length,n.lengths.length);)t.lengths.push({px:0});for(;n.lengths.length<Math.max(t.lengths.length,n.lengths.length);)n.lengths.push({px:0});if(t.inset==n.inset&&!!t.color==!!n.color){for(var i,r=[],o=[[],0],a=[[],0],s=0;s<t.lengths.length;s++){var l=e.mergeDimensions(t.lengths[s],n.lengths[s],2==s);o[0].push(l[0]),a[0].push(l[1]),r.push(l[2])}if(t.color&&n.color){var c=e.mergeColors(t.color,n.color);o[1]=c[0],a[1]=c[1],i=c[2]}return[o,a,function(e){for(var n=t.inset?"inset ":" ",o=0;o<r.length;o++)n+=r[o](e[0][o])+" ";return i&&(n+=i(e[1])),n}]}}),", ");e.addPropertiesHandler((function(n){var i=e.consumeRepeated(t,/^,/,n);if(i&&""==i[1])return i[0]}),n,["box-shadow","text-shadow"])}(n),function(e,t){function n(e){return e.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function i(e,t,n){return Math.min(t,Math.max(e,n))}function r(e){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(e))return Number(e)}function o(e,t){return function(r,o){return[r,o,function(r){return n(i(e,t,r))}]}}function a(e){var t=e.trim().split(/\s*[\s,]\s*/);if(0!==t.length){for(var n=[],i=0;i<t.length;i++){var o=r(t[i]);if(void 0===o)return;n.push(o)}return n}}e.clamp=i,e.addPropertiesHandler(a,(function(e,t){if(e.length==t.length)return[e,t,function(e){return e.map(n).join(" ")}]}),["stroke-dasharray"]),e.addPropertiesHandler(r,o(0,1/0),["border-image-width","line-height"]),e.addPropertiesHandler(r,o(0,1),["opacity","shape-image-threshold"]),e.addPropertiesHandler(r,(function(e,t){if(0!=e)return o(0,1/0)(e,t)}),["flex-grow","flex-shrink"]),e.addPropertiesHandler(r,(function(e,t){return[e,t,function(e){return Math.round(i(1,1/0,e))}]}),["orphans","widows"]),e.addPropertiesHandler(r,(function(e,t){return[e,t,Math.round]}),["z-index"]),e.parseNumber=r,e.parseNumberList=a,e.mergeNumbers=function(e,t){return[e,t,n]},e.numberToString=n}(n),function(e,t){e.addPropertiesHandler(String,(function(e,t){if("visible"==e||"visible"==t)return[0,1,function(n){return n<=0?e:n>=1?t:"visible"}]}),["visibility"])}(n),function(e,t){function n(e){e=e.trim(),o.fillStyle="#000",o.fillStyle=e;var t=o.fillStyle;if(o.fillStyle="#fff",o.fillStyle=e,t==o.fillStyle){o.fillRect(0,0,1,1);var n=o.getImageData(0,0,1,1).data;o.clearRect(0,0,1,1);var i=n[3]/255;return[n[0]*i,n[1]*i,n[2]*i,i]}}function i(t,n){return[t,n,function(t){function n(e){return Math.max(0,Math.min(255,e))}if(t[3])for(var i=0;i<3;i++)t[i]=Math.round(n(t[i]/t[3]));return t[3]=e.numberToString(e.clamp(0,1,t[3])),"rgba("+t.join(",")+")"}]}var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=r.height=1;var o=r.getContext("2d");e.addPropertiesHandler(n,i,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),e.consumeColor=e.consumeParenthesised.bind(null,n),e.mergeColors=i}(n),function(e,t){function n(e){function t(){var t=a.exec(e);o=t?t[0]:void 0}function n(){if("("!==o)return function(){var e=Number(o);return t(),e}();t();var e=r();return")"!==o?NaN:(t(),e)}function i(){for(var e=n();"*"===o||"/"===o;){var i=o;t();var r=n();"*"===i?e*=r:e/=r}return e}function r(){for(var e=i();"+"===o||"-"===o;){var n=o;t();var r=i();"+"===n?e+=r:e-=r}return e}var o,a=/([\+\-\w\.]+|[\(\)\*\/])/g;return t(),r()}function i(e,t){if("0"==(t=t.trim().toLowerCase())&&"px".search(e)>=0)return{px:0};if(/^[^(]*$|^calc/.test(t)){t=t.replace(/calc\(/g,"(");var i={};t=t.replace(e,(function(e){return i[e]=null,"U"+e}));for(var r="U("+e.source+")",o=t.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+r,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),a=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],s=0;s<a.length;)a[s].test(o)?(o=o.replace(a[s],"$1"),s=0):s++;if("D"==o){for(var l in i){var c=n(t.replace(new RegExp("U"+l,"g"),"").replace(new RegExp(r,"g"),"*0"));if(!isFinite(c))return;i[l]=c}return i}}}function r(e,t){return o(e,t,!0)}function o(t,n,i){var r,o=[];for(r in t)o.push(r);for(r in n)o.indexOf(r)<0&&o.push(r);return t=o.map((function(e){return t[e]||0})),n=o.map((function(e){return n[e]||0})),[t,n,function(t){var n=t.map((function(n,r){return 1==t.length&&i&&(n=Math.max(n,0)),e.numberToString(n)+o[r]})).join(" + ");return t.length>1?"calc("+n+")":n}]}var a="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",s=i.bind(null,new RegExp(a,"g")),l=i.bind(null,new RegExp(a+"|%","g")),c=i.bind(null,/deg|rad|grad|turn/g);e.parseLength=s,e.parseLengthOrPercent=l,e.consumeLengthOrPercent=e.consumeParenthesised.bind(null,l),e.parseAngle=c,e.mergeDimensions=o;var u=e.consumeParenthesised.bind(null,s),d=e.consumeRepeated.bind(void 0,u,/^/),h=e.consumeRepeated.bind(void 0,d,/^,/);e.consumeSizePairList=h;var p=e.mergeNestedRepeated.bind(void 0,r," "),f=e.mergeNestedRepeated.bind(void 0,p,",");e.mergeNonNegativeSizePair=p,e.addPropertiesHandler((function(e){var t=h(e);if(t&&""==t[1])return t[0]}),f,["background-size"]),e.addPropertiesHandler(l,r,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),e.addPropertiesHandler(l,o,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(n),function(e,t){function n(t){return e.consumeLengthOrPercent(t)||e.consumeToken(/^auto/,t)}function i(t){var i=e.consumeList([e.ignore(e.consumeToken.bind(null,/^rect/)),e.ignore(e.consumeToken.bind(null,/^\(/)),e.consumeRepeated.bind(null,n,/^,/),e.ignore(e.consumeToken.bind(null,/^\)/))],t);if(i&&4==i[0].length)return i[0]}var r=e.mergeWrappedNestedRepeated.bind(null,(function(e){return"rect("+e+")"}),(function(t,n){return"auto"==t||"auto"==n?[!0,!1,function(i){var r=i?t:n;if("auto"==r)return"auto";var o=e.mergeDimensions(r,r);return o[2](o[0])}]:e.mergeDimensions(t,n)}),", ");e.parseBox=i,e.mergeBoxes=r,e.addPropertiesHandler(i,r,["clip"])}(n),function(e,t){function n(e){return function(t){var n=0;return e.map((function(e){return e===c?t[n++]:e}))}}function i(e){return e}function r(t){if("none"==(t=t.toLowerCase().trim()))return[];for(var n,i=/\s*(\w+)\(([^)]*)\)/g,r=[],o=0;n=i.exec(t);){if(n.index!=o)return;o=n.index+n[0].length;var a=n[1],s=h[a];if(!s)return;var l=n[2].split(","),c=s[0];if(c.length<l.length)return;for(var p=[],f=0;f<c.length;f++){var m,g=l[f],v=c[f];if(void 0===(m=g?{A:function(t){return"0"==t.trim()?d:e.parseAngle(t)},N:e.parseNumber,T:e.parseLengthOrPercent,L:e.parseLength}[v.toUpperCase()](g):{a:d,n:p[0],t:u}[v]))return;p.push(m)}if(r.push({t:a,d:p}),i.lastIndex==t.length)return r}}function o(e){return e.toFixed(6).replace(".000000","")}function a(t,n){if(t.decompositionPair!==n){t.decompositionPair=n;var i=e.makeMatrixDecomposition(t)}if(n.decompositionPair!==t){n.decompositionPair=t;var r=e.makeMatrixDecomposition(n)}return null==i[0]||null==r[0]?[[!1],[!0],function(e){return e?n[0].d:t[0].d}]:(i[0].push(0),r[0].push(1),[i,r,function(t){var n=e.quat(i[0][3],r[0][3],t[5]);return e.composeMatrix(t[0],t[1],t[2],n,t[4]).map(o).join(",")}])}function s(e){return e.replace(/[xy]/,"")}function l(e){return e.replace(/(x|y|z|3d)?$/,"3d")}var c=null,u={px:0},d={deg:0},h={matrix:["NNNNNN",[c,c,0,0,c,c,0,0,0,0,1,0,c,c,0,1],i],matrix3d:["NNNNNNNNNNNNNNNN",i],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",n([c,c,1]),i],scalex:["N",n([c,1,1]),n([c,1])],scaley:["N",n([1,c,1]),n([1,c])],scalez:["N",n([1,1,c])],scale3d:["NNN",i],skew:["Aa",null,i],skewx:["A",null,n([c,d])],skewy:["A",null,n([d,c])],translate:["Tt",n([c,c,u]),i],translatex:["T",n([c,u,u]),n([c,u])],translatey:["T",n([u,c,u]),n([u,c])],translatez:["L",n([u,u,c])],translate3d:["TTL",i]};e.addPropertiesHandler(r,(function(t,n){var i=e.makeMatrixDecomposition&&!0,r=!1;if(!t.length||!n.length){t.length||(r=!0,t=n,n=[]);for(var o=0;o<t.length;o++){var c=t[o].t,u=t[o].d,d="scale"==c.substr(0,5)?1:0;n.push({t:c,d:u.map((function(e){if("number"==typeof e)return d;var t={};for(var n in e)t[n]=d;return t}))})}}var p=function(e,t){return"perspective"==e&&"perspective"==t||("matrix"==e||"matrix3d"==e)&&("matrix"==t||"matrix3d"==t)},f=[],m=[],g=[];if(t.length!=n.length){if(!i)return;f=[(T=a(t,n))[0]],m=[T[1]],g=[["matrix",[T[2]]]]}else for(o=0;o<t.length;o++){var v=t[o].t,y=n[o].t,b=t[o].d,w=n[o].d,_=h[v],x=h[y];if(p(v,y)){if(!i)return;var T=a([t[o]],[n[o]]);f.push(T[0]),m.push(T[1]),g.push(["matrix",[T[2]]])}else{if(v==y)c=v;else if(_[2]&&x[2]&&s(v)==s(y))c=s(v),b=_[2](b),w=x[2](w);else{if(!_[1]||!x[1]||l(v)!=l(y)){if(!i)return;f=[(T=a(t,n))[0]],m=[T[1]],g=[["matrix",[T[2]]]];break}c=l(v),b=_[1](b),w=x[1](w)}for(var S=[],E=[],M=[],A=0;A<b.length;A++)T=("number"==typeof b[A]?e.mergeNumbers:e.mergeDimensions)(b[A],w[A]),S[A]=T[0],E[A]=T[1],M.push(T[2]);f.push(S),m.push(E),g.push([c,M])}}if(r){var C=f;f=m,m=C}return[f,m,function(e){return e.map((function(e,t){var n=e.map((function(e,n){return g[t][1][n](e)})).join(",");return"matrix"==g[t][0]&&16==n.split(",").length&&(g[t][0]="matrix3d"),g[t][0]+"("+n+")"})).join(" ")}]}),["transform"]),e.transformToSvgMatrix=function(t){var n=e.transformListToMatrix(r(t));return"matrix("+o(n[0])+" "+o(n[1])+" "+o(n[4])+" "+o(n[5])+" "+o(n[12])+" "+o(n[13])+")"}}(n),function(e){function t(t){return t=100*Math.round(t/100),400===(t=e.clamp(100,900,t))?"normal":700===t?"bold":String(t)}e.addPropertiesHandler((function(e){var t=Number(e);if(!(isNaN(t)||t<100||t>900||t%100!=0))return t}),(function(e,n){return[e,n,t]}),["font-weight"])}(n),function(e){function t(e){var t={};for(var n in e)t[n]=-e[n];return t}function n(t){return e.consumeToken(/^(left|center|right|top|bottom)\b/i,t)||e.consumeLengthOrPercent(t)}function i(t,i){var r=e.consumeRepeated(n,/^/,i);if(r&&""==r[1]){var a=r[0];if(a[0]=a[0]||"center",a[1]=a[1]||"center",3==t&&(a[2]=a[2]||{px:0}),a.length==t){if(/top|bottom/.test(a[0])||/left|right/.test(a[1])){var s=a[0];a[0]=a[1],a[1]=s}if(/left|right|center|Object/.test(a[0])&&/top|bottom|center|Object/.test(a[1]))return a.map((function(e){return"object"==typeof e?e:o[e]}))}}}function r(i){var r=e.consumeRepeated(n,/^/,i);if(r){for(var a=r[0],s=[{"%":50},{"%":50}],l=0,c=!1,u=0;u<a.length;u++){var d=a[u];"string"==typeof d?(c=/bottom|right/.test(d),s[l={left:0,right:0,center:l,top:1,bottom:1}[d]]=o[d],"center"==d&&l++):(c&&((d=t(d))["%"]=(d["%"]||0)+100),s[l]=d,l++,c=!1)}return[s,r[1]]}}var o={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},a=e.mergeNestedRepeated.bind(null,e.mergeDimensions," ");e.addPropertiesHandler(i.bind(null,3),a,["transform-origin"]),e.addPropertiesHandler(i.bind(null,2),a,["perspective-origin"]),e.consumePosition=r,e.mergeOffsetList=a;var s=e.mergeNestedRepeated.bind(null,a,", ");e.addPropertiesHandler((function(t){var n=e.consumeRepeated(r,/^,/,t);if(n&&""==n[1])return n[0]}),s,["background-position","object-position"])}(n),function(e){var t=e.consumeParenthesised.bind(null,e.parseLengthOrPercent),n=e.consumeRepeated.bind(void 0,t,/^/),i=e.mergeNestedRepeated.bind(void 0,e.mergeDimensions," "),r=e.mergeNestedRepeated.bind(void 0,i,",");e.addPropertiesHandler((function(i){var r=e.consumeToken(/^circle/,i);if(r&&r[0])return["circle"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),t,e.ignore(e.consumeToken.bind(void 0,/^at/)),e.consumePosition,e.ignore(e.consumeToken.bind(void 0,/^\)/))],r[1]));var o=e.consumeToken(/^ellipse/,i);if(o&&o[0])return["ellipse"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),n,e.ignore(e.consumeToken.bind(void 0,/^at/)),e.consumePosition,e.ignore(e.consumeToken.bind(void 0,/^\)/))],o[1]));var a=e.consumeToken(/^polygon/,i);return a&&a[0]?["polygon"].concat(e.consumeList([e.ignore(e.consumeToken.bind(void 0,/^\(/)),e.optional(e.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),e.consumeSizePairList,e.ignore(e.consumeToken.bind(void 0,/^\)/))],a[1])):void 0}),(function(t,n){if(t[0]===n[0])return"circle"==t[0]?e.mergeList(t.slice(1),n.slice(1),["circle(",e.mergeDimensions," at ",e.mergeOffsetList,")"]):"ellipse"==t[0]?e.mergeList(t.slice(1),n.slice(1),["ellipse(",e.mergeNonNegativeSizePair," at ",e.mergeOffsetList,")"]):"polygon"==t[0]&&t[1]==n[1]?e.mergeList(t.slice(2),n.slice(2),["polygon(",t[1],r,")"]):void 0}),["shape-outside"])}(n),function(e,t){function n(e,t){t.concat([e]).forEach((function(t){t in document.documentElement.style&&(i[e]=t),r[t]=e}))}var i={},r={};n("transform",["webkitTransform","msTransform"]),n("transformOrigin",["webkitTransformOrigin"]),n("perspective",["webkitPerspective"]),n("perspectiveOrigin",["webkitPerspectiveOrigin"]),e.propertyName=function(e){return i[e]||e},e.unprefixedPropertyName=function(e){return r[e]||e}}(n)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){if(window.performance&&performance.now)var e=function(){return performance.now()};else e=function(){return Date.now()};var t=function(e,t,n){this.target=e,this.currentTime=t,this.timelineTime=n,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},n=window.Element.prototype.animate;window.Element.prototype.animate=function(i,r){var o=n.call(this,i,r);o._cancelHandlers=[],o.oncancel=null;var a=o.cancel;o.cancel=function(){a.call(this);var n=new t(this,null,e()),i=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout((function(){i.forEach((function(e){e.call(n.target,n)}))}),0)};var s=o.addEventListener;o.addEventListener=function(e,t){"function"==typeof t&&"cancel"==e?this._cancelHandlers.push(t):s.call(this,e,t)};var l=o.removeEventListener;return o.removeEventListener=function(e,t){if("cancel"==e){var n=this._cancelHandlers.indexOf(t);n>=0&&this._cancelHandlers.splice(n,1)}else l.call(this,e,t)},o}}}(),function(e){var t=document.documentElement,n=null,i=!1;try{var r="0"==getComputedStyle(t).getPropertyValue("opacity")?"1":"0";(n=t.animate({opacity:[r,r]},{duration:1})).currentTime=0,i=getComputedStyle(t).getPropertyValue("opacity")==r}catch(e){}finally{n&&n.cancel()}if(!i){var o=window.Element.prototype.animate;window.Element.prototype.animate=function(t,n){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||null===t||(t=e.convertToArrayForm(t)),o.call(this,t,n)}}}(t),e.true={}},13523:function(e,t,n){var i={"./meas-mode1-selected.svg":[47151,151],"./meas-mode1.svg":[26621,621],"./meas-mode2-selected.svg":[2353,353],"./meas-mode2.svg":[95324,324],"./meas-mode3-selected.svg":[50950,950],"./meas-mode3.svg":[54359,359],"./tag-mode1-selected.svg":[95554,554],"./tag-mode1.svg":[82682,682],"./tag-mode2-selected.svg":[4174,174],"./tag-mode2.svg":[65948,948],"./tag-mode3-selected.svg":[88186,186],"./tag-mode3.svg":[61461,461],"./virtual-showing.svg":[27062,62]};function r(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,17)}))}r.keys=function(){return Object.keys(i)},r.id=13523,e.exports=r},51697:function(e,t,n){"use strict";e.exports=n.p+"a/579639cd1f2beb2d5424.svg"},15344:function(e,t,n){"use strict";e.exports=n.p+"a/eb73a74c2976ecac83b2.svg"},30108:function(e,t,n){"use strict";e.exports=n.p+"a/7abd15603b6bd69b9132.eot"},72943:function(e,t,n){"use strict";e.exports=n.p+"a/c5f1c677b4dc31fa7d7a.svg"},23023:function(e,t,n){"use strict";e.exports=n.p+"a/b1da83893d2df6d1eb6b.ttf"},99755:function(e,t,n){"use strict";e.exports=n.p+"a/986965127e642f7a00b5.woff"},4743:function(e,t,n){"use strict";e.exports=n.p+"a/860cb17baba73d7da134.jpg"},65297:function(e,t,n){"use strict";e.exports=n.p+"a/eb1077584c52a986fbf3.png"},75355:function(e,t,n){"use strict";e.exports=n.p+"a/4b1f4f68aef0f41eda9a.png"},8025:function(e,t,n){"use strict";e.exports=n.p+"a/d284a6bb30cdcfdf1d6e.png"},12340:function(e,t,n){"use strict";e.exports=n.p+"a/c0e86aa59cef3cd9a53b.png"},66222:function(e,t,n){"use strict";e.exports=n.p+"a/cabeaca7b0441a54fc2d.gif"},8267:function(e,t,n){"use strict";e.exports=n.p+"a/4e474809609e85a5690b.png"}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,a.amdD=function(){throw new Error("define cannot be used indirect")},a.amdO={},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var r=Object.create(null);a.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},a.d(r,o),r},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))},a.u=function(e){return e+".index.js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},a.l=function(e,t,i,r){if(n[e])n[e].push(t);else{var o,s;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==e){o=u;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.src=e),n[e]=[t];var d=function(t,i){o.onerror=o.onload=null,clearTimeout(h);var r=n[e];if(delete n[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(e){return e(i)})),t)return t(i)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),s&&document.head.appendChild(o)}},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},a.p="./html_assets/",function(){a.b=document.baseURI||self.location.href;var e={179:0};a.f.j=function(t,n){var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var r=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=r);var o=a.p+a.u(t),s=new Error;a.l(o,(function(n){if(a.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var i,r,o=n[0],s=n[1],l=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(l)l(a)}for(t&&t(n);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";a(67209),a(99745);var e=a(28508),t=a.n(e),n=a(15149),i=a.n(n),r=a(11959),o=a.n(r),s=a(39041),l=a.n(s),c=a(18042),u=a.n(c);a(90286);a(99236),a(36349);var d=a(30454),h=a.n(d);a(78703),a(64434);a(3777),a(38081),a(76139);var p=a(59396),f=a.n(p),m=a(50093),g=a.n(m),v=a(41281),y=a.n(v),b=a(75453),w=a.n(b),_=a(74846),x=a.n(_),T=(a(71954),a(67394)),S=a.n(T),E=a(92937),M=a.n(E),A=a(63774),C=a.n(A),k=a(23587),P=a.n(k),D=a(95315),R=a.n(D),$=a(83452),I=a.n($),L=a(47834),O=a.n(L);a(65942);function N(e,t){var n=I()(e);if(R()){var i=R()(e);t&&(i=i.filter((function(t){return P()(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){if(!e||4!==e.length)return!0;var t=O()(e,4),n=t[2],i=t[3];return n<=0||i<=0}function B(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):C()?M()(e,C()(n)):N(Object(n)).forEach((function(t){S()(e,t,P()(n,t))}))}return e}({},e);for(var n in e)e.hasOwnProperty(n)&&n.startsWith("__")&&delete t[n];return t}var U=function(){function e(t,n){o()(this,e),u()(this,"id",0),u()(this,"type",""),u()(this,"name",""),u()(this,"dir",""),u()(this,"sphereHash",""),u()(this,"roomId",0),u()(this,"captureTimestamp",void 0),u()(this,"imageParams",void 0),u()(this,"hidden",!1),u()(this,"initAngle",0),u()(this,"noSphere",!1),u()(this,"sphereOnly",!1),u()(this,"pos",[]),u()(this,"rot",0),u()(this,"cameraHeight",0),u()(this,"ceilingDist",0),u()(this,"color",[]),u()(this,"visiblePanoIds",[]),u()(this,"__floor",void 0),i()(this,t),this.__floor=n}return l()(e,[{key:"copyDecycle",value:function(){return B(this)}},{key:"getFloor",value:function(){return this.__floor}},{key:"isViewable",value:function(){return!this.isMap()&&(!this.type||"user"===this.type)}},{key:"isPartial",value:function(){return"partial"===this.type}},{key:"isMap",value:function(){return"map"===this.type||!this.type&&"_Map"===this.name}}]),e}(),z=l()((function e(t){o()(this,e),u()(this,"id",0),u()(this,"type",0),u()(this,"name",""),u()(this,"hidden",!1),u()(this,"areaHidden",!1),u()(this,"dimsHidden",!1),u()(this,"excluded",!1),u()(this,"exterior",!1),u()(this,"unfinished",!1),u()(this,"interiorArea",0),u()(this,"wallSurfaceArea",0),u()(this,"wallPerimeter",0),u()(this,"dimensions",[]),u()(this,"dimensionMarker",void 0),u()(this,"printLabel",void 0),u()(this,"viewerLabel",void 0),i()(this,t)})),V=l()((function e(t){o()(this,e),u()(this,"id",0),u()(this,"hidden",!1),u()(this,"targetId",0),u()(this,"pos",[]),u()(this,"visiblePanoIds",[]),i()(this,t)})),H=l()((function e(t){o()(this,e),u()(this,"id",0),u()(this,"hidden",!1),u()(this,"pos",[]),u()(this,"rot",0),u()(this,"fontSize",0),u()(this,"text",""),i()(this,t)})),j=function(){function e(t,n){o()(this,e),u()(this,"id",0),u()(this,"name",""),u()(this,"hidden",!1),u()(this,"belowGrade",!1),u()(this,"nonBillable",!1),u()(this,"independentCompass",!1),u()(this,"gradeHint",0),u()(this,"initPanoId",0),u()(this,"ceilingHeight",0),u()(this,"perimeter",0),u()(this,"interiorArea",0),u()(this,"exteriorWallsArea",0),u()(this,"actualExtWallThickness",0),u()(this,"totalArea",0),u()(this,"compassRot",0),u()(this,"compassRotHint",0),u()(this,"scaleFactor",void 0),u()(this,"layout",void 0),u()(this,"__building",void 0),i()(this,t),this.layout=new W(t.layout||{},this),this.__building=n}return l()(e,[{key:"copyDecycle",value:function(){var e=B(this);return e.layout=this.layout.copyDecycle(),e}},{key:"getBuilding",value:function(){return this.__building}},{key:"isVisible",value:function(){return!this.hidden&&!this.__building.hidden}},{key:"hasFloorplan",value:function(){var e=this.layout,t=e.printViewBox,n=e.viewerViewBox;return!F(t)&&!F(n)}},{key:"findPano",value:function(e){return this.layout.panos.find(e)}},{key:"getVisiblePanos",value:function(){return this.layout.panos.filter((function(e){return!e.hidden}))}}]),e}(),W=function(){function e(t,n){o()(this,e),u()(this,"rooms",[]),u()(this,"panos",[]),u()(this,"gates",[]),u()(this,"labels",[]),u()(this,"notes",[]),u()(this,"objects",[]),u()(this,"lines",[]),u()(this,"viewerViewBox",void 0),u()(this,"printViewBox",void 0),u()(this,"userInitViewBox",void 0),i()(this,t),this.rooms=(t.rooms||[]).map((function(e){return new z(e)})),this.panos=(t.panos||[]).map((function(e){return new U(e,n)})),this.gates=(t.gates||[]).map((function(e){return new V(e)})),this.labels=(t.labels||[]).map((function(e){return new H(e)})),this.notes=t.notes||[],this.objects=t.objects||[],this.lines=t.lines||[]}return l()(e,[{key:"copyDecycle",value:function(){var e=B(this);return e.panos=this.panos.map((function(e){return e.copyDecycle()})),e}}]),e}();function G(e,t){var n=void 0!==y()&&e[g()]||e["@@iterator"];if(!n){if(f()(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return w()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Z=function(){function e(t,n){var r=this;o()(this,e),u()(this,"id",0),u()(this,"name",""),u()(this,"hidden",!1),u()(this,"actualExtWallThickness",0),u()(this,"floors",[]),u()(this,"__metadata",void 0),i()(this,t),this.floors=(t.floors||[]).map((function(e){return new j(e,r)})),this.__metadata=n}return l()(e,[{key:"copyDecycle",value:function(){var e=B(this);return e.floors=e.floors.map((function(e){return e.copyDecycle()})),e}},{key:"isMainBuilding",value:function(){return this.id===this.__metadata.mainBuildingId}},{key:"findFloor",value:function(e){return this.floors.find(e)}},{key:"findPano",value:function(e){var t,n=G(this.floors);try{for(n.s();!(t=n.n()).done;){var i=t.value.findPano(e);if(i)return i}}catch(e){n.e(e)}finally{n.f()}}},{key:"missingWallThickness",value:function(e){if(this.actualExtWallThickness>0)return!1;if(0===this.floors.length)return!0;var t,n=G(this.getVisibleFloors());try{for(n.s();!(t=n.n()).done;){var i=t.value;if((!e||!i.belowGrade)&&i.actualExtWallThickness<=0)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"getVisibleFloors",value:function(){return this.floors.filter((function(e){return!e.hidden}))}}]),e}();function X(e,t){var n=void 0!==y()&&e[g()]||e["@@iterator"];if(!n){if(f()(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return w()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var K=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),u()(this,"formatVersion",0),u()(this,"draftVersion",""),u()(this,"stitchVersion",""),u()(this,"surveyVersion",""),u()(this,"cameraSerialNumber",""),u()(this,"shutterCounter",0),u()(this,"stitchPlatform",""),u()(this,"cam360",void 0),u()(this,"country",""),u()(this,"kpi",void 0),u()(this,"portalData",void 0),u()(this,"comments",void 0),u()(this,"lastIds",void 0),u()(this,"hasErrors",!1),u()(this,"defaultExtWallThickness",0),u()(this,"defaultIntWallThickness",0),u()(this,"cameraHeight",0),u()(this,"lidarCalib",[]),u()(this,"lensCalibrated",!1),u()(this,"initFloorId",0),u()(this,"initPanoId",0),u()(this,"initPanoAngle",void 0),u()(this,"mainBuildingId",0),u()(this,"buildings",[]),i()(this,n),this.buildings=(n.buildings||[]).map((function(e){return new Z(e,t)}))}return l()(e,[{key:"toJSON",value:function(){return this.copyDecycle()}},{key:"copyDecycle",value:function(){var e=B(this);return e.buildings=this.buildings.map((function(e){return e.copyDecycle()})),e}},{key:"getMainBuilding",value:function(){var e=this;return this.buildings.find((function(t){return t.id===e.mainBuildingId}))}},{key:"allFloors",value:function(){var e,t=[],n=X(this.buildings);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push.apply(t,x()(i.floors))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"findFloor",value:function(e){var t,n=X(this.buildings);try{for(n.s();!(t=n.n()).done;){var i=t.value.findFloor(e);if(i)return i}}catch(e){n.e(e)}finally{n.f()}}},{key:"findPano",value:function(e){var t,n=X(this.buildings);try{for(n.s();!(t=n.n()).done;){var i=t.value.findPano(e);if(i)return i}}catch(e){n.e(e)}finally{n.f()}}},{key:"mainMissingWallThickness",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getMainBuilding();return!t||t.missingWallThickness(e)}},{key:"getVisibleBuildings",value:function(){return this.buildings.filter((function(e){return!e.hidden}))}},{key:"getVisiblePanoIds",value:function(){return this.getVisibleBuildings().reduce((function(e,t){return e.concat(t.getVisibleFloors())}),[]).reduce((function(e,t){return e.concat(t.getVisiblePanos())}),[]).map((function(e){return e.id}))}}]),e}(),J=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),u()(this,"lat",200),u()(this,"lng",200),i()(this,t)}return l()(e,[{key:"isValid",value:function(){return-90<=this.lat&&this.lat<=90&&-180<=this.lng&&this.lng<=180}},{key:"equals",value:function(e){return Q(this.lat,e.lat)&&Q(this.lng,e.lng)}}]),e}();function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e6;return Math.round(e*n)===Math.round(t*n)}var ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),u()(this,"id",""),u()(this,"created_at",new Date(0)),u()(this,"created_by",""),u()(this,"createdByPublic",""),u()(this,"updated_at",new Date(0)),u()(this,"updated_by",""),u()(this,"updatedByPublic",""),u()(this,"country",""),u()(this,"code",""),u()(this,"province",""),u()(this,"city",""),u()(this,"street",""),u()(this,"house",""),u()(this,"apartment",0),u()(this,"unit",""),u()(this,"location",new J),u()(this,"buildingId",""),u()(this,"buildingClientId",""),u()(this,"buildingName",""),u()(this,"buildingType",""),u()(this,"__fullAddressCached",""),u()(this,"__shortAddressCached",""),i()(this,t),t.created_at&&(this.created_at=new Date(t.created_at)),t.updated_at&&(this.updated_at=new Date(t.updated_at)),t.location&&(this.location=new J(t.location))}return l()(e,[{key:"getMergedUnitApartment",value:function(){var e=!!this.unit,t=this.apartment>0;return e||t?e&&t?"".concat(this.unit," ").concat(this.apartment):this.unit||"".concat(this.apartment):""}},{key:"getAddressLine",value:function(){var e=this.getMergedUnitApartment(),t=e?"-":"";return"".concat(e).concat(t).concat(this.house," ").concat(this.street).trim()}},{key:"getAddress",value:function(){var e=this.getAddressLine();return e?"".concat(e,", ").concat(this.city,", ").concat(this.province):"".concat(this.city,", ").concat(this.province)}},{key:"getFullAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||!this.__fullAddressCached){var t=this.getAddress();this.country&&(t+="".concat(t?", ":"").concat(this.country)),this.code&&(t+="".concat(t?", ":"").concat(this.code)),this.__fullAddressCached=t}return this.__fullAddressCached}},{key:"getShortAddress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!e&&this.__shortAddressCached||(this.__shortAddressCached=this.getAddress()),this.__shortAddressCached}},{key:"getAddressOrBuildingId",value:function(){return this.buildingId?this.buildingName?"".concat(this.buildingId," ").concat(this.buildingName):this.buildingId:this.getShortAddress()}},{key:"hasLocation",value:function(){return this.location.isValid()}},{key:"getMaplink",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,t="".concat(this.location.lat,",").concat(this.location.lng);return"http://www.google.com/maps/place/".concat(t,"/@").concat(t,",").concat(e,"z")}},{key:"getEmbeddedMap",value:function(e,t,n){return"https://www.google.com/maps/embed/v1/place?key=".concat(e)+"".concat(t?"&zoom=".concat(t):"")+"".concat(n?"&language=".concat(n):"")+"&q=".concat(this.location.lat,",").concat(this.location.lng)}},{key:"equals",value:function(e){return this.sameAddressAs(e)&&this.code===e.code&&this.sameLocationAs(e)&&this.buildingId===e.buildingId&&this.buildingClientId===e.buildingClientId&&this.buildingName===e.buildingName&&this.buildingType===e.buildingType}},{key:"sameAddressAs",value:function(e){return this.country===e.country&&this.province===e.province&&this.city===e.city&&this.street===e.street&&this.house===e.house&&this.apartment===e.apartment&&this.unit===e.unit}},{key:"sameLocationAs",value:function(e){return this.hasLocation()&&e.hasLocation()&&this.location.equals(e.location)}}]),e}(),te=l()((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),u()(this,"name",""),u()(this,"created_at",new Date(0)),u()(this,"type",""),u()(this,"size",0),u()(this,"width",0),u()(this,"height",0),u()(this,"sequence_no",0),i()(this,t),t.created_at&&(this.created_at=new Date(t.created_at))})),ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),u()(this,"id",""),u()(this,"type",""),u()(this,"alias",""),u()(this,"property",new ee),u()(this,"propertyIndustry",""),u()(this,"created_at",new Date(0)),u()(this,"created_by",""),u()(this,"createdByPublic",""),u()(this,"updated_at",new Date(0)),u()(this,"updated_by",""),u()(this,"updatedByPublic",""),u()(this,"deletedAt",void 0),u()(this,"deletedBy",""),u()(this,"deletedByPublic",""),u()(this,"dataPublishedAt",void 0),u()(this,"dataPrepublishedAt",void 0),u()(this,"esxFilePublishedAt",void 0),u()(this,"esxFilePublishedBy",""),u()(this,"esxFilePublishedByPublic",""),u()(this,"dwgFilePublishedAt",void 0),u()(this,"dwgFilePublishedBy",""),u()(this,"dwgFilePublishedByPublic",""),u()(this,"convertingTo",void 0),u()(this,"primaryContact",""),u()(this,"primaryContactPublic",""),u()(this,"licensee",""),u()(this,"licenseePublic",""),u()(this,"manager",""),u()(this,"managerPublic",""),u()(this,"editors",[]),u()(this,"editorsPublic",[]),u()(this,"editorGroups",[]),u()(this,"editorGroupsPublic",[]),u()(this,"test",!1),u()(this,"images",[]),u()(this,"tripodImageId",void 0),u()(this,"tripodImagePId",void 0),u()(this,"tripodImageOwnerId",void 0),u()(this,"tripodImageOwnerPId",void 0),u()(this,"svgs",void 0),u()(this,"data",void 0),u()(this,"dataS3Prefix",""),u()(this,"dataV2",void 0),u()(this,"prepublishedDataS3Prefix",""),u()(this,"prepublishedDataV2",void 0),u()(this,"prepublishReason",""),u()(this,"prepublishScreenshots",0),u()(this,"previewStatus",""),u()(this,"hasLegacyPanos",!1),u()(this,"attrs",{}),u()(this,"addons",{}),u()(this,"integrations",{}),i()(this,t),t.created_at&&(this.created_at=new Date(t.created_at)),t.updated_at&&(this.updated_at=new Date(t.updated_at)),t.deletedAt&&(this.deletedAt=new Date(t.deletedAt)),t.dataPublishedAt&&(this.dataPublishedAt=new Date(t.dataPublishedAt)),t.dataPrepublishedAt&&(this.dataPrepublishedAt=new Date(t.dataPrepublishedAt)),t.esxFilePublishedAt&&(this.esxFilePublishedAt=new Date(t.esxFilePublishedAt)),t.dwgFilePublishedAt&&(this.dwgFilePublishedAt=new Date(t.dwgFilePublishedAt)),t.property&&(this.property=new ee(t.property)),t.dataV2&&(this.dataV2=new K(t.dataV2)),this.images=(t.images||[]).map((function(e){return new te(e)}))}return l()(e,[{key:"isStandard",value:function(){return""===this.type}},{key:"isPremium",value:function(){return"premium"===this.type}},{key:"isPhotos",value:function(){return"photos"===this.type}},{key:"isRadix",value:function(){return"radix"===this.type}},{key:"isAutoDraft",value:function(){return"auto-draft"===this.type}},{key:"isInstant",value:function(){return"instant"===this.type}},{key:"isInstantSketch",value:function(){return"instant-sketch"===this.type}},{key:"isCustomDrawing",value:function(){return"custom-drawing"===this.type}},{key:"isFlex",value:function(){return"flex"===this.type}},{key:"isPublishingAutomated",value:function(){return this.isRadix()||this.isAutoDraft()||this.isInstant()||this.isInstantSketch()}},{key:"isAutoDrafted",value:function(){return this.isAutoDraft()||this.isInstant()||this.isInstantSketch()}},{key:"isReady",value:function(){return(this.isPhotos()||!!this.dataPublishedAt)&&!this.isDeleted()}},{key:"isDeleted",value:function(){return!!this.deletedAt}},{key:"hasPrepublishedUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e=e||"preview"!==this.prepublishReason)&&!!this.dataPrepublishedAt&&(!this.dataPublishedAt||this.dataPublishedAt<this.dataPrepublishedAt)}},{key:"isPreview",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?"preview"===this.prepublishReason:"preview"===this.prepublishReason||!!this.prepublishReason&&"published"===this.previewStatus&&this.hasPrepublishedUpdate()}},{key:"isEligibleForPreview",value:function(){return this.isStandard()||this.isPremium()}},{key:"isDrafted",value:function(){return!(this.isPhotos()||this.isPublishingAutomated()||this.isFlex()||!this.dataPublishedAt)}},{key:"draftedWithDataV1",value:function(){return this.isDrafted()&&!this.dataS3Prefix}},{key:"draftedWithDataV2",value:function(){return(this.isDrafted()||this.isFlex())&&!!this.dataS3Prefix}},{key:"hasDataV1",value:function(){return!!this.data&&this.data.version>0&&!!this.data.floorplans&&this.data.floorplans.length>0}},{key:"hasDataV2",value:function(){return!!this.dataV2&&this.dataV2.formatVersion>0&&!!this.dataV2.buildings&&this.dataV2.buildings.length>0}},{key:"getAdvFilePublishedAt",value:function(e){switch(e){case"esx":return this.esxFilePublishedAt;case"dwg":return this.dwgFilePublishedAt;default:return}}},{key:"hasPublishedAdvFile",value:function(e){return!!this.getAdvFilePublishedAt(e)}},{key:"isAdvFileOutdated",value:function(e){var t=this.getAdvFilePublishedAt(e)||new Date(0);return this.hasPublishedAdvFile(e)&&!!this.dataPublishedAt&&t<this.dataPublishedAt}},{key:"isDataLoaded",value:function(){return!this.isReady()||this.isPhotos()||this.hasDataV1()||this.hasDataV2()}},{key:"isPrepublishedDataLoaded",value:function(){return!!this.prepublishedDataV2&&this.prepublishedDataV2.formatVersion>0&&!!this.prepublishedDataV2.buildings&&this.prepublishedDataV2.buildings.length>0}},{key:"requiresSpheres",value:function(){return!!this.addons.vr||!!this.addons.streetview}},{key:"hasMissingSpheres",value:function(){return this.hasDataV1()?this.data.floorplans.some((function(e){return(e.panoramas||[]).some((function(e){return!e.s||e.s<=0}))})):!!this.hasDataV2()&&!!this.dataV2.findFloor((function(e){return e.layout.panos.some((function(e){return e.noSphere}))}))}},{key:"hasNoSpheres",value:function(){return this.hasDataV1()?this.data.floorplans.every((function(e){return(e.panoramas||[]).every((function(e){return!e.s||e.s<=0}))})):!this.hasDataV2()||!this.dataV2.findFloor((function(e){return e.layout.panos.some((function(e){return!e.noSphere}))}))}},{key:"getSphereInfo",value:function(){var e=0,t=0;return this.hasDataV1()&&this.data.floorplans.forEach((function(n){(n.panoramas||[]).forEach((function(n){t++,e+=+(!n.s||n.s<=0)}))})),this.hasDataV2()&&this.dataV2.allFloors().forEach((function(n){n.layout.panos.forEach((function(n){t++,e+=+!!n.noSphere}))})),{panos:t,missingSpheres:e}}},{key:"canReceiveUpdateRequests",value:function(){return this.isReady()&&!this.isPreview()&&!this.hasPrepublishedUpdate(!0)&&!this.isPublishingAutomated()&&!this.isPhotos()}},{key:"packageName",value:function(){return this.isStandard()?"Standard":this.isPremium()?"Premium":this.isPhotos()?"Photos":this.isRadix()?"Radix":this.isAutoDraft()?"AutoDraft":this.isInstantSketch()?"Instant Sketch":this.isInstant()?"Instant":this.isCustomDrawing()?"Custom Drawing":this.isFlex()?"Flex":""}},{key:"isConvertingTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return void 0!==this.convertingTo&&t.includes(this.convertingTo)}}]),e}(),ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),u()(this,"id",""),u()(this,"iguide",new ne),u()(this,"created_at",new Date(0)),u()(this,"created_by",""),u()(this,"createdByPublic",""),u()(this,"updated_at",new Date(0)),u()(this,"updated_by",""),u()(this,"updatedByPublic",""),u()(this,"deletedAt",void 0),u()(this,"deletedBy",""),u()(this,"deletedByPublic",""),u()(this,"published_at",void 0),u()(this,"published_by",""),u()(this,"publishedByPublic",""),u()(this,"expires_at",new Date(0)),u()(this,"isDefault",!1),u()(this,"isProtected",!1),u()(this,"measurementStandard",""),u()(this,"viewers",[]),u()(this,"viewersPublic",[]),u()(this,"viewerGroups",[]),u()(this,"viewerGroupsPublic",[]),u()(this,"author",""),u()(this,"authorPublic",""),u()(this,"banner",""),u()(this,"bannerPublicId",""),u()(this,"title",""),u()(this,"description",""),u()(this,"images",[]),u()(this,"data",void 0),u()(this,"dataV2",void 0),u()(this,"attrs",{}),i()(this,t),t.created_at&&(this.created_at=new Date(t.created_at)),t.updated_at&&(this.updated_at=new Date(t.updated_at)),t.deletedAt&&(this.deletedAt=new Date(t.deletedAt)),t.published_at&&(this.published_at=new Date(t.published_at)),t.expires_at&&(this.expires_at=new Date(t.expires_at)),this.iguide=new ne(t.iguide),t.dataV2&&(this.dataV2=new K(t.dataV2)),this.images=(t.images||[]).map((function(e){return new te(e)}))}return l()(e,[{key:"identifier",value:function(){return this.isDefault&&this.iguide.alias?this.iguide.alias:this.id}},{key:"isExpired",value:function(e){return t=this.expires_at,n=e||new Date,((i=(new Date(t)-new Date(n))/864e5)<0?-Math.floor(-i):Math.floor(i))<0;var t,n,i}},{key:"hasBanner",value:function(){return!!this.banner}},{key:"draftedWithDataV1",value:function(){return this.iguide.draftedWithDataV1()}},{key:"draftedWithDataV2",value:function(){return this.iguide.draftedWithDataV2()}},{key:"isAutoDrafted",value:function(){return this.iguide.isAutoDrafted()}},{key:"isDataLoaded",value:function(){return!this.iguide.isReady()||this.iguide.isPhotos()||this.hasDataV1()||this.hasDataV2()}},{key:"hasDataV1",value:function(){return!!this.data&&this.data.version>0&&!!this.data.floorplans&&this.data.floorplans.length>0}},{key:"hasDataV2",value:function(){return!!this.dataV2&&this.dataV2.formatVersion>0}},{key:"shouldHaveCairoFloorPlans",value:function(){return this.hasDataV2()&&!this.iguide.isRadix()&&(e=this.iguide.dataV2.draftVersion,/^\d+(\.\d+)*$/.test(e))&&!function(e,t){for(var n=e.split(".").map(Number),i=t.split(".").map(Number),r=0;r<n.length&&r<i.length;r++)if(n[r]!==i[r])return n[r]<i[r];for(;r<i.length;r++)if(i[r]>0)return!0;return!1}(this.iguide.dataV2.draftVersion,"2.1.31");var e}},{key:"hasNoSpheres",value:function(){return this.hasDataV1()?this.data.floorplans.every((function(e){return(e.panoramas||[]).every((function(e){return!e.s||e.s<=0}))})):!this.hasDataV2()||!this.dataV2.findFloor((function(e){return e.layout.panos.some((function(e){return!e.noSphere}))}))}},{key:"stringTimestamp",value:function(){return this.updated_at?"".concat(+this.updated_at):"".concat(+new Date,"l")}},{key:"getEditDataV1",value:function(){return e=this.data,t=this.iguide.data,n=h()(t),r=[],o={},(n.floorplans||[]).forEach((function(e,t){(e.panoramas||[]).forEach((function(e){e.id=e.i[5]/6,e.hidden=!0,o[e.id]=e})),(e.labels.rooms||[]).forEach((function(e){e.hidden=!0,e.original=h()(e)})),r[t]=e})),(e.floorplans||[]).forEach((function(e,t){var a=-1;e.initPano=e.initPano||0,(e.panoramas||[]).forEach((function(t,n){var i=t.i[5]/6;o[i]&&(o[i].hidden=!1),e.initPano===n&&(a=i)})),r[t].label=e.label||r[t].label,r[t].initPano=(r[t].panoramas||[]).findIndex((function(e){return e.id===a})),r[t].initAngle=e.initAngle,r[t].hidden=e.hidden||!e.label,e.labels&&e.labels.rooms&&e.labels.rooms.length&&(e.labels.rooms||[]).forEach((function(o,a){if(!r[t].labels.rooms[a])throw window.console.error("Cannot find iguide label for ".concat(a),{vlabel:o,floorplanId:t,floorplan:e,res:n,roomLabels:r[t].labels.rooms}),new Error("This should never happen, but who knows...");i()(r[t].labels.rooms[a],o,{hidden:!!o.hidden})}))})),n.initFloorplan=e.initFloorplan,n.geoAngle=e.geoAngle,n;var e,t,n,r,o}},{key:"clearAllData",value:function(){this.data&&(this.data={version:this.data.version}),this.dataV2&&(this.dataV2=new K({formatVersion:this.dataV2.formatVersion})),this.images=[],this.attrs&&(this.attrs.videoBranded="",this.attrs.videoUnbranded="")}},{key:"getVisiblePanoIds",value:function(){return this.dataV2?this.dataV2.getVisiblePanoIds():this.data?(this.data.floorplans||[]).filter((function(e){return!e.hidden})).reduce((function(e,t){return e.concat((t.panoramas||[]).filter((function(e){return!e.hidden})))}),[]).map((function(e){return e.i[5]/6})):[]}}]),e}(),re=a(64164);function oe(){return window.PlanitarOfflineZIP}function ae(){return!oe()&&("localhost"===window.location.hostname||/\.ngrok\.planitar\.com$/.test(window.location.hostname)||/\.local$/.test(window.location.hostname)||!/[^0-9.]/.test(window.location.hostname))}function se(e,t){return e===t.branded||e===t.unbranded||e===t.assets}var le,ce,ue,de,he,pe,fe,me,ge,ve,ye,be,we,_e,xe,Te,Se,Ee={url:{portal:"https://manage.youriguide.com",viewer:{branded:"https://youriguide.com",unbranded:"https://unbranded.youriguide.com",assets:"https://youriguide.com"},photos:{branded:"https://iguidephotos.com",unbranded:"https://unbranded.iguidephotos.com",assets:"https://iguidephotos.com"},radix:{branded:"https://iguideradix.com",unbranded:"https://unbranded.iguideradix.com",assets:"https://iguideradix.com"},showing:"https://show.youriguide.com"},signupInviteOnly:!1,forceProtected:!1,forceWhitelabel:!1,defaultFeatureFlags:[],google:{portalKey:"AIzaSyCA00QSfUwUNcQpb-EqDV7JfX0YoQx32eo",publicMapKey:"AIzaSyC48dqcDu0MS3tMXXkYEl0_cQsqylS3F9E",viewerKey:"AIzaSyA5EUiag87T9HENuHT109EnMbK_o1XpO5k"},sentry:{portalDsn:"https://3c926fe5876344f2881d4c674d6e4028@o73357.ingest.sentry.io/5194964",viewerDsn:"https://fb0e20d2ce0b4a799d2983ca89552307@o73357.ingest.sentry.io/157991"},contactBanner:{title:"Get Support",actions:[{text:"Search Solutions",url:"https://help.youriguide.com"},{text:"Create Ticket",url:"https://support.youriguide.com/support/tickets/new",button:!0}],phones:{title:"Technical Support:",items:[{tel:"1-855-505-1723",note:"(toll free)"},{tel:"1-226-546-1723",note:"(toll free)"}]},links:{title:"Links:",items:[{text:"Office Holidays",url:"https://goiguide.com/office-holidays"},{text:"Training Resources",url:"https://goiguide.com/resources"}]}},modules:{enableAll:!0,disable:["saml"]},env:{publicPortal:!0},systemBanners:[{type:"info",message:"NOTICE: The iGUIDE Portal will be undergoing <a href='https://status.youriguide.com/' target='_blank'> scheduled maintenance </a> on Dec. 27th between 8:00 AM to 10:00 AM (EST). iGUIDEs cannot be submitted, edited, nor delivered, and the iGUIDE Portal will be effectively read-only during the maintenance period.",start:"2023-12-20T05:00:00.000Z",end:"2023-12-27T13:00:00.000Z"},{type:"warning",message:"WARNING: The iGUIDE Portal is undergoing <a href='https://status.youriguide.com/' target='_blank'> scheduled maintenance </a> now and until 10:00 AM (EST). iGUIDEs cannot be submitted, edited, nor delivered, and the iGUIDE Portal is effectively read-only during the maintenance period.",start:"2023-12-27T13:00:00.000Z",end:"2023-12-27T15:00:00.000Z"}]}||function(){return{url:{portal:"https://manage.youriguide.com",viewer:{branded:"https://youriguide.com",unbranded:"https://unbranded.youriguide.com",assets:"https://youriguide.com"},photos:{branded:"https://iguidephotos.com",unbranded:"https://unbranded.iguidephotos.com",assets:"https://iguidephotos.com"},radix:{branded:"https://iguideradix.com",unbranded:"https://unbranded.iguideradix.com",assets:"https://iguideradix.com"},showing:"https://show.youriguide.com"},google:{portalKey:"AIzaSyCA00QSfUwUNcQpb-EqDV7JfX0YoQx32eo",publicMapKey:"AIzaSyC48dqcDu0MS3tMXXkYEl0_cQsqylS3F9E",viewerKey:"AIzaSyA5EUiag87T9HENuHT109EnMbK_o1XpO5k"},sentry:{portalDsn:"https://3c926fe5876344f2881d4c674d6e4028@o73357.ingest.sentry.io/5194964",viewerDsn:"https://fb0e20d2ce0b4a799d2983ca89552307@o73357.ingest.sentry.io/157991"},contactBanner:{title:"Get Support",actions:[{text:"Search Solutions",url:"https://help.youriguide.com"},{text:"Create Ticket",url:"https://support.youriguide.com/support/tickets/new",button:!0}],phones:{title:"Technical Support:",items:[{tel:"1-855-505-1723",note:"(toll free)"},{tel:"1-226-546-1723",note:"(toll free)"}]},links:{title:"Links:",items:[{text:"Office Holidays",url:"https://goiguide.com/office-holidays"},{text:"Training Resources",url:"https://help.youriguide.com"}]}},modules:{enableAll:!0,disable:["saml"]},env:{publicPortal:!0},systemBanners:[{type:"info",message:'NOTICE: The iGUIDE Portal will be undergoing <a href="https://status.youriguide.com/" target="_blank"> scheduled maintenance </a> on Dec. 27th between 8:00 AM to 10:00 AM (EST). iGUIDEs cannot be submitted, edited, nor delivered, and the iGUIDE Portal will be effectively read-only during the maintenance period.',start:"2023-12-20T05:00:00.000Z",end:"2023-12-27T13:00:00.000Z"},{type:"warning",message:'WARNING: The iGUIDE Portal is undergoing <a href="https://status.youriguide.com/" target="_blank"> scheduled maintenance </a> now and until 10:00 AM (EST). iGUIDEs cannot be submitted, edited, nor delivered, and the iGUIDE Portal is effectively read-only during the maintenance period.',start:"2023-12-27T13:00:00.000Z",end:"2023-12-27T15:00:00.000Z"}]}}(),Me={url:{portal:Ee.url.portal,viewer:Ee.url.viewer,photos:Ee.url.photos,radix:Ee.url.radix,showing:Ee.url.showing,api:"/api/v1",apiro:"/apiro/v1",embedScript:"/js/embedded.js",analytics:"/analytics"},signupInviteOnly:!!Ee.signupInviteOnly,forceProtected:!!Ee.forceProtected,forceWhitelabel:!!Ee.forceWhitelabel,defaultFeatureFlags:Ee.defaultFeatureFlags||[],contactBanner:Ee.contactBanner,modules:{isEnabled:function(e){var t,n,i,r,o;return null!==(t=Ee.modules)&&void 0!==t&&t.enableAll?!(null!==(n=null===(i=Ee.modules)||void 0===i?void 0:i.disable)&&void 0!==n?n:[]).includes(e):(null!==(r=null===(o=Ee.modules)||void 0===o?void 0:o.enable)&&void 0!==r?r:[]).includes(e)}},terms:{latest:"OCP400",versions:[{id:"OCP400",created_at:"2016-08-30T00:00:00.000Z",filename:"2016-08-30.html"},{id:"NTK800",created_at:"2015-08-24T00:00:00.000Z",filename:"2015-08-24.html"}]},systemBanners:Ee.systemBanners||[],userdata:{maxfile:2097152,quota:262144e3,operatorQuota:2147483648},iguidedata:{galleryMaxSize:20971520,galleryMaxDim:8e3,galleryMaxFiles:150,tileMaxSize:4194304,sphereMaxSize:10485760},stitchData:{minSize:524288,maxSize:21474836480,maxSizeValidation:734003200},draftData:{maxSize:53687091200,maxSizeValidation:734003200},upload:{s3endpoint:"https://s3.amazonaws.com"},google:{mapApiVersion:"quarterly",portalKey:null!==(le=null===(ce=Ee.google)||void 0===ce?void 0:ce.portalKey)&&void 0!==le?le:"",publicMapKey:null!==(ue=null===(de=Ee.google)||void 0===de?void 0:de.publicMapKey)&&void 0!==ue?ue:"",viewerKey:null!==(he=null===(pe=Ee.google)||void 0===pe?void 0:pe.viewerKey)&&void 0!==he?he:""},sentry:{dsn:""},env:{prd:!0,dev:!1,localFile:!1,publicPortal:!(null===(fe=Ee.env)||void 0===fe||!fe.publicPortal)},build:{commit:"35510456fa948582650c06f569772577fb1de6a5",date:"2023-12-22 07:22:13 PST"}};(ae()&&(Me.env.prd=!1,Me.env.dev=!0,Me.env.localFile=!1),window.location.hostname&&/^https?:/.test(window.location.protocol))||(Me.env.prd=!1,Me.env.dev=!1,Me.env.localFile=!0,Me.url.portal="",Me.url.viewer.branded="",Me.url.viewer.assets="",Me.url.viewer.unbranded="",Me.url.photos.branded="",Me.url.photos.assets="",Me.url.photos.unbranded="",Me.url.radix.branded="",Me.url.radix.assets="",Me.url.radix.unbranded="",Me.url.showing="",Me.url.api="",Me.url.apiro="",Me.url.embedScript="",Me.url.analytics="",Me.google.portalKey="",Me.google.publicMapKey="",Me.google.viewerKey=null!==(me=null===(ge=Ee.google)||void 0===ge?void 0:ge.viewerKey)&&void 0!==me?me:"");(oe()&&(Me.url.showing="",Me.google.viewerKey="AIzaSyA5EUiag87T9HENuHT109EnMbK_o1XpO5k"),se(window.location.origin,Me.url.viewer))&&(Me.url.apiro="/api/v1",window.location.origin===Me.url.viewer.unbranded&&(Me.url.viewer.branded=window.location.origin,Me.url.viewer.assets=window.location.origin,window.console.log("hostname set to",Me.url.viewer.branded)),Me.sentry.dsn=null!==(ve=null===(ye=Ee.sentry)||void 0===ye?void 0:ye.viewerDsn)&&void 0!==ve?ve:"");se(window.location.origin,Me.url.photos)&&(Me.url.apiro="/api/v1",window.location.origin===Me.url.photos.unbranded&&(Me.url.photos.branded=window.location.origin,Me.url.photos.assets=window.location.origin,window.console.log("hostname set to",Me.url.photos.branded)),Me.sentry.dsn=null!==(be=null===(we=Ee.sentry)||void 0===we?void 0:we.viewerDsn)&&void 0!==be?be:"");se(window.location.origin,Me.url.radix)&&(Me.url.apiro="/api/v1",window.location.origin===Me.url.radix.unbranded&&(Me.url.radix.branded=window.location.origin,Me.url.radix.assets=window.location.origin,window.console.log("hostname set to",Me.url.radix.branded)),Me.sentry.dsn=null!==(_e=null===(xe=Ee.sentry)||void 0===xe?void 0:xe.viewerDsn)&&void 0!==_e?_e:"");window.location.origin===Me.url.portal&&(Me.sentry.dsn=null!==(Te=null===(Se=Ee.sentry)||void 0===Se?void 0:Se.portalDsn)&&void 0!==Te?Te:"");Me.env.dev&&(ae()&&["19030","19040","19050","19060"].includes(window.location.port)?(Me.url.viewer.branded="http://".concat(window.location.hostname,":19050"),Me.url.photos.branded="http://".concat(window.location.hostname,":19040"),Me.url.radix.branded="http://".concat(window.location.hostname,":19060"),Me.url.portal="http://".concat(window.location.hostname,":19030"),Me.upload.s3endpoint="http://".concat(window.location.hostname,":19030"),["19040","19050","19060"].includes(window.location.port)&&(Me.url.apiro="/api/v1"),Me.systemBanners=[{type:"info",message:"NOTICE: The iGUIDE Portal will be undergoing scheduled maintenance on Dec. 18th between 02:10 PM to 02:15 PM (EST). iGUIDEs cannot be submitted, edited, nor delivered, and the iGUIDE Portal will be effectively read-only during the maintenance period.",start:"2023-12-18T19:00:00.000Z",end:"2023-12-18T19:10:00.000Z"},{type:"warning",message:"WARNING: The iGUIDE Portal is undergoing scheduled maintenance now and until 02:15 AM (EST). iGUIDEs cannot be submitted, edited, nor delivered, and the iGUIDE Portal is effectively read-only during the maintenance period.",start:"2023-12-18T19:10:00.000Z",end:"2023-12-18T19:15:00.000Z"}],Me.google.portalKey="AIzaSyDn14r9nsp-VWZ_eC5_-szOMDuBo7IdqiA",Me.google.publicMapKey="AIzaSyDn14r9nsp-VWZ_eC5_-szOMDuBo7IdqiA",Me.google.viewerKey="AIzaSyDn14r9nsp-VWZ_eC5_-szOMDuBo7IdqiA"):ae()&&["9030","9040","9050","9060","9876",""].includes(window.location.port)?(Me.url.viewer.branded="http://".concat(window.location.hostname,":9050"),Me.url.photos.branded="http://".concat(window.location.hostname,":9040"),Me.url.radix.branded="http://".concat(window.location.hostname,":9060"),Me.url.portal="http://".concat(window.location.hostname,":9030"),Me.upload.s3endpoint="http://".concat(window.location.hostname,":4567"),["9040","9050"].includes(window.location.port)&&(Me.url.apiro="/api/v1"),Me.google.portalKey="AIzaSyDYjyeS5OhWP8Z0leFio-t9N0AuUZyG5pU",Me.google.publicMapKey="AIzaSyDYjyeS5OhWP8Z0leFio-t9N0AuUZyG5pU",Me.google.viewerKey="AIzaSyDYjyeS5OhWP8Z0leFio-t9N0AuUZyG5pU"):(Me.url.viewer.branded="XXX-unimplemented-XXX",Me.url.photos.branded="XXX-unimplemented-XXX",Me.url.radix.branded="XXX-unimplemented-XXX",Me.url.portal="XXX-unimplemented-XXX"),Me.url.viewer.assets=Me.url.viewer.branded,Me.url.photos.assets=Me.url.photos.branded,Me.url.radix.assets=Me.url.radix.branded,Me.url.viewer.unbranded=Me.url.viewer.branded,Me.url.photos.unbranded=Me.url.photos.branded,Me.url.radix.unbranded=Me.url.radix.branded,Me.url.analytics="".concat(Me.url.api,"/analytics"));var Ae=Me,Ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),this.id=t.id||"",this.publicId=t.publicId||"",this.owner_id=t.owner_id||"",this.ownerPId=t.ownerPId||"",this.size=t.size||0,this.key=t.key||"",this.caption=t.caption||"",this.exturl=t.exturl||"",this.url=this._getUrl()}return l()(e,[{key:"_getUrl",value:function(){if(this.exturl)return this.exturl;var e=this.owner_id,t=this.publicId;return e&&t?"".concat(Ae.url.api,"/userinfo/").concat(e,"/images/").concat(t,"/file"):""}}],[{key:"compare",value:function(e,t){return e.url.localeCompare(t.url)}}]),e}(),ke=l()((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),this.id=t.id||"",this.publicId=t.publicId||"",this.owner_id=t.owner_id||"",this.ownerPId=t.ownerPId||"",this.fullname=t.fullname||"",this.title=t.title||"",this.company=t.company||"",this.emails=t.emails||[],this.phones=t.phones||[],this.www=t.www||"",this.social=t.social||[],this.photo=new Ce(t.photo||{}),this.logo=new Ce(t.logo||{}),this.custom=new Ce(t.custom||{}),this.address1=t.address1||"",this.address2=t.address2||"",this.hideSearchIcon=t.hideSearchIcon||!1,!this.www||/^https?:/i.test(this.www)||/^\/\//.test(this.www)||(this.www="http://".concat(this.www))})),Pe=(a(48181),a(50005),a(26427)),De=(a(57047),{props:{show:{type:Boolean,required:!0},message:{type:String,required:!0}}}),Re=(a(30790),a(40810)),$e=(0,Re.Z)(De,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["modal",{hidden:!e.show}]},[n("p",{staticClass:"message"},[e._v("\n    "+e._s(e.message)+"\n  ")]),e._v(" "),n("div",{staticClass:"buttons"},[n("span",{staticClass:"btn",on:{click:function(t){return e.$emit("confirm")}}},[e._v("\n      Confirm\n    ")]),e._v(" "),n("span",{staticClass:"btn",on:{click:function(t){return e.$emit("cancel")}}},[e._v("\n      Cancel\n    ")])])])}),[],!1,null,"05fddf45",null).exports,Ie=(a(44321),""),Le=function(){function e(){o()(this,e)}return l()(e,null,[{key:"load",value:function(){var t=e.getElementId();if(!document.getElementById(t)){var n=document.createElement("link");n.id=t,n.rel="stylesheet",n.type="text/css",n.href="https://fonts.googleapis.com/css?family=Roboto:300,400,700,500",document.head.appendChild(n)}}},{key:"getElementId",value:function(){if(!Ie){var e=Math.random().toString(36).substr(2,10);Ie="roboto-font-".concat(e)}return Ie}}]),e}(),Oe=y()("dropdownMenu"),Ne={methods:{enter(e){e.style.height="auto";const t=getComputedStyle(e).height;e.style.height=0,requestAnimationFrame((()=>{e.style.height=t}))},afterEnter(e){e.style.height="auto"},leave(e){const t=getComputedStyle(e).height;e.style.height=t,requestAnimationFrame((()=>{e.style.height=0}))}}},Fe=(a(98649),(0,Re.Z)(Ne,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("transition",{attrs:{name:"slide"},on:{enter:e.enter,"after-enter":e.afterEnter,leave:e.leave}},[e._t("default")],2)}),[],!1,null,"2c03d7c3",null).exports),Be={components:{SlideTransition:Fe},provide(){return{[Oe]:{hide:this.hide}}},props:{label:{type:String,required:!0},forceClose:{type:Boolean,required:!1,default:!1}},data:()=>({open:!1}),computed:{dropdownStatus(){return this.open}},watch:{forceClose(){this.floorplanToggled()}},methods:{toggleMenu(){this.open=!this.open,this.$emit("toggleMenu")},hide(){this.open=!1},floorplanToggled(){this.forceClose&&(this.open=!1)}}},Ue=(a(5274),(0,Re.Z)(Be,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu-container"},[n("div",{staticClass:"toggle-button",on:{click:e.toggleMenu}},[e._v("\n    "+e._s(e.label)+"\n    "),e.open?n("span",{staticClass:"toggle-icon"},[e._v("▲")]):e._e(),e._v(" "),e.open?e._e():n("span",{staticClass:"toggle-icon"},[e._v("▼")])]),e._v(" "),n("SlideTransition",{staticClass:"slide-transition"},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"list"},[e._t("default")],2)])],1)}),[],!1,null,"57b8ad41",null).exports),ze={inject:{dropdownMenu:Oe},props:{label:{type:String,required:!0},title:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"default",validator:e=>["default","red","green","blue"].includes(e)}},methods:{onClick(){this.dropdownMenu&&this.dropdownMenu.hide(),this.$emit("click")}}},Ve=(a(3971),{components:{DropdownMenu:Ue,DropdownButton:(0,Re.Z)(ze,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("li",{class:["button",e.color],attrs:{title:e.title},on:{click:e.onClick}},[e._v("\n  "+e._s(e.label)+"\n")])}),[],!1,null,"5628618b",null).exports},props:{hidePanoActions:{type:Boolean,required:!1,default:!1},hideLabelActions:{type:Boolean,required:!1,default:!1},hideInitialZoomAction:{type:Boolean,required:!1,default:!1},shouldResetInitialZoom:{type:Boolean,required:!1,default:!1},floorplanClosed:{type:Boolean,required:!1,default:!1}},computed:{initialZoomLabel(){return this.shouldResetInitialZoom?"Reset Initial Zoom":"Set Initial Zoom"},initialZoomTitle(){return this.shouldResetInitialZoom?"Reset initial pan & zoom for this floor":"Set initial pan & zoom for this floor"}}}),He=(0,Re.Z)(Ve,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DropdownMenu",{staticClass:"actions-menu",attrs:{label:"Actions",forceClose:e.floorplanClosed},on:{toggleMenu:function(t){return e.$emit("toggleMenu")}}},[e.hidePanoActions||e.hideLabelActions?e._e():n("DropdownButton",{attrs:{label:"Set Initial Pano",title:"Set the current pano as the initial pano for this floor",color:"blue"},on:{click:function(t){return e.$emit("setInitialPanoClick")}}}),e._v(" "),e.hideInitialZoomAction?e._e():n("DropdownButton",{attrs:{label:e.initialZoomLabel,title:e.initialZoomTitle,color:"blue"},on:{click:function(t){return e.$emit("setInitialZoomClick")}}}),e._v(" "),e.hidePanoActions?e._e():n("DropdownButton",{attrs:{label:"Show All Panos",title:"Show all panoramas on this floor",color:"green"},on:{click:function(t){return e.$emit("showAllPanosClick")}}}),e._v(" "),e.hidePanoActions?e._e():n("DropdownButton",{attrs:{label:"Hide All Panos",title:"Hide all panoramas on this floor",color:"red"},on:{click:function(t){return e.$emit("hideAllPanosClick")}}}),e._v(" "),e.hideLabelActions?e._e():n("DropdownButton",{attrs:{label:"Add New Label",title:"Create new label",color:"blue"},on:{click:function(t){return e.$emit("addLabelClick")}}}),e._v(" "),e.hideLabelActions?e._e():n("DropdownButton",{attrs:{label:"Show All Labels",title:"Show and unhide all labels on this floor",color:"green"},on:{click:function(t){return e.$emit("showAllLabelsClick")}}}),e._v(" "),e.hideLabelActions?e._e():n("DropdownButton",{attrs:{label:"Hide All Labels",title:"Hide all labels on this floor",color:"red"},on:{click:function(t){return e.$emit("hideAllLabelsClick")}}})],1)}),[],!1,null,null,null).exports,je=a(52309),We={components:{VfAreaLegacy:()=>a.e(56).then(a.bind(a,33056)),VfAreaAnsi:()=>a.e(398).then(a.bind(a,62398)),VfAreaRms:()=>a.e(239).then(a.bind(a,45239)),VfUnits:()=>Promise.resolve().then(a.bind(a,53363)),VfDisclaimer:()=>a.e(940).then(a.bind(a,25940))},mixins:[je.r],props:{summary:{type:Object,default:null},options:{type:Object,required:!0}},computed:{floorHasNotComputed(){return this.summary.buildings.some((e=>e.floors.some((e=>e.notComputed))))}}},Ge=(a(79838),(0,Re.Z)(We,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"},attrs:{id:"area-col"}},[n("div",{staticClass:"section",staticStyle:{height:"100%"},attrs:{id:"area"}},[n("div",{staticClass:"section-header"},[n("div",{staticClass:"section-title"},[e._v("\n        "+e._s(e.l10n.floorAreaInfo)+"\n      ")]),e._v(" "),n("VfUnits",{attrs:{imperial:e.options.imperial},on:{update:function(t){return e.$emit("updateUnit",t)}}})],1),e._v(" "),e.summary?n("div",{staticClass:"section-content"},[n("VfDisclaimer",{on:{click:function(t){return e.$emit("disclaimer")}}}),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),"ansi"===e.summary.measurementStandard?n("VfAreaAnsi",{attrs:{buildings:e.summary.buildings,options:e.options}}):"rms"===e.summary.measurementStandard?n("VfAreaRms",{attrs:{buildings:e.summary.buildings,options:e.options}}):n("VfAreaLegacy",{attrs:{buildings:e.summary.buildings,options:e.options}}),e._v(" "),"ansi"===e.summary.measurementStandard&&e.floorHasNotComputed?n("span",[n("b",[e._v(e._s(e.l10n.abbrNC)+":")]),e._v(" "+e._s(e.l10n.abbrNcExplain)+"\n      ")]):e._e()],1):e._e()])])}),[],!1,null,"20f9b011",null).exports),qe=a(53363),Ze={components:{VfUnits:()=>Promise.resolve().then(a.bind(a,53363))},mixins:[je.r],props:{imperial:{type:Boolean},hasPdfDetails:{type:Boolean},pdfUrl:{type:String,required:!0},showDownloadDxfBtn:{type:Boolean,default:!1},dxfUrl:{type:String,default:""}}},Xe=(a(94259),(0,Re.Z)(Ze,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"floorplan-col"}},[n("div",{staticClass:"section",attrs:{id:"floorplan"}},[n("div",{staticClass:"section-header"},[n("div",{staticClass:"section-title"},[e._v("\n        "+e._s(e.l10n.detailsFloorplanTitle)+"\n      ")]),e._v(" "),n("VfUnits",{attrs:{imperial:e.imperial},on:{update:function(t){return e.$emit("updateUnit",t)}}})],1),e._v(" "),n("div",{staticClass:"section-content download-button"},[e.hasPdfDetails?n("a",{staticClass:"btn btn-primary",staticStyle:{"font-size":"14px"},attrs:{href:e.pdfUrl,target:"_blank",rel:"noopener noreferrer"},on:{click:function(t){return e.$emit("pdfClick")}}},[n("i",{staticClass:"icon icomoon-v-file-pdf"}),e._v(" "+e._s(e.l10n.detailsFloorplanDownload)+"\n      ")]):e._e(),e._v(" "),e.hasPdfDetails&&e.showDownloadDxfBtn?n("a",{staticClass:"btn btn-primary",staticStyle:{"font-size":"14px"},attrs:{href:e.dxfUrl,target:"_blank",rel:"noopener noreferrer"},on:{click:function(t){return e.$emit("dxfClick")}}},[e._v("\n        "+e._s(e.l10n.detailsDxfDownload)+"\n      ")]):e._e()])])])}),[],!1,null,"2447b58b",null).exports);function Ye(e){return e.buildings&&e.buildings.some((function(e){return Ke(e)}))}function Ke(e){return e.floors&&e.floors.some((function(e){return Je(e)}))}function Je(e){return e.rooms&&e.rooms.length>0}function Qe(e){return e.buildings&&e.buildings.some((function(e){return function(e){return e.floors&&e.floors.some((function(e){return function(e){return!!(e.interiorArea||e.exteriorArea||e.finishedArea||e.unfinishedArea)}(e)}))}(e)}))}var et=function(e){return.001*e},tt=function(e){return e*(1/25.4)},nt=function(e){return e*(1/304.8)},it=function(e){return.001*e*.001},rt=function(e){return e*(1/92903.04)},ot=function(){function e(){o()(this,e),u()(this,"buildings",[]),u()(this,"measurementStandard",void 0)}return l()(e,[{key:"hasArea",value:function(){return this.buildings.some((function(e){return e.hasArea()}))}},{key:"hasRooms",value:function(){return this.buildings.some((function(e){return e.hasRooms()}))}}]),e}(),at=function(){function e(){o()(this,e),u()(this,"id",0),u()(this,"name",""),u()(this,"isMainBuilding",!1),u()(this,"intAreaAboveGrade",void 0),u()(this,"extAreaAboveGrade",void 0),u()(this,"intAreaTotal",void 0),u()(this,"extAreaTotal",void 0),u()(this,"finishedAreaTotal",void 0),u()(this,"unfinishedAreaTotal",void 0),u()(this,"finishedAreaAboveGrade",void 0),u()(this,"unfinishedAreaAboveGrade",void 0),u()(this,"finishedAreaBelowGrade",void 0),u()(this,"unfinishedAreaBelowGrade",void 0),u()(this,"excludedAreaAboveGrade",void 0),u()(this,"excludedAreaTotal",void 0),u()(this,"wallThickness",void 0),u()(this,"floors",[])}return l()(e,[{key:"hasArea",value:function(){return this.floors.some((function(e){return e.hasArea()}))}},{key:"hasRooms",value:function(){return this.floors.some((function(e){return e.hasRooms()}))}}]),e}(),st=function(){function e(){o()(this,e),u()(this,"id",0),u()(this,"name",""),u()(this,"isBelowGrade",!1),u()(this,"notComputed",void 0),u()(this,"interiorArea",void 0),u()(this,"exteriorArea",void 0),u()(this,"finishedArea",void 0),u()(this,"unfinishedArea",void 0),u()(this,"excludedArea",void 0),u()(this,"perimeter",void 0),u()(this,"wallThickness",void 0),u()(this,"rooms",[])}return l()(e,[{key:"hasArea",value:function(){return!!(this.interiorArea||this.exteriorArea||this.finishedArea||this.unfinishedArea)}},{key:"hasRooms",value:function(){return this.rooms.length>0}}]),e}(),lt=l()((function e(){o()(this,e),u()(this,"id",0),u()(this,"name",""),u()(this,"dims",void 0),u()(this,"area",void 0),u()(this,"wallPerimeter",void 0)}));var ct=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o()(this,e),u()(this,"raw",void 0),this.raw=t}return l()(e,[{key:"format",value:function(e){var t=e.buildings?e.buildings.map(this.formatBuildingSummary.bind(this)):[],n=new ot;return n.buildings=t,n.measurementStandard=e.measurementStandard,n}},{key:"formatBuildingSummary",value:function(e){var t=function(t){return!!e.floors&&e.floors.some((function(e){return(void 0===t||t===!e.isBelowGrade)&&e.notComputed}))},n={m:"N/C",imp:"N/C"},r=(e.finishedAreaTotal||0)-(e.finishedAreaAboveGrade||0),o=(e.unfinishedAreaTotal||0)-(e.unfinishedAreaAboveGrade||0),a=new at;return i()(a,{id:e.id||0,name:e.name||"",isMainBuilding:!!e.isMainBuilding,intAreaAboveGrade:this.formatArea2Decimals(e.intAreaAboveGrade),extAreaAboveGrade:this.formatArea2Decimals(e.extAreaAboveGrade),intAreaTotal:this.formatArea2Decimals(e.intAreaTotal),extAreaTotal:this.formatArea2Decimals(e.extAreaTotal),finishedAreaTotal:t(void 0)?n:this.formatArea2Decimals(e.finishedAreaTotal),unfinishedAreaTotal:t(void 0)?n:this.formatArea2Decimals(e.unfinishedAreaTotal),finishedAreaAboveGrade:t(!0)?n:this.formatArea2Decimals(e.finishedAreaAboveGrade),unfinishedAreaAboveGrade:t(!0)?n:this.formatArea2Decimals(e.unfinishedAreaAboveGrade),finishedAreaBelowGrade:t(!1)?n:this.formatArea2Decimals(r),unfinishedAreaBelowGrade:t(!1)?n:this.formatArea2Decimals(o),excludedAreaAboveGrade:this.formatArea2Decimals(e.excludedAreaAboveGrade),excludedAreaTotal:this.formatArea2Decimals(e.excludedAreaTotal),wallThickness:this.formatWallthickness(e.wallThickness),floors:e.floors?e.floors.map(this.formatFloorSummary.bind(this)):[]}),a}},{key:"formatFloorSummary",value:function(e){var t={m:"N/C",imp:"N/C"},n=new st;return i()(n,{id:e.id||0,name:e.name||"",notComputed:e.notComputed,isBelowGrade:!!e.isBelowGrade,interiorArea:this.formatArea2Decimals(e.interiorArea),exteriorArea:this.formatArea2Decimals(e.exteriorArea),finishedArea:e.notComputed?t:this.formatArea2Decimals(e.finishedArea),unfinishedArea:e.notComputed?t:this.formatArea2Decimals(e.unfinishedArea),excludedArea:this.formatArea2Decimals(e.excludedArea),perimeter:this.formatLength(e.perimeter),wallThickness:this.formatWallthickness(e.wallThickness),ceilingHeight:this.formatCeilingHeight(e.ceilingHeight),rooms:e.rooms?e.rooms.map(this.formatRoomSummary.bind(this)):[]}),n}},{key:"formatRoomSummary",value:function(e){var t=new lt;return t.id=e.id||0,t.name=e.name||"",e.dims&&(t.dims=this.formatRoomDims(e.dims)),e.area&&(t.area=this.formatAreaFromSqmm(e.area)),e.wallPerimeter&&(t.wallPerimeter=this.formatLength(e.wallPerimeter)),t}},{key:"formatAreaFromSqmm",value:function(e){if(e)return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{m:pt(t,it(e)),imp:mt(t,rt(e))}}(e,this.raw)}},{key:"formatArea2Decimals",value:function(e){if(e)return{m:pt(this.raw,it(e),2),imp:mt(this.raw,rt(e),2)}}},{key:"formatWallthickness",value:function(e){var t;if(e)return{m:dt(this.raw,(t=e,.1*t)),imp:"".concat(Math.round(10*tt(e))/10).concat(this.raw?"":" in")}}},{key:"formatCeilingHeight",value:function(e){if(e)return{m:"".concat(vt(this.raw,et(e))),imp:"".concat(gt(this.raw,nt(e),!0,!0))}}},{key:"formatLength",value:function(e){if(e)return{m:ht(this.raw,et(e)),imp:ft(this.raw,nt(e))}}},{key:"formatRoomDims",value:function(e){return{m:yt(this.raw,e,!1,!1),imp:yt(this.raw,e,!0,!1),impdp:yt(this.raw,e,!0,!0)}}}]),e}(),ut=function(e){return function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n?0===i?"".concat(Math.round(n)).concat(t?"":" ".concat(e)):"".concat(n.toFixed(i)).concat(t?"":" ".concat(e)):""}},dt=ut("cm"),ht=function(e,t){var n=10*t+.5+1e-8,i=Math.floor(n/10),r=Math.floor(n-10*i);return"".concat(i,".").concat(r).concat(e?"":" m")},pt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"".concat(t.toFixed(n)).concat(e?"":" m²")},ft=ut("ft"),mt=ut("sq ft"),gt=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e)return(100*t/100).toFixed(2);var r=i?" ft":"'";if(n){var o=(100*t/100).toFixed(1);return"0"!==o[o.length-1]?"".concat(o).concat(r):"".concat(o.slice(0,-2)).concat(r)}t+=.0417;var a=Math.floor(t),s=Math.floor(12*(t-a));return 0===a&&0===s?"0".concat(r):(a>0?"".concat(a,"'"):"")+(s>0?"".concat(s,'"'):"")},vt=function(e,t){var n=100*t+.5+1e-8,i=Math.floor(n/100),r=Math.floor(n-100*i);return"".concat(i,".").concat(r<10?"0".concat(r):r).concat(e?"":"m")},yt=function(e,t,n,i){var r,o;return n?(r=gt(e,nt(t[0]),i),o=gt(e,nt(t[1]),i)):(r=vt(e,et(t[0])),o=vt(e,et(t[1]))),e?{x:r,y:o}:"".concat(r," x ").concat(o)};a(84208);function bt(e){return new wt(",").build(e)}var wt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",";o()(this,e),this.delim=t}return l()(e,[{key:"build",value:function(t){return t.map(e.prototype.buildRow,this).join("\n")}},{key:"buildRow",value:function(t){return t.map(e.prototype.buildCell,this).join(this.delim)}},{key:"buildCell",value:function(e){if(void 0===e)return"";var t=this.delim,n=String(e);return n.includes(t)||/[\n"]|(^\s)|(\s$)/.test(n)?'"'.concat(n.replace(/"/g,'""'),'"'):n}}]),e}(),_t={bind:function(e,t,n){e.clickOutsideEvent=function(i){e===i.target||e.contains(i.target)||n.context[t.expression](i)},document.body.addEventListener("click",e.clickOutsideEvent,!0)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent,!0)}},xt=a(88276),Tt=a.n(xt),St={directives:{clickOutside:_t},components:{VfUnits:()=>Promise.resolve().then(a.bind(a,53363)),SlideTransition:Fe},mixins:[je.r],props:{summary:{type:Object,default:null},rawSummary:{type:Object,default:null},hasRooms:{type:Boolean},imperial:{type:Boolean},title:{type:String,default:""}},data:()=>({optionsDropped:!1}),methods:{toggleOptions(){this.optionsDropped=!this.optionsDropped},handleClickOutside(e){!this.$refs.dimensionOptionsContainer?.contains(e.target)&&this.optionsDropped&&(this.optionsDropped=!this.optionsDropped)},buildingsWithRoomSummaries(){return this.summary?.buildings?.filter((e=>Ke(e)))},floorsWithRoomSummaries:e=>e?.floors?.filter((e=>Je(e))),exportCSV(){if(!this.hasRooms)return;const e=function(e){return new ct(arguments.length>1&&void 0!==arguments[1]&&arguments[1]).format(e)}(this.rawSummary,!0),t=this.imperial?"[ft]":"[m]",n=[["Building","Floor","Room",`X${t}`,`Y${t}`,`Area${this.imperial?"[sqft]":"[m²]"}`,`Perimeter${t}`]],i=this.imperial?"imp":"m";e.buildings.forEach((e=>{e.floors.forEach((t=>{t.rooms.forEach((r=>{n.push([e.name,t.name,r.name,r.dims?r.dims[i].x:"",r.dims?r.dims[i].y:"",r.area?r.area[i]:"",r.wallPerimeter?r.wallPerimeter[i]:""])}))}))}));const r=`${this.title}${this.imperial?"-imperial":"-metric"}.csv`,o=new Blob([bt(n)],{type:"text/csv;charset=utf-8"});Tt().saveAs(o,r)}}},Et=St,Mt=(a(83758),(0,Re.Z)(Et,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section",attrs:{id:"dimensions"}},[n("div",{staticClass:"section-header"},[n("div",{staticClass:"section-title"},[e._v("\n      "+e._s(e.l10n.roomMeasurement)+"\n    ")]),e._v(" "),e.hasRooms?n("div",{ref:"dimensionOptionsContainer",attrs:{id:"dimensions__options"}},[n("a",{staticClass:"icomoon-v-more",on:{click:function(t){return e.toggleOptions()}}}),e._v(" "),n("SlideTransition",[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.optionsDropped,expression:"optionsDropped"}],attrs:{id:"dimensions__options-menu"}},[n("li",[n("a",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.handleClickOutside,expression:"handleClickOutside"}],on:{click:function(t){return e.exportCSV()}}},[e._v("\n              "+e._s(e.l10n.detailsRoomExport)+"\n            ")])])])])],1):e._e(),e._v(" "),n("VfUnits",{attrs:{imperial:e.imperial},on:{update:function(t){return e.$emit("updateUnit",t)}}})],1),e._v(" "),e.summary?n("div",{staticClass:"section-content"},[n("span",[n("i",{staticClass:"icomoon-v-info"}),e._v(" "+e._s(e.l10n.roomMeasurementDisclaimer)+"\n    ")]),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),e._l(e.buildingsWithRoomSummaries(),(function(t){return n("div",{key:t.id},[n("b",{staticClass:"building-name"},[e._v(e._s(t.name))]),e._v(" "),e._l(e.floorsWithRoomSummaries(t),(function(t){return n("div",{key:t.id,staticClass:"floor-wrapper"},[n("span",{staticClass:"floor-name"},[e._v(e._s(t.name))]),e._v(" "),e._l(t.rooms,(function(t){return n("div",{key:t.id,staticClass:"room-name"},[e._v("\n          "+e._s(t.name)+":\n          "),t.dims.joint?n("span",{staticClass:"room-dims"},[e._v(e._s(t.dims.joint))]):e._e(),e._v(" "),t.dims.joint&&t.area?n("span",{staticClass:"dims-area-separator"},[e._v(" | ")]):e._e(),e._v(" "),t.area?n("span",{staticClass:"room-area"},[e._v(e._s(t.area))]):e._e(),e._v(" "),n("br")])})),e._v(" "),n("br")],2)}))],2)}))],2):e._e()])}),[],!1,null,"0a3c784a",null).exports),At={mixins:[je.r],props:{description:{type:String,default:""}}},Ct=(a(61545),(0,Re.Z)(At,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section",attrs:{id:"description","data-viewer-bs-show":"!!description"}},[n("div",{staticClass:"section-header"},[n("div",{staticClass:"section-title"},[e._v("\n      "+e._s(e.l10n.detailsDescriptionTitle)+"\n    ")])]),e._v(" "),n("p",{staticClass:"section-content description__section-content"},[e._v(e._s(e.description))])])}),[],!1,null,"211cee90",null).exports),kt={props:{path:{type:String,default:""},hideTitle:{type:Boolean,default:!1},whitelabelled:{type:Boolean,default:!1},nolinks:{type:Boolean,default:!1},localeKey:{type:String,default:"en"},theme:{type:String,default:""}},data:()=>({htmlContent:""}),watch:{path(){this.readDoc(this.localeKey)},localeKey(){this.readDoc(this.localeKey)}},mounted(){this.path?this.readDoc(this.localeKey):this.htmlContent=""},methods:{readDoc(e){a(93512)(`./${e}/legal/${this.path}`).then((e=>{this.htmlContent=e.default})).then((()=>{if(this.nolinks){const e=this.$el.querySelectorAll("a");for(let t=0;t<e.length;t++){const n=document.createElement("span");n.textContent=e[t].href,e[t].parentNode.replaceChild(n,e[t])}}})).catch((t=>{if("en"!==e)return console.error(`LegalDoc: failed to load '${this.path}':`,t),void this.readDoc("en");this.htmlContent=`<p><b>Error</b>: failed to load <code>${this.path}</code>${t.code?`: <code>${t.code}</code>`:""}</p>`,console.error(`LegalDoc: failed to load '${this.path}':`,t)}))}}},Pt=a(99435),Dt=a.n(Pt);var Rt={components:{LegalDoc:(0,Re.Z)(kt,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:[e.theme?e.theme:"legal-doc",{"hide-h1":e.hideTitle,whitelabelled:e.whitelabelled}],domProps:{innerHTML:e._s(e.htmlContent)}})}),[],!1,(function(e){this.$style=Dt().locals||Dt()}),null,null).exports},props:{whitelabelled:{type:Boolean,default:!1},unbranded:{type:Boolean,default:!1},localeKey:{type:String,default:"en"},measurementStd:{type:String,default:""},theme:{type:String,default:""}}},$t={components:{MethodOfMeasurement:(0,Re.Z)(Rt,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("LegalDoc",{attrs:{whitelabelled:e.whitelabelled,nolinks:e.unbranded,localeKey:e.localeKey,path:""===e.measurementStd?"method-of-measurement.html":"method-of-measurement-ansi-rms.html",theme:e.theme}})}),[],!1,null,null,null).exports},props:{whitelabelled:{type:Boolean,default:!1},unbranded:{type:Boolean,default:!1},localeKey:{type:String,default:"en"},measurementStd:{type:String,default:""}}},It=(a(38116),(0,Re.Z)($t,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("MethodOfMeasurement",{attrs:{whitelabelled:e.whitelabelled,unbranded:e.unbranded,localeKey:e.localeKey,measurementStd:e.measurementStd,theme:"legal-doc-details"}})}),[],!1,null,null,null).exports),Lt={props:{icon:{type:String,required:!0},iconStyle:{type:Object,default:()=>({})},variant:{type:String,default:"primary",validator:e=>["primary","raised","dark"].includes(e)},size:{type:String,default:"md",validator:e=>["sm","md","lg","constant"].includes(e)}},computed:{buttonClasses(){return{"circle-button-primary":"primary"===this.variant,"circle-button-raised":"raised"===this.variant,"circle-button-dark":"dark"===this.variant,"circle-button-constant":"constant"===this.size,"circle-button-lg":"lg"===this.size,"circle-button-md":"md"===this.size,"circle-button-sm":"sm"===this.size}}}},Ot=(a(21502),(0,Re.Z)(Lt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["circle-button",e.buttonClasses],on:{click:function(t){return e.$emit("click")}}},[n("span",{class:["circle-button-icon",e.icon],style:e.iconStyle})])}),[],!1,null,"6636933c",null).exports),Nt={components:{CircleButton:Ot},props:{opacity:{type:String,default:"",validator:e=>["regular","dark",""].includes(e)},closeable:{type:Boolean,default:!1},containerStyle:{type:String,default:"",required:!1}},computed:{classes(){return["base-panel",this.opacity?`opacity-${this.opacity}`:""]}}},Ft=(a(45183),(0,Re.Z)(Nt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,style:e.containerStyle},[e.closeable?n("CircleButton",{staticClass:"close-button",attrs:{icon:"icomoon-v-cross",size:"constant"},on:{click:function(t){return e.$emit("close")}}}):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,"06587610",null).exports),Bt={props:{weight:{type:String,default:"bold",validator:e=>["bold","regular","light"].includes(e)},size:{type:String,default:"md",validator:e=>["xsm","sm","md","lg"].includes(e)}}},Ut=(a(90797),(0,Re.Z)(Bt,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:["base-header",e.weight,e.size]},[e._t("default")],2)}),[],!1,null,"b41984ac",null).exports),zt={components:{BasePanel:Ft,BaseHeader:Ut},props:{header:{type:String,default:""},size:{type:String,default:"md",validator:e=>["md","dynamic"].includes(e)},scrollable:{type:Boolean,default:!1}},computed:{panelClasses(){return["base-modal-panel",{"base-modal-panel-md":"md"===this.size,"base-modal-panel-dynamic":"dynamic"===this.size}]}}},Vt=(a(94081),(0,Re.Z)(zt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-modal-overlay",on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("hideModal")}}},[n("div",{staticClass:"modal-container"},[n("BasePanel",{class:e.panelClasses,attrs:{opacity:"dark",closeable:""},on:{close:function(t){return e.$emit("hideModal")}}},[n("span",{class:{"scroll-body":e.scrollable}},[e.header?n("BaseHeader",{staticClass:"base-modal-header",attrs:{weight:"bold",size:"lg"}},[e._v("\n          "+e._s(e.header)+"\n        ")]):e._e(),e._v(" "),e._t("default")],2)])],1)])}),[],!1,null,"34444c44",null).exports),Ht={components:{CircleButton:Ot},props:{closeable:{type:Boolean,default:!1},showConfirm:{type:Boolean,required:!1,default:!1},variant:{type:String,default:"primary",validator:e=>["primary","transparent"].includes(e)}}},jt=(a(64593),(0,Re.Z)(Ht,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["button-toolbar",e.variant]},[e.closeable?n("CircleButton",{staticClass:"close-button",attrs:{icon:"icomoon-v-cross",size:"constant"},on:{click:function(t){return e.$emit("close")}}}):e._e(),e._v(" "),e.showConfirm?n("CircleButton",{staticClass:"confirm-button",attrs:{icon:"icomoon-v-checkmark",size:"constant"},on:{click:function(t){return e.$emit("confirm")}}}):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,"28e167ea",null).exports),Wt={props:{icon:{type:String,required:!0},iconStyle:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},active:{type:Boolean,default:!1}}},Gt=(a(55819),(0,Re.Z)(Wt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["icon-button",{"icon-button-disabled":e.disabled,"icon-button-active":e.active}],on:{click:function(t){return e.$emit("click",t)}}},[n("span",{class:e.icon,style:e.iconStyle})])}),[],!1,null,"a0e66cdc",null).exports),qt={data:function(){return{isFullscreen:!1}},methods:{toggleFullscreen:function(e){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?this.exitFullscreen():this.enterFullscreen(e)},enterFullscreen:function(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},exitFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},onFullscreenChange:function(){this.isFullscreen=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}},created:function(){window.addEventListener("fullscreenchange",this.onFullscreenChange),window.addEventListener("webkitfullscreenchange",this.onFullscreenChange),window.addEventListener("mozfullscreenchange",this.onFullscreenChange),window.addEventListener("MSFullscreenChange",this.onFullscreenChange)},mounted:function(){this.onFullscreenChange()},beforeDestroy:function(){window.removeEventListener("fullscreenchange",this.onFullscreenChange),window.removeEventListener("webkitfullscreenchange",this.onFullscreenChange),window.removeEventListener("mozfullscreenchange",this.onFullscreenChange),window.removeEventListener("MSFullscreenChange",this.onFullscreenChange)}},Zt={components:{IconButton:Gt},mixins:[je.r,qt],props:{showFullscreen:{type:Boolean,required:!0,default:!1},showNewWindow:{type:Boolean,required:!1,default:!1},targetElement:{type:HTMLElement,required:!0}},methods:{onFullscreenButtonClick(){this.toggleFullscreen(this.targetElement),this.$emit("fullscreenChange")},newWindow(){this.$emit("toggleShowNewWindow")}}},Xt=(a(57992),(0,Re.Z)(Zt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-screen-btn"},[e.showFullscreen&&!e.showNewWindow?n("IconButton",{staticClass:"fullscreen-button",attrs:{title:e.l10n.fullscreenTooltip,icon:e.isFullscreen?"icomoon-v-shrink1":"icomoon-v-enlarge"},on:{click:e.onFullscreenButtonClick}}):e._e(),e._v(" "),e.showNewWindow?n("IconButton",{staticClass:"shownewwindow-button",attrs:{title:e.l10n.fullscreenTooltip,icon:"icomoon-v-enlarge"},on:{click:e.newWindow}}):e._e()],1)}),[],!1,null,"23f28574",null).exports),Yt={components:{IconButton:Gt},mixins:[je.r],props:{showVr:{type:Boolean,required:!0}}},Kt=(a(85257),(0,Re.Z)(Yt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showVr?n("IconButton",{staticClass:"vr-button",attrs:{title:e.l10n.vrTooltip,icon:"icomoon-v-vr-headset"},on:{click:function(t){return e.$emit("vrClick")}}}):e._e()}),[],!1,null,"0dea918e",null).exports),Jt={components:{ButtonToolbar:jt,FullscreenButton:Xt,VrButton:Kt},props:{showFullscreen:{type:Boolean,required:!0,default:!1},showNewWindow:{type:Boolean,required:!1,default:!1},showVr:{type:Boolean,required:!1,default:!1},fullscreenElement:{type:HTMLElement,required:!0},fullscreenButtonStyle:{type:Object,default:()=>({})}}},Qt=(0,Re.Z)(Jt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ButtonToolbar",{staticClass:"display-tools",attrs:{variant:"transparent"}},[n("VrButton",{staticClass:"vr-button",attrs:{showVr:e.showVr},on:{vrClick:function(t){return e.$emit("vrClick")}}}),e._v(" "),e.showFullscreen||e.showNewWindow?n("div",{style:e.fullscreenButtonStyle},[n("FullscreenButton",{staticClass:"fullscreen-button",attrs:{showFullscreen:e.showFullscreen,showNewWindow:e.showNewWindow,targetElement:e.fullscreenElement},on:{fullscreenChange:function(t){return e.$emit("fullscreenChange")},toggleShowNewWindow:function(t){return e.$emit("toggleShowNewWindow")}}})],1):e._e()],1)}),[],!1,null,null,null).exports,en={components:{VfDescription:Ct,VfFloorplan:Xe,VfDimensions:Mt,VfArea:Ge,DisplayTools:Qt,BaseModal:Vt,ViewerMethodOfMeasurement:It},mixins:[je.r],props:{detailsLayout:{type:String,required:!0},dims:{type:Object,required:!0},vfResized:{type:Boolean},summary:{type:Object,default:()=>({})},rawSummary:{type:Object,default:()=>({})},hasRooms:{type:Boolean},hasArea:{type:Boolean},description:{type:String,default:""},hasDescriptionDetails:{type:Boolean},title:{type:String,default:""},imperial:{type:Boolean},hasPdfDetails:{type:Boolean},nodims:{type:Boolean},noroomarea:{type:Boolean},noarea:{type:Boolean},nocontrols:{type:Boolean},showTotalArea:{type:Boolean},reportFinishedArea:{type:Boolean},noInteriorArea:{type:Boolean},assets:{type:Object,required:!0},fullscreenApi:{type:Object,required:!0},measurementStd:{type:String,default:""},whitelabel:{type:Boolean,default:!1},unbranded:{type:Boolean,default:!1},showDownloadDxfBtn:{type:Boolean,default:!1}},data:()=>({areaOptions:{},fullscreenButtonStyle:{},showDisclaimer:!1}),computed:{pdfUrl(){return this.assets.pdf(this.imperial,this.localeState.active)},dxfUrl(){return this.assets.dxfZip(this.imperial)}},watch:{"localeState.active"(){this.$emit("updateFullSummary")},vfResized(){this.resizeFn()}},beforeCreate(){this.$emit("detailsMounted")},mounted(){this.resizeFn()},beforeUpdate(){this.areaOptions={imperial:this.imperial,showTotalArea:this.showTotalArea,hasAreaDetails:!this.noarea&&this.hasArea,reportFinishedArea:this.reportFinishedArea,noInteriorArea:this.noInteriorArea}},methods:{resizeFn(){this.$refs.details.style.height=`${this.dims.getViewerHeight()}px`,this.$refs.details&&this.$refs.details.parentNode&&(this.$refs.details.parentNode.style.paddingTop=`${this.dims.barHeight}px`),Pe.default.nextTick().then((()=>{const e=this.$refs.detailsContainer,t=this.$refs.fullscreenBtn;t&&e.scrollHeight>e.clientHeight?this.fullscreenButtonStyle={paddingRight:"0.6em"}:t&&(this.fullscreenButtonStyle={})}))},updateUnit(e){this.$emit("setImperial",e)},toggleLightboxDisclaimer(){this.showDisclaimer=!this.showDisclaimer}}},tn=(a(86821),(0,Re.Z)(en,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"details",attrs:{id:"details"}},[n("BaseModal",{directives:[{name:"show",rawName:"v-show",value:e.showDisclaimer,expression:"showDisclaimer"}],attrs:{size:"dynamic",scrollable:""},on:{hideModal:e.toggleLightboxDisclaimer}},[n("ViewerMethodOfMeasurement",{attrs:{whitelabelled:e.whitelabel,unbranded:e.unbranded,localeKey:e.localeState.active,measurementStd:e.measurementStd}})],1),e._v(" "),n("div",{ref:"detailsContainer",staticClass:"details-container"},[e.hasDescriptionDetails?n("div",{staticClass:"section-padding"},[n("VfDescription",{attrs:{description:e.description}})],1):e._e(),e._v(" "),e.hasPdfDetails?n("div",{staticClass:"section-padding"},[n("VfFloorplan",{attrs:{imperial:e.imperial,hasPdfDetails:e.hasPdfDetails,pdfUrl:e.pdfUrl,dxfUrl:e.dxfUrl,showDownloadDxfBtn:e.showDownloadDxfBtn},on:{updateUnit:e.updateUnit,pdfClick:function(t){return e.$emit("pdfClick")},dxfClick:function(t){return e.$emit("dxfClick")}}})],1):e._e(),e._v(" "),n("div",{class:e.detailsLayout},[e.nodims&&e.noroomarea||!e.hasRooms?e._e():n("div",{staticClass:"section-padding col-md-50percent"},[n("VfDimensions",{attrs:{summary:e.summary,rawSummary:e.rawSummary,hasRooms:e.hasRooms,imperial:e.imperial,title:e.title},on:{updateUnit:e.updateUnit}})],1),e._v(" "),!e.noarea&&e.hasArea?n("div",{staticClass:"section-padding col-md-50percent"},[n("VfArea",{attrs:{summary:e.summary,options:e.areaOptions},on:{updateUnit:e.updateUnit,disclaimer:e.toggleLightboxDisclaimer}})],1):e._e()])]),e._v(" "),n("div",{staticClass:"btnbar right bottom"},[n("DisplayTools",{ref:"fullscreenBtn",attrs:{showVr:!1,showFullscreen:!e.nocontrols,fullscreenElement:e.fullscreenApi.elem[0],showNewWindow:!1,fullscreenButtonStyle:e.fullscreenButtonStyle},on:{fullscreenChange:e.fullscreenApi.listener}})],1)],1)}),[],!1,null,"1482c025",null).exports),nn=(a(9293),{components:{BoldButton:(0,Re.Z)({},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"bold-button",on:{click:function(t){return e.$emit("click",t)}}},[e._t("default")],2)}),[],!1,null,"7135684c",null).exports},mixins:[je.r]}),rn=(a(75183),(0,Re.Z)(nn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BoldButton",{staticClass:"help-video-button",on:{click:function(t){return t.stopPropagation(),e.$emit("click",t)}}},[n("i",{staticClass:"help-video-button-icon icomoon-v-play"}),e._v(" "),n("div",{staticClass:"help-video-button-text"},[n("div",[e._v(e._s(e.l10n.helpVideoButton))])])])}),[],!1,null,"13bfc197",null).exports),on={props:{weight:{type:String,default:"regular",validator:e=>["regular","light","bold"].includes(e)},labelStyle:{type:Object,required:!1,default:()=>{}},size:{type:String,default:"sm",validator:e=>["xsm","sm","md"].includes(e)}}},an=(a(48775),(0,Re.Z)(on,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:["base-label",e.weight,e.size],style:e.labelStyle},[e._t("default")],2)}),[],!1,null,"4d8f67ca",null).exports),sn={directives:{clickOutside:{bind:function(e,t,n){e.clickOutsideEvent=function(i){e===i.target||e.contains(i.target)||n.context[t.expression](i)},document.documentElement.addEventListener("mouseup",e.clickOutsideEvent,!0),document.documentElement.addEventListener("touchend",e.clickOutsideEvent,!0)},unbind:function(e){document.documentElement.removeEventListener("mouseup",e.clickOutsideEvent,!0),document.documentElement.removeEventListener("touchend",e.clickOutsideEvent,!0)}}}},ln={components:{BaseLabel:an,SlideTransition:Fe},mixins:[sn],provide(){return{[Oe]:{hide:this.hideMenu}}},props:{text:{type:String,default:""},right:{type:Boolean,default:!1},dropup:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},menuVariant:{type:String,default:"primary",validator:e=>["primary","dark"].includes(e)},menuSize:{type:String,default:"medium",validator:e=>["small","medium","dynamic"].includes(e)},forceOpen:{type:Boolean,default:!1},maxDynamicWidth:{type:String,default:"none"},maxDynamicHeight:{type:String,default:"none"},forcedMenuStyle:{type:Object,default:()=>({})},pinned:{type:Boolean,required:!1,default:!1}},data:()=>({open:!1}),computed:{menuClasses(){const{menuVariant:e,right:t,dropup:n,menuSize:i,dropleft:r}=this;return["base-dropdown-menu",e,i,{left:!t,right:t,dropdown:!n&&!r,dropup:n,dropleft:r&&!n}]},menuStyle(){return"dynamic"!==this.menuSize?this.forcedMenuStyle:{...this.forcedMenuStyle,maxWidth:this.maxDynamicWidth,maxHeight:this.maxDynamicHeight}}},watch:{forceOpen(e,t){e!==t&&(this.open=e)}},methods:{hideMenu(){this.pinned||(this.open=!1)},toggleMenu(){this.open=!this.open},onButtonClick(){this.toggleMenu(),this.$emit("buttonClick")}}},cn=(a(13083),(0,Re.Z)(ln,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],staticClass:"base-dropdown"},[n("div",{staticClass:"base-dropdown-button",on:{click:e.onButtonClick}},[e._t("button",(function(){return[n("BaseLabel",{staticClass:"default-button-content"},[e._v("\n        "+e._s(e.text)+"\n      ")])]}),{isDropdownMenuOpen:e.open})],2),e._v(" "),n("SlideTransition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],class:["base-dropdown-menu",e.menuClasses],style:e.menuStyle},[e._t("menu")],2)])],1)}),[],!1,null,"5301bf8f",null).exports),un={inject:{dropdownMenu:Oe},props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},indented:{type:Boolean,default:!1},preventHide:{type:Boolean,default:!1},hidden:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:"sm",validator:e=>["xsm","sm","md"].includes(e)},editable:{type:Boolean,required:!1,default:!1}},computed:{hideItem(){return this.hidden?"color: #C51313":""}},methods:{onClick(){this.dropdownMenu&&!this.preventHide&&this.dropdownMenu.hide(),this.$emit("click")},onEdit(){this.$emit("editClick")}}},dn=(a(2290),(0,Re.Z)(un,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"dropdown-item-container",class:[{bold:e.active}]},[n("div",{class:["base-dropdown-item",e.size,{active:e.active,disabled:e.disabled,indented:e.indented}],style:e.hideItem,on:{click:e.onClick}},[e._t("default")],2),e._v(" "),e.editable?n("i",{staticClass:"icomoon-v-edit pencil-icon",on:{click:function(t){return t.stopPropagation(),e.onEdit.apply(null,arguments)}}}):e._e()])}),[],!1,null,"025eb3b8",null)),hn=dn.exports,pn=(a(4450),(0,Re.Z)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"base-dropdown-divider"})}),[],!1,null,"d7f6fdea",null).exports),fn={props:{size:{type:String,default:"dynamic",validator:e=>["dynamic","md","lg"].includes(e)},variant:{type:String,default:"primary",validator:e=>["primary","secondary","dark"].includes(e)}}},mn=(a(74133),(0,Re.Z)(fn,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{class:["pill-button",e.size,e.variant],on:{click:function(t){return e.$emit("click",t)}}},[e._t("default")],2)}),[],!1,null,"eea93790",null).exports),gn={components:{PillButton:mn},props:{title:{type:String,default:""},label:{type:String,required:!0}}},vn=(a(79729),(0,Re.Z)(gn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-dropdown-button"},[e.title?n("div",{staticClass:"base-dropdown-button-title"},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),e._v(" "),n("PillButton",{attrs:{size:"md",variant:"dark"},on:{click:function(t){return e.$emit("click")}}},[e._v("\n    "+e._s(e.label)+"\n  ")])],1)}),[],!1,null,"431e3a38",null).exports),yn={components:{BaseLabel:an},props:{label:{type:String,required:!0},picked:{type:Boolean,default:!1}}},bn=(a(85040),{components:{BaseRadioOption:(0,Re.Z)(yn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-radio-option",on:{click:function(t){return e.$emit("click")}}},[n("div",{staticClass:"base-radio-option-circle"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.picked,expression:"picked"}],staticClass:"base-radio-option-fill"})]),e._v(" "),n("BaseLabel",{staticClass:"base-radio-option-label",attrs:{size:"sm"}},[e._v("\n    "+e._s(e.label)+"\n  ")])],1)}),[],!1,null,"2ba60ba0",null).exports},props:{options:{type:Array,required:!0},value:{type:String,default:""}},data:()=>({picked:""}),watch:{value(){this.setPickedFromValue()}},mounted(){this.setPickedFromValue()},methods:{setPickedFromValue(){this.picked=this.value},onClick(e){this.$emit("input",e),this.picked=e.value}}}),wn=(a(34210),{components:{BaseRadio:(0,Re.Z)(bn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-radio"},e._l(e.options,(function(t,i){return n("BaseRadioOption",{key:i,attrs:{label:t.label,picked:t.value===e.picked},on:{click:function(n){return e.onClick(t)}}})})),1)}),[],!1,null,"6ba44341",null).exports},props:{title:{type:String,default:""},options:{type:Array,required:!0},value:{type:String,default:""}}}),_n=(a(44278),(0,Re.Z)(wn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-dropdown-radio"},[e.title?n("div",{staticClass:"base-dropdown-radio-title"},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),e._v(" "),n("BaseRadio",{attrs:{options:e.options,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})],1)}),[],!1,null,"a986f8a6",null).exports),xn=a(57313);function Tn(e,t){var n=I()(e);if(R()){var i=R()(e);t&&(i=i.filter((function(t){return P()(e,t).enumerable}))),n.push.apply(n,i)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):C()?M()(e,C()(n)):Tn(Object(n)).forEach((function(t){S()(e,t,P()(n,t))}))}return e}var En=function(){function e(){o()(this,e)}return l()(e,null,[{key:"publicView",value:function(e,t){var n=this.domainPublic(e).branded,i=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(n,"/").concat(e.identifier()).concat(i)}},{key:"publicViewUnbranded",value:function(e,t){var n=this.domainPublic(e).unbranded;if(!n)return this.publicView(e,Sn(Sn({},t||{}),{},{unbranded:!0}));var i=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(n,"/").concat(e.identifier()).concat(i)}},{key:"publicVid",value:function(e){return"".concat(Ae.url.viewer.branded,"/").concat(window.encodeURIComponent(e))}},{key:"publicVidPhotos",value:function(e){return"".concat(Ae.url.photos.branded,"/").concat(window.encodeURIComponent(e))}},{key:"publicVidRadix",value:function(e){return"".concat(Ae.url.radix.branded,"/").concat(window.encodeURIComponent(e))}},{key:"embedView",value:function(e){var t=this.domainPublic(e).branded;return"".concat(t,"/embed/").concat(e.identifier())}},{key:"embedScript",value:function(e){return"".concat(this.domainPublic(e).branded).concat(Ae.url.embedScript)}},{key:"domainPublic",value:function(e){return e.iguide.isPhotos()?Ae.url.photos:e.iguide.isRadix()?Ae.url.radix:Ae.url.viewer}},{key:"iguideMap",value:function(){return"".concat(Ae.url.viewer.branded,"/map/")}},{key:"iguideMapAgentSearch",value:function(e){return"".concat(Ae.url.viewer.branded,"/map/global/?agent=").concat(encodeURIComponent(e))}},{key:"termsOfService",value:function(){return"".concat(Ae.url.viewer.branded,"/terms/")}},{key:"virtualShowing",value:function(e){if(!Ae.url.showing)return"";var t=this.publicView(e);return"".concat(Ae.url.showing,"/create?url=").concat(window.encodeURIComponent(t))}},{key:"portalIndex",value:function(){return Ae.url.portal}},{key:"portalSignIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.pathname,n=t||e?"?".concat((0,xn.Ie)({next:t,requestToken:e})):"";return"".concat(Ae.url.portal,"/auth/signin").concat(n)}},{key:"signIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname;return"".concat(Ae.url.portal,"/auth/signin/?next=").concat(window.encodeURIComponent(e))}},{key:"signUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname;return"".concat(Ae.url.portal,"/auth/signup/?next=").concat(window.encodeURIComponent(e))}},{key:"googleSingleSignOn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=e||t?"?".concat((0,xn.Ie)({next:e,requestToken:t})):"";return"".concat(Ae.url.api,"/oauth/google/connect").concat(n)}},{key:"billingXeroLogin",value:function(){return"".concat(Ae.url.api,"/billing/xero/login")}},{key:"createIGuide",value:function(){return"".concat(Ae.url.portal,"/iguides/new")}},{key:"listIGuides",value:function(){return"".concat(Ae.url.portal,"/iguides/")}},{key:"iguideDetails",value:function(e){return"".concat(Ae.url.portal,"/iguides/edit/").concat(e)}},{key:"iguideReviewPrepublishedData",value:function(e){return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/prepublished-data")}},{key:"iguideReviewPreviewData",value:function(e){return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/preview")}},{key:"iguideStitchUpload",value:function(e){return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/upload")}},{key:"packageNAddons",value:function(e){return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/package-n-addons")}},{key:"requestUpdate",value:function(e){return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/request-update")}},{key:"iguideDraftUpload",value:function(e){return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/upload/data")}},{key:"editView",value:function(e){return this.viewDetails(e.iguide.id,e.isDefault?"default":e.id)}},{key:"replacePano",value:function(e){return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/replace-pano")}},{key:"viewDetails",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/views/").concat(t)}},{key:"viewReport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/views/").concat(t,"/report")}},{key:"viewEditData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/views/").concat(t,"/general")}},{key:"viewTagEditor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/views/").concat(t,"/tags")}},{key:"operatorDashboard",value:function(e){return"".concat(Ae.url.portal,"/dashboard/").concat(Mn(e))}},{key:"operatorIntegrations",value:function(){return"".concat(Ae.url.portal,"/dashboard/integrations/")}},{key:"settings",value:function(e){return"".concat(Ae.url.portal,"/settings/").concat(Mn(e))}},{key:"featureSheet",value:function(e){return"".concat(Ae.url.portal,"/feature_sheet/").concat(e?"?g=".concat(e):"")}},{key:"streetviewExport",value:function(e,t,n){return"".concat(Ae.url.portal,"/street-view-exporter/?")+"iguideId=".concat(e,"&viewId=").concat(t,"&authtoken=").concat(n)}},{key:"embedTool",value:function(e){return"".concat(Ae.url.portal,"/embed/").concat(Mn(e))}},{key:"adminDashboard",value:function(e){return"".concat(Ae.url.portal,"/admin/").concat(Mn(e))}},{key:"masterQueue",value:function(){return"".concat(Ae.url.portal,"/admin/mq/")}},{key:"masterQueueEditWorkOrder",value:function(e){return"".concat(Ae.url.portal,"/admin/mq/edit/").concat(e,"/")}},{key:"adminUserProfile",value:function(e){return"".concat(Ae.url.portal,"/admin/users/edit/").concat(e)}},{key:"adminUserProfileBilling",value:function(t){return"".concat(e.adminUserProfile(t),"/billing")}},{key:"invoiceDetails",value:function(e){return"".concat(Ae.url.portal,"/admin/billing/invoices/").concat(e,"/")}},{key:"supportPage",value:function(e){return"".concat(Ae.url.portal,"/support/").concat(Mn(e))}},{key:"swReleasePage",value:function(e){return"".concat(Ae.url.portal,"/support/sw/").concat(e)}},{key:"swReleaseDownloadPage",value:function(e,t){return"".concat(Ae.url.portal,"/support/sw/").concat(e,"/download/").concat(t)}},{key:"viewAnalyticsSubscription",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return"".concat(Ae.url.portal,"/iguides/edit/").concat(e,"/views/").concat(t,"/analytics/subscriptions")}}]),e}(),Mn=function(e){return e&&"/"===e[0]?e.substr(1):e||""},An=Pe.default.extend({methods:{onLinkClick:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(window===window.parent);if(!n&&i){var r;e.preventDefault();try{r=window.open(t)}catch(e){console.log("Could not open link in new window",e)}r&&!r.closed&&void 0!==r.closed||this.$emit("popupBlocked")}}}}),Cn={mixins:[An],props:{url:{type:String,required:!0},variant:{type:String,default:"primary",validator:e=>["primary","soft"].includes(e)},internal:{type:Boolean,required:!1},hideLineHeight:{type:Boolean,default:!1,required:!1}},methods:{handleClick(e){this.onLinkClick(e,this.url,this.internal)}}},kn=Cn,Pn=(a(50376),(0,Re.Z)(kn,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{class:["base-link",e.variant,{hideLineHeight:e.hideLineHeight}],attrs:{href:e.url,target:!e.internal&&"_blank",rel:"noopener"},on:{click:e.handleClick}},[e._t("default")],2)}),[],!1,null,"12bd921b",null)),Dn=Pn.exports,Rn={props:{height:{type:Number,default:8}},computed:{style(){return{height:`${this.height}px`}}}},$n=Rn,In=(a(2984),(0,Re.Z)($n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vertical-divider",style:e.style})}),[],!1,null,"7155ff9b",null)),Ln=In.exports,On={components:{BaseLink:Dn,VerticalDivider:Ln},mixins:[je.r],props:{view:{type:Object,required:!0}},computed:{editUrl(){return En.editView(this.view)},termsUrl:()=>En.termsOfService()},methods:{handlePopupBlocked(){this.$root.$emit("toolsPopupBlocked")}}},Nn=On,Fn=(a(78619),(0,Re.Z)(Nn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"portal-links"},[n("BaseLink",{staticClass:"manage-link",attrs:{url:e.editUrl,variant:"soft"},on:{popupBlocked:e.handlePopupBlocked}},[e._v("\n    "+e._s(e.l10n.portalLinksManage)+"\n  ")]),e._v(" "),n("VerticalDivider"),e._v(" "),n("BaseLink",{staticClass:"privacy-link",attrs:{url:"https://goiguide.com/privacy-policy",variant:"soft"},on:{popupBlocked:e.handlePopupBlocked}},[e._v("\n    "+e._s(e.l10n.portalLinksPrivacy)+"\n  ")]),e._v(" "),n("VerticalDivider"),e._v(" "),n("BaseLink",{staticClass:"terms-link",attrs:{url:e.termsUrl,variant:"soft"},on:{popupBlocked:e.handlePopupBlocked}},[e._v("\n    "+e._s(e.l10n.portalLinksTerms)+"\n  ")])],1)}),[],!1,null,"56093f03",null)),Bn=Fn.exports,Un={components:{BaseDropdown:cn,BaseDropdownItem:hn,BaseDropdownDivider:pn,IconButton:Gt,BaseDropdownButton:vn,BaseDropdownRadio:_n,PortalLinks:Bn},mixins:[je.r],props:{hideAutoplay:{type:Boolean,default:!1},overlapping:{type:Boolean,default:!1},view:{type:Object,required:!0},isImperial:{type:Boolean,required:!0},hidePortalLinks:{type:Boolean,default:!1},dropupMenuStyle:{type:Object,default:()=>({})},autoplayActive:{type:Boolean,default:!1,required:!1},gyroscopeActive:{type:Boolean,default:!1,required:!1},showGyro:{type:Boolean,default:!1,required:!1}},computed:{units(){return[{label:this.l10n.imperialOption,value:"imperial"},{label:this.l10n.metricOption,value:"metric"}]},selectedUnit(){return this.isImperial?"imperial":"metric"}},methods:{onUnitRadioInput({value:e}){this.$emit("setUnit",e)}}},zn=Un,Vn=(0,Re.Z)(zn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseDropdown",{staticClass:"tour-options-dropup",attrs:{dropup:"",menuVariant:e.overlapping?"dark":"primary",forcedMenuStyle:e.dropupMenuStyle},scopedSlots:e._u([{key:"button",fn:function(){return[n("IconButton",{staticClass:"tour-options-toggle",attrs:{icon:"icomoon-v-more"}})]},proxy:!0},{key:"menu",fn:function(){return[n("BaseDropdownItem",{staticClass:"navigation-help-item",on:{click:function(t){return e.$emit("navigationHelp")}}},[e._v("\n      "+e._s(e.l10n.navigationHelpOption)+"\n    ")]),e._v(" "),n("BaseDropdownDivider"),e._v(" "),n("BaseDropdownButton",{staticClass:"floor-screenshot-item",attrs:{title:e.l10n.floorScreenshotOption+":",label:e.l10n.downloadButton},on:{click:function(t){return e.$emit("floorScreenshot")}}}),e._v(" "),n("BaseDropdownDivider"),e._v(" "),e.hideAutoplay?e._e():n("BaseDropdownButton",{staticClass:"autoplay-item",attrs:{title:e.l10n.autoplayOption+":",label:e.autoplayActive?e.l10n.stopButton:e.l10n.startButton},on:{click:function(t){return e.$emit("autoplay")}}}),e._v(" "),e.showGyro?n("BaseDropdownDivider"):e._e(),e._v(" "),e.showGyro?n("BaseDropdownButton",{staticClass:"gyroscope-item",attrs:{title:e.l10n.gyroscopeOption+":",label:e.gyroscopeActive?e.l10n.stopButton:e.l10n.startButton},on:{click:function(t){return e.$emit("gyroscope")}}}):e._e(),e._v(" "),e.hideAutoplay?e._e():n("BaseDropdownDivider"),e._v(" "),n("BaseDropdownRadio",{staticClass:"units-item",attrs:{title:e.l10n.unitsOption+":",options:e.units,value:e.selectedUnit},on:{input:function(t){return e.onUnitRadioInput(t)}}}),e._v(" "),e.hidePortalLinks?e._e():n("div",{staticClass:"portal-links"},[n("BaseDropdownDivider"),e._v(" "),n("PortalLinks",{attrs:{view:e.view}})],1)]},proxy:!0}])})}),[],!1,null,null,null),Hn=Vn.exports,jn={components:{IconButton:Gt,ButtonToolbar:jt,TourOptionsDropup:Hn},mixins:[je.r],props:{isImperial:{type:Boolean,required:!0},hideMeasureButton:{type:Boolean,default:!1},hideTagListButton:{type:Boolean,default:!1},hideShareButton:{type:Boolean,required:!1},hideAutoplayButton:{type:Boolean,required:!1},view:{type:Object,required:!0},showTagList:{type:Boolean,default:!1},hidePortalLinks:{type:Boolean,default:!1},showGyro:{type:Boolean,default:!1,required:!1},editTags:{type:Boolean,default:!1,required:!1}},computed:{showCreateTag(){return!this.hideTagListButton&&this.editTags}},mounted(){this.$root.$on("toolsPopupBlocked",this.handlePopupBlocked)},beforeDestroy(){this.$root.$off("toolsPopupBlocked",this.handlePopupBlocked)},methods:{handlePopupBlocked(){this.$emit("popupBlocked")}}},Wn=jn,Gn=(0,Re.Z)(Wn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ButtonToolbar",{staticClass:"tour-tools"},[e.showCreateTag?n("IconButton",{staticClass:"create-tag-button",attrs:{title:e.l10n.newTagTooltip,icon:"icomoon-v-new-tag"},on:{click:function(t){return e.$emit("createTag")}}}):e._e(),e._v(" "),e.hideMeasureButton||e.editTags?e._e():n("IconButton",{staticClass:"measure-button",attrs:{title:e.l10n.measureTooltip,icon:"icomoon-v-ruler"},on:{click:function(t){return e.$emit("measure")}}}),e._v(" "),e.hideTagListButton?e._e():n("IconButton",{staticClass:"tag-list-button",attrs:{title:e.l10n.tagListTooltip,icon:"icomoon-v-taglist",active:e.showTagList},on:{click:function(t){return e.$emit("tagList")}}}),e._v(" "),e.hideShareButton||e.editTags?e._e():n("IconButton",{staticClass:"share-button",attrs:{title:e.l10n.shareTooltip,icon:"icomoon-v-share"},on:{click:function(t){return e.$emit("share")}}}),e._v(" "),e.editTags?e._e():n("TourOptionsDropup",{staticClass:"tour-options",attrs:{hideAutoplay:e.hideAutoplayButton,view:e.view,isImperial:e.isImperial,hidePortalLinks:e.hidePortalLinks,showGyro:e.showGyro},on:{navigationHelp:function(t){return e.$emit("navigationHelp")},measurementHelp:function(t){return e.$emit("measurementHelp")},floorScreenshot:function(t){return e.$emit("floorScreenshot")},autoplay:function(t){return e.$emit("autoplay")},gyroscope:function(t){return e.$emit("gyroscope")},setUnit:function(t){return e.$emit(t)}}})],1)}),[],!1,null,null,null),qn=Gn.exports,Zn={components:{IconButton:Gt,ButtonToolbar:jt,TourOptionsDropup:Hn},mixins:[je.r],props:{muted:{type:Boolean,default:!1},hideTagListButton:{type:Boolean,default:!1},showTagList:{type:Boolean,default:!1},hideAutoplayButton:{type:Boolean,required:!1},view:{type:Object,required:!0},isImperial:{type:Boolean,required:!0},hidePortalLinks:{type:Boolean,default:!1},hideShareButton:{type:Boolean,required:!1},showGyro:{type:Boolean,default:!1,required:!1}},computed:{muteButtonIcon(){return this.muted?"icomoon-v-volume-mute2":"icomoon-v-volume-max"}}},Xn=Zn,Yn=(0,Re.Z)(Xn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ButtonToolbar",{staticClass:"autoplay-tools",attrs:{closeable:""},on:{close:function(t){return e.$emit("stop")}}},[e.hideTagListButton?e._e():n("IconButton",{staticClass:"tag-list-button",attrs:{title:e.l10n.tagListTooltip,icon:"icomoon-v-taglist",active:e.showTagList},on:{click:function(t){return e.$emit("tagList")}}}),e._v(" "),e.hideShareButton?e._e():n("IconButton",{staticClass:"share-button",attrs:{title:e.l10n.shareTooltip,icon:"icomoon-v-share"},on:{click:function(t){return e.$emit("share")}}}),e._v(" "),n("IconButton",{staticClass:"mute-button",attrs:{title:e.l10n.muteTooltip,icon:e.muteButtonIcon},on:{click:function(t){return e.$emit("mute")}}}),e._v(" "),n("TourOptionsDropup",{staticClass:"tour-options",attrs:{hideAutoplay:e.hideAutoplayButton,view:e.view,isImperial:e.isImperial,hidePortalLinks:e.hidePortalLinks,dropupMenuStyle:{marginBottom:"24px"},showGyro:e.showGyro,autoplayActive:""},on:{navigationHelp:function(t){return e.$emit("navigationHelp")},measurementHelp:function(t){return e.$emit("measurementHelp")},floorScreenshot:function(t){return e.$emit("floorScreenshot")},autoplay:function(t){return e.$emit("autoplay")},gyroscope:function(t){return e.$emit("gyroscope")},setUnit:function(t){return e.$emit(t)}}})],1)}),[],!1,null,null,null),Kn=Yn.exports,Jn={props:{svgName:{type:String,required:!0},disabled:{type:Boolean,default:!1},imgStyle:{type:String,required:!1,default:""}},data:()=>({svgUrl:""}),watch:{svgName(){this.renderImage()}},mounted(){this.renderImage()},methods:{renderImage(){a(13523)(`./${this.svgName}.svg`).then((e=>{this.svgUrl=e.default})).catch((e=>{console.error(`Error loading svg: ${e}`)}))}}},Qn=Jn,ei=(a(1744),(0,Re.Z)(Qn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["svg-container",{"svg-container-disabled":e.disabled}],on:{click:function(t){return e.$emit("click",t)}}},[n("img",{staticClass:"svg-button",style:e.imgStyle,attrs:{src:e.svgUrl}})])}),[],!1,null,"4c8bf407",null)),ti=ei.exports,ni={components:{IconButton:Gt,SVGButton:ti,ButtonToolbar:jt,TourOptionsDropup:Hn},mixins:[je.r],props:{isImperial:{type:Boolean,required:!0},selectedMode:{type:Number,required:!0},hideModeSelectButton:{type:Boolean,default:!1},hideTagListButton:{type:Boolean,default:!1},hideAutoplayButton:{type:Boolean,required:!1},view:{type:Object,required:!0},showTagList:{type:Boolean,default:!1},hidePortalLinks:{type:Boolean,default:!1},showGyro:{type:Boolean,default:!1,required:!1},addingTag:{type:Boolean,required:!1,default:!1},showConfirm:{type:Boolean,required:!1,default:!1},editTags:{type:Boolean,default:!1,required:!1}},computed:{modeSelectIcon(){const e=this.addingTag?"tag":"meas";return 2===this.selectedMode?`${e}-mode2-selected`:3===this.selectedMode?`${e}-mode3-selected`:`${e}-mode1-selected`},undoToolTip(){return this.editTags?this.l10n.undoTooltip:this.l10n.undoMeasurementTooltip},modeSelectTitle(){return this.addingTag?this.l10n.tagModeTitle:this.l10n.measureModeTitle}},mounted(){this.$root.$on("toolsPopupBlocked",this.handlePopupBlocked)},beforeDestroy(){this.$root.$off("toolsPopupBlocked",this.handlePopupBlocked)},methods:{handlePopupBlocked(){this.$emit("popupBlocked")}}},ii=ni,ri=(0,Re.Z)(ii,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ButtonToolbar",{staticClass:"measure-tools",attrs:{closeable:!e.showConfirm,showConfirm:e.showConfirm},on:{confirm:function(t){return e.$emit("confirm")},close:function(t){return e.$emit("exit")}}},[e.hideModeSelectButton?e._e():n("SVGButton",{staticClass:"mode-select-button",attrs:{title:e.modeSelectTitle,svgName:e.modeSelectIcon},on:{click:function(t){return e.$emit("mode")}}}),e._v(" "),n("IconButton",{staticClass:"undo-button",attrs:{title:e.undoToolTip,icon:"icomoon-v-undo"},on:{click:function(t){return e.$emit("undo")}}}),e._v(" "),e.hideTagListButton?e._e():n("IconButton",{staticClass:"tag-list-button",attrs:{title:e.l10n.tagListTooltip,icon:"icomoon-v-taglist",active:e.showTagList},on:{click:function(t){return e.$emit("tagList")}}}),e._v(" "),e.editTags?e._e():n("TourOptionsDropup",{staticClass:"tour-options",attrs:{isImperial:e.isImperial,hideAutoplay:e.hideAutoplayButton,view:e.view,hidePortalLinks:e.hidePortalLinks,dropupMenuStyle:{marginBottom:"24px"},showGyro:e.showGyro},on:{navigationHelp:function(t){return e.$emit("navigationHelp")},measurementHelp:function(t){return e.$emit("measurementHelp")},floorScreenshot:function(t){return e.$emit("floorScreenshot")},autoplay:function(t){return e.$emit("autoplay")},gyroscope:function(t){return e.$emit("gyroscope")},setUnit:function(t){return e.$emit(t)}}})],1)}),[],!1,null,null,null),oi=ri.exports,ai={components:{SVGButton:ti,ButtonToolbar:jt},mixins:[je.r],props:{selectedMode:{type:Number,required:!0},addingTag:{type:Boolean,required:!1,default:!1}},computed:{modeType(){return this.addingTag?"tag":"meas"},modeOneSVGName(){return 1===this.selectedMode?`${this.modeType}-mode1-selected`:`${this.modeType}-mode1`},modeTwoSVGName(){return 2===this.selectedMode?`${this.modeType}-mode2-selected`:`${this.modeType}-mode2`},modeThreeSVGName(){return 3===this.selectedMode?`${this.modeType}-mode3-selected`:`${this.modeType}-mode3`}},methods:{toolTip(e){const t=this.addingTag?"tagMode":"measureMode";return this.l10n[`${t}${e}Tooltip`]}}},si=ai,li=(0,Re.Z)(si,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ButtonToolbar",{staticClass:"measure-mode-select",attrs:{closeable:""},on:{close:function(t){return e.$emit("exit")}}},[n("SVGButton",{staticClass:"mode-one-button",attrs:{title:e.toolTip("One"),svgName:e.modeOneSVGName},on:{click:function(t){return e.$emit("modeSelect",1)}}}),e._v(" "),n("SVGButton",{staticClass:"mode-two-button",attrs:{title:e.toolTip("Two"),svgName:e.modeTwoSVGName},on:{click:function(t){return e.$emit("modeSelect",2)}}}),e._v(" "),n("SVGButton",{staticClass:"mode-three-button",attrs:{title:e.toolTip("Three"),svgName:e.modeThreeSVGName},on:{click:function(t){return e.$emit("modeSelect",3)}}})],1)}),[],!1,null,null,null),ci=li.exports,ui={props:{icon:{type:String,required:!0},iconStyle:{type:Object,default:()=>({})},size:{type:String,default:"md",validator:e=>["sm","md"].includes(e)}}},di=ui,hi=(a(66404),(0,Re.Z)(di,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:["triangle-button",e.size],on:{mousedown:function(t){return e.$emit("mousedown",t)},mouseup:function(t){return e.$emit("mouseup",t)},click:function(t){return e.$emit("click")}}},[n("svg",{staticClass:"triangle-button-background",attrs:{viewBox:"0 0 100 100"}},[n("polygon",{attrs:{points:"0,0 100,0 100,100"}})]),e._v(" "),n("span",{class:["triangle-button-icon",e.icon],style:e.iconStyle})])}),[],!1,null,"d2874d5a",null)),pi=hi.exports,fi={components:{TriangleButton:pi},mixins:[je.r],props:{minimized:{type:Boolean,required:!0}},computed:{iconStyle(){return{transform:`rotate(${this.minimized?225:45}deg)`}}}},mi=fi,gi=(0,Re.Z)(mi,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("TriangleButton",{staticClass:"floorplan-resize",attrs:{icon:"icomoon-v-arrow-down",title:e.l10n.resizeFloorplanTooltip,size:"sm",iconStyle:e.iconStyle},on:{mousedown:function(t){return e.$emit("mousedown",t)},mouseup:function(t){return e.$emit("mouseup",t)},click:function(t){return e.$emit("click")}}})}),[],!1,null,null,null),vi=gi.exports,yi={components:{BasePanel:Ft,BaseLabel:an,BaseHeader:Ut},props:{isVisible:{type:Boolean,default:!1},message:{type:Object,default:()=>{}},position:{type:Object,default:()=>{}}}},bi=yi,wi=(a(40221),(0,Re.Z)(bi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible&&e.message&&e.message.content?n("div",{staticClass:"measure-mode-status-bar",style:"top: "+e.position.top+"px; left: "+e.position.left+"px; width: "+e.position.width+"px;"},[n("BasePanel",{attrs:{opacity:"regular",closeable:""},on:{close:function(t){return e.$emit("hide")}}},[e.message.title?n("BaseHeader",{staticClass:"measure-mode-status-bar-header",attrs:{weight:"bold",size:"md"}},[e._v("\n      "+e._s(e.message.title)+"\n    ")]):e._e(),e._v(" "),n("BaseLabel",{attrs:{labelStyle:{whiteSpace:"normal"},size:"sm"},domProps:{innerHTML:e._s(e.message.content)}})],1)],1):e._e()}),[],!1,null,"bbd49e6e",null)),_i=wi.exports,xi=(a(21796),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.sort(Ti(t))}),Ti=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=Si;return function(n,i){return t.compare(e(n).trim(),e(i).trim())}},Si=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),Ei={props:{placeholder:{type:String,default:""},inputToolTip:{type:String,default:"",required:!1}},data:()=>({search:""}),methods:{setSearch(e){this.search=e,this.$emit("input",this.search)}}},Mi=Ei,Ai=(a(51240),(0,Re.Z)(Mi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-search"},[n("input",{staticClass:"base-search-input",attrs:{placeholder:e.placeholder,title:e.inputToolTip},domProps:{value:e.search},on:{input:function(t){return e.setSearch(t.target.value)}}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.search.length,expression:"search.length"}],staticClass:"base-search-clear",on:{click:function(t){return e.setSearch("")}}},[n("span",{staticClass:"icomoon-v-cross"})])])}),[],!1,null,"d179c55e",null)),Ci=Ai.exports,ki={components:{CircleButton:Ot,BaseHeader:Ut,SlideTransition:Fe},props:{title:{type:String,default:""},defaultOpen:{type:Boolean,required:!1,default:!1}},data(){return{open:this.defaultOpen}},computed:{openButtonIconStyle(){return this.open?{}:{transform:"rotate(-90deg)"}}},watch:{defaultOpen(e){e&&(this.open=e)}}},Pi=ki,Di=(a(56678),(0,Re.Z)(Pi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-accordion"},[n("div",{staticClass:"base-accordion-header",on:{click:function(t){e.open=!e.open}}},[n("CircleButton",{staticClass:"base-accordion-toggle-button",attrs:{icon:"icomoon-v-arrow-down",size:"sm",iconStyle:e.openButtonIconStyle}}),e._v(" "),n("BaseHeader",{attrs:{size:"md",weight:"bold"}},[e._v("\n      "+e._s(e.title)+"\n    ")])],1),e._v(" "),n("SlideTransition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"base-accordion-content"},[e._t("default")],2)])],1)}),[],!1,null,"2dc401e0",null).exports),Ri={props:{label:{type:String,default:""},icon:{type:String,default:""},iconStyle:{type:Object,default:()=>({})},active:{type:Boolean,default:!1},indented:{type:Boolean,default:!1},highlighted:{type:Boolean,default:!1},isHidden:{type:Boolean,default:!1}}},$i=(a(87082),(0,Re.Z)(Ri,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["list-action-item",{active:e.active,indented:e.indented,highlighted:e.highlighted}],on:{click:function(t){return e.$emit("click")},mouseenter:function(t){return e.$emit("mouseenter")},mouseleave:function(t){return e.$emit("mouseleave")}}},[e.icon.length?n("span",{class:["list-action-item-icon",e.icon],style:e.iconStyle,on:{click:function(t){return e.$emit("iconClick")}}}):e._e(),e._v(" "),e.label.length?n("div",{staticClass:"list-action-item-label",class:{hideLabel:e.isHidden},attrs:{title:e.label}},[e._v("\n    "+e._s(e.label)+"\n  ")]):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,"aae69ece",null).exports),Ii=function(e){if(e&&"#"===e.substring(0,1))return e;switch(e){case"green":return"#50CF62";case"red":return"#F65B55";case"orange":return"#F7A345";case"yellow":return"#F7CE4A";case"purple":return"#B270D3";case"gray":return"#9C9CA0";default:return"#0388CC"}},Li=Pe.default.extend({data:function(){return{isMobile:!1,isTouchDevice:!1}},created:function(){window.addEventListener("resize",this.onResize)},mounted:function(){this.onResize(),this.isTouchDevice=navigator.maxTouchPoints>0},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{onResize:function(){this.isMobile=window.innerWidth<=767}}}),Oi={components:{BaseHeader:Ut,CircleButton:Ot,BaseSearch:Ci,BaseAccordion:Di,ListActionItem:$i},mixins:[je.r,Li],props:{tags:{type:Array,required:!0},buildings:{type:Array,required:!1,default:()=>[]},floating:{type:Boolean,default:!1},activeTagId:{type:Number,required:!0},highlightedTagId:{type:Number,required:!0},activeFloorId:{type:Number,required:!0,default:0},scrollToActiveTag:{type:Boolean,default:!1},repositionTagId:{type:Number,required:!0},editTags:{type:Boolean,default:!1}},data:()=>({search:""}),computed:{sortedTags(){return xi([...this.tags],(({title:e})=>e||""))},searchedTags(){return this.search?this.sortedTags.filter((({title:e="",color:t="",content:n=""})=>[e,t,n].some((e=>e.toLowerCase().includes(this.search.toLowerCase()))))):this.sortedTags},floors(){return this.buildings.reduce(((e,t)=>(t.floors.forEach((({id:t,name:n})=>{const i=this.searchedTags.filter((e=>e.floorId===t));e.push({id:t,name:n,tags:i})})),e)),[])},defaultOpen(){return e=>e===this.activeFloorId},activeTagElement(){return this.$refs.body.querySelector(`#tag-list-item-${this.activeTagId}`)},tagListContainer(){return this.editTags?"wide-container":"narrow-container"}},watch:{activeTagId(){this.scrollToActiveTag&&this.$refs.body.scrollTo(0,this.activeTagElement.offsetTop)}},methods:{getTagIconStyle:({color:e})=>({color:Ii(e)}),getDefaultTagTitle(e){return`${this.l10n.defaultTagTitle} ${e}`},repositionMode(e){return this.repositionTagId===e.id},buttonVisibility:e=>e?"icomoon-v-eye-off notvisible":"icomoon-v-eye",setVisibility(e){this.$emit("tagVisibility",e)},onTagEdit(e){this.$emit("tagEdit",e)}}},Ni=Oi,Fi=(a(63061),(0,Re.Z)(Ni,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["tag-list-container",e.tagListContainer,{floating:e.floating}]},[n("div",{staticClass:"tag-list"},[n("div",{staticClass:"tag-list-header"},[n("BaseHeader",{staticClass:"tag-list-title",attrs:{weight:"bold",size:"lg"}},[e._v("\n        "+e._s(e.l10n.tagListTitleNoFloorplans)+"\n      ")]),e._v(" "),n("CircleButton",{staticClass:"tag-list-close-button",attrs:{icon:"icomoon-v-cross",variant:"raised"},on:{click:function(t){return e.$emit("close")}}})],1),e._v(" "),n("div",{staticClass:"tag-list-search"},[n("BaseSearch",{attrs:{placeholder:e.l10n.tagListSearchPlaceholder,inputToolTip:e.l10n.tagListSearchPlaceholder},on:{input:function(t){e.search=t}}})],1),e._v(" "),n("div",{ref:"body",staticClass:"tag-list-body"},e._l(e.floors,(function(t){return n("BaseAccordion",{directives:[{name:"show",rawName:"v-show",value:t.tags.length,expression:"floor.tags.length"}],key:t.id,staticClass:"tag-list-floor-accordion",attrs:{title:t.name,defaultOpen:e.defaultOpen(t.id)}},[n("div",{staticClass:"tag-list-floor-content"},e._l(t.tags,(function(t){return n("ListActionItem",{key:t.id,staticClass:"tag-list-item",attrs:{id:"tag-list-item-"+t.id,label:t.title||e.getDefaultTagTitle(t.id),icon:"icomoon-v-tag",iconStyle:e.getTagIconStyle(t),active:e.activeTagId===t.id,highlighted:e.highlightedTagId===t.id,isHidden:!!t.hidden,indented:""},on:{click:function(n){return e.$emit("tagClick",t)},mouseenter:function(n){return e.$emit("tagMouseenter",t)},mouseleave:function(n){return e.$emit("tagMouseleave",t)},iconClick:function(n){return e.$emit("tagLocationClick",t)}}},[e.editTags?n("div",{staticClass:"tag-buttons-container",on:{click:function(e){e.stopPropagation()}}},[n("div",{class:["icomoon-v-map-pin",{"highlighted-icon":e.repositionMode(t)}],attrs:{title:e.l10n.repositionTagTooltip},on:{click:function(n){return e.$emit("tagReposition",t)}}}),e._v(" "),n("div",{staticClass:"icomoon-v-edit-2",attrs:{title:e.l10n.editTagContentTooltip},on:{click:function(n){return e.onTagEdit(t)}}}),e._v(" "),n("div",{staticClass:"visibility-button",class:e.buttonVisibility(t.hidden),attrs:{title:e.l10n.toggleVisibilityTooltip},on:{click:function(n){return e.setVisibility(t)}}}),e._v(" "),n("div",{staticClass:"icomoon-v-trash",attrs:{title:e.l10n.removeTagTooltip},on:{click:function(n){return e.$emit("tagDelete",t)}}})]):e._e()])})),1)])})),1)])])}),[],!1,null,"1ffb5ad3",null).exports),Bi=(a(7966),{components:{PillContainer:(0,Re.Z)({},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"pill-container"},[e._t("default")],2)}),[],!1,null,"e3f289a2",null).exports,BaseLabel:an},props:{bearing:{type:Number,required:!0}},computed:{bearingText(){return`${this.bearing}°`}}}),Ui=(0,Re.Z)(Bi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PillContainer",{staticClass:"measure-bearing"},[n("BaseLabel",{attrs:{size:"sm"}},[e._v("\n    "+e._s(e.bearingText)+"\n  ")])],1)}),[],!1,null,null,null).exports,zi=a.p+"a/98e16012890910745232.gif",Vi=a.p+"a/f5238801ff30b471a7d1.gif",Hi={components:{BaseModal:Vt},mixins:[je.r,Li],props:{showModal:{type:Boolean,required:!0,default:!1}},computed:{imgSrc(){return this.isTouchDevice?Vi:zi}}},ji=(a(26594),(0,Re.Z)(Hi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseModal",{directives:[{name:"show",rawName:"v-show",value:e.showModal,expression:"showModal"}],attrs:{size:"dynamic",header:e.l10n.navigationHelpOption},on:{hideModal:function(t){return e.$emit("hideNavHelp")}}},[n("img",{staticClass:"navigation-help-video",attrs:{src:e.imgSrc}})])}),[],!1,null,"1317f4f6",null).exports),Wi={components:{IconButton:Gt,ButtonToolbar:jt},mixins:[je.r],props:{isPanZoomMode:{type:Boolean,default:!1},isPanZoomed:{type:Boolean,default:!1}}},Gi=(0,Re.Z)(Wi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ButtonToolbar",{staticClass:"pan-zoom-tools"},[n("IconButton",{staticClass:"pan-zoom-toggle-button",attrs:{title:e.l10n.togglePanZoomTooltip,icon:"icomoon-v-pan-zoom",active:e.isPanZoomMode},on:{click:function(t){return e.$emit("togglePanZoom")}}}),e._v(" "),n("IconButton",{staticClass:"pan-zoom-reset-button",attrs:{title:e.l10n.resetPanZoomTooltip,icon:"icomoon-v-zoom-fit",disabled:!e.isPanZoomed},on:{click:function(t){return e.$emit("resetPanZoom")}}})],1)}),[],!1,null,null,null).exports,qi={props:{angle:{type:Number,required:!0}},data:()=>({svgContent:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="16" cy="16" r="16" fill="#F2F2F2"/>\n<circle cx="16" cy="16" r="15" fill="url(#paint0_linear_2452_5088)"/>\n<path d="M15.9956 29.9997L13.5275 15.9996H15.9956V29.9997Z" fill="#F1F1F1"/>\n<path d="M15.9958 2L18.464 16.0001H15.9958V2Z" fill="#C13D3D"/>\n<path d="M15.9999 2V16H13.5299L15.9999 2Z" fill="#FF5150"/>\n<path d="M16 30L16 16H18.47L16 30Z" fill="#B8B8B8"/>\n<defs>\n<linearGradient id="paint0_linear_2452_5088" x1="1.33333" y1="16" x2="31.3333" y2="16" gradientUnits="userSpaceOnUse">\n<stop offset="0.00460603" stop-color="#6C737B"/>\n<stop offset="1" stop-color="#23262A"/>\n</linearGradient>\n</defs>\n</svg>\n'}),computed:{compassStyle(){return{transform:`rotate(${-1*this.angle}rad)`}}}},Zi=(a(64754),(0,Re.Z)(qi,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"floorplan-compass",style:e.compassStyle,domProps:{innerHTML:e._s(e.svgContent)}})}),[],!1,null,null,null).exports),Xi={components:{BaseDropdown:cn,BaseDropdownItem:hn,PillButton:mn},mixins:[je.r],props:{buildings:{type:Array,required:!0},activeFloorId:{type:Number,required:!0},menuMaxWidth:{type:String,default:"none"},menuMaxHeight:{type:String,default:"none"},editable:{type:Boolean,required:!1,default:!1},editModalOpen:{type:Boolean,required:!1,default:!1}},computed:{dropdownItems(){return this.buildings.reduce(((e,t,n)=>(e.push({label:t.name,disabled:!0,idx:n}),t.floors.forEach((t=>{e.push({id:t.id,label:t.name,active:t.id===this.activeFloorId,indented:!0,hidden:t.hidden})})),e)),[])},floors(){return this.buildings.reduce(((e,t)=>(e.push(...t.floors),e)),[])},activeFloor(){return this.floors.find((e=>e.id===this.activeFloorId))},activeFloorName(){return this.activeFloor?this.activeFloor.name:""}},methods:{editFloor(){this.$emit("editFloorModal")}}},Yi=(a(4793),(0,Re.Z)(Xi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseDropdown",{staticClass:"floor-selector-dropup",attrs:{right:"",dropup:"",menuVariant:"dark",menuSize:"dynamic",maxDynamicWidth:e.menuMaxWidth,maxDynamicHeight:e.menuMaxHeight,pinned:e.editModalOpen},scopedSlots:e._u([{key:"button",fn:function(){return[n("PillButton",{staticClass:"floor-selector-toggle",attrs:{title:e.l10n.floorSelectTooltip}},[n("span",{staticClass:"pillbutton-container"},[n("i",{staticClass:"floor-selector-icon icomoon-v-layers"}),e._v(" "),n("span",{class:["active-floor-label",{hidden_floor:e.activeFloor&&e.activeFloor.hidden}],attrs:{id:"active-floor-label"}},[e._v("\n          "+e._s(e.getLocalizedLabel(e.activeFloorName))+"\n        ")]),e._v(" "),e.editable?n("i",{staticClass:"icomoon-v-edit pencil-icon",on:{click:function(t){return t.stopPropagation(),e.editFloor.apply(null,arguments)}}}):e._e()])])]},proxy:!0},{key:"menu",fn:function(){return[n("div",{staticClass:"floor-selector-menu"},e._l(e.dropdownItems,(function(t,i){return n("BaseDropdownItem",{key:i,staticClass:"floor-selector-item",attrs:{active:t.active,disabled:t.disabled,indented:t.indented,editable:t.disabled&&e.editable,hidden:t.hidden},on:{editClick:function(n){return e.$emit("editBuildingModal",t.idx)},click:function(n){return e.$emit("floorSelect",t.id)}}},[e._v("\n        "+e._s(e.getLocalizedLabel(t.label))+"\n      ")])})),1)]},proxy:!0}])})}),[],!1,null,"7bfed082",null)),Ki={components:{PanZoomTools:Gi,Compass:Zi,FloorSelectorDropup:Yi.exports},props:{isPanZoomMode:{type:Boolean,default:!1},isPanZoomed:{type:Boolean,default:!1},compassAngle:{type:Number,required:!0},buildings:{type:Array,required:!0},activeFloorId:{type:Number,required:!0},isPreview:{type:Boolean,default:!1},hideCompass:{type:Boolean,default:!1},hideFloorSelector:{type:Boolean,default:!1},floorplanWidth:{type:Number,required:!0},floorplanHeight:{type:Number,required:!0},hidePanZoomTools:{type:Boolean,default:!1},editable:{type:Boolean,default:!1,required:!1},editModalOpen:{type:Boolean,default:!1,required:!1}},data:()=>({menuMaxWidth:"none",menuMaxHeight:"none"}),watch:{floorplanWidth(){this.onResize()},floorplanHeight(){this.onResize()}},created(){window.addEventListener("resize",this.onResize)},mounted(){this.onResize()},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){const e=this.$refs.top.getBoundingClientRect(),t=this.$refs.bottom.getBoundingClientRect();this.menuMaxWidth=`${t.width}px`,this.menuMaxHeight=t.top-e.bottom-16+"px"}}},Ji=(a(88279),(0,Re.Z)(Ki,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"floorplan-overlay"},[n("div",{ref:"top",staticClass:"floorplan-overlay-top"},[e.isPreview||e.hidePanZoomTools?e._e():n("PanZoomTools",{staticClass:"floorplan-overlay-pan-zoom-tools",attrs:{isPanZoomMode:e.isPanZoomMode,isPanZoomed:e.isPanZoomed},on:{togglePanZoom:function(t){return e.$emit("togglePanZoom")},resetPanZoom:function(t){return e.$emit("resetPanZoom")}}})],1),e._v(" "),n("div",{ref:"bottom",staticClass:"floorplan-overlay-bottom"},[e.hideCompass?e._e():n("Compass",{staticClass:"floorplan-overlay-compass",attrs:{angle:e.compassAngle}}),e._v(" "),n("div",{staticClass:"floorplan-overlay-bottom-spacer"}),e._v(" "),e.isPreview||e.hideFloorSelector?e._e():n("FloorSelectorDropup",{staticClass:"floorplan-overlay-floor-selector",attrs:{buildings:e.buildings,activeFloorId:e.activeFloorId,menuMaxWidth:e.menuMaxWidth,menuMaxHeight:e.menuMaxHeight,editable:e.editable,editModalOpen:e.editModalOpen},on:{floorSelect:function(t){return e.$emit("floorSelect",t)},editBuildingModal:function(t){return e.$emit("editBuildingModal",t)},editFloorModal:function(t){return e.$emit("editFloorModal")}}})],1)])}),[],!1,null,"0472593f",null).exports),Qi=a(9228),er=a.n(Qi),tr={components:{BaseLabel:an,BaseModal:Vt,IconButton:Gt,SVGButton:ti},mixins:[je.r,Li],props:{title:{type:String,required:!0},viewUrl:{type:String,required:!0},previewImage:{type:String,required:!0},pano:{type:String,required:!0},rotation:{type:String,required:!0},elevation:{type:String,required:!0},zoomLevel:{type:String,required:!0},showVirtualShowing:{type:Boolean,required:!0},virtualShowingUrl:{type:String,required:!0},page:{type:String,required:!0},unbranded:{type:Boolean,required:!0,default:!1},photosOnly:{type:Boolean,required:!1,default:!1},hasGallery:{type:Boolean,required:!1,default:!1},hasVideo:{type:Boolean,required:!1,default:!1},hideSocial:{type:Boolean,default:!1}},data:()=>({selectedTab:"",showCurrentViewChecked:!1}),computed:{imgSVGStyle(){return this.isMobile?"height: 16px;":"height: 18px;"},showCurrentView(){return!this.photosOnly},url(){const e=""===this.selectedTab,t=e?"?":"&",n=this.showCurrentViewChecked?`${t}${this.additionalParams}`:"";return e?`${this.viewUrl}${n}`:`${this.viewUrl}?page=${this.selectedTab}${n}`},shareOptions(){const e=[{label:this.l10n.shareModalStartPageDefault,tabName:""}];return this.photosOnly||e.push({label:this.l10n.shareModalStartPageTour,tabName:"tour"}),this.hasGallery&&e.push({label:this.l10n.shareModalStartPagePhotos,tabName:"gallery"}),this.hasVideo&&e.push({label:this.l10n.shareModalStartPageVideo,tabName:"extvideo"}),e},socialOptions(){return[{name:"Facebook",icon:"icomoon-v-facebook",link:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(this.url)}`},{name:"Linkedin",icon:"icomoon-v-linkedin",link:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(this.url)}&title=${encodeURIComponent(this.title)}&source=${encodeURIComponent("youriguide.com")}`},{name:"Twitter",icon:"icomoon-v-twitter",link:`https://twitter.com/intent/tweet?text=${encodeURIComponent(this.title)}&url=${encodeURIComponent(this.url)}`},{name:"Pinterest",icon:"icomoon-v-pinterest",link:`http://pinterest.com/pin/create/button/?url=${encodeURIComponent(this.url)}&media=${encodeURIComponent(this.previewImage)}&description=${encodeURIComponent(this.title)}`},{name:"Email",icon:"icomoon-v-envelop",link:`mailto:?subject=${encodeURIComponent(this.title)}&body=${encodeURIComponent(this.url)}`}]},additionalParams(){const e=this.pano,t=this.rotation,n=""!==this.elevation?`${this.elevation}`:"",i="0"!==this.zoomLevel?`${this.zoomLevel}`:"",r={pano:e,rotation:t,...""!==n&&{elevation:n},...""!==i&&{zoom:i}};return(0,xn.Ie)(r)}},mounted(){this.selectedTab="tour"===this.page||"video"===this.page?"":"gallery"},methods:{currentViewCheckboxClicked(){this.showCurrentViewChecked=!this.showCurrentViewChecked},copyUrl(){er().copy(this.url),this.$refs.urlInput.select()}}},nr=(a(34458),(0,Re.Z)(tr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseModal",{attrs:{header:e.l10n.shareTooltip},on:{hideModal:function(t){return e.$emit("hideShareModal")}}},[n("div",{staticClass:"subheading-tabs-container"},[n("BaseLabel",{staticClass:"subheading-label"},[e._v("\n      "+e._s(e.l10n.shareModalStartPage)+":\n    ")]),e._v(" "),n("div",{staticClass:"tabs-list"},e._l(e.shareOptions,(function(t,i){return n("div",{key:i,class:["share-item",{"share-item-selected":t.tabName===e.selectedTab}],on:{click:function(n){e.selectedTab=t.tabName}}},[n("BaseLabel",{staticClass:"label-font",attrs:{weight:t.tabName===e.selectedTab?"regular":"light"}},[e._v("\n          "+e._s(t.label)+"\n        ")])],1)})),0)],1),e._v(" "),n("div",{staticClass:"space-between-container url-field-container"},[n("input",{ref:"urlInput",staticClass:"url-items-style url-input url-input-dimensions",attrs:{name:"url",readonly:""},domProps:{value:e.url}}),e._v(" "),n("button",{staticClass:"url-items-style copy-button",on:{click:e.copyUrl}},[e._v("\n      "+e._s(e.l10n.shareModalRefreshLinkCopy)+"\n    ")])]),e._v(" "),e.showCurrentView?n("div",{staticClass:"current-view-container"},[n("div",{staticClass:"radio-option-square",on:{click:e.currentViewCheckboxClicked}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showCurrentViewChecked,expression:"showCurrentViewChecked"}],staticClass:"radio-option-fill"})]),e._v(" "),n("div",{on:{click:e.currentViewCheckboxClicked}},[n("BaseLabel",{staticClass:"label-font"},[e._v("\n        "+e._s(e.l10n.shareModalRefreshCurrentView)+"\n      ")])],1)]):e._e(),e._v(" "),e.unbranded||e.hideSocial?e._e():n("div",{staticClass:"space-between-container social-icons-container"},e._l(e.socialOptions,(function(t,i){return n("div",{key:i,staticClass:"centered-container"},[n("a",{staticClass:"icon-label-container",attrs:{href:t.link,target:"_blank",rel:"noopener"}},[n("IconButton",{staticClass:"link-button",attrs:{title:t.name,iconStyle:{fontSize:e.isMobile?"14px":"16px"},icon:t.icon}}),e._v(" "),n("BaseLabel",{staticClass:"social-label"},[e._v("\n          "+e._s(t.name)+"\n        ")])],1)])})),0),e._v(" "),e.showVirtualShowing?n("div",{staticClass:"centered-container"},[n("a",{staticClass:"icon-label-container",attrs:{href:e.virtualShowingUrl,target:"_blank",rel:"noopener"}},[n("SVGButton",{staticClass:"link-button center-align-button",attrs:{title:e.l10n.shareModalRefreshVirtualShowing,svgName:"virtual-showing",imgStyle:e.imgSVGStyle}}),e._v(" "),n("div",{staticClass:"social-label"},[e._v("\n        "+e._s(e.l10n.shareModalRefreshVirtualShowing)+"\n      ")])],1)]):e._e()])}),[],!1,null,"300123b0",null).exports),ir={components:{BaseLabel:an},props:{title:{type:String,required:!0},image:{type:String,required:!0},active:{type:Boolean,default:!1},size:{type:String,default:"md",validator:e=>["sm","md"].includes(e)},editable:{type:Boolean,required:!1,default:!1},showPano:{type:Boolean,required:!1,default:!1}},computed:{itemClasses(){return{"pano-item-active":this.active,"pano-item-md":"md"===this.size,"pano-item-sm":"sm"===this.size}}}},rr=(a(14767),{components:{PanoItem:(0,Re.Z)(ir,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["pano-item pano-container",e.itemClasses],on:{click:function(t){return e.$emit("click")}}},[n("span",{staticClass:"edit-pano"},[n("span",{staticClass:"pano-item"},[n("img",{staticClass:"pano-item-image",attrs:{src:e.image}}),e._v(" "),n("BaseLabel",{class:["pano-item-title",{hidden_floor:!e.showPano}]},[e._v("\n        "+e._s(e.title)+"\n      ")])],1),e._v(" "),e.editable?n("i",{staticClass:"icomoon-v-edit pencil-icon",on:{click:function(t){return e.$emit("editPanoItem")}}}):e._e()])])}),[],!1,null,"cad407dc",null).exports},props:{panos:{type:Array,required:!0},activePanoId:{type:Number,required:!0},minimized:{type:Boolean,default:!1},noFloorSelector:{type:Boolean,default:!1},editable:{type:Boolean,required:!1,default:!1}},computed:{useFullHeight(){return this.minimized||this.noFloorSelector}}}),or=(a(78739),(0,Re.Z)(rr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["pano-list-container",{"pano-list-container-full-height":e.useFullHeight}]},[n("div",{staticClass:"pano-list"},e._l(e.panos,(function(t,i){return n("PanoItem",{key:t.id,attrs:{title:t.title,image:t.image,size:e.minimized?"sm":"md",active:t.id===e.activePanoId,editable:e.editable,showPano:t.bShow},on:{editPanoItem:function(t){return e.$emit("editPanoItem",i)},click:function(t){return e.$emit("itemClick",i)}}})})),1)])}),[],!1,null,"39626030",null).exports),ar={props:{message:{type:String,required:!0}}},sr=(a(16733),(0,Re.Z)(ar,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error-page"},[n("div",{staticClass:"error-page-header"},[e._v("\n    "+e._s(e.message)+"\n  ")]),e._v(" "),n("div",{staticClass:"error-page-body"},[e._t("default")],2),e._v(" "),n("div",{staticClass:"error-page-footer"},[e._t("footer")],2)])}),[],!1,null,"48075e9f",null).exports),lr={components:{ErrorPage:sr,PillButton:mn,PortalLinks:Bn},mixins:[je.r],props:{tabs:{type:Array,required:!0},view:{type:Object,required:!0},notReady:{type:Boolean,default:!1},photosOnly:{type:Boolean,default:!1},whiteLabelled:{type:Boolean,default:!1},unbranded:{type:Boolean,default:!1}},computed:{errorMessage(){return this.photosOnly?this.whiteLabelled?this.l10n.photosOnlyNotReadyMessageWhiteLabel:this.l10n.photosOnlyNotReadyMessage:this.notReady?this.whiteLabelled?this.l10n.notReadyMessageWhiteLabel:this.l10n.notReadyMessage:this.l10n.noFloorsMessage},pageLinks(){const e=this.photosOnly?"gallery":"tour";return this.tabs.filter((({page:t,show:n})=>n&&t!==e)).slice(0,2)}}},cr=(a(24146),(0,Re.Z)(lr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ErrorPage",{attrs:{message:e.errorMessage},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"page-links"},e._l(e.pageLinks,(function(t,i){return n("PillButton",{key:i,attrs:{size:"lg",variant:0===i?"primary":"secondary"},on:{click:function(n){return e.$emit("setPage",t.page)}}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),1)]},proxy:!0},e.whiteLabelled||e.unbranded?null:{key:"footer",fn:function(){return[n("PortalLinks",{attrs:{view:e.view}})]},proxy:!0}],null,!0)})}),[],!1,null,"2efe9e74",null).exports),ur={components:{ErrorPage:sr,PortalLinks:Bn},mixins:[je.r],props:{view:{type:Object,required:!0},expired:{type:Boolean,default:!1},whiteLabelled:{type:Boolean,default:!1},unbranded:{type:Boolean,default:!1}},computed:{errorMessage(){return this.expired?this.whiteLabelled?this.l10n.expiredMessageWhiteLabel:this.l10n.expiredMessage:this.whiteLabelled?this.l10n.unbrandedDisabledMessageWhiteLabel:this.l10n.unbrandedDisabledMessage}}},dr=(0,Re.Z)(ur,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ErrorPage",{attrs:{message:e.errorMessage},scopedSlots:e._u([e.whiteLabelled||e.unbranded?null:{key:"footer",fn:function(){return[n("PortalLinks",{attrs:{view:e.view}})]},proxy:!0}],null,!0)})}),[],!1,null,null,null).exports,hr=(a(51839),(0,Re.Z)({},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("transition",{attrs:{name:"pan-fade"}},[e._t("default")],2)}),[],!1,null,"3a2eace2",null).exports),pr={props:{preventCollapse:{type:Boolean,required:!1,default:!1},forceCollapse:{type:Boolean,default:!1}},data:()=>({collapsed:!1}),computed:{icon(){return this.collapsed?"icomoon-v-arrow-left":"icomoon-v-arrow-right"}},watch:{preventCollapse(e){e&&(this.collapsed=!1,this.$emit("collapsibleEvent",this.collapsed))},forceCollapse(e){e&&(this.collapsed=!0,this.$emit("collapsibleEvent",this.collapsed))}},methods:{setCollapsed(e){this.collapsed=e,this.$emit("collapsibleEvent",e)}}},fr=(a(4379),(0,Re.Z)(pr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"collapsible-bar"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.preventCollapse,expression:"!preventCollapse"}],staticClass:"collapse-button",on:{click:function(t){return e.setCollapsed(!e.collapsed)}}},[n("span",{class:["collapse-button-icon",e.icon]})]),e._v(" "),n("div",{class:["collapsible-bar-content",{expanded:!e.collapsed}]},[e.collapsed?e._t("collapsed"):e._e(),e._v(" "),e.collapsed?e._e():e._t("expanded")],2)])}),[],!1,null,"1484f214",null).exports),mr=a(11301),gr=a(57694),vr={components:{BaseDropdown:cn,BaseDropdownItem:hn,BaseLabel:an},props:{isNested:{type:Boolean,default:!1}},data:()=>({localeState:mr.e.state,availableLocales:gr.Z.map((({name:e,key:t})=>({name:e,key:t.toUpperCase()})))}),computed:{activeLocaleName(){return mr.e.getLocaleFromKey(this.localeState.active).key.toUpperCase()}},methods:{onLocaleSelect(e){mr.e.setActiveFromName(e,!0)},getArrowIconClass:e=>e?"icomoon-v-arrow-up":"icomoon-v-arrow-down"}},yr=(a(44221),(0,Re.Z)(vr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseDropdown",{staticClass:"locale-dropdown",attrs:{right:"",dropleft:e.isNested,menuSize:"small"},scopedSlots:e._u([{key:"button",fn:function(t){var i=t.isDropdownMenuOpen;return[e.isNested?e._e():n("BaseLabel",{staticClass:"locale-dropdown-button",attrs:{size:"sm"}},[n("i",{staticClass:"icomoon-v-earth"}),e._v(" "),n("span",{staticClass:"locale-dropdown-active-locale"},[e._v(e._s(e.activeLocaleName))]),e._v(" "),n("i",{class:e.getArrowIconClass(i)})]),e._v(" "),e.isNested?n("BaseDropdownItem",{staticClass:"locale-dropdown-button",attrs:{size:"md",preventHide:""}},[n("i",{staticClass:"icomoon-v-earth"}),e._v(" "),n("span",{staticClass:"locale-dropdown-active-locale"},[e._v(e._s(e.activeLocaleName))])]):e._e()]}},{key:"menu",fn:function(){return e._l(e.availableLocales,(function(t,i){return n("BaseDropdownItem",{key:i,staticClass:"locale-dropdown-menu-item",attrs:{active:t.key===e.localeState.active.toUpperCase(),size:"md"},on:{click:function(n){return e.onLocaleSelect(t.name)}}},[e._v("\n      "+e._s(t.key+" - "+t.name)+"\n    ")])}))},proxy:!0}])})}),[],!1,null,"143b9183",null).exports),br={components:{BaseLabel:an,LocaleDropdown:yr},props:{pageOptions:{type:Array,required:!0},hideLocaleDropdown:{type:Boolean,default:!1}}},wr=(a(74361),(0,Re.Z)(br,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-list"},[e._l(e.pageOptions,(function(t,i){return n("div",{key:i,class:["page-list-item",{"page-list-item-selected":t.active}],on:{click:function(n){return e.$emit("select",t.page)}}},[n("BaseLabel",{attrs:{size:"sm",weight:t.active?"bold":"regular"}},[e._v("\n      "+e._s(t.name)+"\n    ")])],1)})),e._v(" "),e.hideLocaleDropdown?e._e():n("LocaleDropdown")],2)}),[],!1,null,"7ab5495b",null).exports),_r={components:{BaseDropdown:cn,IconButton:Gt,BaseDropdownItem:hn,LocaleDropdown:yr},props:{pageOptions:{type:Array,required:!0},hideLocaleDropdown:{type:Boolean,default:!1},size:{type:String,default:"sm",validator:e=>["sm","md"].includes(e)}}},xr=(0,Re.Z)(_r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseDropdown",{staticClass:"page-dropdown",attrs:{right:"",menuSize:"small"},scopedSlots:e._u([{key:"button",fn:function(){return[n("IconButton",{attrs:{icon:"icomoon-v-menu"}})]},proxy:!0},{key:"menu",fn:function(){return[e._l(e.pageOptions,(function(t,i){return n("BaseDropdownItem",{key:i,attrs:{active:t.active,label:t.name,size:e.size},on:{click:function(n){return e.$emit("select",t.page)}}},[e._v("\n      "+e._s(t.name)+"\n    ")])})),e._v(" "),e.hideLocaleDropdown?e._e():n("LocaleDropdown",{attrs:{isNested:""}})]},proxy:!0}])})}),[],!1,null,null,null).exports,Tr={components:{BaseLabel:an},mixins:[An],props:{url:{type:String,required:!0},label:{type:String,default:""},icon:{type:String,default:null},buttonStyle:{type:String,default:"primary",validator:e=>["primary","secondary","clear"].includes(e)},internal:{type:Boolean,required:!1},labelSize:{type:String,default:"sm",required:!1}},methods:{handleClick(e){this.onLinkClick(e,this.url,this.internal)}}},Sr=(a(32317),(0,Re.Z)(Tr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{class:["contact-button",e.buttonStyle],attrs:{href:e.url,target:!e.internal&&"_blank",rel:"noopener"},on:{click:e.handleClick}},[n("BaseLabel",{staticClass:"contact-button-label",attrs:{size:e.labelSize}},[e.icon?n("span",{class:[e.icon,"contact-button-label-icon"]}):e._e(),e._v("\n    "+e._s(e.label)+"\n  ")])],1)}),[],!1,null,"40310305",null).exports),Er={components:{BaseLabel:an},mixins:[An],props:{url:{type:String,required:!0},icon:{type:String,required:!0},label:{type:String,default:""},linkStyle:{type:String,default:"",required:!1},labelStyle:{type:String,default:"",required:!1}},methods:{handleClick(e){this.onLinkClick(e,this.url)}}},Mr=(a(7054),{components:{LinkButton:(0,Re.Z)(Er,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"link-button",style:e.linkStyle,attrs:{href:e.url,target:"_blank",rel:"noopener"},on:{click:e.handleClick}},[n("div",{staticClass:"link-button-icon"},[n("span",{class:e.icon})]),e._v(" "),e.label.length?n("BaseLabel",{staticClass:"link-button-label",style:e.labelStyle},[e._v("\n    "+e._s(e.label)+"\n  ")]):e._e()],1)}),[],!1,null,"1697f3f6",null).exports,CircleButton:Ot},props:{links:{type:Array,required:!0},visibleLinksLimit:{type:Number,default:null},linkStyle:{type:String,default:"",required:!1},labelStyle:{type:String,default:"",required:!1}},data:()=>({page:0,linkWidth:56}),computed:{visibleLinks(){if(!this.visibleLinksLimit)return this.links;const e=this.page*this.visibleLinksLimit;return this.links.slice(e,e+this.visibleLinksLimit)},showScrollLeft(){return!!this.visibleLinksLimit&&this.page>0},showScrollRight(){return!!this.visibleLinksLimit&&this.links.length>(this.page+1)*this.visibleLinksLimit},containerStyle(){const e={width:`${this.maximumWidth}px`};return(this.showScrollLeft||this.showScrollRight)&&(e["margin-right"]="16px"),e},maximumWidth(){return(this.visibleLinksLimit?Math.min(this.links.length,this.visibleLinksLimit):this.links.length)*this.linkWidth}},methods:{scrollLeft(){this.page--},scrollRight(){this.page++},handlePopupBlocked(){this.$root.$emit("bannerPopupBlocked")}}}),Ar=(a(62723),{components:{ContactButton:Sr,BaseLabel:an,BaseLink:Dn,BannerLinks:(0,Re.Z)(Mr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"banner-links",style:e.containerStyle},[n("CircleButton",{directives:[{name:"show",rawName:"v-show",value:e.showScrollLeft,expression:"showScrollLeft"}],staticClass:"scroll-button scroll-left",attrs:{icon:"icomoon-v-arrow-down",size:"constant",variant:"dark",iconStyle:{transform:"rotate(90deg)"}},on:{click:e.scrollLeft}}),e._v(" "),n("div",{staticClass:"link-buttons"},e._l(e.visibleLinks,(function(t,i){return n("LinkButton",{key:i,attrs:{url:t.url,icon:t.icon,label:t.label,linkStyle:e.linkStyle,labelStyle:e.labelStyle},on:{popupBlocked:e.handlePopupBlocked}})})),1),e._v(" "),n("CircleButton",{directives:[{name:"show",rawName:"v-show",value:e.showScrollRight,expression:"showScrollRight"}],staticClass:"scroll-button scroll-right",attrs:{icon:"icomoon-v-arrow-down",size:"constant",variant:"dark",iconStyle:{transform:"rotate(-90deg)"}},on:{click:e.scrollRight}})],1)}),[],!1,null,"00bd372e",null).exports},props:{banner:{type:Object,required:!0},visibleLinksLimit:{type:Number,default:4},links:{type:Array,default:()=>[]},bannerStyle:{type:String,default:"standard",validator:e=>["standard","custom"].includes(e)},isMobile:{type:Boolean,default:!1}},data:()=>({bannerPhotoHeight:0,bannerLogoHeight:0,imageWidth:0,bannerSectionDisplay:"",localeState:mr.e.state,l10n:mr.e.getLocalizedStrings()}),computed:{bannerRowStyle(){return{"row-left":"standard"===this.bannerStyle,"row-center":"custom"===this.bannerStyle}},phoneLinksStyle(){return{"phone-container-standard":"standard"===this.bannerStyle,"phone-container-custom":"custom"===this.bannerStyle}},primaryPhone(){return this.banner.phones&&this.banner.phones[0]},phoneNumbers(){return this.banner.phones&&this.banner.phones.length>1?this.banner.phones.slice(1,5):[]},emailList(){return this.banner.emails?this.banner.emails.join(", "):""},address(){let e="";const{address1:t,address2:n}=this.banner;return t&&(e+=t,n&&(e+=", ")),n&&(e+=n),e},showLogoSection(){const{banner:e,address:t}=this;return e.logo&&e.logo.url||e.company||t.length},bannerHeight(){return this.bannerPhotoHeight+this.bannerLogoHeight},imageWidthStyling(){return`width: ${this.imageWidth}px;`},phoneContainer(){return"custom"===this.bannerStyle?"display: flex; justify-content: center;":""}},mounted(){this.getLocalizedLabel(),this.resizeWindow()},methods:{resizeWindow(){const{bannerPhotoSection:e,bannerLogoSection:t}=this.$refs;this.bannerPhotoHeight=e?e.clientHeight:0,this.bannerLogoHeight=t?t.clientHeight:0},onImageLoad(){const{photo:e,logo:t}=this.$refs,n=e?e.height/e.naturalHeight*e.naturalWidth:0,i=t?t.height/t.naturalHeight*t.naturalWidth:0,r=Math.max(n,i),o=this.isMobile?96:136;this.imageWidth=r<o?r:o;this.bannerSectionDisplay=e||t?"display: flex; align-items: flex-start; justify-content: flex-start;":""},getLocalizedLabel:e=>mr.e.getLocalizedLabel(e),handlePopupBlocked(){this.$root.$emit("bannerPopupBlocked")}}}),Cr=Ar,kr=(a(73308),(0,Re.Z)(Cr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"banner-info"},[e.primaryPhone||e.emailList.length?n("div",{class:["banner-row",e.bannerRowStyle]},[e.primaryPhone?n("ContactButton",{staticClass:"banner-primary-phone phone-contact",style:e.isMobile?{}:{width:"148px"},attrs:{buttonStyle:"primary",icon:"icomoon-v-phone",label:e.isMobile?e.l10n.bannerCall:e.primaryPhone.number,url:"tel:"+e.primaryPhone.number,internal:"",labelSize:"sm"},on:{popupBlocked:e.handlePopupBlocked}}):e._e(),e._v(" "),e.emailList.length?n("ContactButton",{staticClass:"banner-email email-contact",attrs:{buttonStyle:"secondary",icon:"icomoon-v-envelop",label:e.l10n.bannerEmail,url:"mailto:"+e.emailList,labelSize:"sm"},on:{popupBlocked:e.handlePopupBlocked}}):e._e()],1):e._e(),e._v(" "),e.phoneNumbers?n("div",{style:e.phoneContainer},[n("div",{class:[e.phoneLinksStyle]},e._l(e.phoneNumbers,(function(t){return n("div",{key:t.number,staticClass:"phone-wrapper phone-contact"},[n("div",{class:["banner-row phone-item",e.bannerRowStyle]},[n("BaseLabel",{staticClass:"banner-secondary-phone-label",attrs:{size:"sm"}},[n("span",{staticClass:"icomoon-v-phone"}),e._v(" "+e._s(t.label)+":\n          ")]),e._v(" "),n("BaseLink",{staticClass:"banner-secondary-phone-links",attrs:{url:"tel:"+t.number,internal:"",hideLineHeight:""},on:{popupBlocked:e.handlePopupBlocked}},[e._v("\n            "+e._s(t.number)+"\n          ")])],1)])})),0)]):e._e(),e._v(" "),e.links.length?n("div",{class:["banner-row",e.bannerRowStyle]},[n("BannerLinks",{staticClass:"banner-links",attrs:{links:e.links,visibleLinksLimit:e.visibleLinksLimit,linkStyle:"margin-right: 8px;",labelStyle:"font-size: 10px;"}})],1):e._e()])}),[],!1,null,null,null).exports),Pr={components:{BaseHeader:Ut,BaseLabel:an,BaseBanner:kr},props:{banner:{type:Object,required:!0},noPortalLinks:{type:Boolean,default:!1},links:{type:Array,default:()=>[]},bannerLinksNumber:{type:Number,default:0},isMobile:{type:Boolean,default:!1},address:{type:String,default:""}}},Dr=(a(37842),{components:{BasePanel:Ft,BannerContent:(0,Re.Z)(Pr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.banner.fullname||e.banner.title?n("div",{staticClass:"banner-heading"},[e.banner.fullname?n("BaseHeader",{staticClass:"banner-name contact",attrs:{size:"lg"}},[e._v("\n      "+e._s(e.banner.fullname)+"\n    ")]):e._e(),e._v(" "),e.banner.title?n("BaseHeader",{staticClass:"banner-title contact",attrs:{weight:"light",size:"sm"}},[e._v("\n      "+e._s(e.banner.title)+"\n    ")]):e._e()],1):e._e(),e._v(" "),n("BaseBanner",{staticClass:"contact-links",attrs:{banner:e.banner,noPortalLinks:e.noPortalLinks,visibleLinksLimit:e.bannerLinksNumber,links:e.links,bannerStyle:"standard",isMobile:e.isMobile}}),e._v(" "),n("div",{staticClass:"banner-organization"},[e.banner.company?n("BaseHeader",{staticClass:"banner-company contact",attrs:{size:"sm"}},[e._v("\n      "+e._s(e.banner.company)+"\n    ")]):e._e(),e._v(" "),e.address.length?n("BaseLabel",{staticClass:"banner-address",attrs:{size:"sm",weight:"light",labelStyle:{whiteSpace:"inherit"}}},[e._v("\n      "+e._s(e.address)+"\n    ")]):e._e()],1)],1)}),[],!1,null,"5d6d8c3d",null).exports},props:{banner:{type:Object,required:!0},noPortalLinks:{type:Boolean,default:!1},links:{type:Array,default:()=>[]},clickableImages:{type:Boolean,default:!1,required:!1},isMobile:{type:Boolean,default:!1,required:!1},isPortrait:{type:Boolean,default:!1,required:!1},bannerLinksNumber:{type:Number,default:0,required:!1},bannerStyle:{type:String,default:"",required:!1},portalBanner:{type:Boolean,default:!1,required:!1}},data:()=>({bannerSectionDisplay:"",imageHeight:0,imageHover:!1,logoHover:!1,bannerHeight:500}),computed:{imageWidthStyling(){return`max-height: ${this.imageHeight}px;`},address(){let e="";const{address1:t,address2:n}=this.banner;return t&&(e+=t,n&&(e+=", ")),n&&(e+=n),e},portraitOrientation(){return!this.portalBanner&&this.isPortrait},landscapeOrientation(){return this.portalBanner||!this.isPortrait}},methods:{onImageLoad(){const{photo:e,logo:t,bannerInfo:n}=this.$refs;this.imageHeight=n&&n.clientHeight;this.bannerSectionDisplay=e||t?"display: flex; align-items: flex-start; justify-content: space-between;":"",this.$emit("standardBannerloaded")},onHover(e,t="image"){"image"===t?this.imageHover=e:"logo"===t&&(this.logoHover=e)},clickableImageWrapperStyle(e){return this.clickableImages&&e?"background: #ccc; cursor: pointer;":""},clickableImageStyle(e){return this.clickableImages&&e?"opacity: 0.3;":""},onImageClicked(e){this.clickableImages&&this.$emit(e)}}}),Rr=(a(49910),(0,Re.Z)(Dr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BasePanel",{class:["banner"],style:e.bannerStyle,attrs:{opacity:"dark"}},[n("div",{staticClass:"banner-section-container"},[n("div",{staticClass:"banner-section",style:e.bannerSectionDisplay},[n("div",[n("div",{staticClass:"banner-image-container"},[n("div",{staticClass:"image-wrapper right-justify",style:e.clickableImageWrapperStyle(e.imageHover),on:{mouseover:function(t){return e.onHover(!0,"image")},mouseleave:function(t){return e.onHover(!1,"image")},click:function(t){return e.onImageClicked("photoclick")}}},[e.banner.photo&&e.banner.photo.url?n("img",{ref:"photo",staticClass:"banner-image",style:e.clickableImageStyle(e.imageHover),attrs:{src:e.banner.photo.url},on:{load:e.onImageLoad}}):e._e()])])]),e._v(" "),n("div",{ref:"bannerInfo",staticClass:"banner-info"},[e.portraitOrientation?n("div",{staticClass:"image-wrapper",style:e.clickableImages&&e.logoHover?"background: #ccc; cursor: pointer;":"",on:{mouseover:function(t){return e.onHover(!0,"logo")},mouseleave:function(t){return e.onHover(!1,"logo")},click:function(t){return e.onImageClicked("logoclick")}}},[e.banner.logo&&e.banner.logo.url?n("img",{ref:"logo",staticClass:"banner-logo",style:[e.clickableImageStyle(e.logoHover),e.imageWidthStyling],attrs:{src:e.banner.logo.url},on:{load:e.onImageLoad}}):e._e()]):e._e(),e._v(" "),e.landscapeOrientation?n("BannerContent",e._b({},"BannerContent",{banner:e.banner,noPortalLinks:e.noPortalLinks,links:e.links,bannerLinksNumber:e.bannerLinksNumber,isMobile:e.isMobile,address:e.address},!1)):e._e()],1),e._v(" "),e.landscapeOrientation?n("div",{staticClass:"banner-logo-container",style:e.imageWidthStyling},[n("div",{staticClass:"image-wrapper",style:e.clickableImageWrapperStyle(e.logoHover),on:{mouseover:function(t){return e.onHover(!0,"logo")},mouseleave:function(t){return e.onHover(!1,"logo")},click:function(t){return e.onImageClicked("logoclick")}}},[e.banner.logo&&e.banner.logo.url?n("img",{ref:"logo",staticClass:"banner-image",style:e.clickableImageStyle(e.logoHover),attrs:{src:e.banner.logo.url},on:{load:e.onImageLoad}}):e._e()])]):e._e()]),e._v(" "),e.portraitOrientation?n("BannerContent",e._b({},"BannerContent",{banner:e.banner,noPortalLinks:e.noPortalLinks,links:e.links,bannerLinksNumber:e.bannerLinksNumber,isMobile:e.isMobile,address:e.address},!1)):e._e()],1)])}),[],!1,null,"21ed17fd",null).exports),$r={components:{BasePanel:Ft,BaseBanner:kr},props:{banner:{type:Object,required:!0},noPortalLinks:{type:Boolean,default:!1},links:{type:Array,default:()=>[]},hideLinks:{type:Boolean,default:!1,required:!1},clickableImages:{type:Boolean,default:!1,required:!1},fitParentContainer:{type:Boolean,default:!1,required:!1}},data:()=>({infoHeight:0,imageWidth:0,imageHeight:0,windowWidth:0,windowHeight:0,navMenuMargins:0,bannerLinksNumber:4,isMobile:!1,imageHover:!1,landscape:!1,viewerContainer:null}),computed:{imageIsLandscape(){return this.imageWidth>this.imageHeight},bannerImageStyling(){const{imageHeight:e,imageWidth:t,imageIsLandscape:n,infoHeight:i,navMenuMargins:r,windowWidth:o,windowHeight:a,isMobile:s,landscape:l}=this;if(!t||!e)return"";const c=this.clickableImages&&this.imageHover?"opacity: 0.3;":"",u=s?8:24,d=a-i-u-r-1,h=(e>d?d:e)/e,p=(o-2)/t,f=Math.min(h,1),m=Math.min(p,1),g=a*(l&&(a<718||!n)?1:.66)-i-u-r-1,v=s&&!l?Math.min(e*f,g):l?g:e*f,y=`${s||n?t*m:Math.min(t*m,o/3)}px`;return`max-width: ${this.fitParentContainer?"100%":y}; max-height: ${v}px; ${c}`},clickableImageWrapperStyle(){return this.clickableImages&&this.imageHover?"background: #ccc; cursor: pointer;":""},bannerInfoStyle(){const e=this.isMobile?"4px":"12px";return 0===this.infoHeight?"":`margin: ${e};`}},created(){window.addEventListener("resize",this.resizeWindow)},mounted(){this.viewerContainer=document.getElementById("vf-tour-container"),this.resizeWindow()},beforeDestroy(){window.removeEventListener("resize",this.resizeWindow)},methods:{onImageLoad(){const{image:e}=this.$refs;this.imageWidth=e.width,this.imageHeight=e.height,this.$emit("customBannerloaded")},resizeWindow(){const{links:e,imageIsLandscape:t,viewerContainer:n}=this;this.windowWidth=n?n.clientWidth:window.innerWidth,this.windowHeight=n?n.clientHeight:window.innerHeight,this.isMobile=this.windowWidth<=767,this.landscape=this.windowWidth>this.windowHeight,this.infoHeight=this.$refs.bannerInfo&&this.$refs.bannerInfo.clientHeight,this.navMenuMargins=this.isMobile?54:64,this.bannerLinksNumber=this.isMobile?4:t?e.length:5},onImageClicked(e){this.clickableImages&&this.$emit(e)},onHover(e){this.imageHover=e}}},Ir=(a(68799),(0,Re.Z)($r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BasePanel",{staticClass:"banner",attrs:{opacity:"dark"}},[n("div",{staticClass:"custom-banner-container"},[n("div",{staticClass:"image-container",style:e.clickableImageWrapperStyle,on:{mouseover:function(t){return e.onHover(!0)},mouseleave:function(t){return e.onHover(!1)},click:function(t){return e.onImageClicked("customclick")}}},[n("img",{ref:"image",style:e.bannerImageStyling,attrs:{src:e.banner.custom.url},on:{load:e.onImageLoad}})]),e._v(" "),e.hideLinks?e._e():n("div",{ref:"bannerInfo",staticClass:"banner-info-section",style:e.bannerInfoStyle},[n("BaseBanner",{attrs:{banner:e.banner,noPortalLinks:e.noPortalLinks,visibleLinksLimit:e.bannerLinksNumber,links:e.links,bannerStyle:"custom",isMobile:e.isMobile}})],1)])])}),[],!1,null,"533ee02c",null).exports);const Lr={Facebook:"icomoon-v-facebook",LinkedIn:"icomoon-v-linkedin",Twitter:"icomoon-v-twitter",Pinterest:"icomoon-v-pinterest",Instagram:"icomoon-v-instagram",Youtube:"icomoon-v-youtube"};var Or={components:{StandardBanner:Rr,CustomBanner:Ir},mixins:[je.r],props:{banner:{type:Object,required:!0},noPortalLinks:{type:Boolean,default:!1},standard:{type:Boolean,default:!1,required:!1},custom:{type:Boolean,default:!1,required:!1},clickableImages:{type:Boolean,default:!1,required:!1},portalBanner:{type:Boolean,default:!1,required:!1},fitParentContainer:{type:Boolean,default:!1,required:!1}},data:()=>({landscape:!1,isMobile:!1,windowHeight:0,windowWidth:0,bannerHeight:300,bannerWidth:300,bannerLinksNumber:4,viewerContainer:null,customHeightScale:0,customWidthScale:0}),computed:{showCustomBanner(){return!this.standard&&this.banner.custom&&0!==this.banner.custom.size||this.custom},propertiesUrl(){return Ae.modules.isEnabled("iguidemap")&&this.banner.fullname?En.iguideMapAgentSearch(this.banner.fullname):""},links(){const e=[];return this.banner.www&&e.push({url:this.banner.www,icon:"icomoon-v-external-link",label:this.l10n.bannerWebsite}),!this.propertiesUrl||this.banner.hideSearchIcon||this.noPortalLinks||e.push({url:this.propertiesUrl,icon:"icomoon-v-office",label:this.l10n.bannerPropertiesShort}),this.banner.social&&this.banner.social.forEach((({link:t,label:n})=>{e.push({url:t,icon:Lr[n],label:n})})),e},bannerDimensions(){let e="";if(this.portalBanner)return e;const{windowWidth:t,windowHeight:n,isMobile:i,bannerHeight:r,bannerWidth:o,landscape:a}=this,s=(n*(n<718?a?1:.66:a?.5:.66)-(i?54:64)-1)/r,l=(t-2)/o,c=Math.min(l,s);return c<1&&(e=`transform-origin: top right; transform: scale(${c});`),e}},created(){window.addEventListener("resize",this.bannerResize),this.bannerResize()},mounted(){this.viewerContainer=document.getElementById("vf-tour-container"),this.bannerResize()},beforeDestroy(){window.removeEventListener("resize",this.bannerResize)},methods:{onBannerImgClicked(e){this.clickableImages&&this.$emit(e)},bannerResize(){const{viewerContainer:e}=this;this.windowWidth=e?e.clientWidth:window.innerWidth,this.windowHeight=e?e.clientHeight:window.innerHeight,this.isMobile=this.windowWidth<=767,this.landscape=this.windowWidth>this.windowHeight,this.bannerHeight=this.$refs&&this.$refs.viewerBanner&&this.$refs.viewerBanner.clientHeight,this.bannerWidth=this.$refs&&this.$refs.viewerBanner&&this.$refs.viewerBanner.clientWidth,this.bannerLinksNumber=5}}},Nr=Or,Fr=(a(80468),{components:{PanFadeTransition:hr,CollapsibleBar:fr,IconButton:Gt,BaseLabel:an,PageList:wr,PageDropdown:xr,Banner:(0,Re.Z)(Nr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"viewerBanner",staticClass:"viewer-banner",on:{click:function(t){return e.$emit("click")}}},[e.showCustomBanner?e._e():n("StandardBanner",{attrs:{banner:e.banner,noPortalLinks:e.noPortalLinks,links:e.links,clickableImages:e.clickableImages,isMobile:e.isMobile,isPortrait:!e.landscape,bannerLinksNumber:e.bannerLinksNumber,bannerStyle:e.bannerDimensions,portalBanner:e.portalBanner},on:{standardBannerloaded:e.bannerResize,photoclick:function(t){return e.onBannerImgClicked("photoclick")},logoclick:function(t){return e.onBannerImgClicked("logoclick")}}}),e._v(" "),e.showCustomBanner?n("CustomBanner",{attrs:{banner:e.banner,noPortalLinks:e.noPortalLinks,links:e.links,clickableImages:e.clickableImages,fitParentContainer:e.fitParentContainer},on:{customBannerloaded:e.bannerResize,customclick:function(t){return e.onBannerImgClicked("customclick")}}}):e._e()],1)}),[],!1,null,null,null).exports},mixins:[Li,sn],props:{title:{type:String,required:!0},pageOptions:{type:Array,required:!0},fixedLocale:{type:Boolean,default:!1},banners:{type:Array,default:()=>[]},noPortalLinks:{type:Boolean,default:!1},forceCollapse:{type:Boolean,default:!1},isUnbranded:{type:Boolean,default:!1},showInitialBannerDrop:{type:Boolean,default:!1}},data:()=>({bannerDropped:!1,collapsed:!1}),computed:{availablePageOptions(){return this.pageOptions.filter((e=>e.show))},showBanner(){return this.banners.length&&!this.isUnbranded},collapsedBarWidth(){return this.showBanner?112:72},collapsedStyle(){return this.collapsed?{width:`${this.collapsedBarWidth}px`}:""},preventMenuCollapse(){return"tour"!==this.activePage&&"gallery"!==this.activePage},activePage(){const e=this.pageOptions.find((({active:e})=>e));return e?e.page:""}},mounted(){this.showInitialBannerDrop&&this.setInitialBannerDrop()},methods:{onBannerIconClick(){this.bannerDropped=!this.bannerDropped},onBannerClickOutside(e){e.target.closest(".toggle-banner-button")||(this.bannerDropped=!1),this.clearInitialBannerDrop()},onPageSelect(e){this.$emit("setPage",e)},setInitialBannerDrop(){this.bannerDropTimeoutId=setTimeout((()=>{this.bannerDropped=!0,this.bannerDropTimeoutId=setTimeout((()=>{this.bannerDropped=!1,this.bannerDropTimeoutId=null}),3500)}),200)},clearInitialBannerDrop(){this.bannerDropTimeoutId&&(clearTimeout(this.bannerDropTimeoutId),this.bannerDropTimeoutId=null)},handleCollapse(e){this.collapsed=e}}}),Br=(a(48186),(0,Re.Z)(Fr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-menu",style:e.collapsedStyle},[n("CollapsibleBar",{attrs:{preventCollapse:e.preventMenuCollapse,forceCollapse:e.forceCollapse},on:{collapsibleEvent:e.handleCollapse},scopedSlots:e._u([{key:"expanded",fn:function(){return[e.isMobile?n("BaseLabel",{staticClass:"nav-title",attrs:{weight:"light",size:"sm"}},[e._v("\n        "+e._s(e.title)+"\n      ")]):e._e(),e._v(" "),e.showBanner?n("IconButton",{staticClass:"toggle-banner-button",attrs:{icon:"icomoon-v-user",active:e.bannerDropped},on:{click:e.onBannerIconClick}}):e._e(),e._v(" "),e.isMobile?e._e():n("BaseLabel",{staticClass:"nav-title",attrs:{weight:"light",size:"sm"}},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),e.isMobile?e._e():n("PageList",{staticClass:"page-list",attrs:{hideLocaleDropdown:e.fixedLocale,pageOptions:e.availablePageOptions},on:{select:e.onPageSelect}}),e._v(" "),e.isMobile?n("PageDropdown",{staticClass:"page-dropdown",attrs:{size:"md",hideLocaleDropdown:e.fixedLocale,pageOptions:e.availablePageOptions},on:{select:e.onPageSelect}}):e._e()]},proxy:!0},{key:"collapsed",fn:function(){return[e.showBanner?n("IconButton",{staticClass:"toggle-banner-button",attrs:{icon:"icomoon-v-user",active:e.bannerDropped},on:{click:e.onBannerIconClick}}):e._e(),e._v(" "),n("PageDropdown",{staticClass:"page-dropdown",attrs:{size:"md",hideLocaleDropdown:e.fixedLocale,pageOptions:e.availablePageOptions},on:{select:e.onPageSelect}})]},proxy:!0}])}),e._v(" "),e.showBanner?n("PanFadeTransition",[e.banners.length&&e.bannerDropped?n("Banner",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onBannerClickOutside,expression:"onBannerClickOutside"}],staticClass:"banner",attrs:{banner:e.banners[0],noPortalLinks:e.noPortalLinks},on:{click:e.clearInitialBannerDrop}}):e._e()],1):e._e()],1)}),[],!1,null,"093e0de0",null).exports),Ur={components:{ContactButton:Sr},props:{unbranded:{type:Boolean,default:!1}},computed:{url(){return this.unbranded?"#":"https://goiguide.com/?iguide"}},methods:{handlePopupBlocked(){this.$root.$emit("bannerPopupBlocked")}}},zr=(a(57061),{components:{NavMenu:Br,Logo:(0,Re.Z)(Ur,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("ContactButton",{class:["logo",{"logo-unbranded":e.unbranded}],attrs:{url:e.url,icon:"icomoon-v-iguide-logo",buttonStyle:"clear"},on:{popupBlocked:e.handlePopupBlocked}})}),[],!1,null,"5d82dbd2",null).exports},props:{title:{type:String,required:!0},page:{type:String,required:!0},pageOptions:{type:Array,required:!0},banners:{type:Array,default:()=>[]},fixedLocale:{type:Boolean,default:!1},noPortalLinks:{type:Boolean,default:!1},unbranded:{type:Boolean,default:!1},whiteLabelled:{type:Boolean,default:!1},floorplanMaximized:{type:Boolean,default:!1},isPortrait:{type:Boolean,default:!1},hideMenu:{type:Boolean,default:!1},showInitialBannerDrop:{type:Boolean,default:!1}},computed:{isMeasureModeActive(){return"tour_meas"===this.page},showLogo(){return!("tour"!==this.page&&"tour_meas"!==this.page||this.whiteLabelled||this.logoCovered)},logoCovered(){return this.isPortrait&&this.floorplanMaximized}},mounted(){this.$root.$on("bannerPopupBlocked",this.handlePopupBlocked)},beforeDestroy(){this.$root.$off("bannerPopupBlocked",this.handlePopupBlocked)},methods:{handlePopupBlocked(){this.$emit("overlayPopupBlocked")}}}),Vr=(a(63852),(0,Re.Z)(zr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-overlay"},[e.hideMenu?e._e():n("NavMenu",{staticClass:"page-overlay-nav-menu",attrs:{title:e.title,pageOptions:e.pageOptions,fixedLocale:e.fixedLocale,banners:e.banners,noPortalLinks:e.noPortalLinks,forceCollapse:e.isMeasureModeActive,isUnbranded:e.unbranded,showInitialBannerDrop:e.showInitialBannerDrop},on:{setPage:function(t){return e.$emit("setPage",t)}}}),e._v(" "),e.showLogo?n("Logo",{staticClass:"page-overlay-logo",attrs:{unbranded:e.unbranded}}):e._e()],1)}),[],!1,null,"18de1ccf",null).exports),Hr=a(73220),jr=a.n(Hr),Wr=(a(2235),a.p+"a/b70f60e33831e719d0bd.mp3"),Gr=a.p+"a/e9b35437e1944df16c35.ogg",qr="Audio muted by browser",Zr=function(){function e(t){o()(this,e),u()(this,"audioElem",void 0),this.audioElem=document.createElement("audio"),this.audioElem.setAttribute("loop","true"),this.setMuted(t),this.audioElem.canPlayType?(this.audioElem.canPlayType("audio/mpeg")&&this.audioElem.setAttribute("src",Wr),this.audioElem.canPlayType('audio/ogg; codecs="vorbis"')&&this.audioElem.setAttribute("src",Gr)):window.console.error("audio element canPlayType is not available")}return l()(e,[{key:"play",value:function(){return this.audioElem?this.audioElem.play().catch((function(){return jr().reject(qr)})):jr().reject("Audio element not created")}},{key:"pause",value:function(){this.audioElem&&this.audioElem.pause()}},{key:"reset",value:function(){this.audioElem&&(this.audioElem.currentTime=0)}},{key:"setMuted",value:function(e){this.audioElem&&(this.audioElem.muted=e)}}]),e}(),Xr={components:{BaseHeader:Ut},mixins:[je.r],props:{whiteLabelled:{type:Boolean,default:!1}},computed:{message(){return this.whiteLabelled?this.l10n.notReadyMessageWhiteLabel:this.l10n.notReadyMessage}}},Yr=(a(42524),(0,Re.Z)(Xr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"not-ready-banner"},[n("BaseHeader",{attrs:{weight:"regular"}},[e._v("\n    "+e._s(e.message)+"\n  ")])],1)}),[],!1,null,"5f814fd4",null).exports),Kr=function(){function e(t,n,i){o()(this,e),this.size=t,this.suffix=n,this.name=i||"resolution-".concat(n)}return l()(e,[{key:"addSuffix",value:function(e){if(!this.suffix)return e;var t=e.lastIndexOf("/"),n=e.indexOf("?"),i=n>=0,r=e.substring(t+1,i?n:void 0),o=r.lastIndexOf(".");if(t>=0&&t>t+o)return"".concat(e,"_").concat(this.suffix);if(o<0)return"".concat(e,"_").concat(this.suffix);var a=r.substring(0,o),s=r.substring(o),l="".concat(a,"_").concat(this.suffix).concat(s),c=e.substring(0,t+1),u=i?e.substring(n):"";return"".concat(c).concat(l).concat(u)}}]),e}(),Jr=function(){function e(t){o()(this,e),this.resolutions=t||[new Kr(1/0,"","original")]}return l()(e,[{key:"getBestRes",value:function(e,t){var n=e*window.devicePixelRatio;if(t&&t.size>=n)return t;for(var i=this.resolutions.length-1;i>=0;i--)if(this.resolutions[i].size>=n)return this.resolutions[i]}},{key:"getClosestRes",value:function(e,t,n){var i=window.devicePixelRatio,r=t*Math.min(i,1.5);if(n&&n.size>=r)return n;var o=1/0,a=0,s=0;for(s=0;s<this.resolutions.length;s++){var l=this.resolutions[s].size===1/0?e?1200:2048:this.resolutions[s].size,c=Math.abs(l-r);c<o&&(o=c,a=s)}return this.resolutions[a]}},{key:"findBySuffix",value:function(e){return this.resolutions.find((function(t){return t.suffix===e}))}},{key:"getSrcsetVal",value:function(e){return this.resolutions.filter((function(e){return e.size<1/0})).map((function(t){return"".concat(t.addSuffix(e)," ").concat(t.size,"w")})).join(", ")}},{key:"getDummy",value:function(){return new Kr(0,"","dummy")}},{key:"getOriginalResolution",value:function(){return this.resolutions.find((function(e){return"original"===e.name}))}},{key:"getSmallest",value:function(){return this.resolutions[this.resolutions.length-1]}}]),e}(),Qr=new Jr([new Kr(1/0,"","original"),new Kr(4096,"4096x","4096x"),new Kr(600,"s","small")]).findBySuffix("4096x"),eo=new Jr([new Kr(1/0,"","original"),new Kr(1680,"1680x","1680x"),new Kr(1400,"1400x","1400x"),new Kr(1024,"1024x","1024x"),new Kr(840,"840x","840x")]),to=new Jr([new Kr(1/0,"","original"),new Kr(1024,"m","medium"),new Kr(600,"s","small")]),no=new Jr([new Kr(1/0,"","original"),new Kr(3200,"xl","extra-large"),new Kr(1600,"l","large"),new Kr(1024,"m","medium"),new Kr(600,"s","small")]);const io={props:{src:{type:String,required:!0},srcPlaceholder:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},srcset:{type:String},intersectionOptions:{type:Object,default:()=>({})},usePicture:{type:Boolean,default:!1}},inheritAttrs:!1,data:()=>({observer:null,intersected:!1,loaded:!1}),computed:{srcImage(){return this.intersected&&this.src?this.src:this.srcPlaceholder},srcsetImage(){return!(!this.intersected||!this.srcset)&&this.srcset}},methods:{load(){this.$el&&this.$el.getAttribute("src")!==this.srcPlaceholder&&(this.loaded=!0,this.$emit("load",this.$el))},error(){this.$emit("error",this.$el)}},render(e){let t=e("img",{attrs:{src:this.srcImage,srcset:this.srcsetImage},domProps:this.$attrs,class:{"v-lazy-image":!0,"v-lazy-image-loaded":this.loaded},on:{load:this.load,error:this.error}});return this.usePicture?e("picture",{on:{load:this.load}},this.intersected?[this.$slots.default,t]:[t]):t},mounted(){"IntersectionObserver"in window&&(this.observer=new IntersectionObserver((e=>{e[0].isIntersecting&&(this.intersected=!0,this.observer.disconnect(),this.$emit("intersect"))}),this.intersectionOptions),this.observer.observe(this.$el))},destroyed(){"IntersectionObserver"in window&&this.observer.disconnect()}};var ro={components:{VLazyImage:io},props:{src:{type:String,required:!0}}},oo=(0,Re.Z)(ro,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("VLazyImage",{staticClass:"lazy-image",attrs:{src:e.src}})}),[],!1,null,null,null).exports,ao={components:{LazyImage:oo},props:{src:{type:String,required:!0}}},so=(a(39135),{components:{GalleryImage:(0,Re.Z)(ao,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gallery-image-container",on:{click:function(t){return e.$emit("click")}}},[n("LazyImage",{staticClass:"gallery-image",attrs:{src:e.src}})],1)}),[],!1,null,"6fec113f",null).exports},props:{photos:{type:Array,required:!0},noMultiRes:{type:Boolean,default:!1}},data:()=>({imageSize:0}),computed:{thumbnailUrls(){return this.noMultiRes?this.photos.map((({url:e})=>e)):this.imageSize?this.photos.map((({url:e,width:t})=>t>this.imageSize?this.thumbResolution.addSuffix(e):e)):this.photos.map((()=>""))}},created(){this.thumbResolution=no.getDummy(),window.addEventListener("resize",this.onResize),window.addEventListener("load",this.onResize,{once:!0})},activated(){this.onResize()},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){const{clientWidth:e}=this.$refs.gallery.children[0];this.thumbResolution=no.getBestRes(e,this.thumbResolution),this.imageSize=this.thumbResolution.size}}}),lo=(a(16548),(0,Re.Z)(so,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"gallery",staticClass:"gallery"},e._l(e.thumbnailUrls,(function(t,i){return n("GalleryImage",{key:i,attrs:{src:t},on:{click:function(t){return e.$emit("imageClick",i)}}})})),1)}),[],!1,null,"3bc90956",null).exports),co={bind:function(e){e.scrollHorizontally=function(t){if(e===t.target||e.contains(t.target)){var n=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));e.scrollLeft-=40*n,(n>0&&e.scrollLeft>0||n<0&&e.offsetWidth+e.scrollLeft<e.scrollWidth)&&t.preventDefault()}},e.addEventListener("wheel",e.scrollHorizontally,!1)},unbind:function(e){e.removeEventListener("wheel",e.scrollHorizontally,!1)}},uo={components:{LazyImage:oo},props:{src:{type:String,required:!0},active:{type:Boolean,default:!1}},computed:{containerClass(){return["slideshow-preview-image-container",{"slideshow-preview-image-container-active":this.active}]}}},ho=(a(24790),{components:{CircleButton:Ot,SlideshowPreviewImage:(0,Re.Z)(uo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.containerClass,on:{click:function(t){return e.$emit("click")}}},[n("LazyImage",{staticClass:"slideshow-preview-image",attrs:{src:e.src}})],1)}),[],!1,null,"8d9ce792",null).exports},directives:{horizontalScroll:co},props:{photos:{type:Array,required:!0},activeImageIndex:{type:Number,required:!0},noMultiRes:{type:Boolean,default:!1}},data:()=>({showImage:!1,imageSize:0,transitionName:"slide-left"}),computed:{showScrollLeft(){return this.activeImageIndex>0},showScrollRight(){return this.activeImageIndex<this.photos.length-1},activeImage(){return this.photos[this.activeImageIndex]},previewUrls(){return this.noMultiRes?this.photos.map((({url:e})=>e)):this.imageSize?this.photos.map((({url:e,width:t})=>t>this.imageSize?this.previewResolution.addSuffix(e):e)):this.photos.map((()=>""))}},watch:{activeImageIndex(e,t){e>=t||t===this.photos.length-1&&0===e?this.transitionName="slide-left":this.transitionName="slide-right",this.scrollToPreviewImage(e)}},created(){this.previewResolution=no.getDummy(),window.addEventListener("resize",this.onResize),window.addEventListener("load",this.onResize,{once:!0}),window.addEventListener("keydown",this.onKeyDown)},activated(){this.onResize(),this.scrollToPreviewImage(this.activeImageIndex)},beforeDestroy(){window.removeEventListener("resize",this.onResize),window.removeEventListener("keydown",this.onKeyDown)},methods:{scrollLeft(){this.activeImageIndex<1||this.$emit("selectImage",this.activeImageIndex-1)},scrollRight(){this.activeImageIndex>this.photos.length-2||this.$emit("selectImage",this.activeImageIndex+1)},scrollToPreviewImage(e){const{previews:t}=this.$refs;if(!t)return;const n=t.children[e];n&&t.scrollTo&&t.scrollTo({left:n.offsetLeft+.5*(n.clientWidth-t.clientWidth),behavior:"smooth"})},onResize(){const{clientWidth:e}=this.$refs.previews.children[0];this.previewResolution=no.getBestRes(e,this.previewResolution),this.imageSize=this.previewResolution.size},onKeyDown(e){const{key:t,keyCode:n}=e;"ArrowLeft"===t||37===n?this.scrollLeft():"ArrowRight"!==t&&39!==n||this.scrollRight()}}}),po=ho,fo=(a(99890),(0,Re.Z)(po,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slideshow"},[n("div",{staticClass:"slideshow-image-container"},[n("transition-group",{attrs:{name:e.transitionName}},e._l([e.activeImageIndex],(function(t){return n("img",{key:t,staticClass:"slideshow-image",attrs:{src:e.photos[t].url}})})),0),e._v(" "),n("CircleButton",{directives:[{name:"show",rawName:"v-show",value:e.showScrollLeft,expression:"showScrollLeft"}],staticClass:"scroll-button scroll-left",attrs:{icon:"icomoon-v-arrow-down",size:"lg",variant:"raised",iconStyle:{transform:"rotate(90deg)"}},on:{click:e.scrollLeft}}),e._v(" "),n("CircleButton",{directives:[{name:"show",rawName:"v-show",value:e.showScrollRight,expression:"showScrollRight"}],staticClass:"scroll-button scroll-right",attrs:{icon:"icomoon-v-arrow-down",size:"lg",variant:"raised",iconStyle:{transform:"rotate(-90deg)"}},on:{click:e.scrollRight}})],1),e._v(" "),n("div",{directives:[{name:"horizontal-scroll",rawName:"v-horizontal-scroll"}],ref:"previews",staticClass:"slideshow-previews"},e._l(e.previewUrls,(function(t,i){return n("SlideshowPreviewImage",{key:i,attrs:{src:t,active:e.activeImageIndex===i},on:{click:function(t){return e.$emit("selectImage",i)}}})})),1)])}),[],!1,null,"54dbb7f0",null)),mo=fo.exports,go={components:{IconButton:Gt,ButtonToolbar:jt},mixins:[je.r],props:{hideShareButton:{type:Boolean,default:!1}}},vo=(0,Re.Z)(go,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ButtonToolbar",[n("IconButton",{staticClass:"play-button",attrs:{icon:"icomoon-v-play",title:e.l10n.toggleSlideshowTooltip},on:{click:function(t){return e.$emit("playClick")}}}),e._v(" "),e.hideShareButton?e._e():n("IconButton",{staticClass:"share-button",attrs:{icon:"icomoon-v-share",title:e.l10n.shareTooltip},on:{click:function(t){return e.$emit("shareClick")}}})],1)}),[],!1,null,null,null).exports,yo={components:{IconButton:Gt,ButtonToolbar:jt},mixins:[je.r],props:{playing:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},hideShareButton:{type:Boolean,default:!1}},computed:{togglePlayButtonIcon(){return this.playing?"icomoon-v-pause":"icomoon-v-play"},toggleMuteButtonIcon(){return this.muted?"icomoon-v-volume-mute2":"icomoon-v-volume-max"}}},bo={components:{NotReadyBanner:Yr,Gallery:lo,Slideshow:mo,GalleryTools:vo,SlideshowTools:(0,Re.Z)(yo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ButtonToolbar",{attrs:{closeable:""},on:{close:function(t){return e.$emit("close")}}},[n("IconButton",{staticClass:"toggle-play-button",attrs:{title:e.l10n.toggleSlideshowTooltip,icon:e.togglePlayButtonIcon},on:{click:function(t){return e.$emit("togglePlayClick")}}}),e._v(" "),e.hideShareButton?e._e():n("IconButton",{staticClass:"share-button",attrs:{title:e.l10n.shareTooltip,icon:"icomoon-v-share"},on:{click:function(t){return e.$emit("shareClick")}}}),e._v(" "),e.playing?n("IconButton",{staticClass:"toggle-mute-button",attrs:{title:e.l10n.muteTooltip,icon:e.toggleMuteButtonIcon},on:{click:function(t){return e.$emit("toggleMuteClick")}}}):e._e()],1)}),[],!1,null,null,null).exports,DisplayTools:Qt},props:{photos:{type:Array,required:!0},page:{type:String,required:!0},muted:{type:Boolean,required:!0},fullscreenElement:{type:HTMLElement,required:!0},showNewWindow:{type:Boolean,default:!1},noControls:{type:Boolean,default:!1},noSocial:{type:Boolean,default:!1},noMenu:{type:Boolean,default:!1},notReady:{type:Boolean,default:!1},photosOnly:{type:Boolean,default:!1},whiteLabelled:{type:Boolean,default:!1},noMultiRes:{type:Boolean,default:!1}},data:()=>({showSlideshow:!1,slideshowPlaying:!1,slideshowImageIndex:0}),watch:{page(e,t){"gallery"!==e&&"gallery"===t&&this.slideshowPlaying&&this.closeSlideshow()},muted(e){this.musicManager.setMuted(e)}},created(){this.musicManager=new Zr(this.muted)},mounted(){this.showSlideshow="slideshow"===this.page},methods:{initSlideshow(){this.setSlideshowImage(0),this.playSlideshow()},playSlideshow(){this.slideshowPlaying=!0,this.slideshowIntervalId=setInterval((()=>{this.slideshowImageIndex=(this.slideshowImageIndex+1)%this.photos.length}),3e3),this.musicManager.play()},pauseSlideshow(){this.slideshowPlaying=!1,this.slideshowIntervalId&&(clearInterval(this.slideshowIntervalId),this.slideshowIntervalId=null),this.musicManager.pause()},closeSlideshow(){this.slideshowPlaying&&this.pauseSlideshow(),this.showSlideshow=!1,this.musicManager.reset()},toggleSlideshow(){this.slideshowPlaying?this.pauseSlideshow():this.playSlideshow()},setSlideshowImage(e){this.slideshowImageIndex=e,this.showSlideshow=!0}}},wo=bo,_o=(a(5683),(0,Re.Z)(wo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["photos-container",{"photos-container-no-menu":e.noMenu}]},[n("div",{staticClass:"photos-body"},[e.notReady&&!e.photosOnly?n("NotReadyBanner",{staticClass:"photos-not-ready-banner",attrs:{whiteLabelled:e.whiteLabelled}}):e._e(),e._v(" "),n("keep-alive",[e.showSlideshow?e._e():n("Gallery",{attrs:{photos:e.photos,noMultiRes:e.noMultiRes},on:{imageClick:e.setSlideshowImage}})],1),e._v(" "),n("keep-alive",[e.showSlideshow?n("Slideshow",{attrs:{photos:e.photos,activeImageIndex:e.slideshowImageIndex,noMultiRes:e.noMultiRes},on:{selectImage:e.setSlideshowImage}}):e._e()],1)],1),e._v(" "),e.noControls?e._e():n("div",{staticClass:"photos-footer"},[n("GalleryTools",{directives:[{name:"show",rawName:"v-show",value:!e.showSlideshow,expression:"!showSlideshow"}],attrs:{hideShareButton:e.noSocial},on:{playClick:e.initSlideshow,shareClick:function(t){return e.$emit("openShare")}}}),e._v(" "),n("SlideshowTools",{directives:[{name:"show",rawName:"v-show",value:e.showSlideshow,expression:"showSlideshow"}],attrs:{playing:e.slideshowPlaying,muted:e.muted,hideShareButton:e.noSocial},on:{togglePlayClick:e.toggleSlideshow,shareClick:function(t){return e.$emit("openShare")},toggleMuteClick:function(t){return e.$emit("toggleMute")},close:e.closeSlideshow}}),e._v(" "),n("DisplayTools",{staticClass:"photos-display-tools",attrs:{showFullscreen:"",showVr:!1,fullscreenElement:e.fullscreenElement,showNewWindow:e.showNewWindow},on:{fullscreenChange:function(t){return e.$emit("fullscreenChange")},toggleShowNewWindow:function(t){return e.$emit("toggleShowNewWindow")}}})],1)])}),[],!1,null,"0e595b48",null).exports),xo={components:{BaseModal:Vt,BaseLabel:an},mixins:[je.r]},To=(0,Re.Z)(xo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseModal",{attrs:{header:e.l10n.tourWarningPopupBlockedTitle},on:{hideModal:function(t){return e.$emit("hideModal")}}},[n("BaseLabel",{staticClass:"subheading-label",attrs:{labelStyle:{whiteSpace:"inherit"}}},[e._v("\n    "+e._s(e.l10n.tourWarningPopupBlocked)+"\n  ")])],1)}),[],!1,null,null,null).exports,So=function(e){return"translateX(".concat(e,"px)")},Eo=function(e){return"translateY(".concat(e,"px)")},Mo=function(e){return"translateZ(".concat(e,"px)")},Ao=function(e){return"rotateX(".concat(e,"rad)")},Co=function(e){return"rotateY(".concat(e,"rad)")},ko=function(e){return"rotateZ(".concat(e,"rad)")},Po=["rotateY(-89.9999deg)","rotateY(0.0001deg)","rotateY(89.9999deg)","rotateY(179.9999deg)","rotateX(-89.9999deg)","rotateX(89.9999deg)"],Do="pano-load-cancelled",Ro=function(){function e(){o()(this,e),this.promise=null,this.promiseResolve=null,this.promiseReject=null,this.facesLoaded=0,this.cancelled=!1}return l()(e,[{key:"isStarted",value:function(){return!!this.promise}},{key:"isRunning",value:function(){return this.isStarted()&&!this.cancelled&&this.facesLoaded<6}},{key:"isDone",value:function(){return this.isStarted()&&(this.cancelled||6===this.facesLoaded)}},{key:"load",value:function(e,t,n){var i=this;return this.promise||(this.promise=new(jr())((function(r,o){i.promiseResolve=r,i.promiseReject=o;for(var a=t[0].decode,s=a?i.onImgDecoded.bind(i):i.onImgLoaded.bind(i),l=6;l--;)a?($o(t[l],Io(e,l,n)),t[l].decode().then(s,s)):(t[l].addEventListener("load",(function(){return s(null,t)})),t[l].addEventListener("error",(function(e){return s(e,t)})),$o(t[l],Io(e,l,n)))}))),this.promise}},{key:"cancel",value:function(){this.isDone()||(this.cancelled=!0,this.promiseReject&&this.promiseReject(Do))}},{key:"onImgDecoded",value:function(e){this.cancelled||(e&&console.error(e),this.facesLoaded++,6===this.facesLoaded&&this.promiseResolve())}},{key:"onImgLoaded",value:function(e,t){if(!this.cancelled&&(e&&console.error(e),this.facesLoaded++,6===this.facesLoaded)){for(var n=6;n--;)t[n].removeEventListener("load"),t[n].removeEventListener("error");this.promiseResolve()}}}]),e}(),$o=function(e,t){return e.setAttribute("src",t),t},Io=function(e,t,n){return n.tile(e.id,t,e.sphereHash)},Lo=function(e,t,n){var i=e[t];e[t]=e[n],e[n]=i},Oo=function(){function e(t,n,i,r,a,s){o()(this,e),u()(this,"onStart",void 0),u()(this,"onStop",void 0),u()(this,"cubeFaceEls",void 0),u()(this,"styles",void 0),u()(this,"subAnimations",void 0),u()(this,"cubeOrientation",void 0),u()(this,"_headEl",void 0),u()(this,"_keyframesEl",void 0),u()(this,"isPlaying",void 0),u()(this,"subAnimationIndex",void 0),u()(this,"facesCount",void 0),this.onStart=t,this.onStop=n,this.cubeFaceEls=i,this.styles=r,this.subAnimations=a,this.cubeOrientation=s,this._headEl=document.getElementsByTagName("head")[0],this._keyframesEl=null,this.isPlaying=!1,this.subAnimationIndex=0,this.facesCount=0,this.animationEndHandler=this.animationEndHandler.bind(this)}return l()(e,[{key:"_generateSubAnimationKeyframeCss",value:function(e){for(var t=this.styles,n=this.cubeOrientation,i=e.keyframes,r=e.name,o="",a=0;a<6;a++){o+="".concat(t.keyframes," ").concat(r).concat(a," {");for(var s=0;s<i.length;s++)o+="".concat(i[s].keyframe,"% {\n          ").concat(t.transform,":\n          ").concat(n.translateZ()," ").concat(i[s].style,"\n          ").concat(n.rotateSides[a]," ").concat(n.translateSides(),";\n        }");o+="}\n"}return o}},{key:"_startSubAnimation",value:function(e){for(var t=this.cubeFaceEls,n=this.styles,i=n.animationDuration,r=n.animationTiming,o=n.animationName,a=n.animationIterationCount,s=e.duration,l=e.timing,c=e.name,u=0;u<6;u++)t[u].style.setProperty(i,s),t[u].style.setProperty(r,l),t[u].style.setProperty(o,c+u),t[u].style.setProperty(a,"1")}},{key:"_stopSubAnimation",value:function(){for(var e=this.cubeFaceEls,t=this.styles.animationName,n=0;n<6;n++)e[n].style.setProperty(t,"none"),e[n].removeEventListener("animationend",this.animationEndHandler)}},{key:"_createKeyframes",value:function(){for(var e=this.subAnimations,t="",n=0;n<e.length;n++)t+=this._generateSubAnimationKeyframeCss(e[n]);this._keyframesEl=document.createElement("style"),this._keyframesEl.innerHTML=t,this._headEl.appendChild(this._keyframesEl)}},{key:"_removeKeyframes",value:function(){this._keyframesEl&&this._headEl.removeChild(this._keyframesEl)}},{key:"_animate",value:function(){this.subAnimationIndex=0,this.facesCount=0,this.startAndListenSubAnimation()}},{key:"startAndListenSubAnimation",value:function(){this._startSubAnimation(this.subAnimations[this.subAnimationIndex]);for(var e=0;e<6;e++)this.cubeFaceEls[e].addEventListener("animationend",this.animationEndHandler)}},{key:"animationEndHandler",value:function(e){if(e&&e.target&&(e.target.removeEventListener("animationend",this.animationEndHandler),this.isPlaying&&(this.facesCount++,!(this.facesCount<6)))){if(this.subAnimationIndex++,this.subAnimationIndex===this.subAnimations.length)return this.stop();this.startAndListenSubAnimation()}}},{key:"start",value:function(){this.isPlaying||(this._createKeyframes(),this.onStart(),this._animate(),this.isPlaying=!0)}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isPlaying&&(this._removeKeyframes(),e||this.onStop(),this._stopSubAnimation(),this.isPlaying=!1)}},{key:"setElements",value:function(e){this.cubeFaceEls=e}}]),e}(),No=a(75499),Fo=a.n(No),Bo=a(38852),Uo=a.n(Bo),zo=a(77371),Vo=a.n(zo),Ho=a(59771),jo=a.n(Ho),Wo=a(44263),Go=a.n(Wo),qo=a(95332),Zo=a(33419);function Xo(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Yo=function(e){Vo()(n,e);var t=Xo(n);function n(e,i){var r;return o()(this,n),r=t.call(this),u()(Uo()(r),"startTime",void 0),u()(Uo()(r),"timer",void 0),u()(Uo()(r),"isPlaying",void 0),u()(Uo()(r),"elements",void 0),u()(Uo()(r),"musicManager",void 0),u()(Uo()(r),"animation",void 0),u()(Uo()(r),"onResize",(function(){r.isPlaying&&r.reset()})),u()(Uo()(r),"onVisibilityChange",(function(){r.isPlaying&&!document.hidden&&r.reset()})),r.startTime=0,r.timer=null,r.isPlaying=!1,r.elements=e,r.musicManager=new Zr(i),window.addEventListener("resize",r.onResize),document.addEventListener("visibilitychange",r.onVisibilityChange),r}return l()(n,[{key:"start",value:function(e,t,n){var i=this;this.isPlaying=!0,this.reset(),this.setupAnimation(e,t);return this.timer||(this.timer=window.setInterval((function(){var e=0,t=(new Date).getTime(),r=!1;r=n?i.isPlaying?(e=(t-i.startTime)*Zo.uo/6e4+Zo.pj)>=Zo.uo+Zo.pj+.01:(e+=Zo.pj)>=Zo.uo+Zo.pj+.01:t-i.startTime>3e3,i.emit("update",{isPanoDone:r,angle:e}),r&&(i.startTime=(new Date).getTime())}),40)),this.animation.start(),this.musicManager.play()}},{key:"stop",value:function(){this.isPlaying&&(this.isPlaying=!1,this.timer&&(window.clearInterval(this.timer),this.timer=null),this.animation.stop(),this.musicManager.pause())}},{key:"reset",value:function(){var e=this;this.isPlaying&&(this.startTime=(new Date).getTime(),this.animation&&(this.animation.stop(),setTimeout((function(){e.animation.start()}),100)))}},{key:"setupAnimation",value:function(e,t){this.animation=new Oo((function(){}),(function(){}),this.elements,{animationDuration:"animation-duration",animationTiming:"animation-timing-function",animationName:"animation-name",animationIterationCount:"animation-iteration-count",keyframes:"@keyframes",transform:"transform"},[{duration:"".concat(6e4,"ms"),timing:"linear",name:"spin",keyframes:[{keyframe:0,style:Co(0)},{keyframe:50,style:Co(-Math.PI)},{keyframe:100,style:Co(-2*Math.PI)}]}],{translateZ:function(){return Mo(Math.round(e*t))},rotateSides:Po,translateSides:function(){return Mo(-(e-1))}})}},{key:"setMuted",value:function(e){this.musicManager.setMuted(e),!e&&this.isPlaying&&this.musicManager.play()}},{key:"getIsPlaying",value:function(){return this.isPlaying}},{key:"setElements",value:function(e){this.elements=e,this.animation&&this.animation.setElements(e)}}]),n}(qo.ZP),Ko=a(13493),Jo=a.n(Ko),Qo=(a(9750),a(24596)),ea=a.n(Qo),ta=l()((function e(t,n,i){o()(this,e),"object"===ea()(t)?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=n||0,this.z=i||0)}));function na(e,t){var n=e.x-t.x,i=e.y-t.y,r=e.z-t.z;return Math.sqrt(n*n+i*i+r*r)}function ia(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)}function ra(e,t){return e.x*t.x+e.y*t.y+e.z*t.z}function oa(e,t,n,i){t=aa(t),i=aa(i);var r=t.x*i.x+t.y*i.y+t.z*i.z,o=n.x-e.x,a=n.y-e.y,s=n.z-e.z;if(Math.abs(r-1)<1e-6)return!1;var l=o*t.x+a*t.y+s*t.z,c=o*i.x+a*i.y+s*i.z,u=1/(r*r-1),d=(r*c-l)*u,h=(c-r*l)*u,p=d*t.x,f=d*t.y,m=d*t.z,g=h*i.x,v=h*i.y,y=h*i.z,b={x:e.x+p,y:e.y+f,z:e.z+m},w={x:n.x+g,y:n.y+v,z:n.z+y},_=na(b,w);return{x:.5*(b.x+w.x),y:.5*(b.y+w.y),z:.5*(b.z+w.z),error:[b,w],distance:_}}function aa(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);return{x:e.x/t,y:e.y/t,z:e.z/t}}function sa(e){return{x:-e.y,y:0,z:e.x}}function la(e){var t;(t=e).x=-t.x,t.y=-t.y,t.z=-t.z;var n=1/((e=t).x*e.x+e.y*e.y+e.z*e.z+e.w*e.w);return e.x*=n,e.y*=n,e.z*=n,e.w*=n,e}function ca(e,t,n){var i=.5*e,r=.5*t,o=.5*n,a=Math.cos(i),s=Math.cos(r),l=Math.cos(o),c=Math.sin(i),u=Math.sin(r),d=Math.sin(o);return{w:a*s*l+c*u*d,x:s*l*c+u*d*a,y:u*l*a-s*d*c,z:s*d*a-u*l*c}}function ua(e,t){var n=t.w,i=t.x,r=t.y,o=t.z,a=e.x,s=e.y,l=e.z,c=-i*a-r*s-o*l,u=n*a+r*l-o*s,d=n*s+o*a-i*l,h=n*l+i*s-r*a;return{x:u*n-c*i-d*o+h*r,y:d*n-c*r-h*i+u*o,z:h*n-c*o-u*r+d*i}}function da(e,t,n,i,r,o,a,s){if(e===n&&t===i||r===a&&o===s)return!1;var l=(s-o)*(n-e)-(a-r)*(i-t);if(Math.abs(l)<1e-6)return!1;var c=((a-r)*(t-o)-(s-o)*(e-r))/l,u=((n-e)*(t-o)-(i-t)*(e-r))/l;return!(c<0||u<0||u>1)&&{x:e+c*(n-e),y:t+c*(i-t)}}function ha(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);return{elevation:Math.acos(e.y/t)-.5*Math.PI,azimuth:Math.atan2(e.x,e.z)}}function pa(e,t){e+=.5*Math.PI;var n=Math.sin(e);return{x:n*Math.cos(t),y:n*Math.sin(t),z:Math.cos(e)}}function fa(e){return{x:-e.y,y:-e.z,z:e.x}}var ma=300,ga=function(e,t,n){var i=function(e,t){return 2*e*t/Math.sqrt(4*t*t+9e4)-2}(t,n);return i/Math.sqrt(e+n*n)},va=function(e,t,n,i){return Mo(Math.round(e*t))+Ao(n)+Co(i)},ya=a.p+"a/69637a6d937b2ec39911.svg",ba=a.p+"a/0b3dd7fa4f00ddc5633f.svg",wa=a(51697),_a={props:{neighbor:{type:Object,default:null},angle:{type:Number,required:!0},angleZero:{type:Number,required:!0},elevation:{type:Number,required:!0},zoom:{type:Number,required:!0},cubeHalfEdge:{type:Number,required:!0},tripodHeight:{type:Number,required:!0},activePanoCenter:{type:Object,required:!0},hovered:{type:Boolean,default:!1},pinnedTagId:{type:Number,default:-1},disabled:{type:Boolean,default:!1}},computed:{src(){return this.neighbor?this.isGate?wa:this.occluded?ba:ya:""},isPano(){return this.neighbor&&this.neighbor.isPano},isGate(){return this.neighbor&&this.neighbor.isGate},isTag(){return this.neighbor&&this.neighbor.isTag},hasStem(){return this.isTag&&0!==this.neighbor.stem},occluded(){return this.isPano&&this.neighbor.occluded},arrowClasses(){return["arrow",{cubetag:this.isTag,arrow_hidden:this.occluded,arrow_hover_class:this.hovered,pin:this.isTag&&this.pinnedTagId===this.neighbor.id,arrow_disabled:this.disabled||!this.neighbor}]},arrowStyle(){return this.isPano?(e=this.neighbor,t=this.angle,n=this.angleZero,i=this.elevation,r=this.zoom,o=this.cubeHalfEdge,a=this.tripodHeight,s=ga(e.dist,o,a),u=So(c=o-(l=s*ma)/2)+Eo(c),d=a*s,h=Math.sqrt(e.dist)*s,p=n-e.angle,{transform:va(o,r,i,t)+(Ao(Zo.pj)+ko(p)+Mo(-d)+Eo(-h)+u),transformOrigin:"".concat(Math.round(o),"px ").concat(Math.round(o),"px 0"),width:"".concat(l,"px"),height:"".concat(l,"px")}):this.isGate?function(e,t,n,i,r,o,a){var s=Math.sqrt(e.dist),l=ga(e.dist,o,a),c=l*ma,u=c*(s<550?.4:s<1200?.7:1.2),d=o-c/2,h=So(d)+Eo(d),p=a*l,f=s*l,m=n-e.angle,g=s<550?So(c*(.75*(s<550?.4:s<1200?.7:1.2))):"";return{transform:va(o,r,i,t)+(Ao(Zo.pj)+ko(m)+Mo(-p*(s<550?.1:s<1200?.2:.3))+g+Eo(-f)+Ao(-Zo.pj)+h),transformOrigin:"".concat(Math.round(o),"px ").concat(Math.round(o),"px 0"),width:"".concat(u,"px"),height:"".concat(u,"px")}}(this.neighbor,this.angle,this.angleZero,this.elevation,this.zoom,this.cubeHalfEdge,this.tripodHeight):this.isTag?function(e,t,n,i,r,o,a,s){var l,c,u=sa(s),d={x:e.coords.x-u.x,y:e.coords.y,z:e.coords.z-u.z},h=ia(d),p=125*ga(h,o,a)*(1e3/Math.max(2e3,Math.min(8e3,h))),f=10*e.stem,m={x:e.coords.x-u.x,y:e.coords.y-f,z:e.coords.z-u.z},g=ha(d),v=Jo()(g.azimuth),y=o-.5*p,b=o-p-1,w=Math.sqrt(m.x*m.x+m.z*m.z);Math.abs(m.y)<w?(l=b,c=b*m.y/(1+w)):(l=b*w/(1+Math.abs(m.y)),c=b*Math.sign(m.y));var _=So(y)+Eo(y),x=n-v;return{transform:va(o,r,i,t)+(Ao(Zo.pj)+ko(x)+Mo(-c)+Eo(-l)+Ao(-Zo.pj)+_),transformOrigin:"".concat(Math.round(o),"px ").concat(Math.round(o),"px 0"),width:"".concat(p,"px"),height:"".concat(p,"px")}}(this.neighbor,this.angle,this.angleZero,this.elevation,this.zoom,this.cubeHalfEdge,this.tripodHeight,this.activePanoCenter):{};var e,t,n,i,r,o,a,s,l,c,u,d,h,p},imageStyle(){return{border:this.occluded?"2px solid #ffffff":""}},stemStyle(){return this.hasStem?function(e,t,n,i){var r,o,a=sa(i),s={x:e.coords.x-a.x,y:e.coords.y,z:e.coords.z-a.z},l=ia(s),c=125*ga(l,t,n)*(1e3/Math.max(2e3,Math.min(8e3,l))),u=10*e.stem,d={x:e.coords.x-a.x,y:e.coords.y-u,z:e.coords.z-a.z},h=t-c-1,p=Math.sqrt(d.x*d.x+d.z*d.z);Math.abs(d.y)<p?(r=h*d.y/(1+p),o=h*s.y/(1+p)):(r=h*Math.sign(d.y),o=h*Math.sign(s.y));var f=Math.abs(o-r)-.5*c;return{height:"".concat(f,"px"),transform:"translate(".concat(.5*c-.5,"px, ").concat(u<0?"-".concat(f-1,"px"):"".concat(c-1,"px"),")")}}(this.neighbor,this.cubeHalfEdge,this.tripodHeight,this.activePanoCenter):{}},stemPointStyle(){return this.hasStem?this.neighbor.stem>0?{top:"",bottom:"-2px"}:{top:"-3px",bottom:""}:{}},tagDesign(){return this.neighbor.design},tagColor(){return Ii(this.neighbor.color)},tagOpacity(){return this.neighbor.opacity?1===this.neighbor.opacity?0:.01*this.neighbor.opacity:""}}},xa=_a,Ta=(0,Re.Z)(xa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.neighbor&&!e.neighbor.hidden,expression:"neighbor && !neighbor.hidden"}],class:e.arrowClasses,style:e.arrowStyle},[e.isTag?e._e():n("img",{staticClass:"arrow-image",style:e.imageStyle,attrs:{src:e.src}}),e._v(" "),e.isTag&&0===e.tagDesign?n("svg",{style:{opacity:e.tagOpacity},attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-3 -3 86 86","data-tagid":e.neighbor.id}},[n("circle",{attrs:{cx:"40",cy:"40",r:"32",fill:"none","stroke-width":"20",stroke:"rgba(255,255,255, 0.75)"}}),e._v(" "),n("circle",{attrs:{cx:"40",cy:"40",r:"32",fill:"none","stroke-width":"16",stroke:e.tagColor}}),e._v(" "),n("circle",{attrs:{cx:"40",cy:"40",r:"22",fill:"none","stroke-width":"12",stroke:"white"}})]):e._e(),e._v(" "),e.isTag&&1===e.tagDesign?n("svg",{style:{opacity:e.tagOpacity},attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-3 -3 86 86","data-tagid":e.neighbor.id}},[n("circle",{attrs:{cx:"40",cy:"40",r:"42",fill:"rgba(255,255,255, 0.75)"}}),e._v(" "),n("circle",{attrs:{cx:"40",cy:"40",r:"40",fill:e.tagColor}}),e._v(" "),n("circle",{attrs:{cx:"40",cy:"40",r:"22",fill:"none","stroke-width":"12",stroke:"white"}})]):e._e(),e._v(" "),e.hasStem?n("div",{staticClass:"stem",style:Object.assign({},e.stemStyle,{opacity:e.tagOpacity})},[n("div",{staticClass:"point",style:e.stemPointStyle})]):e._e(),e._v(" "),e.isTag?e._e():n("div",{staticClass:"arrow_shadow"})])}),[],!1,null,null,null).exports,Sa={props:{tag:{type:Object,required:!0},angle:{type:Number,required:!0},angleZero:{type:Number,required:!0},elevation:{type:Number,required:!0},zoom:{type:Number,required:!0},cubeHalfEdge:{type:Number,required:!0}},computed:{tagStyle(){return e=this.angle,t=this.angleZero,n=this.elevation,i=this.zoom,r=this.cubeHalfEdge,o=this.tag.elevation,a=this.tag.azimuth,l=So(s=r-20)+Eo(s),c=t-a,u=va(r,i,n,e),d=Ao(Zo.pj)+ko(c)+Ao(-o)+Eo(1-s)+Ao(-Zo.pj)+l,{width:"".concat(40,"px"),height:"".concat(40,"px"),transform:u+d,transformOrigin:"".concat(Math.round(r),"px ").concat(Math.round(r),"px 0")};var e,t,n,i,r,o,a,s,l,c,u,d},tagColor(){return Ii(this.tag.color)}}},Ea=(0,Re.Z)(Sa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"newtag arrow cubetag",style:e.tagStyle},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"-3 -3 86 86"}},[n("circle",{attrs:{cx:"40",cy:"40",r:"32",fill:"none","stroke-width":"20",stroke:"rgba(255,255,255, 0.75)"}}),e._v(" "),n("circle",{attrs:{cx:"40",cy:"40",r:"32",fill:"none","stroke-width":"16",stroke:e.tagColor}}),e._v(" "),n("circle",{attrs:{cx:"40",cy:"40",r:"22",fill:"none","stroke-width":"12",stroke:"white"}})])])}),[],!1,null,null,null).exports,Ma=a(49288),Aa=a.n(Ma);function Ca(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var ka=5e-6,Pa=.99,Da=Math.log(Pa),Ra=function(e){Vo()(n,e);var t=Ca(n);function n(){var e;o()(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),u()(Uo()(e),"status","Stopped"),u()(Uo()(e),"lastUpdateTime",0),u()(Uo()(e),"animationFrame",0),u()(Uo()(e),"targetPose",null),u()(Uo()(e),"currentPose",{azimuth:0,elevation:0}),u()(Uo()(e),"velocity",{azimuth:0,elevation:0}),u()(Uo()(e),"prevMouseDrag",{azimuth:0,elevation:0}),u()(Uo()(e),"delta",{azimuth:0,elevation:0}),u()(Uo()(e),"mouseDown",!1),u()(Uo()(e),"render",(function(){var t=Aa()(),n=t-e.lastUpdateTime;if(e.lastUpdateTime=t,!e.mouseDown){var i=Math.pow(e.targetPose?Pa:.995,n);e.velocity.azimuth*=i,e.delta.azimuth=e.velocity.azimuth*n,e.velocity.elevation*=i,e.delta.elevation=e.velocity.elevation*n}if(e.targetPose){e.currentPose.azimuth+=e.delta.azimuth,e.currentPose.azimuth%=Zo.uo,e.currentPose.elevation-=e.delta.elevation,e.currentPose.elevation=(0,Zo.uZ)(e.currentPose.elevation,-Zo.pj,Zo.pj);var r=(0,Zo.EZ)(e.targetPose.azimuth,e.currentPose.azimuth),o=(0,Zo.EZ)(e.targetPose.elevation,e.currentPose.elevation);e.velocity={azimuth:.5*(e.velocity.azimuth+ka-r*Da),elevation:.5*(e.velocity.elevation+ka- -o*Da)}}e.emit("update",e.delta),e.isRendering()&&e.isOrIsNearlyStopped()&&e.setStatus("NearlyStopped"),Math.abs(e.velocity.azimuth)<ka&&Math.abs(e.velocity.elevation)<ka?e.stop():e.animationFrame=window.requestAnimationFrame(e.render)})),e}return l()(n,[{key:"start",value:function(){this.animationFrame||(this.animationFrame=window.requestAnimationFrame(this.render)),this.setStatus("Rendering")}},{key:"stop",value:function(){this.animationFrame&&(window.cancelAnimationFrame(this.animationFrame),this.animationFrame=0),this.lastUpdateTime=0,this.targetPose=null,this.velocity={azimuth:0,elevation:0},this.setStatus("Stopped")}},{key:"rotateTo",value:function(e,t){this.targetPose=e,this.currentPose=t;var n=(0,Zo.EZ)(this.targetPose.azimuth,this.currentPose.azimuth),i=(0,Zo.EZ)(this.targetPose.elevation,this.currentPose.elevation);this.velocity={azimuth:ka-n*Da,elevation:ka- -i*Da},this.animationFrame=0,this.lastUpdateTime=Aa()(),this.start()}},{key:"isRendering",value:function(){return this.animationFrame>0}},{key:"isOrIsNearlyStopped",value:function(){var e=3e-4;return Math.abs(this.velocity.azimuth)<e&&Math.abs(this.velocity.elevation)<e}},{key:"onCubeRotate",value:function(e){if(this.mouseDown){this.velocity.azimuth=this.prevMouseDrag.azimuth-e.azimuth,this.delta.azimuth=this.velocity.azimuth,this.velocity.elevation=e.elevation-this.prevMouseDrag.elevation,this.delta.elevation=this.velocity.elevation,this.emit("update",this.delta);var t=Aa()(),n=Math.max(t-this.lastUpdateTime,1);this.lastUpdateTime=t,this.velocity.azimuth/=n,this.velocity.elevation/=n,this.prevMouseDrag=e}}},{key:"stopCurrentRender",value:function(){this.isRendering()&&this.stop()}},{key:"setCurrentPose",value:function(e){this.currentPose=e}},{key:"onMouseDown",value:function(e){this.mouseDown=!0,this.stopCurrentRender(),this.lastUpdateTime=Aa()(),this.prevMouseDrag=e}},{key:"onMouseUp",value:function(){this.mouseDown=!1,Aa()()-this.lastUpdateTime>200||0===this.velocity.azimuth&&0===this.velocity.elevation?this.stopCurrentRender():this.start()}},{key:"setStatus",value:function(e){this.status=e,this.emit("statusChange",e)}}]),n}(qo.ZP),$a={props:{activePano:{type:Object,default:function(){}},angle:{type:Number,required:!0},elevation:{type:Number,required:!0},tagModalOpen:{type:Boolean,required:!0},mouseCoordinates:{type:Object,default:function(){}},inertiaStatus:{type:String,required:!0},inertiaTargetPose:{type:Object,default:function(){}},mouseDown:{type:Boolean,required:!0},floorplanMouseDown:{type:Boolean,required:!0},floorplanPanZoomMode:{type:Boolean,required:!0}},watch:{activePano:function(){"Stopped"!==this.inertiaStatus&&this.inertia.stop()},tagModalOpen:function(){"Stopped"!==this.inertiaStatus&&this.inertia.stop()},mouseCoordinates:function(e){this.mouseDown&&this.inertia.onCubeRotate(e)},mouseDown:function(e){e?this.inertia.onMouseDown(this.mouseCoordinates):this.inertia.onMouseUp()},inertiaTargetPose:function(e){if(e){var t={azimuth:-this.angle+Zo.pj,elevation:this.elevation};this.inertia.rotateTo(e,t)}},floorplanMouseDown:function(e){e&&"Stopped"!==this.inertiaStatus&&!this.floorplanPanZoomMode&&this.inertia.stop()}},created:function(){var e=this;this.inertia=new Ra,this.inertia.on("statusChange",(function(t){return e.$emit("inertiaStatusChange",t)})),this.inertia.on("update",(function(t){return e.$emit("inertiaUpdate",t)}))}},Ia=a.p+"a/c64eecb964f4aa3f2763.png",La={components:{SceneArrow:Ta,FakeTagHotspot:Ea},mixins:[$a],props:{dimensions:{type:Object,required:!0},cubeWidth:{type:Number,required:!0},scaleFactor:{type:Number,required:!0},perspective:{type:Number,required:!0},angle:{type:Number,required:!0},angleZero:{type:Number,required:!0},elevation:{type:Number,required:!0},zoom:{type:Number,required:!0},zoomRange:{type:Object,required:!0},tripodHeight:{type:Number,required:!0},neighborList:{type:Array,required:!0},neighbors:{type:Array,required:!0},fakeTags:{type:Array,required:!0},activePanoCenter:{type:Object,required:!0},showMeasureMask:{type:Boolean,default:!1},pagepreviewWorkaround:{type:Boolean,default:!1},embedpreviewWorkaround:{type:Boolean,default:!1},hideArrows:{type:Boolean,default:!1},hoveredArrowIndex:{type:Number,default:-1},pinnedTagId:{type:Number,default:-1},mouseDown:{type:Boolean,default:!1},measureMode:{type:Number,required:!0},editTags:{type:Boolean,default:!1},isLandscape:{type:Boolean,required:!0},floorplanShrunk:{type:Boolean,required:!0},autoplaying:{type:Boolean,required:!0},muted:{type:Boolean,required:!0},assets:{type:Object,required:!0},tileResolution:{type:Object,required:!0},activePano:{type:Object,default:null},hasPanos:{type:Boolean,reuquired:!0},activeCube:{type:Number,required:!0},firstPanoLoaded:{type:Boolean,default:!1},initAnimationDisabled:{type:Boolean,default:!1},initAnimationPlaying:{type:Boolean,default:!1}},data:()=>({measureMask:Ia}),computed:{cubeHalfEdge(){return.5*this.cubeWidth},cursor(){return this.isLandscape||this.floorplanShrunk?this.measureMode>1||1===this.measureMode&&this.editTags?"crosshair":!this.mouseDown&&this.hoveredArrowIndex>-1?"pointer":"move":"default"},containerStyle(){return{width:`${this.dimensions.width}px`,height:`${this.dimensions.height}px`,cursor:this.cursor}},cubeStyle(){return{width:`${Math.round(this.cubeWidth)}px`,height:`${Math.round(this.cubeWidth)}px`,transform:`translate(-50%, -50%) scale(${this.scaleFactor})`,perspective:`${this.perspective}px`,perspectiveOrigin:`${Math.round(this.cubeHalfEdge)}px ${Math.round(this.cubeHalfEdge)}px`}},faceStyles(){return[...Array(6)].map(((e,t)=>({transform:Mo(this.perspective)+Ao(this.elevation)+Co(this.angle)+Po[t]+Mo(-(this.cubeHalfEdge-.5))})))}},watch:{activePano(e){e?this.loadPanoFaces(e):this.tpanoLoadedId=0},tileResolution(){this.activePano&&this.loadPanoFaces(this.activePano)},activeCube(e,t){e!==t&&this.switchCubes()},initAnimationDisabled(e){e&&this.initAnimationPlaying&&(this.initAnimation.stop(),this.$emit("initAnimationFinished"))},autoplaying(e){e?this.startAutoplay():this.stopAutoplay()},muted(e){this.autoplay.setMuted(e)}},created(){this.faceElems=[],this.tfaceElems=[],this.faceImgElems=[],this.tfaceImgElems=[]},mounted(){const{cube1:e,cube2:t}=this.$refs;for(let n=0;n<6;n++)this.faceElems.push(e.getElementsByClassName(`face${n}`)[0]),this.tfaceElems.push(t.getElementsByClassName(`face${n}`)[0]),this.faceImgElems.push(e.getElementsByClassName(`imgface${n}`)[0]),this.tfaceImgElems.push(t.getElementsByClassName(`imgface${n}`)[0]);this.faceImgElems.push(e.getElementsByClassName("imgface6")[0]),this.tfaceImgElems.push(t.getElementsByClassName("imgface6")[0]),this.autoplay=new Yo(this.faceElems,this.muted),this.autoplay.on("update",this.onAutoplayUpdate)},beforeDestroy(){this.autoplay.off("update",this.onAutoplayUpdate)},methods:{loadPanoFaces(e){this.ensurePanoIsLoaded(e).then((()=>{this.firstPanoLoaded||setTimeout((()=>this.setupInitAnimation()),1e3),this.$emit("panoLoadFinished")}),(e=>{e!==Do&&console.error("Failed to load pano:",e)}))},ensurePanoIsLoaded(e){return this.tpanoLoadedId===e.id&&this.tpanoLoadedSize===this.tileResolution.size?Promise.reject(Do):(this.tpanoLoading&&this.tpanoLoading.cancel(),this.tpanoLoadedId=e.id,this.tpanoLoadedSize=this.tileResolution.size,this.tpanoLoading=new Ro,this.$emit("panoLoadStarted"),this.tpanoLoading.load(e,this.tfaceImgElems,this.assets).then((()=>{this.tpanoLoading=null})))},switchCubes(){Lo(this,"faceElems","tfaceElems"),Lo(this,"faceImgElems","tfaceImgElems"),this.autoplay&&(this.autoplaying&&this.autoplay.reset(),this.autoplay.setElements(this.faceElems))},setupInitAnimation(){this.initAnimationDisabled||(this.initAnimation=new Oo((()=>{this.$emit("initAnimationStarted")}),(()=>{this.$emit("initAnimationFinished")}),this.faceElems,{animationDuration:"animation-duration",animationTiming:"animation-timing-function",animationName:"animation-name",animationIterationCount:"animation-iteration-count",keyframes:"@keyframes",transform:"transform"},[{duration:"1000ms",timing:"ease",name:"init1",keyframes:[{keyframe:0,style:Co(this.angle)},{keyframe:100,style:Co(this.angle-Math.PI/36)}]},{duration:"1000ms",timing:"ease",name:"init2",keyframes:[{keyframe:0,style:Co(this.angle-Math.PI/36)},{keyframe:100,style:Co(this.angle)}]}],{translateZ:()=>Mo(Math.round(.5*this.cubeWidth*this.zoomRange.minZoom)),rotateSides:Po,translateSides:()=>Mo(-(.5*this.cubeWidth-1))}),this.initAnimation.start(),window.addEventListener("resize",this.restartInitAnimation))},restartInitAnimation(){this.initAnimationPlaying&&(this.initAnimation.stop(!0),this.initAnimation.start())},startAutoplay(){this.autoplay.start(.5*this.cubeWidth,this.zoomRange.minZoom,this.hasPanos).then((()=>this.$emit("autoplayBrowserMute",!1))).catch((e=>{e===qr&&this.$emit("autoplayBrowserMute",!0)})),this.$emit("autoplayStart")},stopAutoplay(){this.autoplay.stop(),this.$emit("autoplayStop")},onAutoplayUpdate(e){this.$emit("autoplayUpdate",e)}}},Oa=La,Na=(a(31882),(0,Re.Z)(Oa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"css3d-scene",style:e.containerStyle,on:{mousedown:function(t){return e.$emit("cubeMouseDown",t)},touchstart:function(t){return e.$emit("cubeMouseDown",t)},mousemove:function(t){return e.$emit("cubeMouseMove",t)},touchmove:function(t){return e.$emit("cubeMouseMove",t)},mouseup:function(t){return e.$emit("cubeMouseUp",t)},touchend:function(t){return e.$emit("cubeMouseUp",t)},wheel:function(t){return e.$emit("cubeMouseWheel",t)},mouseleave:function(t){return e.$emit("cubeMouseLeave",t)}}},[n("div",{ref:"cube1",staticClass:"cube inactive",style:e.cubeStyle,attrs:{id:"cube1"}},[n("figure",{staticClass:"face0",style:e.faceStyles[0]},[n("img",{staticClass:"imgface0 image"})]),e._v(" "),n("figure",{staticClass:"face1",style:e.faceStyles[1]},[n("img",{staticClass:"imgface1 image"}),e._v(" "),e.showMeasureMask?n("img",{staticClass:"mask",attrs:{src:e.measureMask}}):e._e()]),e._v(" "),n("figure",{staticClass:"face2",style:e.faceStyles[2]},[n("img",{staticClass:"imgface2 image"})]),e._v(" "),n("figure",{staticClass:"face3",style:e.faceStyles[3]},[n("img",{staticClass:"imgface3 image"}),e._v(" "),e.showMeasureMask?n("img",{staticClass:"mask",attrs:{src:e.measureMask}}):e._e()]),e._v(" "),n("figure",{staticClass:"face4",style:e.faceStyles[4]},[n("img",{staticClass:"imgface4 image"}),e._v(" "),e.showMeasureMask?n("img",{staticClass:"mask",attrs:{src:e.measureMask}}):e._e()]),e._v(" "),n("figure",{staticClass:"face5",style:e.faceStyles[5]},[n("img",{staticClass:"imgface5 image"}),e._v(" "),e.showMeasureMask?n("img",{staticClass:"mask",attrs:{src:e.measureMask}}):e._e(),e._v(" "),e._m(0)])]),e._v(" "),e.pagepreviewWorkaround&&e.embedpreviewWorkaround?e._e():n("div",{ref:"cube2",staticClass:"cube inactive",style:e.cubeStyle,attrs:{id:"cube2"}},[n("figure",{staticClass:"face0",style:e.faceStyles[0]},[n("img",{staticClass:"imgface0 image"})]),e._v(" "),n("figure",{staticClass:"face1",style:e.faceStyles[1]},[n("img",{staticClass:"imgface1 image"}),e._v(" "),e.showMeasureMask?n("img",{staticClass:"mask",attrs:{src:e.measureMask}}):e._e()]),e._v(" "),n("figure",{staticClass:"face2",style:e.faceStyles[2]},[n("img",{staticClass:"imgface2 image"})]),e._v(" "),n("figure",{staticClass:"face3",style:e.faceStyles[3]},[n("img",{staticClass:"imgface3 image"}),e._v(" "),e.showMeasureMask?n("img",{staticClass:"mask",attrs:{src:e.measureMask}}):e._e()]),e._v(" "),n("figure",{staticClass:"face4",style:e.faceStyles[4]},[n("img",{staticClass:"imgface4 image"}),e._v(" "),e.showMeasureMask?n("img",{staticClass:"mask",attrs:{src:e.measureMask}}):e._e()]),e._v(" "),n("figure",{staticClass:"face5",style:e.faceStyles[5]},[n("img",{staticClass:"imgface5 image"}),e._v(" "),e.showMeasureMask?n("img",{staticClass:"mask",attrs:{src:e.measureMask}}):e._e(),e._v(" "),e._m(1)])]),e._v(" "),n("div",{staticClass:"arrows-container cube",style:e.cubeStyle},[e._l(e.neighborList,(function(t,i){return n("SceneArrow",{key:"arrow"+i,attrs:{id:"arrow"+i,neighbor:e.neighbors[i],angle:e.angle,angleZero:e.angleZero,elevation:e.elevation,zoom:e.zoom,cubeHalfEdge:e.cubeHalfEdge,tripodHeight:e.tripodHeight,activePanoCenter:e.activePanoCenter,hovered:e.hoveredArrowIndex===i,pinnedTagId:e.pinnedTagId,disabled:e.hideArrows||e.pagepreviewWorkaround||e.embedpreviewWorkaround||e.autoplaying||e.initAnimationPlaying}})})),e._v(" "),e._l(e.fakeTags,(function(t){return n("FakeTagHotspot",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!tag.hidden"}],key:"newtag"+t.id,attrs:{id:"newtag"+t.id,tag:t,angle:e.angle,angleZero:e.angleZero,elevation:e.elevation,zoom:e.zoom,cubeHalfEdge:e.cubeHalfEdge}})}))],2)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("figure",{staticClass:"face6"},[t("img",{staticClass:"imgface6 image"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("figure",{staticClass:"face6"},[t("img",{staticClass:"imgface6 image"})])}],!1,null,"0a52f7c6",null).exports),Fa={components:{IconButton:Gt,ButtonToolbar:jt,TourOptionsDropup:Hn},mixins:[je.r],props:{hideTagListButton:{type:Boolean,default:!1},showTagList:{type:Boolean,default:!1},hideAutoplayButton:{type:Boolean,required:!1},view:{type:Object,required:!0},isImperial:{type:Boolean,required:!0},hidePortalLinks:{type:Boolean,default:!1},hideShareButton:{type:Boolean,required:!1},showGyro:{type:Boolean,default:!1,required:!1}}},Ba=(0,Re.Z)(Fa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ButtonToolbar",{staticClass:"gyroscope-tools",attrs:{closeable:""},on:{close:function(t){return e.$emit("exit")}}},[e.hideTagListButton?e._e():n("IconButton",{staticClass:"tag-list-button",attrs:{title:e.l10n.tagListTooltip,icon:"icomoon-v-taglist",active:e.showTagList},on:{click:function(t){return e.$emit("tagList")}}}),e._v(" "),e.hideShareButton?e._e():n("IconButton",{staticClass:"share-button",attrs:{title:e.l10n.shareTooltip,icon:"icomoon-v-share"},on:{click:function(t){return e.$emit("share")}}}),e._v(" "),n("TourOptionsDropup",{staticClass:"tour-options",attrs:{hideAutoplay:e.hideAutoplayButton,view:e.view,isImperial:e.isImperial,hidePortalLinks:e.hidePortalLinks,dropupMenuStyle:{marginBottom:"24px"},showGyro:e.showGyro,gyroscopeActive:""},on:{navigationHelp:function(t){return e.$emit("navigationHelp")},measurementHelp:function(t){return e.$emit("measurementHelp")},floorScreenshot:function(t){return e.$emit("floorScreenshot")},autoplay:function(t){return e.$emit("autoplay")},gyroscope:function(t){return e.$emit("gyroscope")},setUnit:function(t){return e.$emit(t)}}})],1)}),[],!1,null,null,null).exports;var Ua={transclude:!0,bindings:{isShown:"<"},template:'<div ng-if="$ctrl.wasShownOnce" ng-class="{hidden: !$ctrl.isShown}" ng-transclude class="addressbar-backgroundcolor"> </div> ',controller:function(){function e(){o()(this,e),this.isShown=!1,this.wasShownOnce=!1}return l()(e,[{key:"$onChanges",value:function(){this.wasShownOnce=this.wasShownOnce||!!this.isShown}}]),e}()},za=a(14176),Va=a.n(za);var Ha=t().module("utils.viewer",[]),ja=Ha.name;Ha.filter("lineTrunc",(function(){return function(e,t,n){if(!e)return e;t=isNaN(Va()(t))?10:Va()(t),n=void 0===n?"...":n;for(var i=e.split("\n"),r=0;r<i.length;r++){var o=i[r];o.length<=t||(i[r]=String(o).substring(0,t-n.length)+n)}return i.join("\n")}})).directive("viewerBsShow",(function(){var e=function(e,t){t?e.removeClass("hidden"):e.addClass("hidden")};return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.viewerBsShow,(function(t){e(n,!!t)})),e(n,!!i.viewerBsShow)}}})).component("lazyBsShow",Ua);a(27679);var Wa=a(95099),Ga=a.n(Wa),qa=(a(66863),a(13016)),Za=a(92923),Xa=function(e,t){return t?"".concat(e,".").concat(t.substr(0,8)):e};function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Ka=function(){function e(t,n){o()(this,e),this.prefix="".concat(Ae.url.api,"/iguides/").concat(t.id),this.defParams=n}return l()(e,[{key:"baseSvg",value:function(){}},{key:"tile",value:function(){}},{key:"sphere",value:function(){}},{key:"image",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(this.prefix,"/images/").concat(e.name).concat(n)}},{key:"tagImage",value:function(e){return this.image({name:e})}}]),e}(),Ja=function(e){Vo()(n,e);var t=Ya(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"baseSvg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(this.prefix,"/floors/").concat(e,"/base.svg").concat(n)}},{key:"tile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defParams,r=Xa(t,n),o=i?"?".concat((0,xn.Ie)(i)):"";return"".concat(this.prefix,"/panos/").concat(e,"/").concat(r).concat(o)}},{key:"sphere",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defParams,i=Xa(e,t),r=n?"?".concat((0,xn.Ie)(n)):"";return"".concat(this.prefix,"/spheres/").concat(i).concat(r)}}]),n}(Ka);function Qa(e,t){var n=I()(e);if(R()){var i=R()(e);t&&(i=i.filter((function(t){return P()(e,t).enumerable}))),n.push.apply(n,i)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):C()?M()(e,C()(n)):Qa(Object(n)).forEach((function(t){S()(e,t,P()(n,t))}))}return e}function ts(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var ns=function(){function e(t,n,i){o()(this,e);var r=t.identifier();this.prefix="".concat(n.assets,"/").concat(r),this.docPrefix="".concat(n.branded,"/").concat(r),this.defParams=i}return l()(e,[{key:"baseSvg",value:function(){}},{key:"tile",value:function(){}},{key:"sphere",value:function(){}},{key:"fullSummary",value:function(){}},{key:"image",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(this.prefix,"/f/").concat(e.name).concat(n)}},{key:"doc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(this.docPrefix,"/doc/").concat(e).concat(n)}},{key:"galleryZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=e?"gallery-low-res.zip":"gallery.zip";return this.doc(n,t)}},{key:"previewImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defParams;return this.doc("page_preview.png",e)}}]),e}(),is=function(e){Vo()(n,e);var t=ts(n);function n(e,i){return o()(this,n),t.call(this,e,Ae.url.photos,i)}return l()(n)}(ns),rs=function(e){Vo()(n,e);var t=ts(n);function n(e,i){return o()(this,n),t.call(this,e,Ae.url.viewer,i)}return l()(n,[{key:"tagImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(this.prefix,"/tag-file/").concat(e).concat(n)}},{key:"pdf",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defParams,i=t?"_".concat(t):"",r="floorplan_".concat(e?"imperial":"metric").concat(i,".pdf");return this.doc(r,n)}},{key:"svg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n="floor_".concat(e,".svg");return this.doc(n,t)}},{key:"svgZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defParams;return this.doc("svg.zip",e)}},{key:"jpegZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defParams;return this.doc("jpeg.zip",e)}},{key:"dxfZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n="dxf_".concat(e?"imperial":"metric",".zip");return this.doc(n,t)}},{key:"sphereZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defParams;return this.doc("spheres.zip",e)}},{key:"offlineZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defParams;return this.doc("offline.zip",e)}},{key:"assetsZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defParams;return this.doc("assets.zip",e)}}]),n}(ns),os=function(e){Vo()(n,e);var t=ts(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"tile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(this.prefix,"/p/").concat(e).concat(n)}},{key:"sphere",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(this.prefix,"/s/").concat(e).concat(n)}}]),n}(rs),as=function(e){Vo()(n,e);var t=ts(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"baseSvg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(this.prefix,"/d/base_").concat(e,".svg").concat(n)}},{key:"tile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defParams,r=Xa(t,n),o=i?"?".concat((0,xn.Ie)(i)):"";return"".concat(this.prefix,"/p/").concat(e,"/").concat(r).concat(o)}},{key:"sphere",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defParams,i=Xa("s",t),r=n?"?".concat((0,xn.Ie)(n)):"";return"".concat(this.prefix,"/p/").concat(e,"/").concat(i).concat(r)}},{key:"fullSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t||e?"?".concat((0,xn.Ie)(es(es({},t),{},{locale:e}))):"";return"".concat(this.prefix,"/data/full-summary").concat(n)}}]),n}(rs),ss=function(e){Vo()(n,e);var t=ts(n);function n(e,i){return o()(this,n),t.call(this,e,Ae.url.radix,i)}return l()(n,[{key:"tagImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(this.prefix,"/tag-file/").concat(e).concat(n)}},{key:"baseSvg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n=t?"?".concat((0,xn.Ie)(t)):"";return"".concat(this.prefix,"/d/base_").concat(e,".svg").concat(n)}},{key:"tile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.defParams,r=Xa(t,n),o=i?"?".concat((0,xn.Ie)(i)):"";return"".concat(this.prefix,"/p/").concat(e,"/").concat(r).concat(o)}},{key:"sphere",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defParams,i=Xa("s",t),r=n?"?".concat((0,xn.Ie)(n)):"";return"".concat(this.prefix,"/p/").concat(e,"/").concat(i).concat(r)}},{key:"dxfZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defParams,n="dxf_".concat(e?"imperial":"metric",".zip");return this.doc(n,t)}},{key:"sphereZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defParams;return this.doc("spheres.zip",e)}},{key:"offlineZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defParams;return this.doc("offline.zip",e)}},{key:"assetsZip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defParams;return this.doc("assets.zip",e)}}]),n}(ns),ls=["warm","cold","balanced","grayscale","blackwhite"];function cs(e){return function(e){return ls.includes(e)}(e)?e:"balanced"}function us(e,t){var n=void 0!==y()&&e[g()]||e["@@iterator"];if(!n){if(f()(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return w()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ds(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var hs=function(){function e(){o()(this,e)}return l()(e,[{key:"load",value:function(){for(var e=0,t=I()(this);e<t.length;e++){delete this[t[e]]}fs(this,Ae.defaultFeatureFlags||[]),ps(this,(0,Za.ej)("feature-flags")||""),ps(this,(0,re.W)().get("features","")),this.isEmpty()||console.log("FeatureFlags:",this)}},{key:"save",value:function(){(0,Za.d8)("feature-flags",function(e){return I()(e).filter((function(t){return e[t]})).join(",")}(this),(0,Za.Sl)(30))}},{key:"isEmpty",value:function(){return 0===I()(this).length}}]),e}();function ps(e,t){fs(e,t.split(","))}function fs(e,t){var n,i=us(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;(r=r.trim())&&(e[r]=!0)}}catch(e){i.e(e)}finally{i.f()}}var ms=new hs,gs={key:"tour",tab:"3D Tour",startOptions:["tour","tour-minfp"],notReadyFallback:"gallery"},vs={key:"tour_meas",tab:"3D Tour",startOptions:["tour_meas"],notReadyFallback:"gallery"},ys={key:"tour_vr",tab:"3D Tour",startOptions:["tour_vr"],notReadyFallback:"gallery"},bs={key:"video",tab:"3D Tour",startOptions:["video"],notReadyFallback:"gallery"},ws={key:"gallery",tab:"Photos",startOptions:["gallery"],notReadyFallback:"extvideo"},_s={key:"slideshow",tab:"Photos",startOptions:["slideshow"],notReadyFallback:"extvideo"},xs={key:"extvideo",tab:"Video",startOptions:["extvideo-noautoplay","extvideo-autoplay","extvideo-autoplaytour","extvideo-autoplaytourautoplay","extvideo-autoplaygallery","extvideo-autoplayslideshow"]},Ts={key:"details",tab:"Details",startOptions:["details"]},Ss={key:"map",tab:"Map",startOptions:["map"]};function Es(e,t){return e.find((function(e){return e.key===t}))}function Ms(e){return e?_s:gs}function As(e,t){if(t.accessDenied)return Ms(t.photosOnly).key;var n=function(e){var t=[];return e.photosOnly||(t.push(gs,vs),e.autoplayAvailable&&t.push(bs),e.vrAvailable&&t.push(ys)),(e.photosOnly||e.hasPhotos)&&t.push(ws,_s),e.hasVideo&&t.push(xs),e.hasDetails&&t.push(Ts),e.hasMap&&t.push(Ss),t}(t),i=Es(n,t.targetPage);return i?i.key:function(e,t,n,i){var r=function(e,t){return e.find((function(e){return e.startOptions.includes(t)}))}(t,e);r||(r=Ms(n));var o=r.notReadyFallback&&Es(t,r.notReadyFallback);return i&&o?o.key:r.key}(e,n,t.photosOnly,t.notReady)}var Cs=[{type:0,label:"Outdoor",svgClassName:"outdoor"},{type:1,label:"No Floor",svgClassName:"no-floor"},{type:2,label:"Bedroom",svgClassName:"bedroom"},{type:3,label:"Living",svgClassName:"living"},{type:4,label:"Bathroom",svgClassName:"bathroom"},{type:5,label:"Kitchen",svgClassName:"kitchen"},{type:6,label:"Storage",svgClassName:"storage"},{type:7,label:"Other",svgClassName:"other"},{type:8,label:"Garage",svgClassName:"garage"},{type:9,label:"Unfinished",svgClassName:"unfinished"},{type:10,label:"Void Space",svgClassName:"void-space"},{type:11,label:"Stairs",svgClassName:"stairs"},{type:12,label:"Office",svgClassName:"office"},{type:13,label:"Dining",svgClassName:"dining"},{type:14,label:"Laundry",svgClassName:"laundry"},{type:15,label:"Utility",svgClassName:"utility"},{type:16,label:"Cold Room",svgClassName:"cold-room"}];function ks(e){var t=Cs.find((function(t){return t.type===e}));if(t)return t.label}function Ps(e){var t=Cs.find((function(t){return t.label===e}));if(t)return t.type}function Ds(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=new DOMParser,r=i.parseFromString(e,"text/xml");Rs(n,r),t.forEach((function(e){return $s(e,r)}));var o=new XMLSerializer;return o.serializeToString(r)}function Rs(e,t){var n=t.querySelectorAll("[id='rooms']");n.length&&n.forEach((function(t){return t.setAttribute("class",e)}))}function $s(e,t){var n=t.querySelector("#room".concat(e.id)),i="".concat(e.excluded?" excluded":"")+"".concat(e.exterior?" exterior":"").concat(e.unfinished?" unfinished":"");if(n){var r="room ".concat(function(e){var t=Cs.find((function(t){return t.type===e}));if(t)return t.svgClassName}(e.type)).concat(i);n.setAttribute("class",r)}}function Is(e,t){var n=void 0!==y()&&e[g()]||e["@@iterator"];if(!n){if(f()(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ls(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return w()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ls(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Os=t().module("iguide.viewer.vf",["ui.bootstrap"]),Ns=Os.name;Os.service("VF",["$window","$q","$timeout","$http","Features","WMM","VfCache",function(e,t,n,i,r,o,a){function s(){var e=this;this.rootPath="",this.deferredViewer=t.defer(),this.address="",this.gallery=[],this.setFeatureFlags(),this.setLocaleStrings(),this.nopdf=!1,this.nocounter=!1,this.nounbrand=!1,this.nomap=!1,this.nomapunbranded=!1,this.page="tour",this.colorscheme="balanced",this.noobjects=!1,this.noroomarea=!1,this.nomeas=!1,this.nodetails=!1,this.noextvideo=!1,this.nogallery=!1,this.noarea=!1,this.nodims=!1,this.reportFinishedArea=!1,this.noiguidetext=!1,this.nosocial=!1,this.noSocialShare=!Ae.env.publicPortal,this.noportallinks=!1,this.nocontrols=!1,this.nomenu=!1,this.minfp=!1,this.nocache=!1,this.nomultires=!1,this.forcetripod=!1,this.view=null,this.nox=!1,this.api=!1,this.noFullscreen=!1,this.barHeight=0,this.width=0,this.height=0,this.landscape=!1,this.isFullscreen=!1,this.tourDims=null,this.noautoplay=!1,this.mute=!1,this.loop=!1,this.edit=null,this.editTags=null,this.showHiddenFloors=!1,this.quickReload=!1,this.preview=!1,this.banners=[],this.tags=[],this.hasTagList=!0,this.showTagList=!1,this.tagListClosed=!0,this.showTagsInFp=!1,this.fpzoom=!1,this.fixedLocale=!1,this.fullscreenStatus=!1,this.pagepreviewWorkaround=!1,this.embedpreviewWorkaround=!1,this.allowGyro=!1,this.tripodImageUrl="",this.compass=!1,this.hideFloorplanCompass=!1,this.irm=eo,this.tileResolution=this.irm.getDummy(),this.sphereResolution=Qr,this.hasLegacyPanos=!1,this.ims6=!1,this.lensCalibrated=!1,this.selectedFloorId=0,this.initTag=0,this.eventBus=new qo.ZP,this.showPopupBlockedModal=!1,this.portalSaveButtonClicked=!1,this.standaloneTagEditor=!1,mr.e.on("activeChange",(function(){e.setLocaleStrings(),e.eventBus.emit("localeChange")})),mr.e.setInitialLocale()}return s.prototype.setLocale=function(e){mr.e.setActive(e,!0)},s.prototype.setPresets=function(){this.labelFonts=[{size:1.4,label:"Large"},{size:1.2,label:"Medium"},{size:1,label:"Small"}],this.LineWidths=[8,8,1,5,5],this.html5supported=!1,this.hasRequestedFlashVersion=!1,this.bImperial=!0,this.margin=0},s.prototype.setHasDetails=function(){this.hasDetails=!this.nodetails&&(this.hasDescriptionDetails||this.hasAreaDetails||this.hasPdfDetails||this.hasDimensionsDetails)},s.prototype.setDetailsConfig=function(){var e=!!this.initialSummary&&Qe(this.initialSummary),t=!!this.initialSummary&&Ye(this.initialSummary);this.hasDescriptionDetails=!(!this.view||!this.view.description),this.hasAreaDetails=!this.noarea&&e,this.hasPdfDetails=!this.photosonly&&!this.isRadix&&!this.nopdf&&this.ready,this.hasDimensionsDetails=!(this.nodims&&this.noroomarea)&&t,this.setHasDetails()},s.prototype.hasNoFloorplans=function(){this.hasData=!1,this.hasPdfDetails=!1,this.setHasDetails()},s.prototype.configureToShow3dTourOnly=function(){this.page="tour",this.nomenu=!0,this.nocache=!0,this.nosocial=!0,this.unbranded=!0,this.nomap=!0,this.nodetails=!0,this.noarea=!0,this.nopdf=!0,this.nodims=!0,this.nomeas=!0},s.prototype.configureForPrepublishedPreview=function(){this.page="tour",this.nosocial=!0,this.nodetails=!0,this.noarea=!0,this.noroomarea=!0,this.nopdf=!0,this.nodims=!0},s.fromIGuide=function(e,t,n){var i=new ie({iguide:e,images:e.images,data:e.data,dataV2:n?e.prepublishedDataV2:e.dataV2});return s.fromView(i,t||new Ja(e))},s.fromView=function(e,t,n){var i=new s;for(var r in i.view=e,e.attrs)"viewer"!==r&&e.attrs.hasOwnProperty(r)&&(i[r]=e.attrs[r]);i.reportFinishedArea=i.reportFinishedArea||"ansi"===e.measurementStandard,i.photosonly=i.view.iguide.isPhotos(),i.isRadix=i.view.iguide.isRadix(),i.isPreview=i.view.iguide.isPreview(),i.assets=t||function(e,t){return e.iguide.isPhotos()?new is(e,t):e.iguide.isRadix()?new ss(e,t):e.hasDataV2()?new as(e,t):new os(e,t)}(e),i.accessToken=i.assets.defParams&&i.assets.defParams.accessToken;var o=i.assets.tile.bind(i.assets);i.assets.tile=function(){var e=o.apply(void 0,arguments);return i.tileResolution.addSuffix(e)};var a=i.assets.sphere.bind(i.assets);i.assets.sphere=function(e){var t=a(e);return i.sphereResolution.addSuffix(t)},i.address=e.iguide.property.getAddressOrBuildingId(),i.title=e.title||i.address,i.lat=e.iguide.property.location.lat,i.lng=e.iguide.property.location.lng,i.gallery=e.images.slice();for(var l=0;l<i.gallery.length;l++)i.gallery[l].url=i.assets.image(i.gallery[l]);return n&&(i.initialSummary=n.metric||n),i.nosocial=i.view.iguide.addons.whitelabel,i.noportallinks=i.view.iguide.addons.whitelabel,i.noiguidetext=i.view.iguide.addons.whitelabel,i.hasLegacyPanos=i.view.iguide.hasLegacyPanos,i.ims6=6===i.view.iguide.cameraModel,i.view.dataV2&&i.view.dataV2.lensCalibrated&&(i.lensCalibrated=i.view.dataV2.lensCalibrated),i},s.prototype.reloadData=function(){this.eventBus.emit("reloadData")},s.prototype.init=function(e){this.setPresets(),this.accessDenied=this.accessDenied||this.expired,this.ready=!!this.view.dataV2,this.hasData=this.ready&&!this.accessDenied,this.unbranded=!this.nounbrand&&e.getBool("unbranded",this.unbranded),this.preview=e.getBool("preview",this.preview),this.setInitFloorAndPanoIds(e.getInt("floor",e.getInt("tab",this.initfplan)),e.getInt("pano",e.getInt("view",this.initpano))),this.initangle=e.getFloat("angle",this.initangle),this.initelevation=e.getFloat("elevation",this.initelevation),this.initzoomlevel=e.getFloat("zoom",this.initzoomlevel),this.initrotation=e.getFloat("rotation",this.initrotation),this.initTag=e.get("tag",this.initTag),this.noinitanimation=e.getBool("noinitanimation",this.noinitanimation),this.nosocial=e.getBool("nosocial",this.nosocial),this.noSocialShare=e.getBool("nosocialshare",this.noSocialShare),this.fpzoom=e.getBool("fpzoom",this.fpzoom),this.hasTagList=!e.getBool("notaglist",this.notaglist),this.pagepreviewWorkaround=e.getBool("__pagepreview-workaround__"),this.embedpreviewWorkaround=e.getBool("__embedpreview-workaround__"),(this.pagepreviewWorkaround||this.embedpreviewWorkaround)&&(this.unbranded=!0),this.compass=e.getBool("compass",this.compass),this.bgcolor=e.bgcolor||"ffffff",this.txtcolor=e.txtcolor||"1f1f1f",this.noautoplay=e.getBool("noautoplay",this.noautoplay),this.mute=e.getBool("mute",this.mute),this.loop=e.getBool("loop",this.loop),this.onecol=e.getBool("onecol",this.onecol),this.nocache=e.getBool("nocache",this.nocache),this.nomultires=e.getBool("nomultires",this.nomultires),this.embedded=e.getBool("embedded")||this.isInIframe(),this.nocontrols=e.getBool("nocontrols",this.nocontrols),this.nomenu=e.getBool("nomenu",this.nomenu),this.nomap=e.getBool("nomap",this.nomap),this.nomapunbranded=e.getBool("nomapunbranded",this.nomapunbranded),this.nogallery=e.getBool("nogallery",this.nogallery),this.nodetails=e.getBool("nodetails",this.nodetails),this.noextvideo=e.getBool("noextvideo",this.noextvideo),this.minfp=e.getBool("minfp",this.minfp),this.units=this.GetUnitCookie()||e.units||this.units,this.bImperial="metric"!==this.units,this.noFullscreenWorkaround=e.getBool("noFullscreenWorkaround",this.noFullscreenWorkaround),this.daydreamVr="daydream"===e.features,this.forceDesktopVr=e.getBool("__force-desktop-vr__"),this.nox=e.getBool("nox",this.nox),this.colorscheme=cs(this.colorscheme),this.setDetailsConfig(),this.quickReload||this.setInitPage(e),"object"!==ea()(this.edit)&&(this.edit=!!this.edit),this.editTags?this.edit=!1:!0===this.edit&&(this.edit={labels:!0,floors:!0,panos:!0}),ms.gyro&&(this.allowGyro=!!ms.gyro),this.showDownloadDxfBtn=ms.viewerDxfDownload},s.prototype.setInitFloorAndPanoIds=function(e,t){if(e||t){var n=this.view.dataV2.buildings;for(var i in n)if(!n[i].hidden){var r=n[i].floors;for(var o in r)if(!r[o].hidden)if(t){var a=r[o].layout.panos;for(var s in a)if(!a[s].hidden&&a[s].id===t)return void(r[o].id===e?(this.initpano=t,this.initfplan=e):e||(this.initpano=t,this.initfplan=r[o].id))}else if(r[o].id===e)return void(this.initfplan=e)}}},s.prototype.setInitPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={targetPage:e.getBool("autoplay")?"video":e.page,notReady:!this.ready,accessDenied:this.accessDenied,photosOnly:this.view.iguide.isPhotos(),hasPhotos:this.gallery.length&&!this.nogallery,hasVideo:!this.noextvideo&&!!(this.unbranded&&this.videoUnbranded||!this.unbranded&&this.videoBranded),hasDetails:this.hasDetails,hasMap:!this.nomap&&(this.unbranded||!this.nomapunbranded),autoplayAvailable:!this.noautoplay,vrAvailable:this.vrAvailable&&(r.vr||r.hasGyro||this.forceDesktopVr)};this.page=As(this.initpage,t),"tour-minfp"===this.initpage&&(this.minfp=!0)},s.prototype.isJviewPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page;return["tour","tour_meas","video"].includes(e)},s.prototype.isInIframe=function(){try{return window.self!==window.top}catch(e){return!0}},s.prototype.loadFloorplan=function(e){var n=this,r=this.view.dataV2.findFloor((function(t){return t.id===e})).layout.rooms||[];if(this.assets.getCachedBaseSvg)return t.when(this.assets.getCachedBaseSvg(e)).then((function(e){return Ds(e,r,n.view.measurementStandard)}));var o=this.assets.baseSvg(e);return i.get(o).then((function(e){return Ds(e.data,r,n.view.measurementStandard)}))},s.prototype.loadFloorplanAndInsertFirst=function(e,t){if(this.quickReload){var n=document.getElementById("floor".concat(e));n&&n.remove()}return this.loadFloorplan(e).then((function(e){"string"==typeof e?t.insertAdjacentHTML("afterbegin",e):t.insertAdjacentElement("afterbegin",e)}))},s.prototype.isOnMobile=function(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/.test(navigator.userAgent.toLowerCase())},s.prototype.IfShowInitMeasHelp=function(){return!this.nomeashelp&&!(0,Za.SC)("nomeashelp")},s.prototype.NoMoreHelp=function(){(0,Za.Kn)("nohelp",!0,"Tue, 19 Jan 2038 03:14:00 UTC")},s.prototype.NoMoreMeasHelp=function(){(0,Za.Kn)("nomeashelp",!0,"Tue, 19 Jan 2038 03:14:00 UTC")},s.prototype.SetUnitCookie=function(){(0,Za.d8)("units",this.bImperial?"imperial":"metric")},s.prototype.GetUnitCookie=function(){return(0,Za.ej)("units")},s.prototype.noMoreChrome62Warning=function(){var e=Va()((0,Za.ej)("chrome62warningcount"));if(e>0)return!0;(0,Za.d8)("chrome62warningcount",isNaN(e)?0:++e,(0,Za.Sl)(14))},s.prototype.updateImageResolution=function(){if(this.hasLegacyPanos&&(this.irm=to),this.nomultires)return!1;var e=this.tileResolution,t=this.isOnMobile()?Math.max(screen.width,screen.height):Math.max(this.width,this.height);this.tileResolution=this.isOnMobile()?this.irm.getClosestRes(this.hasLegacyPanos,t,this.tileResolution):this.irm.getBestRes(t,this.tileResolution);var n=e.name!==this.tileResolution.name;return n&&this.eventBus.emit("tile-resolution-change",this.tileResolution),n},s.prototype.getPanoTileWidth=function(){var e=this.tileResolution.size,t=this.hasLegacyPanos?1200:2048;return e===1/0?t:e},s.prototype.setup=function(e){this.args=e||new qa.a,this.init(this.args),this.decl=o.getDecl(this.lat,this.lng),this.nocache||(this.cache=new a(this.view,this,{startDelay:5e3,nextDelay:100,event:"pano_changed-loaded",getCachingList:this.getPanoDataV2CachingList.bind(this)}),this.cache.start(),this.vrcache=new a(this.view,this,{startDelay:0,nextDelay:100,event:"sphere_changed",getCachingList:this.getSphereCachingList.bind(this)}),this.vrcache.start())},s.prototype.getPanoDataV2CachingList=function(e){var t,n=[],i=Ga()(e,[function(e){return e.dist}]).slice(0,8),r=Is(i);try{for(r.s();!(t=r.n()).done;)for(var o=t.value,a=0;a<6;a++)o.target&&n.push(this.assets.tile(o.target.id,a,o.target.sphereHash))}catch(e){r.e(e)}finally{r.f()}return n},s.prototype.getSphereCachingList=function(e){var t,n=[],i=Is(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.target.bShow&&r.target.sphere&&n.push(this.assets.sphere(r.target.sphere,r.target.sphereHash))}}catch(e){i.e(e)}finally{i.f()}return n},s.prototype.setViewer=function(e){this.deferredViewer.resolve(e),this.viewer=e},s.prototype.getViewer=function(){return this.deferredViewer.promise},s.prototype.setCompass=function(e){if(this.compass=e,this.args){var t=window.location.href,n=window.location.protocol,i="compass=true";if(e){if(this.args.compass=!0,"https:"!==n){var r=-1!==t.indexOf("?")?"&".concat(i):"?".concat(i);window.location.href="https:".concat(t.substring(n.length)).concat(r)}}else delete this.args.compass,-1!==t.indexOf("compass")&&(window.location.href=-1!==t.indexOf("&")?t.replace("&".concat(i),""):t.replace("?".concat(i),""))}this.viewer&&this.viewer.updateCompassSupport()},s.prototype.onWebsnapshotReady=function(){window.dispatchEvent(new CustomEvent("plntr-websnapshot-ready")),window.plntrWebsnapshotReady=!0},s.prototype.setFeatureFlags=function(){ms.load(),this.featureFlags=ms},s.prototype.setLocaleStrings=function(){this.l10n=mr.e.getLocalizedStrings()},s.prototype.getLocalizedLabel=function(e){return mr.e.getLocalizedLabel(e)},s.prototype.getActiveLocale=function(){return mr.e.state.active},s.prototype.setMute=function(e){this.mute=e,this.eventBus.emit("mute-changed",this.mute)},s}]);var Fs=a(38923),Bs=a.n(Fs),Us=(a(37472),a(12897),a(93085),a(49732),a(65638)),zs=a.n(Us),Vs=function(){function e(t,n){o()(this,e),this.x=t||0,this.y=n||0}return l()(e,[{key:"nearestPointOnLine",value:function(t,n,i){var r=this.x-t.x,o=this.y-t.y,a=n.x-t.x,s=n.y-t.y,l=(r*a+o*s)/(a*a+s*s);return i&&(l<0?l=0:l>1&&(l=1)),new e(t.x+a*l,t.y+s*l)}},{key:"distanceToLine",value:function(e,t,n){return Hs(this,this.nearestPointOnLine(e,t,n))}}]),e}();function Hs(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function js(e,t){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Ws(e,t){return new Vs(e.x+t.x,e.y+t.y)}const Gs="153",qs=100,Zs=301,Xs=302,Ys=303,Ks=304,Js=306,Qs=1e3,el=1001,tl=1002,nl=1003,il=1004,rl=1005,ol=1006,al=1008,sl=1009,ll=1012,cl=1013,ul=1014,dl=1015,hl=1016,pl=1020,fl=1023,ml=1026,gl=1027,vl=33776,yl=33777,bl=33778,wl=33779,_l=36492,xl=2300,Tl=2301,Sl=2302,El=2400,Ml=2401,Al=2402,Cl=3001,kl="",Pl="srgb",Dl="srgb-linear",Rl="display-p3",$l=7680,Il=35044,Ll="300 es",Ol=1035,Nl=2e3,Fl=2001;class Bl{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,i=n.length;t<i;t++)n[t].call(this,e);e.target=null}}}const Ul=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const zl=Math.PI/180,Vl=180/Math.PI;function Hl(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Ul[255&e]+Ul[e>>8&255]+Ul[e>>16&255]+Ul[e>>24&255]+"-"+Ul[255&t]+Ul[t>>8&255]+"-"+Ul[t>>16&15|64]+Ul[t>>24&255]+"-"+Ul[63&n|128]+Ul[n>>8&255]+"-"+Ul[n>>16&255]+Ul[n>>24&255]+Ul[255&i]+Ul[i>>8&255]+Ul[i>>16&255]+Ul[i>>24&255]).toLowerCase()}function jl(e,t,n){return Math.max(t,Math.min(n,e))}function Wl(e,t){return(e%t+t)%t}function Gl(e,t,n){return(1-n)*e+n*t}function ql(e){return 0==(e&e-1)&&0!==e}function Zl(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Xl(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Yl(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}class Kl{constructor(e=0,t=0){Kl.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(jl(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Jl{constructor(e,t,n,i,r,o,a,s,l){Jl.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,o,a,s,l)}set(e,t,n,i,r,o,a,s,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=r,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],f=i[0],m=i[3],g=i[6],v=i[1],y=i[4],b=i[7],w=i[2],_=i[5],x=i[8];return r[0]=o*f+a*v+s*w,r[3]=o*m+a*y+s*_,r[6]=o*g+a*b+s*x,r[1]=l*f+c*v+u*w,r[4]=l*m+c*y+u*_,r[7]=l*g+c*b+u*x,r[2]=d*f+h*v+p*w,r[5]=d*m+h*y+p*_,r[8]=d*g+h*b+p*x,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*r*c+n*a*s+i*r*l-i*o*s}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=c*o-a*l,d=a*s-c*r,h=l*r-o*s,p=t*u+n*d+i*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(i*l-c*n)*f,e[2]=(a*n-i*o)*f,e[3]=d*f,e[4]=(c*t-i*s)*f,e[5]=(i*r-a*t)*f,e[6]=h*f,e[7]=(n*s-l*t)*f,e[8]=(o*t-n*r)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,o,a){const s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-i*l,i*s,-i*(-l*o+s*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Ql.makeScale(e,t)),this}rotate(e){return this.premultiply(Ql.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ql.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Ql=new Jl;function ec(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function tc(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}const nc={};function ic(e){e in nc||(nc[e]=!0,console.warn(e))}function rc(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function oc(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const ac=(new Jl).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),sc=(new Jl).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);const lc={[Dl]:e=>e,[Pl]:e=>e.convertSRGBToLinear(),[Rl]:function(e){return e.convertSRGBToLinear().applyMatrix3(sc)}},cc={[Dl]:e=>e,[Pl]:e=>e.convertLinearToSRGB(),[Rl]:function(e){return e.applyMatrix3(ac).convertLinearToSRGB()}},uc={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return Dl},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const i=lc[t],r=cc[n];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${t}" to "${n}".`);return r(i(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}};let dc;class hc{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===dc&&(dc=tc("canvas")),dc.width=e.width,dc.height=e.height;const n=dc.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=dc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=tc("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),r=i.data;for(let e=0;e<r.length;e++)r[e]=255*rc(r[e]/255);return n.putImageData(i,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*rc(t[e]/255)):t[e]=rc(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let pc=0;class fc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:pc++}),this.uuid=Hl(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(mc(i[t].image)):e.push(mc(i[t]))}else e=mc(i);n.url=e}return t||(e.images[this.uuid]=n),n}}function mc(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?hc.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let gc=0;class vc extends Bl{constructor(e=vc.DEFAULT_IMAGE,t=vc.DEFAULT_MAPPING,n=1001,i=1001,r=1006,o=1008,a=1023,s=1009,l=vc.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:gc++}),this.uuid=Hl(),this.name="",this.source=new fc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new Kl(0,0),this.repeat=new Kl(1,1),this.center=new Kl(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jl,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof c?this.colorSpace=c:(ic("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Cl?Pl:kl),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Qs:e.x=e.x-Math.floor(e.x);break;case el:e.x=e.x<0?0:1;break;case tl:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Qs:e.y=e.y-Math.floor(e.y);break;case el:e.y=e.y<0?0:1;break;case tl:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return ic("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Pl?Cl:3e3}set encoding(e){ic("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Cl?Pl:kl}}vc.DEFAULT_IMAGE=null,vc.DEFAULT_MAPPING=300,vc.DEFAULT_ANISOTROPY=1;class yc{constructor(e=0,t=0,n=0,i=1){yc.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const o=.01,a=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],p=s[9],f=s[2],m=s[6],g=s[10];if(Math.abs(c-d)<o&&Math.abs(u-f)<o&&Math.abs(p-m)<o){if(Math.abs(c+d)<a&&Math.abs(u+f)<a&&Math.abs(p+m)<a&&Math.abs(l+h+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,v=(g+1)/2,y=(c+d)/4,b=(u+f)/4,w=(p+m)/4;return e>s&&e>v?e<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(e),i=y/n,r=b/n):s>v?s<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(s),n=y/i,r=w/i):v<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),n=b/r,i=w/r),this.set(n,i,r,t),this}let v=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(m-p)/v,this.y=(u-f)/v,this.z=(d-c)/v,this.w=Math.acos((l+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class bc extends Bl{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new yc(0,0,e,t),this.scissorTest=!1,this.viewport=new yc(0,0,e,t);const i={width:e,height:t,depth:1};void 0!==n.encoding&&(ic("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Cl?Pl:kl),this.texture=new vc(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:ol,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new fc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wc extends vc{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=nl,this.minFilter=nl,this.wrapR=el,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _c extends vc{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=nl,this.minFilter=nl,this.wrapR=el,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xc{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,r,o,a){let s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const d=r[o+0],h=r[o+1],p=r[o+2],f=r[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=d,e[t+1]=h,e[t+2]=p,void(e[t+3]=f);if(u!==f||s!==d||l!==h||c!==p){let e=1-a;const t=s*d+l*h+c*p+u*f,n=t>=0?1:-1,i=1-t*t;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,t*n);e=Math.sin(e*o)/r,a=Math.sin(a*o)/r}const r=a*n;if(s=s*e+d*r,l=l*e+h*r,c=c*e+p*r,u=u*e+f*r,e===1-a){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,o){const a=n[i],s=n[i+1],l=n[i+2],c=n[i+3],u=r[o],d=r[o+1],h=r[o+2],p=r[o+3];return e[t]=a*p+c*u+s*h-l*d,e[t+1]=s*p+c*d+l*u-a*h,e[t+2]=l*p+c*h+a*d-s*u,e[t+3]=c*p-a*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,i=e._y,r=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(i/2),u=a(r/2),d=s(n/2),h=s(i/2),p=s(r/2);switch(o){case"XYZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"YXZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"ZXY":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"ZYX":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"YZX":this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p;break;case"XZY":this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],o=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+a+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(r-l)*e,this._z=(o-i)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-s)/e,this._x=.25*e,this._y=(i+o)/e,this._z=(r+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(r-l)/e,this._x=(i+o)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(o-i)/e,this._x=(r+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jl(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+i*l-r*s,this._y=i*c+o*s+r*a-n*l,this._z=r*c+o*l+n*s-i*a,this._w=o*c-n*a-i*s-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,i=this._y,r=this._z,o=this._w;let a=o*e._w+n*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*i+t*this._y,this._z=e*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=o*u+this._w*d,this._x=n*u+this._x*d,this._y=i*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(r),n*Math.cos(r),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Tc{constructor(e=0,t=0,n=0){Tc.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Ec.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ec.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*i-a*n,c=s*n+a*t-r*i,u=s*i+r*n-o*t,d=-r*t-o*n-a*i;return this.x=l*s+d*-r+c*-a-u*-o,this.y=c*s+d*-o+u*-r-l*-a,this.z=u*s+d*-a+l*-o-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,o=t.x,a=t.y,s=t.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Sc.copy(this).projectOnVector(e),this.sub(Sc)}reflect(e){return this.sub(Sc.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(jl(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Sc=new Tc,Ec=new xc;class Mc{constructor(e=new Tc(1/0,1/0,1/0),t=new Tc(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Cc.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Cc.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Cc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),kc.copy(e.boundingBox),kc.applyMatrix4(e.matrixWorld),this.union(kc);else{const n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,i=t.count;n<i;n++)Cc.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(Cc)}else null===n.boundingBox&&n.computeBoundingBox(),kc.copy(n.boundingBox),kc.applyMatrix4(e.matrixWorld),this.union(kc)}const n=e.children;for(let e=0,i=n.length;e<i;e++)this.expandByObject(n[e],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Cc),Cc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Oc),Nc.subVectors(this.max,Oc),Pc.subVectors(e.a,Oc),Dc.subVectors(e.b,Oc),Rc.subVectors(e.c,Oc),$c.subVectors(Dc,Pc),Ic.subVectors(Rc,Dc),Lc.subVectors(Pc,Rc);let t=[0,-$c.z,$c.y,0,-Ic.z,Ic.y,0,-Lc.z,Lc.y,$c.z,0,-$c.x,Ic.z,0,-Ic.x,Lc.z,0,-Lc.x,-$c.y,$c.x,0,-Ic.y,Ic.x,0,-Lc.y,Lc.x,0];return!!Uc(t,Pc,Dc,Rc,Nc)&&(t=[1,0,0,0,1,0,0,0,1],!!Uc(t,Pc,Dc,Rc,Nc)&&(Fc.crossVectors($c,Ic),t=[Fc.x,Fc.y,Fc.z],Uc(t,Pc,Dc,Rc,Nc)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Cc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Cc).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Ac[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ac[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ac[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ac[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ac[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ac[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ac[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ac[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ac)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ac=[new Tc,new Tc,new Tc,new Tc,new Tc,new Tc,new Tc,new Tc],Cc=new Tc,kc=new Mc,Pc=new Tc,Dc=new Tc,Rc=new Tc,$c=new Tc,Ic=new Tc,Lc=new Tc,Oc=new Tc,Nc=new Tc,Fc=new Tc,Bc=new Tc;function Uc(e,t,n,i,r){for(let o=0,a=e.length-3;o<=a;o+=3){Bc.fromArray(e,o);const a=r.x*Math.abs(Bc.x)+r.y*Math.abs(Bc.y)+r.z*Math.abs(Bc.z),s=t.dot(Bc),l=n.dot(Bc),c=i.dot(Bc);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const zc=new Mc,Vc=new Tc,Hc=new Tc;class jc{constructor(e=new Tc,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):zc.setFromPoints(e).getCenter(n);let i=0;for(let t=0,r=e.length;t<r;t++)i=Math.max(i,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Vc.subVectors(e,this.center);const t=Vc.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Vc,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Hc.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Vc.copy(e.center).add(Hc)),this.expandByPoint(Vc.copy(e.center).sub(Hc))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Wc=new Tc,Gc=new Tc,qc=new Tc,Zc=new Tc,Xc=new Tc,Yc=new Tc,Kc=new Tc;class Jc{constructor(e=new Tc,t=new Tc(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Wc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Wc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Wc.copy(this.origin).addScaledVector(this.direction,t),Wc.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){Gc.copy(e).add(t).multiplyScalar(.5),qc.copy(t).sub(e).normalize(),Zc.copy(this.origin).sub(Gc);const r=.5*e.distanceTo(t),o=-this.direction.dot(qc),a=Zc.dot(this.direction),s=-Zc.dot(qc),l=Zc.lengthSq(),c=Math.abs(1-o*o);let u,d,h,p;if(c>0)if(u=o*s-a,d=o*a-s,p=r*c,u>=0)if(d>=-p)if(d<=p){const e=1/c;u*=e,d*=e,h=u*(u+o*d+2*a)+d*(o*u+d+2*s)+l}else d=r,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d=-r,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d<=-p?(u=Math.max(0,-(-o*r+a)),d=u>0?-r:Math.min(Math.max(-r,-s),r),h=-u*u+d*(d+2*s)+l):d<=p?(u=0,d=Math.min(Math.max(-r,-s),r),h=d*(d+2*s)+l):(u=Math.max(0,-(o*r+a)),d=u>0?r:Math.min(Math.max(-r,-s),r),h=-u*u+d*(d+2*s)+l);else d=o>0?-r:r,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(Gc).addScaledVector(qc,d),h}intersectSphere(e,t){Wc.subVectors(e.center,this.origin);const n=Wc.dot(this.direction),i=Wc.dot(Wc)-n*n,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),a=n-o,s=n+o;return s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,i=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,i=(e.min.x-d.x)*l),c>=0?(r=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(r=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||r>i?null:((r>n||isNaN(n))&&(n=r),(o<i||isNaN(i))&&(i=o),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||a>i?null:((a>n||n!=n)&&(n=a),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,t)))}intersectsBox(e){return null!==this.intersectBox(e,Wc)}intersectTriangle(e,t,n,i,r){Xc.subVectors(t,e),Yc.subVectors(n,e),Kc.crossVectors(Xc,Yc);let o,a=this.direction.dot(Kc);if(a>0){if(i)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Zc.subVectors(this.origin,e);const s=o*this.direction.dot(Yc.crossVectors(Zc,Yc));if(s<0)return null;const l=o*this.direction.dot(Xc.cross(Zc));if(l<0)return null;if(s+l>a)return null;const c=-o*Zc.dot(Kc);return c<0?null:this.at(c/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Qc{constructor(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m){Qc.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m)}set(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Qc).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/eu.setFromMatrixColumn(e,0).length(),r=1/eu.setFromMatrixColumn(e,1).length(),o=1/eu.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){const e=o*c,n=o*u,i=a*c,r=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-a*s,t[2]=r-e*l,t[6]=i+n*l,t[10]=o*s}else if("YXZ"===e.order){const e=s*c,n=s*u,i=l*c,r=l*u;t[0]=e+r*a,t[4]=i*a-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=n*a-i,t[6]=r+e*a,t[10]=o*s}else if("ZXY"===e.order){const e=s*c,n=s*u,i=l*c,r=l*u;t[0]=e-r*a,t[4]=-o*u,t[8]=i+n*a,t[1]=n+i*a,t[5]=o*c,t[9]=r-e*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){const e=o*c,n=o*u,i=a*c,r=a*u;t[0]=s*c,t[4]=i*l-n,t[8]=e*l+r,t[1]=s*u,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){const e=o*s,n=o*l,i=a*s,r=a*l;t[0]=s*c,t[4]=r-e*u,t[8]=i*u+n,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+i,t[10]=e-r*u}else if("XZY"===e.order){const e=o*s,n=o*l,i=a*s,r=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+r,t[5]=o*c,t[9]=n*u-i,t[2]=i*u-n,t[6]=a*c,t[10]=r*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nu,e,iu)}lookAt(e,t,n){const i=this.elements;return au.subVectors(e,t),0===au.lengthSq()&&(au.z=1),au.normalize(),ru.crossVectors(n,au),0===ru.lengthSq()&&(1===Math.abs(n.z)?au.x+=1e-4:au.z+=1e-4,au.normalize(),ru.crossVectors(n,au)),ru.normalize(),ou.crossVectors(au,ru),i[0]=ru.x,i[4]=ou.x,i[8]=au.x,i[1]=ru.y,i[5]=ou.y,i[9]=au.y,i[2]=ru.z,i[6]=ou.z,i[10]=au.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],_=i[0],x=i[4],T=i[8],S=i[12],E=i[1],M=i[5],A=i[9],C=i[13],k=i[2],P=i[6],D=i[10],R=i[14],$=i[3],I=i[7],L=i[11],O=i[15];return r[0]=o*_+a*E+s*k+l*$,r[4]=o*x+a*M+s*P+l*I,r[8]=o*T+a*A+s*D+l*L,r[12]=o*S+a*C+s*R+l*O,r[1]=c*_+u*E+d*k+h*$,r[5]=c*x+u*M+d*P+h*I,r[9]=c*T+u*A+d*D+h*L,r[13]=c*S+u*C+d*R+h*O,r[2]=p*_+f*E+m*k+g*$,r[6]=p*x+f*M+m*P+g*I,r[10]=p*T+f*A+m*D+g*L,r[14]=p*S+f*C+m*R+g*O,r[3]=v*_+y*E+b*k+w*$,r[7]=v*x+y*M+b*P+w*I,r[11]=v*T+y*A+b*D+w*L,r[15]=v*S+y*C+b*R+w*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+r*s*u-i*l*u-r*a*d+n*l*d+i*a*h-n*s*h)+e[7]*(+t*s*h-t*l*d+r*o*d-i*o*h+i*l*c-r*s*c)+e[11]*(+t*l*u-t*a*h-r*o*u+n*o*h+r*a*c-n*l*c)+e[15]*(-i*a*c-t*s*u+t*a*d+i*o*u-n*o*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],m=e[14],g=e[15],v=u*m*l-f*d*l+f*s*h-a*m*h-u*s*g+a*d*g,y=p*d*l-c*m*l-p*s*h+o*m*h+c*s*g-o*d*g,b=c*f*l-p*u*l+p*a*h-o*f*h-c*a*g+o*u*g,w=p*u*s-c*f*s-p*a*d+o*f*d+c*a*m-o*u*m,_=t*v+n*y+i*b+r*w;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/_;return e[0]=v*x,e[1]=(f*d*r-u*m*r-f*i*h+n*m*h+u*i*g-n*d*g)*x,e[2]=(a*m*r-f*s*r+f*i*l-n*m*l-a*i*g+n*s*g)*x,e[3]=(u*s*r-a*d*r-u*i*l+n*d*l+a*i*h-n*s*h)*x,e[4]=y*x,e[5]=(c*m*r-p*d*r+p*i*h-t*m*h-c*i*g+t*d*g)*x,e[6]=(p*s*r-o*m*r-p*i*l+t*m*l+o*i*g-t*s*g)*x,e[7]=(o*d*r-c*s*r+c*i*l-t*d*l-o*i*h+t*s*h)*x,e[8]=b*x,e[9]=(p*u*r-c*f*r-p*n*h+t*f*h+c*n*g-t*u*g)*x,e[10]=(o*f*r-p*a*r+p*n*l-t*f*l-o*n*g+t*a*g)*x,e[11]=(c*a*r-o*u*r-c*n*l+t*u*l+o*n*h-t*a*h)*x,e[12]=w*x,e[13]=(c*f*i-p*u*i+p*n*d-t*f*d-c*n*m+t*u*m)*x,e[14]=(p*a*i-o*f*i-p*n*s+t*f*s+o*n*m-t*a*m)*x,e[15]=(o*u*i-c*a*i+c*n*s-t*u*s-o*n*d+t*a*d)*x,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,a=e.y,s=e.z,l=r*o,c=r*a;return this.set(l*o+n,l*a-i*s,l*s+i*a,0,l*a+i*s,c*a+n,c*s-i*o,0,l*s-i*a,c*s+i*o,r*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,r,o){return this.set(1,n,r,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,o=t._y,a=t._z,s=t._w,l=r+r,c=o+o,u=a+a,d=r*l,h=r*c,p=r*u,f=o*c,m=o*u,g=a*u,v=s*l,y=s*c,b=s*u,w=n.x,_=n.y,x=n.z;return i[0]=(1-(f+g))*w,i[1]=(h+b)*w,i[2]=(p-y)*w,i[3]=0,i[4]=(h-b)*_,i[5]=(1-(d+g))*_,i[6]=(m+v)*_,i[7]=0,i[8]=(p+y)*x,i[9]=(m-v)*x,i[10]=(1-(d+f))*x,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=eu.set(i[0],i[1],i[2]).length();const o=eu.set(i[4],i[5],i[6]).length(),a=eu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],tu.copy(this);const s=1/r,l=1/o,c=1/a;return tu.elements[0]*=s,tu.elements[1]*=s,tu.elements[2]*=s,tu.elements[4]*=l,tu.elements[5]*=l,tu.elements[6]*=l,tu.elements[8]*=c,tu.elements[9]*=c,tu.elements[10]*=c,t.setFromRotationMatrix(tu),n.x=r,n.y=o,n.z=a,this}makePerspective(e,t,n,i,r,o,a=2e3){const s=this.elements,l=2*r/(t-e),c=2*r/(n-i),u=(t+e)/(t-e),d=(n+i)/(n-i);let h,p;if(a===Nl)h=-(o+r)/(o-r),p=-2*o*r/(o-r);else{if(a!==Fl)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-o/(o-r),p=-o*r/(o-r)}return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=p,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,i,r,o,a=2e3){const s=this.elements,l=1/(t-e),c=1/(n-i),u=1/(o-r),d=(t+e)*l,h=(n+i)*c;let p,f;if(a===Nl)p=(o+r)*u,f=-2*u;else{if(a!==Fl)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=r*u,f=-1*u}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=f,s[14]=-p,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const eu=new Tc,tu=new Qc,nu=new Tc(0,0,0),iu=new Tc(1,1,1),ru=new Tc,ou=new Tc,au=new Tc,su=new Qc,lu=new xc;class cu{constructor(e=0,t=0,n=0,i=cu.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,r=i[0],o=i[4],a=i[8],s=i[1],l=i[5],c=i[9],u=i[2],d=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(jl(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-jl(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(jl(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-jl(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(jl(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-jl(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return su.makeRotationFromQuaternion(e),this.setFromRotationMatrix(su,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return lu.setFromEuler(this),this.setFromQuaternion(lu,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}cu.DEFAULT_ORDER="XYZ";class uu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let du=0;const hu=new Tc,pu=new xc,fu=new Qc,mu=new Tc,gu=new Tc,vu=new Tc,yu=new xc,bu=new Tc(1,0,0),wu=new Tc(0,1,0),_u=new Tc(0,0,1),xu={type:"added"},Tu={type:"removed"};class Su extends Bl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:du++}),this.uuid=Hl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Su.DEFAULT_UP.clone();const e=new Tc,t=new cu,n=new xc,i=new Tc(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Qc},normalMatrix:{value:new Jl}}),this.matrix=new Qc,this.matrixWorld=new Qc,this.matrixAutoUpdate=Su.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Su.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new uu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return pu.setFromAxisAngle(e,t),this.quaternion.multiply(pu),this}rotateOnWorldAxis(e,t){return pu.setFromAxisAngle(e,t),this.quaternion.premultiply(pu),this}rotateX(e){return this.rotateOnAxis(bu,e)}rotateY(e){return this.rotateOnAxis(wu,e)}rotateZ(e){return this.rotateOnAxis(_u,e)}translateOnAxis(e,t){return hu.copy(e).applyQuaternion(this.quaternion),this.position.add(hu.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(bu,e)}translateY(e){return this.translateOnAxis(wu,e)}translateZ(e){return this.translateOnAxis(_u,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fu.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?mu.copy(e):mu.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),gu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fu.lookAt(gu,mu,this.up):fu.lookAt(mu,gu,this.up),this.quaternion.setFromRotationMatrix(fu),i&&(fu.extractRotation(i.matrixWorld),pu.setFromRotationMatrix(fu),this.quaternion.premultiply(pu.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(xu)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Tu)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Tu)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),fu.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),fu.multiply(e.parent.matrixWorld)),e.applyMatrix4(fu),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let i=0,r=this.children.length;i<r;i++){const r=this.children[i].getObjectsByProperty(e,t);r.length>0&&(n=n.concat(r))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gu,e,vu),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gu,yu,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){const i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){const t=o(e.geometries),i=o(e.materials),r=o(e.textures),a=o(e.images),s=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=i,n;function o(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const n=e.children[t];this.add(n.clone())}return this}}Su.DEFAULT_UP=new Tc(0,1,0),Su.DEFAULT_MATRIX_AUTO_UPDATE=!0,Su.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Eu=new Tc,Mu=new Tc,Au=new Tc,Cu=new Tc,ku=new Tc,Pu=new Tc,Du=new Tc,Ru=new Tc,$u=new Tc,Iu=new Tc;let Lu=!1;class Ou{constructor(e=new Tc,t=new Tc,n=new Tc){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Eu.subVectors(e,t),i.cross(Eu);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Eu.subVectors(i,t),Mu.subVectors(n,t),Au.subVectors(e,t);const o=Eu.dot(Eu),a=Eu.dot(Mu),s=Eu.dot(Au),l=Mu.dot(Mu),c=Mu.dot(Au),u=o*l-a*a;if(0===u)return r.set(-2,-1,-1);const d=1/u,h=(l*s-a*c)*d,p=(o*c-a*s)*d;return r.set(1-h-p,p,h)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Cu),Cu.x>=0&&Cu.y>=0&&Cu.x+Cu.y<=1}static getUV(e,t,n,i,r,o,a,s){return!1===Lu&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Lu=!0),this.getInterpolation(e,t,n,i,r,o,a,s)}static getInterpolation(e,t,n,i,r,o,a,s){return this.getBarycoord(e,t,n,i,Cu),s.setScalar(0),s.addScaledVector(r,Cu.x),s.addScaledVector(o,Cu.y),s.addScaledVector(a,Cu.z),s}static isFrontFacing(e,t,n,i){return Eu.subVectors(n,t),Mu.subVectors(e,t),Eu.cross(Mu).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Eu.subVectors(this.c,this.b),Mu.subVectors(this.a,this.b),.5*Eu.cross(Mu).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ou.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ou.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return!1===Lu&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Lu=!0),Ou.getInterpolation(e,this.a,this.b,this.c,t,n,i,r)}getInterpolation(e,t,n,i,r){return Ou.getInterpolation(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Ou.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ou.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,r=this.c;let o,a;ku.subVectors(i,n),Pu.subVectors(r,n),Ru.subVectors(e,n);const s=ku.dot(Ru),l=Pu.dot(Ru);if(s<=0&&l<=0)return t.copy(n);$u.subVectors(e,i);const c=ku.dot($u),u=Pu.dot($u);if(c>=0&&u<=c)return t.copy(i);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return o=s/(s-c),t.copy(n).addScaledVector(ku,o);Iu.subVectors(e,r);const h=ku.dot(Iu),p=Pu.dot(Iu);if(p>=0&&h<=p)return t.copy(r);const f=h*l-s*p;if(f<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(n).addScaledVector(Pu,a);const m=c*p-h*u;if(m<=0&&u-c>=0&&h-p>=0)return Du.subVectors(r,i),a=(u-c)/(u-c+(h-p)),t.copy(i).addScaledVector(Du,a);const g=1/(m+f+d);return o=f*g,a=d*g,t.copy(n).addScaledVector(ku,o).addScaledVector(Pu,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Nu=0;class Fu extends Bl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Nu++}),this.uuid=Hl(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=qs,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$l,this.stencilZFail=$l,this.stencilZPass=$l,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const Bu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Uu={h:0,s:0,l:0},zu={h:0,s:0,l:0};function Vu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Hu{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t="srgb"){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,uc.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=uc.workingColorSpace){return this.r=e,this.g=t,this.b=n,uc.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=uc.workingColorSpace){if(e=Wl(e,1),t=jl(t,0,1),n=jl(n,0,1),0===t)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=Vu(r,i,e+1/3),this.g=Vu(r,i,e),this.b=Vu(r,i,e-1/3)}return uc.toWorkingColorSpace(this,i),this}setStyle(e,t="srgb"){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const n=i[1],r=n.length;if(3===r)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,t);if(6===r)return this.setHex(parseInt(n,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t="srgb"){const n=Bu[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=rc(e.r),this.g=rc(e.g),this.b=rc(e.b),this}copyLinearToSRGB(e){return this.r=oc(e.r),this.g=oc(e.g),this.b=oc(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e="srgb"){return uc.fromWorkingColorSpace(ju.copy(this),e),65536*Math.round(jl(255*ju.r,0,255))+256*Math.round(jl(255*ju.g,0,255))+Math.round(jl(255*ju.b,0,255))}getHexString(e="srgb"){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=uc.workingColorSpace){uc.fromWorkingColorSpace(ju.copy(this),t);const n=ju.r,i=ju.g,r=ju.b,o=Math.max(n,i,r),a=Math.min(n,i,r);let s,l;const c=(a+o)/2;if(a===o)s=0,l=0;else{const e=o-a;switch(l=c<=.5?e/(o+a):e/(2-o-a),o){case n:s=(i-r)/e+(i<r?6:0);break;case i:s=(r-n)/e+2;break;case r:s=(n-i)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=uc.workingColorSpace){return uc.fromWorkingColorSpace(ju.copy(this),t),e.r=ju.r,e.g=ju.g,e.b=ju.b,e}getStyle(e="srgb"){uc.fromWorkingColorSpace(ju.copy(this),e);const t=ju.r,n=ju.g,i=ju.b;return e!==Pl?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*i)})`}offsetHSL(e,t,n){return this.getHSL(Uu),Uu.h+=e,Uu.s+=t,Uu.l+=n,this.setHSL(Uu.h,Uu.s,Uu.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Uu),e.getHSL(zu);const n=Gl(Uu.h,zu.h,t),i=Gl(Uu.s,zu.s,t),r=Gl(Uu.l,zu.l,t);return this.setHSL(n,i,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*i,this.g=r[1]*t+r[4]*n+r[7]*i,this.b=r[2]*t+r[5]*n+r[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ju=new Hu;Hu.NAMES=Bu;class Wu extends Fu{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Hu(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Gu=new Tc,qu=new Kl;class Zu{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Il,this.updateRange={offset:0,count:-1},this.gpuType=dl,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)qu.fromBufferAttribute(this,t),qu.applyMatrix3(e),this.setXY(t,qu.x,qu.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Gu.fromBufferAttribute(this,t),Gu.applyMatrix3(e),this.setXYZ(t,Gu.x,Gu.y,Gu.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Gu.fromBufferAttribute(this,t),Gu.applyMatrix4(e),this.setXYZ(t,Gu.x,Gu.y,Gu.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Gu.fromBufferAttribute(this,t),Gu.applyNormalMatrix(e),this.setXYZ(t,Gu.x,Gu.y,Gu.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Gu.fromBufferAttribute(this,t),Gu.transformDirection(e),this.setXYZ(t,Gu.x,Gu.y,Gu.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Xl(t,this.array)),t}setX(e,t){return this.normalized&&(t=Yl(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xl(t,this.array)),t}setY(e,t){return this.normalized&&(t=Yl(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Yl(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xl(t,this.array)),t}setW(e,t){return this.normalized&&(t=Yl(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Yl(t,this.array),n=Yl(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Yl(t,this.array),n=Yl(n,this.array),i=Yl(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,r){return e*=this.itemSize,this.normalized&&(t=Yl(t,this.array),n=Yl(n,this.array),i=Yl(i,this.array),r=Yl(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Il&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Xu extends Zu{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Yu extends Zu{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Ku extends Zu{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Ju=0;const Qu=new Qc,ed=new Su,td=new Tc,nd=new Mc,id=new Mc,rd=new Tc;class od extends Bl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ju++}),this.uuid=Hl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ec(e)?Yu:Xu)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Jl).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Qu.makeRotationFromQuaternion(e),this.applyMatrix4(Qu),this}rotateX(e){return Qu.makeRotationX(e),this.applyMatrix4(Qu),this}rotateY(e){return Qu.makeRotationY(e),this.applyMatrix4(Qu),this}rotateZ(e){return Qu.makeRotationZ(e),this.applyMatrix4(Qu),this}translate(e,t,n){return Qu.makeTranslation(e,t,n),this.applyMatrix4(Qu),this}scale(e,t,n){return Qu.makeScale(e,t,n),this.applyMatrix4(Qu),this}lookAt(e){return ed.lookAt(e),ed.updateMatrix(),this.applyMatrix4(ed.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(td).negate(),this.translate(td.x,td.y,td.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Ku(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Mc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Tc(-1/0,-1/0,-1/0),new Tc(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];nd.setFromBufferAttribute(n),this.morphTargetsRelative?(rd.addVectors(this.boundingBox.min,nd.min),this.boundingBox.expandByPoint(rd),rd.addVectors(this.boundingBox.max,nd.max),this.boundingBox.expandByPoint(rd)):(this.boundingBox.expandByPoint(nd.min),this.boundingBox.expandByPoint(nd.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new jc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Tc,1/0);if(e){const n=this.boundingSphere.center;if(nd.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];id.setFromBufferAttribute(n),this.morphTargetsRelative?(rd.addVectors(nd.min,id.min),nd.expandByPoint(rd),rd.addVectors(nd.max,id.max),nd.expandByPoint(rd)):(nd.expandByPoint(id.min),nd.expandByPoint(id.max))}nd.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)rd.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(rd));if(t)for(let r=0,o=t.length;r<o;r++){const o=t[r],a=this.morphTargetsRelative;for(let t=0,r=o.count;t<r;t++)rd.fromBufferAttribute(o,t),a&&(td.fromBufferAttribute(e,t),rd.add(td)),i=Math.max(i,n.distanceToSquared(rd))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,i=t.position.array,r=t.normal.array,o=t.uv.array,a=i.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Zu(new Float32Array(4*a),4));const s=this.getAttribute("tangent").array,l=[],c=[];for(let e=0;e<a;e++)l[e]=new Tc,c[e]=new Tc;const u=new Tc,d=new Tc,h=new Tc,p=new Kl,f=new Kl,m=new Kl,g=new Tc,v=new Tc;function y(e,t,n){u.fromArray(i,3*e),d.fromArray(i,3*t),h.fromArray(i,3*n),p.fromArray(o,2*e),f.fromArray(o,2*t),m.fromArray(o,2*n),d.sub(u),h.sub(u),f.sub(p),m.sub(p);const r=1/(f.x*m.y-m.x*f.y);isFinite(r)&&(g.copy(d).multiplyScalar(m.y).addScaledVector(h,-f.y).multiplyScalar(r),v.copy(h).multiplyScalar(f.x).addScaledVector(d,-m.x).multiplyScalar(r),l[e].add(g),l[t].add(g),l[n].add(g),c[e].add(v),c[t].add(v),c[n].add(v))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let e=0,t=b.length;e<t;++e){const t=b[e],i=t.start;for(let e=i,r=i+t.count;e<r;e+=3)y(n[e+0],n[e+1],n[e+2])}const w=new Tc,_=new Tc,x=new Tc,T=new Tc;function S(e){x.fromArray(r,3*e),T.copy(x);const t=l[e];w.copy(t),w.sub(x.multiplyScalar(x.dot(t))).normalize(),_.crossVectors(T,t);const n=_.dot(c[e])<0?-1:1;s[4*e]=w.x,s[4*e+1]=w.y,s[4*e+2]=w.z,s[4*e+3]=n}for(let e=0,t=b.length;e<t;++e){const t=b[e],i=t.start;for(let e=i,r=i+t.count;e<r;e+=3)S(n[e+0]),S(n[e+1]),S(n[e+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Zu(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const i=new Tc,r=new Tc,o=new Tc,a=new Tc,s=new Tc,l=new Tc,c=new Tc,u=new Tc;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),p=e.getX(d+1),f=e.getX(d+2);i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,p),o.fromBufferAttribute(t,f),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),a.add(c),s.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,a=t.count;e<a;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)rd.fromBufferAttribute(e,t),rd.normalize(),e.setXYZ(t,rd.x,rd.y,rd.z)}toNonIndexed(){function e(e,t){const n=e.array,i=e.itemSize,r=e.normalized,o=new n.constructor(t.length*i);let a=0,s=0;for(let r=0,l=t.length;r<l;r++){a=e.isInterleavedBufferAttribute?t[r]*e.data.stride+e.offset:t[r]*i;for(let e=0;e<i;e++)o[s++]=n[a++]}return new Zu(o,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new od,n=this.index.array,i=this.attributes;for(const r in i){const o=e(i[r],n);t.setAttribute(r,o)}const r=this.morphAttributes;for(const i in r){const o=[],a=r[i];for(let t=0,i=a.length;t<i;t++){const i=e(a[t],n);o.push(i)}t.morphAttributes[i]=o}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let e=0,n=o.length;e<n;e++){const n=o[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const t in n){const i=n[t];e.data.attributes[t]=i.toJSON(e.data)}const i={};let r=!1;for(const t in this.morphAttributes){const n=this.morphAttributes[t],o=[];for(let t=0,i=n.length;t<i;t++){const i=n[t];o.push(i.toJSON(e.data))}o.length>0&&(i[t]=o,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const i=e.attributes;for(const e in i){const n=i[e];this.setAttribute(e,n.clone(t))}const r=e.morphAttributes;for(const e in r){const n=[],i=r[e];for(let e=0,r=i.length;e<r;e++)n.push(i[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let e=0,t=o.length;e<t;e++){const t=o[e];this.addGroup(t.start,t.count,t.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ad=new Qc,sd=new Jc,ld=new jc,cd=new Tc,ud=new Tc,dd=new Tc,hd=new Tc,pd=new Tc,fd=new Tc,md=new Kl,gd=new Kl,vd=new Kl,yd=new Tc,bd=new Tc,wd=new Tc,_d=new Tc,xd=new Tc;class Td extends Su{constructor(e=new od,t=new Wu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(r&&a){fd.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=a[n],s=r[n];0!==i&&(pd.fromBufferAttribute(s,e),o?fd.addScaledVector(pd,i):fd.addScaledVector(pd.sub(t),i))}t.add(fd)}return t}raycast(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),ld.copy(n.boundingSphere),ld.applyMatrix4(r),sd.copy(e.ray).recast(e.near),!1===ld.containsPoint(sd.origin)){if(null===sd.intersectSphere(ld,cd))return;if(sd.origin.distanceToSquared(cd)>(e.far-e.near)**2)return}ad.copy(r).invert(),sd.copy(e.ray).applyMatrix4(ad),null!==n.boundingBox&&!1===sd.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,sd)}}_computeIntersections(e,t,n){let i;const r=this.geometry,o=this.material,a=r.index,s=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,h=r.drawRange;if(null!==a)if(Array.isArray(o))for(let r=0,s=d.length;r<s;r++){const s=d[r],p=o[s.materialIndex];for(let r=Math.max(s.start,h.start),o=Math.min(a.count,Math.min(s.start+s.count,h.start+h.count));r<o;r+=3){i=Sd(this,p,e,n,l,c,u,a.getX(r),a.getX(r+1),a.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=s.materialIndex,t.push(i))}}else{for(let r=Math.max(0,h.start),s=Math.min(a.count,h.start+h.count);r<s;r+=3){i=Sd(this,o,e,n,l,c,u,a.getX(r),a.getX(r+1),a.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}else if(void 0!==s)if(Array.isArray(o))for(let r=0,a=d.length;r<a;r++){const a=d[r],p=o[a.materialIndex];for(let r=Math.max(a.start,h.start),o=Math.min(s.count,Math.min(a.start+a.count,h.start+h.count));r<o;r+=3){i=Sd(this,p,e,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=a.materialIndex,t.push(i))}}else{for(let r=Math.max(0,h.start),a=Math.min(s.count,h.start+h.count);r<a;r+=3){i=Sd(this,o,e,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}}}function Sd(e,t,n,i,r,o,a,s,l,c){e.getVertexPosition(s,ud),e.getVertexPosition(l,dd),e.getVertexPosition(c,hd);const u=function(e,t,n,i,r,o,a,s){let l;if(l=1===t.side?i.intersectTriangle(a,o,r,!0,s):i.intersectTriangle(r,o,a,0===t.side,s),null===l)return null;xd.copy(s),xd.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(xd);return c<n.near||c>n.far?null:{distance:c,point:xd.clone(),object:e}}(e,t,n,i,ud,dd,hd,_d);if(u){r&&(md.fromBufferAttribute(r,s),gd.fromBufferAttribute(r,l),vd.fromBufferAttribute(r,c),u.uv=Ou.getInterpolation(_d,ud,dd,hd,md,gd,vd,new Kl)),o&&(md.fromBufferAttribute(o,s),gd.fromBufferAttribute(o,l),vd.fromBufferAttribute(o,c),u.uv1=Ou.getInterpolation(_d,ud,dd,hd,md,gd,vd,new Kl),u.uv2=u.uv1),a&&(yd.fromBufferAttribute(a,s),bd.fromBufferAttribute(a,l),wd.fromBufferAttribute(a,c),u.normal=Ou.getInterpolation(_d,ud,dd,hd,yd,bd,wd,new Tc),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const e={a:s,b:l,c:c,normal:new Tc,materialIndex:0};Ou.getNormal(ud,dd,hd,e.normal),u.face=e}return u}class Ed extends od{constructor(e=1,t=1,n=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const a=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const s=[],l=[],c=[],u=[];let d=0,h=0;function p(e,t,n,i,r,o,p,f,m,g,v){const y=o/m,b=p/g,w=o/2,_=p/2,x=f/2,T=m+1,S=g+1;let E=0,M=0;const A=new Tc;for(let o=0;o<S;o++){const a=o*b-_;for(let s=0;s<T;s++){const d=s*y-w;A[e]=d*i,A[t]=a*r,A[n]=x,l.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=f>0?1:-1,c.push(A.x,A.y,A.z),u.push(s/m),u.push(1-o/g),E+=1}}for(let e=0;e<g;e++)for(let t=0;t<m;t++){const n=d+t+T*e,i=d+t+T*(e+1),r=d+(t+1)+T*(e+1),o=d+(t+1)+T*e;s.push(n,i,o),s.push(i,r,o),M+=6}a.addGroup(h,M,v),h+=M,d+=E}p("z","y","x",-1,-1,n,t,e,o,r,0),p("z","y","x",1,-1,n,t,-e,o,r,1),p("x","z","y",1,1,e,n,t,i,o,2),p("x","z","y",1,-1,e,n,-t,i,o,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(s),this.setAttribute("position",new Ku(l,3)),this.setAttribute("normal",new Ku(c,3)),this.setAttribute("uv",new Ku(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ed(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Md(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][i]=null):t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Ad(e){const t={};for(let n=0;n<e.length;n++){const i=Md(e[n]);for(const e in i)t[e]=i[e]}return t}function Cd(e){return null===e.getRenderTarget()?e.outputColorSpace:Dl}const kd={clone:Md,merge:Ad};class Pd extends Fu{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Md(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Dd extends Su{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qc,this.projectionMatrix=new Qc,this.projectionMatrixInverse=new Qc,this.coordinateSystem=Nl}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Rd extends Dd{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Vl*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*zl*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Vl*Math.atan(Math.tan(.5*zl*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*zl*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,a=o.fullHeight;r+=o.offsetX*i/e,t-=o.offsetY*n/a,i*=o.width/e,n*=o.height/a}const a=this.filmOffset;0!==a&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const $d=-90;class Id extends Su{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null;const i=new Rd($d,1,e,t);i.layers=this.layers,this.add(i);const r=new Rd($d,1,e,t);r.layers=this.layers,this.add(r);const o=new Rd($d,1,e,t);o.layers=this.layers,this.add(o);const a=new Rd($d,1,e,t);a.layers=this.layers,this.add(a);const s=new Rd($d,1,e,t);s.layers=this.layers,this.add(s);const l=new Rd($d,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,r,o,a,s]=t;for(const e of t)this.remove(e);if(e===Nl)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==Fl)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const e of t)this.add(e),e.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,r,o,a,s,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class Ld extends vc{constructor(e,t,n,i,r,o,a,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:Zs,n,i,r,o,a,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Od extends bc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];void 0!==t.encoding&&(ic("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Cl?Pl:kl),this.texture=new Ld(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:ol}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},i=new Ed(5,5,5),r=new Pd({name:"CubemapFromEquirect",uniforms:Md(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=t;const o=new Td(i,r),a=t.minFilter;t.minFilter===al&&(t.minFilter=ol);return new Id(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){const r=e.getRenderTarget();for(let r=0;r<6;r++)e.setRenderTarget(this,r),e.clear(t,n,i);e.setRenderTarget(r)}}const Nd=new Tc,Fd=new Tc,Bd=new Jl;class Ud{constructor(e=new Tc(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=Nd.subVectors(n,t).cross(Fd.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Nd),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Bd.getNormalMatrix(e),i=this.coplanarPoint(Nd).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const zd=new jc,Vd=new Tc;class Hd{constructor(e=new Ud,t=new Ud,n=new Ud,i=new Ud,r=new Ud,o=new Ud){this.planes=[e,t,n,i,r,o]}set(e,t,n,i,r,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=2e3){const n=this.planes,i=e.elements,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],c=i[5],u=i[6],d=i[7],h=i[8],p=i[9],f=i[10],m=i[11],g=i[12],v=i[13],y=i[14],b=i[15];if(n[0].setComponents(s-r,d-l,m-h,b-g).normalize(),n[1].setComponents(s+r,d+l,m+h,b+g).normalize(),n[2].setComponents(s+o,d+c,m+p,b+v).normalize(),n[3].setComponents(s-o,d-c,m-p,b-v).normalize(),n[4].setComponents(s-a,d-u,m-f,b-y).normalize(),t===Nl)n[5].setComponents(s+a,d+u,m+f,b+y).normalize();else{if(t!==Fl)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,u,f,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),zd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),zd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(zd)}intersectsSprite(e){return zd.center.set(0,0,0),zd.radius=.7071067811865476,zd.applyMatrix4(e.matrixWorld),this.intersectsSphere(zd)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let e=0;e<6;e++){if(t[e].distanceToPoint(n)<i)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Vd.x=i.normal.x>0?e.max.x:e.min.x,Vd.y=i.normal.y>0?e.max.y:e.min.y,Vd.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Vd)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function jd(){let e=null,t=!1,n=null,i=null;function r(t,o){n(t,o),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Wd(e,t){const n=t.isWebGL2,i=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))},update:function(t,r){if(t.isGLBufferAttribute){const e=i.get(t);return void((!e||e.version<t.version)&&i.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const o=i.get(t);void 0===o?i.set(t,function(t,i){const r=t.array,o=t.usage,a=e.createBuffer();let s;if(e.bindBuffer(i,a),e.bufferData(i,r,o),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if(r instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=e.HALF_FLOAT}else s=e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);s=e.UNSIGNED_BYTE}return{buffer:a,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,r)):o.version<t.version&&(!function(t,i,r){const o=i.array,a=i.updateRange;e.bindBuffer(r,t),-1===a.count?e.bufferSubData(r,0,o):(n?e.bufferSubData(r,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(r,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1),i.onUploadCallback()}(o.buffer,t,r),o.version=t.version)}}}class Gd extends od{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,o=t/2,a=Math.floor(n),s=Math.floor(i),l=a+1,c=s+1,u=e/a,d=t/s,h=[],p=[],f=[],m=[];for(let e=0;e<c;e++){const t=e*d-o;for(let n=0;n<l;n++){const i=n*u-r;p.push(i,-t,0),f.push(0,0,1),m.push(n/a),m.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<a;t++){const n=t+l*e,i=t+l*(e+1),r=t+1+l*(e+1),o=t+1+l*e;h.push(n,i,o),h.push(i,r,o)}this.setIndex(h),this.setAttribute("position",new Ku(p,3)),this.setAttribute("normal",new Ku(f,3)),this.setAttribute("uv",new Ku(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gd(e.width,e.height,e.widthSegments,e.heightSegments)}}const qd={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Zd={common:{diffuse:{value:new Hu(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Jl},alphaMap:{value:null},alphaMapTransform:{value:new Jl},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Jl}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Jl}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Jl}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Jl},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Jl},normalScale:{value:new Kl(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Jl},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Jl}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Jl}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Jl}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Hu(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Hu(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Jl},alphaTest:{value:0},uvTransform:{value:new Jl}},sprite:{diffuse:{value:new Hu(16777215)},opacity:{value:1},center:{value:new Kl(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Jl},alphaMap:{value:null},alphaMapTransform:{value:new Jl},alphaTest:{value:0}}},Xd={basic:{uniforms:Ad([Zd.common,Zd.specularmap,Zd.envmap,Zd.aomap,Zd.lightmap,Zd.fog]),vertexShader:qd.meshbasic_vert,fragmentShader:qd.meshbasic_frag},lambert:{uniforms:Ad([Zd.common,Zd.specularmap,Zd.envmap,Zd.aomap,Zd.lightmap,Zd.emissivemap,Zd.bumpmap,Zd.normalmap,Zd.displacementmap,Zd.fog,Zd.lights,{emissive:{value:new Hu(0)}}]),vertexShader:qd.meshlambert_vert,fragmentShader:qd.meshlambert_frag},phong:{uniforms:Ad([Zd.common,Zd.specularmap,Zd.envmap,Zd.aomap,Zd.lightmap,Zd.emissivemap,Zd.bumpmap,Zd.normalmap,Zd.displacementmap,Zd.fog,Zd.lights,{emissive:{value:new Hu(0)},specular:{value:new Hu(1118481)},shininess:{value:30}}]),vertexShader:qd.meshphong_vert,fragmentShader:qd.meshphong_frag},standard:{uniforms:Ad([Zd.common,Zd.envmap,Zd.aomap,Zd.lightmap,Zd.emissivemap,Zd.bumpmap,Zd.normalmap,Zd.displacementmap,Zd.roughnessmap,Zd.metalnessmap,Zd.fog,Zd.lights,{emissive:{value:new Hu(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:qd.meshphysical_vert,fragmentShader:qd.meshphysical_frag},toon:{uniforms:Ad([Zd.common,Zd.aomap,Zd.lightmap,Zd.emissivemap,Zd.bumpmap,Zd.normalmap,Zd.displacementmap,Zd.gradientmap,Zd.fog,Zd.lights,{emissive:{value:new Hu(0)}}]),vertexShader:qd.meshtoon_vert,fragmentShader:qd.meshtoon_frag},matcap:{uniforms:Ad([Zd.common,Zd.bumpmap,Zd.normalmap,Zd.displacementmap,Zd.fog,{matcap:{value:null}}]),vertexShader:qd.meshmatcap_vert,fragmentShader:qd.meshmatcap_frag},points:{uniforms:Ad([Zd.points,Zd.fog]),vertexShader:qd.points_vert,fragmentShader:qd.points_frag},dashed:{uniforms:Ad([Zd.common,Zd.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qd.linedashed_vert,fragmentShader:qd.linedashed_frag},depth:{uniforms:Ad([Zd.common,Zd.displacementmap]),vertexShader:qd.depth_vert,fragmentShader:qd.depth_frag},normal:{uniforms:Ad([Zd.common,Zd.bumpmap,Zd.normalmap,Zd.displacementmap,{opacity:{value:1}}]),vertexShader:qd.meshnormal_vert,fragmentShader:qd.meshnormal_frag},sprite:{uniforms:Ad([Zd.sprite,Zd.fog]),vertexShader:qd.sprite_vert,fragmentShader:qd.sprite_frag},background:{uniforms:{uvTransform:{value:new Jl},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:qd.background_vert,fragmentShader:qd.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:qd.backgroundCube_vert,fragmentShader:qd.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:qd.cube_vert,fragmentShader:qd.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qd.equirect_vert,fragmentShader:qd.equirect_frag},distanceRGBA:{uniforms:Ad([Zd.common,Zd.displacementmap,{referencePosition:{value:new Tc},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qd.distanceRGBA_vert,fragmentShader:qd.distanceRGBA_frag},shadow:{uniforms:Ad([Zd.lights,Zd.fog,{color:{value:new Hu(0)},opacity:{value:1}}]),vertexShader:qd.shadow_vert,fragmentShader:qd.shadow_frag}};Xd.physical={uniforms:Ad([Xd.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Jl},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Jl},clearcoatNormalScale:{value:new Kl(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Jl},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Jl},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Jl},sheen:{value:0},sheenColor:{value:new Hu(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Jl},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Jl},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Jl},transmissionSamplerSize:{value:new Kl},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Jl},attenuationDistance:{value:0},attenuationColor:{value:new Hu(0)},specularColor:{value:new Hu(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Jl},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Jl},anisotropyVector:{value:new Kl},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Jl}}]),vertexShader:qd.meshphysical_vert,fragmentShader:qd.meshphysical_frag};const Yd={r:0,b:0,g:0};function Kd(e,t,n,i,r,o,a){const s=new Hu(0);let l,c,u=!0===o?0:1,d=null,h=0,p=null;function f(t,n){t.getRGB(Yd,Cd(e)),i.buffers.color.setClear(Yd.r,Yd.g,Yd.b,n,a)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),u=t,f(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,f(s,u)},render:function(o,m){let g=!1,v=!0===m.isScene?m.background:null;if(v&&v.isTexture){v=(m.backgroundBlurriness>0?n:t).get(v)}switch(null===v?f(s,u):v&&v.isColor&&(f(v,1),g=!0),e.xr.getEnvironmentBlendMode()){case"opaque":g=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,a),g=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,a),g=!0}(e.autoClear||g)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.mapping===Js)?(void 0===c&&(c=new Td(new Ed(1,1,1),new Pd({name:"BackgroundCubeMaterial",uniforms:Md(Xd.backgroundCube.uniforms),vertexShader:Xd.backgroundCube.vertexShader,fragmentShader:Xd.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=v,c.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,c.material.toneMapped=v.colorSpace!==Pl,d===v&&h===v.version&&p===e.toneMapping||(c.material.needsUpdate=!0,d=v,h=v.version,p=e.toneMapping),c.layers.enableAll(),o.unshift(c,c.geometry,c.material,0,0,null)):v&&v.isTexture&&(void 0===l&&(l=new Td(new Gd(2,2),new Pd({name:"BackgroundMaterial",uniforms:Md(Xd.background.uniforms),vertexShader:Xd.background.vertexShader,fragmentShader:Xd.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=v,l.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,l.material.toneMapped=v.colorSpace!==Pl,!0===v.matrixAutoUpdate&&v.updateMatrix(),l.material.uniforms.uvTransform.value.copy(v.matrix),d===v&&h===v.version&&p===e.toneMapping||(l.material.needsUpdate=!0,d=v,h=v.version,p=e.toneMapping),l.layers.enableAll(),o.unshift(l,l.geometry,l.material,0,0,null))}}}function Jd(e,t,n,i){const r=e.getParameter(e.MAX_VERTEX_ATTRIBS),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),a=i.isWebGL2||null!==o,s={},l=p(null);let c=l,u=!1;function d(t){return i.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function h(t){return i.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function p(e){const t=[],n=[],i=[];for(let e=0;e<r;e++)t[e]=0,n[e]=0,i[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:i,object:e,attributes:{},index:null}}function f(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function m(e){g(e,0)}function g(n,r){const o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;if(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==r){(i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),s[n]=r}}function v(){const t=c.newAttributes,n=c.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function y(t,n,i,r,o,a,s){!0===s?e.vertexAttribIPointer(t,n,i,o,a):e.vertexAttribPointer(t,n,i,r,o,a)}function b(){w(),u=!0,c!==l&&(c=l,d(c.object))}function w(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,h,b,w){let _=!1;if(a){const t=function(t,n,r){const a=!0===r.wireframe;let l=s[t.id];void 0===l&&(l={},s[t.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[a];void 0===u&&(u=p(i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),c[a]=u);return u}(b,h,l);c!==t&&(c=t,d(c.object)),_=function(e,t,n,i){const r=c.attributes,o=t.attributes;let a=0;const s=n.getAttributes();for(const t in s){if(s[t].location>=0){const n=r[t];let i=o[t];if(void 0===i&&("instanceMatrix"===t&&e.instanceMatrix&&(i=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(i=e.instanceColor)),void 0===n)return!0;if(n.attribute!==i)return!0;if(i&&n.data!==i.data)return!0;a++}}return c.attributesNum!==a||c.index!==i}(r,b,h,w),_&&function(e,t,n,i){const r={},o=t.attributes;let a=0;const s=n.getAttributes();for(const t in s){if(s[t].location>=0){let n=o[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));const i={};i.attribute=n,n&&n.data&&(i.data=n.data),r[t]=i,a++}}c.attributes=r,c.attributesNum=a,c.index=i}(r,b,h,w)}else{const e=!0===l.wireframe;c.geometry===b.id&&c.program===h.id&&c.wireframe===e||(c.geometry=b.id,c.program=h.id,c.wireframe=e,_=!0)}null!==w&&n.update(w,e.ELEMENT_ARRAY_BUFFER),(_||u)&&(u=!1,function(r,o,a,s){if(!1===i.isWebGL2&&(r.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;f();const l=s.attributes,c=a.getAttributes(),u=o.defaultAttributeValues;for(const t in c){const o=c[t];if(o.location>=0){let a=l[t];if(void 0===a&&("instanceMatrix"===t&&r.instanceMatrix&&(a=r.instanceMatrix),"instanceColor"===t&&r.instanceColor&&(a=r.instanceColor)),void 0!==a){const t=a.normalized,l=a.itemSize,c=n.get(a);if(void 0===c)continue;const u=c.buffer,d=c.type,h=c.bytesPerElement,p=!0===i.isWebGL2&&(d===e.INT||d===e.UNSIGNED_INT||a.gpuType===cl);if(a.isInterleavedBufferAttribute){const n=a.data,i=n.stride,c=a.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<o.locationSize;e++)g(o.location+e,n.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<o.locationSize;e++)m(o.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<o.locationSize;e++)y(o.location+e,l/o.locationSize,d,t,i*h,(c+l/o.locationSize*e)*h,p)}else{if(a.isInstancedBufferAttribute){for(let e=0;e<o.locationSize;e++)g(o.location+e,a.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let e=0;e<o.locationSize;e++)m(o.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<o.locationSize;e++)y(o.location+e,l/o.locationSize,d,t,l*h,l/o.locationSize*e*h,p)}}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(o.location,n);break;case 3:e.vertexAttrib3fv(o.location,n);break;case 4:e.vertexAttrib4fv(o.location,n);break;default:e.vertexAttrib1fv(o.location,n)}}}}v()}(r,l,h,b),null!==w&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(w).buffer))},reset:b,resetDefaultState:w,dispose:function(){b();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)h(i[e].object),delete i[e];delete n[e.id]}},initAttributes:f,enableAttribute:m,disableUnusedAttributes:v}}function Qd(e,t,n,i){const r=i.isWebGL2;let o;this.setMode=function(e){o=e},this.render=function(t,i){e.drawArrays(o,t,i),n.update(i,o,1)},this.renderInstances=function(i,a,s){if(0===s)return;let l,c;if(r)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,i,a,s),n.update(a,o,s)}}function eh(e,t,n){let i;function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name;let a=void 0!==n.precision?n.precision:"highp";const s=r(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const l=o||t.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_TEXTURE_SIZE),p=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),f=e.getParameter(e.MAX_VERTEX_ATTRIBS),m=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),g=e.getParameter(e.MAX_VARYING_VECTORS),v=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),y=d>0,b=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:o?e.getParameter(e.MAX_SAMPLES):0}}function th(e){const t=this;let n=null,i=0,r=!1,o=!1;const a=new Ud,s=new Jl,l={value:null,needsUpdate:!1};function c(e,n,i,r){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==r||null===c){const t=i+4*o,r=n.matrixWorldInverse;s.getNormalMatrix(r),(null===c||c.length<t)&&(c=new Float32Array(t));for(let t=0,n=i;t!==o;++t,n+=4)a.copy(e[t]).applyMatrix4(r,s),a.normal.toArray(c,n),c[n+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==i||r;return r=t,i=e.length,n},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(a,s,u){const d=a.clippingPlanes,h=a.clipIntersection,p=a.clipShadows,f=e.get(a);if(!r||null===d||0===d.length||o&&!p)o?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=i>0);t.numPlanes=i,t.numIntersection=0}();else{const e=o?0:i,t=4*e;let r=f.clippingState||null;l.value=r,r=c(d,s,t,u);for(let e=0;e!==t;++e)r[e]=n[e];f.clippingState=r,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function nh(e){let t=new WeakMap;function n(e,t){return t===Ys?e.mapping=Zs:t===Ks&&(e.mapping=Xs),e}function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){const o=r.mapping;if(o===Ys||o===Ks){if(t.has(r)){return n(t.get(r).texture,r.mapping)}{const o=r.image;if(o&&o.height>0){const a=new Od(o.height/2);return a.fromEquirectangularTexture(e,r),t.set(r,a),r.addEventListener("dispose",i),n(a.texture,r.mapping)}return null}}}return r},dispose:function(){t=new WeakMap}}}class ih extends Dd{constructor(e=-1,t=1,n=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,o=n+e,a=i+t,s=i-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,o=r+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const rh=[.125,.215,.35,.446,.526,.582],oh=20,ah=new ih,sh=new Hu;let lh=null;const ch=(1+Math.sqrt(5))/2,uh=1/ch,dh=[new Tc(1,1,1),new Tc(-1,1,1),new Tc(1,1,-1),new Tc(-1,1,-1),new Tc(0,ch,uh),new Tc(0,ch,-uh),new Tc(uh,0,ch),new Tc(-uh,0,ch),new Tc(ch,uh,0),new Tc(-ch,uh,0)];class hh{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){lh=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=gh(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=mh(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(lh),e.scissorTest=!1,fh(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Zs||e.mapping===Xs?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),lh=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ol,minFilter:ol,generateMipmaps:!1,type:hl,format:fl,colorSpace:Dl,depthBuffer:!1},i=ph(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=ph(e,t,n);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],i=[];let r=e;const o=e-4+1+rh.length;for(let a=0;a<o;a++){const o=Math.pow(2,r);n.push(o);let s=1/o;a>e-4?s=rh[a-e+4-1]:0===a&&(s=0),i.push(s);const l=1/(o-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,p=6,f=3,m=2,g=1,v=new Float32Array(f*p*h),y=new Float32Array(m*p*h),b=new Float32Array(g*p*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(i,f*p*e),y.set(d,m*p*e);const r=[e,e,e,e,e,e];b.set(r,g*p*e)}const w=new od;w.setAttribute("position",new Zu(v,f)),w.setAttribute("uv",new Zu(y,m)),w.setAttribute("faceIndex",new Zu(b,g)),t.push(w),r>4&&r--}return{lodPlanes:t,sizeLods:n,sigmas:i}}(i)),this._blurMaterial=function(e,t,n){const i=new Float32Array(oh),r=new Tc(0,1,0);return new Pd({name:"SphericalGaussianBlur",defines:{n:oh,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:vh(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(i,e,t)}return i}_compileMaterial(e){const t=new Td(this._lodPlanes[0],e);this._renderer.compile(t,ah)}_sceneToCubeUV(e,t,n,i){const r=new Rd(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(sh),s.toneMapping=0,s.autoClear=!1;const u=new Wu({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new Td(new Ed,u);let h=!1;const p=e.background;p?p.isColor&&(u.color.copy(p),e.background=null,h=!0):(u.color.copy(sh),h=!0);for(let t=0;t<6;t++){const n=t%3;0===n?(r.up.set(0,o[t],0),r.lookAt(a[t],0,0)):1===n?(r.up.set(0,0,o[t]),r.lookAt(0,a[t],0)):(r.up.set(0,o[t],0),r.lookAt(0,0,a[t]));const l=this._cubeSize;fh(i,n*l,t>2?l:0,l,l),s.setRenderTarget(i),h&&s.render(d,r),s.render(e,r)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=p}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Zs||e.mapping===Xs;i?(null===this._cubemapMaterial&&(this._cubemapMaterial=gh()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=mh());const r=i?this._cubemapMaterial:this._equirectMaterial,o=new Td(this._lodPlanes[0],r);r.uniforms.envMap.value=e;const a=this._cubeSize;fh(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,ah)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let t=1;t<this._lodPlanes.length;t++){const n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),i=dh[(t-1)%dh.length];this._blur(e,t-1,t,n,i)}t.autoClear=n}_blur(e,t,n,i,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",r),this._halfBlur(o,e,n,n,i,"longitudinal",r)}_halfBlur(e,t,n,i,r,o,a){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new Td(this._lodPlanes[i],l),u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(r)?Math.PI/(2*d):2*Math.PI/39,p=r/h,f=isFinite(r)?1+Math.floor(3*p):oh;f>oh&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${f} samples when the maximum is set to 20`);const m=[];let g=0;for(let e=0;e<oh;++e){const t=e/p,n=Math.exp(-t*t/2);m.push(n),0===e?g+=n:e<f&&(g+=2*n)}for(let e=0;e<m.length;e++)m[e]=m[e]/g;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a);const{_lodMax:v}=this;u.dTheta.value=h,u.mipInt.value=v-n;const y=this._sizeLods[i];fh(t,3*y*(i>v-4?i-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,ah)}}function ph(e,t,n){const i=new bc(e,t,n);return i.texture.mapping=Js,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function fh(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function mh(){return new Pd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:vh(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function gh(){return new Pd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:vh(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function vh(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function yh(e){let t=new WeakMap,n=null;function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping,a=o===Ys||o===Ks,s=o===Zs||o===Xs;if(a||s){if(r.isRenderTargetTexture&&!0===r.needsPMREMUpdate){r.needsPMREMUpdate=!1;let i=t.get(r);return null===n&&(n=new hh(e)),i=a?n.fromEquirectangular(r,i):n.fromCubemap(r,i),t.set(r,i),i.texture}if(t.has(r))return t.get(r).texture;{const o=r.image;if(a&&o&&o.height>0||s&&o&&function(e){let t=0;const n=6;for(let i=0;i<n;i++)void 0!==e[i]&&t++;return t===n}(o)){null===n&&(n=new hh(e));const o=a?n.fromEquirectangular(r):n.fromCubemap(r);return t.set(r,o),r.addEventListener("dispose",i),o.texture}return null}}}return r},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function bh(e){const t={};function n(n){if(void 0!==t[n])return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function wh(e,t,n,i){const r={},o=new WeakMap;function a(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);for(const e in s.morphAttributes){const n=s.morphAttributes[e];for(let e=0,i=n.length;e<i;e++)t.remove(n[e])}s.removeEventListener("dispose",a),delete r[s.id];const l=o.get(s);l&&(t.remove(l),o.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],i=e.index,r=e.attributes.position;let a=0;if(null!==i){const e=i.array;a=i.version;for(let t=0,i=e.length;t<i;t+=3){const i=e[t+0],r=e[t+1],o=e[t+2];n.push(i,r,r,o,o,i)}}else{const e=r.array;a=r.version;for(let t=0,i=e.length/3-1;t<i;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}const s=new(ec(n)?Yu:Xu)(n,1);s.version=a;const l=o.get(e);l&&t.remove(l),o.set(e,s)}return{get:function(e,t){return!0===r[t.id]||(t.addEventListener("dispose",a),r[t.id]=!0,n.memory.geometries++),t},update:function(n){const i=n.attributes;for(const n in i)t.update(i[n],e.ARRAY_BUFFER);const r=n.morphAttributes;for(const n in r){const i=r[n];for(let n=0,r=i.length;n<r;n++)t.update(i[n],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function _h(e,t,n,i){const r=i.isWebGL2;let o,a,s;this.setMode=function(e){o=e},this.setIndex=function(e){a=e.type,s=e.bytesPerElement},this.render=function(t,i){e.drawElements(o,i,a,t*s),n.update(i,o,1)},this.renderInstances=function(i,l,c){if(0===c)return;let u,d;if(r)u=e,d="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[d](o,l,a,i*s,c),n.update(l,o,c)}}function xh(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,i,r){switch(t.calls++,i){case e.TRIANGLES:t.triangles+=r*(n/3);break;case e.LINES:t.lines+=r*(n/2);break;case e.LINE_STRIP:t.lines+=r*(n-1);break;case e.LINE_LOOP:t.lines+=r*n;break;case e.POINTS:t.points+=r*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function Th(e,t){return e[0]-t[0]}function Sh(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Eh(e,t,n){const i={},r=new Float32Array(8),o=new WeakMap,a=new yc,s=[];for(let e=0;e<8;e++)s[e]=[e,0];return{update:function(l,c,u){const d=l.morphTargetInfluences;if(!0===t.isWebGL2){const h=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,p=void 0!==h?h.length:0;let f=o.get(c);if(void 0===f||f.count!==p){void 0!==f&&f.texture.dispose();const v=void 0!==c.morphAttributes.position,y=void 0!==c.morphAttributes.normal,b=void 0!==c.morphAttributes.color,w=c.morphAttributes.position||[],_=c.morphAttributes.normal||[],x=c.morphAttributes.color||[];let T=0;!0===v&&(T=1),!0===y&&(T=2),!0===b&&(T=3);let S=c.attributes.position.count*T,E=1;S>t.maxTextureSize&&(E=Math.ceil(S/t.maxTextureSize),S=t.maxTextureSize);const M=new Float32Array(S*E*4*p),A=new wc(M,S,E,p);A.type=dl,A.needsUpdate=!0;const C=4*T;for(let P=0;P<p;P++){const D=w[P],R=_[P],$=x[P],I=S*E*4*P;for(let L=0;L<D.count;L++){const O=L*C;!0===v&&(a.fromBufferAttribute(D,L),M[I+O+0]=a.x,M[I+O+1]=a.y,M[I+O+2]=a.z,M[I+O+3]=0),!0===y&&(a.fromBufferAttribute(R,L),M[I+O+4]=a.x,M[I+O+5]=a.y,M[I+O+6]=a.z,M[I+O+7]=0),!0===b&&(a.fromBufferAttribute($,L),M[I+O+8]=a.x,M[I+O+9]=a.y,M[I+O+10]=a.z,M[I+O+11]=4===$.itemSize?a.w:1)}}function k(){A.dispose(),o.delete(c),c.removeEventListener("dispose",k)}f={count:p,texture:A,size:new Kl(S,E)},o.set(c,f),c.addEventListener("dispose",k)}let m=0;for(let N=0;N<d.length;N++)m+=d[N];const g=c.morphTargetsRelative?1:1-m;u.getUniforms().setValue(e,"morphTargetBaseInfluence",g),u.getUniforms().setValue(e,"morphTargetInfluences",d),u.getUniforms().setValue(e,"morphTargetsTexture",f.texture,n),u.getUniforms().setValue(e,"morphTargetsTextureSize",f.size)}else{const F=void 0===d?0:d.length;let B=i[c.id];if(void 0===B||B.length!==F){B=[];for(let j=0;j<F;j++)B[j]=[j,0];i[c.id]=B}for(let W=0;W<F;W++){const G=B[W];G[0]=W,G[1]=d[W]}B.sort(Sh);for(let q=0;q<8;q++)q<F&&B[q][1]?(s[q][0]=B[q][0],s[q][1]=B[q][1]):(s[q][0]=Number.MAX_SAFE_INTEGER,s[q][1]=0);s.sort(Th);const U=c.morphAttributes.position,z=c.morphAttributes.normal;let V=0;for(let Z=0;Z<8;Z++){const X=s[Z],Y=X[0],K=X[1];Y!==Number.MAX_SAFE_INTEGER&&K?(U&&c.getAttribute("morphTarget"+Z)!==U[Y]&&c.setAttribute("morphTarget"+Z,U[Y]),z&&c.getAttribute("morphNormal"+Z)!==z[Y]&&c.setAttribute("morphNormal"+Z,z[Y]),r[Z]=K,V+=K):(U&&!0===c.hasAttribute("morphTarget"+Z)&&c.deleteAttribute("morphTarget"+Z),z&&!0===c.hasAttribute("morphNormal"+Z)&&c.deleteAttribute("morphNormal"+Z),r[Z]=0)}const H=c.morphTargetsRelative?1:1-V;u.getUniforms().setValue(e,"morphTargetBaseInfluence",H),u.getUniforms().setValue(e,"morphTargetInfluences",r)}}}}function Mh(e,t,n,i){let r=new WeakMap;function o(e){const t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(a){const s=i.render.frame,l=a.geometry,c=t.get(a,l);return r.get(c)!==s&&(t.update(c),r.set(c,s)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",o)&&a.addEventListener("dispose",o),n.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,e.ARRAY_BUFFER)),c},dispose:function(){r=new WeakMap}}}const Ah=new vc,Ch=new wc,kh=new _c,Ph=new Ld,Dh=[],Rh=[],$h=new Float32Array(16),Ih=new Float32Array(9),Lh=new Float32Array(4);function Oh(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let o=Dh[r];if(void 0===o&&(o=new Float32Array(r),Dh[r]=o),0!==t){i.toArray(o,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(o,r)}return o}function Nh(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Fh(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function Bh(e,t){let n=Rh[t];void 0===n&&(n=new Int32Array(t),Rh[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Uh(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function zh(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Nh(n,t))return;e.uniform2fv(this.addr,t),Fh(n,t)}}function Vh(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Nh(n,t))return;e.uniform3fv(this.addr,t),Fh(n,t)}}function Hh(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Nh(n,t))return;e.uniform4fv(this.addr,t),Fh(n,t)}}function jh(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Nh(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Fh(n,t)}else{if(Nh(n,i))return;Lh.set(i),e.uniformMatrix2fv(this.addr,!1,Lh),Fh(n,i)}}function Wh(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Nh(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Fh(n,t)}else{if(Nh(n,i))return;Ih.set(i),e.uniformMatrix3fv(this.addr,!1,Ih),Fh(n,i)}}function Gh(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Nh(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Fh(n,t)}else{if(Nh(n,i))return;$h.set(i),e.uniformMatrix4fv(this.addr,!1,$h),Fh(n,i)}}function qh(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Zh(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Nh(n,t))return;e.uniform2iv(this.addr,t),Fh(n,t)}}function Xh(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Nh(n,t))return;e.uniform3iv(this.addr,t),Fh(n,t)}}function Yh(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Nh(n,t))return;e.uniform4iv(this.addr,t),Fh(n,t)}}function Kh(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Jh(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Nh(n,t))return;e.uniform2uiv(this.addr,t),Fh(n,t)}}function Qh(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Nh(n,t))return;e.uniform3uiv(this.addr,t),Fh(n,t)}}function ep(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Nh(n,t))return;e.uniform4uiv(this.addr,t),Fh(n,t)}}function tp(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(t||Ah,r)}function np(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||kh,r)}function ip(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(t||Ph,r)}function rp(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Ch,r)}function op(e,t){e.uniform1fv(this.addr,t)}function ap(e,t){const n=Oh(t,this.size,2);e.uniform2fv(this.addr,n)}function sp(e,t){const n=Oh(t,this.size,3);e.uniform3fv(this.addr,n)}function lp(e,t){const n=Oh(t,this.size,4);e.uniform4fv(this.addr,n)}function cp(e,t){const n=Oh(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function up(e,t){const n=Oh(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function dp(e,t){const n=Oh(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function hp(e,t){e.uniform1iv(this.addr,t)}function pp(e,t){e.uniform2iv(this.addr,t)}function fp(e,t){e.uniform3iv(this.addr,t)}function mp(e,t){e.uniform4iv(this.addr,t)}function gp(e,t){e.uniform1uiv(this.addr,t)}function vp(e,t){e.uniform2uiv(this.addr,t)}function yp(e,t){e.uniform3uiv(this.addr,t)}function bp(e,t){e.uniform4uiv(this.addr,t)}function wp(e,t,n){const i=this.cache,r=t.length,o=Bh(n,r);Nh(i,o)||(e.uniform1iv(this.addr,o),Fh(i,o));for(let e=0;e!==r;++e)n.setTexture2D(t[e]||Ah,o[e])}function _p(e,t,n){const i=this.cache,r=t.length,o=Bh(n,r);Nh(i,o)||(e.uniform1iv(this.addr,o),Fh(i,o));for(let e=0;e!==r;++e)n.setTexture3D(t[e]||kh,o[e])}function xp(e,t,n){const i=this.cache,r=t.length,o=Bh(n,r);Nh(i,o)||(e.uniform1iv(this.addr,o),Fh(i,o));for(let e=0;e!==r;++e)n.setTextureCube(t[e]||Ph,o[e])}function Tp(e,t,n){const i=this.cache,r=t.length,o=Bh(n,r);Nh(i,o)||(e.uniform1iv(this.addr,o),Fh(i,o));for(let e=0;e!==r;++e)n.setTexture2DArray(t[e]||Ch,o[e])}class Sp{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Uh;case 35664:return zh;case 35665:return Vh;case 35666:return Hh;case 35674:return jh;case 35675:return Wh;case 35676:return Gh;case 5124:case 35670:return qh;case 35667:case 35671:return Zh;case 35668:case 35672:return Xh;case 35669:case 35673:return Yh;case 5125:return Kh;case 36294:return Jh;case 36295:return Qh;case 36296:return ep;case 35678:case 36198:case 36298:case 36306:case 35682:return tp;case 35679:case 36299:case 36307:return np;case 35680:case 36300:case 36308:case 36293:return ip;case 36289:case 36303:case 36311:case 36292:return rp}}(t.type)}}class Ep{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return op;case 35664:return ap;case 35665:return sp;case 35666:return lp;case 35674:return cp;case 35675:return up;case 35676:return dp;case 5124:case 35670:return hp;case 35667:case 35671:return pp;case 35668:case 35672:return fp;case 35669:case 35673:return mp;case 5125:return gp;case 36294:return vp;case 36295:return yp;case 36296:return bp;case 35678:case 36198:case 36298:case 36306:case 35682:return wp;case 35679:case 36299:case 36307:return _p;case 35680:case 36300:case 36308:case 36293:return xp;case 36289:case 36303:case 36311:case 36292:return Tp}}(t.type)}}class Mp{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(e,t[o.id],n)}}}const Ap=/(\w+)(\])?(\[|\.)?/g;function Cp(e,t){e.seq.push(t),e.map[t.id]=t}function kp(e,t,n){const i=e.name,r=i.length;for(Ap.lastIndex=0;;){const o=Ap.exec(i),a=Ap.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===r){Cp(n,void 0===c?new Sp(s,e,t):new Ep(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new Mp(s),Cp(n,e)),n=e}}}class Pp{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const n=e.getActiveUniform(t,i);kp(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,i){const r=this.map[t];void 0!==r&&r.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){const o=t[r],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const r=e[i];r.id in t&&n.push(r)}return n}}function Dp(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let Rp=0;function $p(e,t,n){const i=e.getShaderParameter(t,e.COMPILE_STATUS),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const i=parseInt(o[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(e,t){const n=e.split("\n"),i=[],r=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let e=r;e<o;e++){const r=e+1;i.push(`${r===t?">":" "} ${r}: ${n[e]}`)}return i.join("\n")}(e.getShaderSource(t),i)}return r}function Ip(e,t){const n=function(e){switch(e){case Dl:return["Linear","( value )"];case Pl:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Lp(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Op(e){return""!==e}function Np(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Fp(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Bp=/^[ \t]*#include +<([\w\d./]+)>/gm;function Up(e){return e.replace(Bp,zp)}function zp(e,t){const n=qd[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Up(n)}const Vp=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Hp(e){return e.replace(Vp,jp)}function jp(e,t,n,i){let r="";for(let e=parseInt(t);e<parseInt(n);e++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return r}function Wp(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Gp(e,t,n,i){const r=e.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Zs:case Xs:t="ENVMAP_TYPE_CUBE";break;case Js:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Xs&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),p=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Op).join("\n")}(n),f=function(e){const t=[];for(const n in e){const i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(o),m=r.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(Op).join("\n"),g.length>0&&(g+="\n"),v=[p,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(Op).join("\n"),v.length>0&&(v+="\n")):(g=[Wp(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Op).join("\n"),v=[p,Wp(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?qd.tonemapping_pars_fragment:"",0!==n.toneMapping?Lp("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",qd.encodings_pars_fragment,Ip("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Op).join("\n")),a=Up(a),a=Np(a,n),a=Fp(a,n),s=Up(s),s=Np(s,n),s=Fp(s,n),a=Hp(a),s=Hp(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===Ll?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ll?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+g+a,w=y+v+s,_=Dp(r,r.VERTEX_SHADER,b),x=Dp(r,r.FRAGMENT_SHADER,w);if(r.attachShader(m,_),r.attachShader(m,x),void 0!==n.index0AttributeName?r.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),e.debug.checkShaderErrors){const t=r.getProgramInfoLog(m).trim(),n=r.getShaderInfoLog(_).trim(),i=r.getShaderInfoLog(x).trim();let o=!0,a=!0;if(!1===r.getProgramParameter(m,r.LINK_STATUS))if(o=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(r,m,_,x);else{const e=$p(r,_,"vertex"),n=$p(r,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+t+"\n"+e+"\n"+n)}else""!==t?console.warn("THREE.WebGLProgram: Program Info Log:",t):""!==n&&""!==i||(a=!1);a&&(this.diagnostics={runnable:o,programLog:t,vertexShader:{log:n,prefix:g},fragmentShader:{log:i,prefix:v}})}let T,S;return r.deleteShader(_),r.deleteShader(x),this.getUniforms=function(){return void 0===T&&(T=new Pp(r,m)),T},this.getAttributes=function(){return void 0===S&&(S=function(e,t){const n={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const i=e.getActiveAttrib(t,r),o=i.name;let a=1;i.type===e.FLOAT_MAT2&&(a=2),i.type===e.FLOAT_MAT3&&(a=3),i.type===e.FLOAT_MAT4&&(a=4),n[o]={type:i.type,location:e.getAttribLocation(t,o),locationSize:a}}return n}(r,m)),S},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Rp++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=_,this.fragmentShader=x,this}let qp=0;class Zp{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Xp(e),t.set(e,n)),n}}class Xp{constructor(e){this.id=qp++,this.code=e,this.usedTimes=0}}function Yp(e,t,n,i,r,o,a){const s=new uu,l=new Zp,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,h=r.vertexTextures;let p=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return 0===e?"uv":`uv${e}`}return{getParameters:function(o,s,c,g,v){const y=g.fog,b=v.geometry,w=o.isMeshStandardMaterial?g.environment:null,_=(o.isMeshStandardMaterial?n:t).get(o.envMap||w),x=_&&_.mapping===Js?_.image.height:null,T=f[o.type];null!==o.precision&&(p=r.getMaxPrecision(o.precision),p!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",p,"instead."));const S=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,E=void 0!==S?S.length:0;let M,A,C,k,P=0;if(void 0!==b.morphAttributes.position&&(P=1),void 0!==b.morphAttributes.normal&&(P=2),void 0!==b.morphAttributes.color&&(P=3),T){const e=Xd[T];M=e.vertexShader,A=e.fragmentShader}else M=o.vertexShader,A=o.fragmentShader,l.update(o),C=l.getVertexShaderID(o),k=l.getFragmentShaderID(o);const D=e.getRenderTarget(),R=!0===v.isInstancedMesh,$=!!o.map,I=!!o.matcap,L=!!_,O=!!o.aoMap,N=!!o.lightMap,F=!!o.bumpMap,B=!!o.normalMap,U=!!o.displacementMap,z=!!o.emissiveMap,V=!!o.metalnessMap,H=!!o.roughnessMap,j=o.anisotropy>0,W=o.clearcoat>0,G=o.iridescence>0,q=o.sheen>0,Z=o.transmission>0,X=j&&!!o.anisotropyMap,Y=W&&!!o.clearcoatMap,K=W&&!!o.clearcoatNormalMap,J=W&&!!o.clearcoatRoughnessMap,Q=G&&!!o.iridescenceMap,ee=G&&!!o.iridescenceThicknessMap,te=q&&!!o.sheenColorMap,ne=q&&!!o.sheenRoughnessMap,ie=!!o.specularMap,re=!!o.specularColorMap,oe=!!o.specularIntensityMap,ae=Z&&!!o.transmissionMap,se=Z&&!!o.thicknessMap,le=!!o.gradientMap,ce=!!o.alphaMap,ue=o.alphaTest>0,de=!!o.extensions,he=!!b.attributes.uv1,pe=!!b.attributes.uv2,fe=!!b.attributes.uv3;return{isWebGL2:u,shaderID:T,shaderType:o.type,shaderName:o.name,vertexShader:M,fragmentShader:A,defines:o.defines,customVertexShaderID:C,customFragmentShaderID:k,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:p,instancing:R,instancingColor:R&&null!==v.instanceColor,supportsVertexTextures:h,outputColorSpace:null===D?e.outputColorSpace:!0===D.isXRRenderTarget?D.texture.colorSpace:Dl,map:$,matcap:I,envMap:L,envMapMode:L&&_.mapping,envMapCubeUVHeight:x,aoMap:O,lightMap:N,bumpMap:F,normalMap:B,displacementMap:h&&U,emissiveMap:z,normalMapObjectSpace:B&&1===o.normalMapType,normalMapTangentSpace:B&&0===o.normalMapType,metalnessMap:V,roughnessMap:H,anisotropy:j,anisotropyMap:X,clearcoat:W,clearcoatMap:Y,clearcoatNormalMap:K,clearcoatRoughnessMap:J,iridescence:G,iridescenceMap:Q,iridescenceThicknessMap:ee,sheen:q,sheenColorMap:te,sheenRoughnessMap:ne,specularMap:ie,specularColorMap:re,specularIntensityMap:oe,transmission:Z,transmissionMap:ae,thicknessMap:se,gradientMap:le,opaque:!1===o.transparent&&1===o.blending,alphaMap:ce,alphaTest:ue,combine:o.combine,mapUv:$&&m(o.map.channel),aoMapUv:O&&m(o.aoMap.channel),lightMapUv:N&&m(o.lightMap.channel),bumpMapUv:F&&m(o.bumpMap.channel),normalMapUv:B&&m(o.normalMap.channel),displacementMapUv:U&&m(o.displacementMap.channel),emissiveMapUv:z&&m(o.emissiveMap.channel),metalnessMapUv:V&&m(o.metalnessMap.channel),roughnessMapUv:H&&m(o.roughnessMap.channel),anisotropyMapUv:X&&m(o.anisotropyMap.channel),clearcoatMapUv:Y&&m(o.clearcoatMap.channel),clearcoatNormalMapUv:K&&m(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:J&&m(o.clearcoatRoughnessMap.channel),iridescenceMapUv:Q&&m(o.iridescenceMap.channel),iridescenceThicknessMapUv:ee&&m(o.iridescenceThicknessMap.channel),sheenColorMapUv:te&&m(o.sheenColorMap.channel),sheenRoughnessMapUv:ne&&m(o.sheenRoughnessMap.channel),specularMapUv:ie&&m(o.specularMap.channel),specularColorMapUv:re&&m(o.specularColorMap.channel),specularIntensityMapUv:oe&&m(o.specularIntensityMap.channel),transmissionMapUv:ae&&m(o.transmissionMap.channel),thicknessMapUv:se&&m(o.thicknessMap.channel),alphaMapUv:ce&&m(o.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(B||j),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUv1s:he,vertexUv2s:pe,vertexUv3s:fe,pointsUvs:!0===v.isPoints&&!!b.attributes.uv&&($||ce),fog:!!y,useFog:!0===o.fog,fogExp2:y&&y.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:E,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:0,useLegacyLights:e.useLegacyLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:1===o.side,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:de&&!0===o.extensions.derivatives,extensionFragDepth:de&&!0===o.extensions.fragDepth,extensionDrawBuffers:de&&!0===o.extensions.drawBuffers,extensionShaderTextureLOD:de&&!0===o.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=f[e.type];let n;if(t){const e=Xd[t];n=kd.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let i;for(let e=0,t=c.length;e<t;e++){const t=c[e];if(t.cacheKey===n){i=t,++i.usedTimes;break}}return void 0===i&&(i=new Gp(e,n,t,o),c.push(i)),i},releaseProgram:function(e){if(0==--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function Kp(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function Jp(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Qp(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function ef(){const e=[];let t=0;const n=[],i=[],r=[];function o(n,i,r,o,a,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){t=0,n.length=0,i.length=0,r.length=0},push:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?i.push(u):!0===a.transparent?r.push(u):n.push(u)},unshift:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?i.unshift(u):!0===a.transparent?r.unshift(u):n.unshift(u)},finish:function(){for(let n=t,i=e.length;n<i;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Jp),i.length>1&&i.sort(t||Qp),r.length>1&&r.sort(t||Qp)}}}function tf(){let e=new WeakMap;return{get:function(t,n){const i=e.get(t);let r;return void 0===i?(r=new ef,e.set(t,[r])):n>=i.length?(r=new ef,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function nf(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Tc,color:new Hu};break;case"SpotLight":n={position:new Tc,direction:new Tc,color:new Hu,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Tc,color:new Hu,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Tc,skyColor:new Hu,groundColor:new Hu};break;case"RectAreaLight":n={color:new Hu,position:new Tc,halfWidth:new Tc,halfHeight:new Tc}}return e[t.id]=n,n}}}let rf=0;function of(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function af(e,t){const n=new nf,i=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Kl};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Kl,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let e=0;e<9;e++)r.probe.push(new Tc);const o=new Tc,a=new Qc,s=new Qc;return{setup:function(o,a){let s=0,l=0,c=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let u=0,d=0,h=0,p=0,f=0,m=0,g=0,v=0,y=0,b=0;o.sort(of);const w=!0===a?Math.PI:1;for(let e=0,t=o.length;e<t;e++){const t=o[e],a=t.color,_=t.intensity,x=t.distance,T=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=a.r*_*w,l+=a.g*_*w,c+=a.b*_*w;else if(t.isLightProbe)for(let e=0;e<9;e++)r.probe[e].addScaledVector(t.sh.coefficients[e],_);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*w),t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,r.directionalShadow[u]=n,r.directionalShadowMap[u]=T,r.directionalShadowMatrix[u]=t.shadow.matrix,m++}r.directional[u]=e,u++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(a).multiplyScalar(_*w),e.distance=x,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,r.spot[h]=e;const o=t.shadow;if(t.map&&(r.spotLightMap[y]=t.map,y++,o.updateMatrices(t),t.castShadow&&b++),r.spotLightMatrix[h]=o.matrix,t.castShadow){const e=i.get(t);e.shadowBias=o.bias,e.shadowNormalBias=o.normalBias,e.shadowRadius=o.radius,e.shadowMapSize=o.mapSize,r.spotShadow[h]=e,r.spotShadowMap[h]=T,v++}h++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(a).multiplyScalar(_),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),r.rectArea[p]=e,p++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*w),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,r.pointShadow[d]=n,r.pointShadowMap[d]=T,r.pointShadowMatrix[d]=t.shadow.matrix,g++}r.point[d]=e,d++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(_*w),e.groundColor.copy(t.groundColor).multiplyScalar(_*w),r.hemi[f]=e,f++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=Zd.LTC_FLOAT_1,r.rectAreaLTC2=Zd.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Zd.LTC_HALF_1,r.rectAreaLTC2=Zd.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=s,r.ambient[1]=l,r.ambient[2]=c;const _=r.hash;_.directionalLength===u&&_.pointLength===d&&_.spotLength===h&&_.rectAreaLength===p&&_.hemiLength===f&&_.numDirectionalShadows===m&&_.numPointShadows===g&&_.numSpotShadows===v&&_.numSpotMaps===y||(r.directional.length=u,r.spot.length=h,r.rectArea.length=p,r.point.length=d,r.hemi.length=f,r.directionalShadow.length=m,r.directionalShadowMap.length=m,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=v,r.spotShadowMap.length=v,r.directionalShadowMatrix.length=m,r.pointShadowMatrix.length=g,r.spotLightMatrix.length=v+y-b,r.spotLightMap.length=y,r.numSpotLightShadowsWithMaps=b,_.directionalLength=u,_.pointLength=d,_.spotLength=h,_.rectAreaLength=p,_.hemiLength=f,_.numDirectionalShadows=m,_.numPointShadows=g,_.numSpotShadows=v,_.numSpotMaps=y,r.version=rf++)},setupView:function(e,t){let n=0,i=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let t=0,h=e.length;t<h;t++){const h=e[t];if(h.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(d),n++}else if(h.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(h.matrixWorld),o.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(d),l++}else if(h.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),s.identity(),a.copy(h.matrixWorld),a.premultiply(d),s.extractRotation(a),e.halfWidth.set(.5*h.width,0,0),e.halfHeight.set(0,.5*h.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(h.isPointLight){const e=r.point[i];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(d),i++}else if(h.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(h.matrixWorld),e.direction.transformDirection(d),u++}}},state:r}}function sf(e,t){const n=new af(e,t),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(e){n.setup(i,e)},setupLightsView:function(e){n.setupView(i,e)},pushLight:function(e){i.push(e)},pushShadow:function(e){r.push(e)}}}function lf(e,t){let n=new WeakMap;return{get:function(i,r=0){const o=n.get(i);let a;return void 0===o?(a=new sf(e,t),n.set(i,[a])):r>=o.length?(a=new sf(e,t),o.push(a)):a=o[r],a},dispose:function(){n=new WeakMap}}}class cf extends Fu{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class uf extends Fu{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function df(e,t,n){let i=new Hd;const r=new Kl,o=new Kl,a=new yc,s=new cf({depthPacking:3201}),l=new uf,c={},u=n.maxTextureSize,d={0:1,1:0,2:2},h=new Pd({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Kl},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const f=new od;f.setAttribute("position",new Zu(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Td(f,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function y(n,i){const o=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new bc(r.x,r.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,o,h,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,o,p,m,null)}function b(t,n,i,r){let o=null;const a=!0===i.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)o=a;else if(o=!0===i.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=o.uuid,t=n.uuid;let i=c[e];void 0===i&&(i={},c[e]=i);let r=i[t];void 0===r&&(r=o.clone(),i[t]=r),o=r}if(o.visible=n.visible,o.wireframe=n.wireframe,o.side=3===r?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===i.isPointLight&&!0===o.isMeshDistanceMaterial){e.properties.get(o).light=i}return o}function w(n,r,o,a,s){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=t.update(n),r=n.material;if(Array.isArray(r)){const t=i.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=r[c.materialIndex];if(u&&u.visible){const t=b(n,u,a,s);e.renderBufferDirect(o,null,i,t,n,c)}}}else if(r.visible){const t=b(n,r,a,s);e.renderBufferDirect(o,null,i,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)w(l[e],r,o,a,s)}this.render=function(t,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const p=3!==v&&3===this.type,f=3===v&&3!==this.type;for(let l=0,c=t.length;l<c;l++){const c=t[l],d=c.shadow;if(void 0===d){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===d.autoUpdate&&!1===d.needsUpdate)continue;r.copy(d.mapSize);const m=d.getFrameExtents();if(r.multiply(m),o.copy(d.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(o.x=Math.floor(u/m.x),r.x=o.x*m.x,d.mapSize.x=o.x),r.y>u&&(o.y=Math.floor(u/m.y),r.y=o.y*m.y,d.mapSize.y=o.y)),null===d.map||!0===p||!0===f){const e=3!==this.type?{minFilter:nl,magFilter:nl}:{};null!==d.map&&d.map.dispose(),d.map=new bc(r.x,r.y,e),d.map.texture.name=c.name+".shadowMap",d.camera.updateProjectionMatrix()}e.setRenderTarget(d.map),e.clear();const g=d.getViewportCount();for(let e=0;e<g;e++){const t=d.getViewport(e);a.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),h.viewport(a),d.updateMatrices(c,e),i=d.getFrustum(),w(n,s,d.camera,c,this.type)}!0!==d.isPointLightShadow&&3===this.type&&y(d,s),d.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,d)}}function hf(e,t,n){const i=n.isWebGL2;const r=new function(){let t=!1;const n=new yc;let i=null;const r=new yc(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,o,a,s){!0===s&&(t*=a,i*=a,o*=a),n.set(t,i,o,a),!1===r.equals(n)&&(e.clearColor(t,i,o,a),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){let t=!1,n=null,i=null,r=null;return{setTest:function(t){t?U(e.DEPTH_TEST):z(e.DEPTH_TEST)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},a=new function(){let t=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?U(e.STENCIL_TEST):z(e.STENCIL_TEST))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,a){i===t&&r===n&&o===a||(e.stencilFunc(t,n,a),i=t,r=n,o=a)},setOp:function(t,n,i){a===t&&s===n&&l===i||(e.stencilOp(t,n,i),a=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,c=null}}},s=new WeakMap,l=new WeakMap;let c={},u={},d=new WeakMap,h=[],p=null,f=!1,m=null,g=null,v=null,y=null,b=null,w=null,_=null,x=!1,T=null,S=null,E=null,M=null,A=null;const C=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,P=0;const D=e.getParameter(e.VERSION);-1!==D.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(D)[1]),k=P>=1):-1!==D.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),k=P>=2);let R=null,$={};const I=e.getParameter(e.SCISSOR_BOX),L=e.getParameter(e.VIEWPORT),O=(new yc).fromArray(I),N=(new yc).fromArray(L);function F(t,n,r,o){const a=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<r;s++)!i||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage3D(n,0,e.RGBA,1,1,o,0,e.RGBA,e.UNSIGNED_BYTE,a);return s}const B={};function U(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function z(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}B[e.TEXTURE_2D]=F(e.TEXTURE_2D,e.TEXTURE_2D,1),B[e.TEXTURE_CUBE_MAP]=F(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(B[e.TEXTURE_2D_ARRAY]=F(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),B[e.TEXTURE_3D]=F(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),r.setClear(0,0,0,1),o.setClear(1),a.setClear(0),U(e.DEPTH_TEST),o.setFunc(3),W(!1),G(1),U(e.CULL_FACE),j(0);const V={[qs]:e.FUNC_ADD,101:e.FUNC_SUBTRACT,102:e.FUNC_REVERSE_SUBTRACT};if(i)V[103]=e.MIN,V[104]=e.MAX;else{const e=t.get("EXT_blend_minmax");null!==e&&(V[103]=e.MIN_EXT,V[104]=e.MAX_EXT)}const H={200:e.ZERO,201:e.ONE,202:e.SRC_COLOR,204:e.SRC_ALPHA,210:e.SRC_ALPHA_SATURATE,208:e.DST_COLOR,206:e.DST_ALPHA,203:e.ONE_MINUS_SRC_COLOR,205:e.ONE_MINUS_SRC_ALPHA,209:e.ONE_MINUS_DST_COLOR,207:e.ONE_MINUS_DST_ALPHA};function j(t,n,i,r,o,a,s,l){if(0!==t){if(!1===f&&(U(e.BLEND),f=!0),5===t)o=o||n,a=a||i,s=s||r,n===g&&o===b||(e.blendEquationSeparate(V[n],V[o]),g=n,b=o),i===v&&r===y&&a===w&&s===_||(e.blendFuncSeparate(H[i],H[r],H[a],H[s]),v=i,y=r,w=a,_=s),m=t,x=!1;else if(t!==m||l!==x){if(g===qs&&b===qs||(e.blendEquation(e.FUNC_ADD),g=qs,b=qs),l)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=null,y=null,w=null,_=null,m=t,x=l}}else!0===f&&(z(e.BLEND),f=!1)}function W(t){T!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),T=t)}function G(t){0!==t?(U(e.CULL_FACE),t!==S&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):z(e.CULL_FACE),S=t}function q(t,n,i){t?(U(e.POLYGON_OFFSET_FILL),M===n&&A===i||(e.polygonOffset(n,i),M=n,A=i)):z(e.POLYGON_OFFSET_FILL)}return{buffers:{color:r,depth:o,stencil:a},enable:U,disable:z,bindFramebuffer:function(t,n){return u[t]!==n&&(e.bindFramebuffer(t,n),u[t]=n,i&&(t===e.DRAW_FRAMEBUFFER&&(u[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(u[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(i,r){let o=h,a=!1;if(i)if(o=d.get(r),void 0===o&&(o=[],d.set(r,o)),i.isWebGLMultipleRenderTargets){const t=i.texture;if(o.length!==t.length||o[0]!==e.COLOR_ATTACHMENT0){for(let n=0,i=t.length;n<i;n++)o[n]=e.COLOR_ATTACHMENT0+n;o.length=t.length,a=!0}}else o[0]!==e.COLOR_ATTACHMENT0&&(o[0]=e.COLOR_ATTACHMENT0,a=!0);else o[0]!==e.BACK&&(o[0]=e.BACK,a=!0);a&&(n.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:j,setMaterial:function(t,n){2===t.side?z(e.CULL_FACE):U(e.CULL_FACE);let i=1===t.side;n&&(i=!i),W(i),1===t.blending&&!1===t.transparent?j(0):j(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),r.setMask(t.colorWrite);const s=t.stencilWrite;a.setTest(s),s&&(a.setMask(t.stencilWriteMask),a.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),a.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),q(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?U(e.SAMPLE_ALPHA_TO_COVERAGE):z(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:W,setCullFace:G,setLineWidth:function(t){t!==E&&(k&&e.lineWidth(t),E=t)},setPolygonOffset:q,setScissorTest:function(t){t?U(e.SCISSOR_TEST):z(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+C-1),R!==t&&(e.activeTexture(t),R=t)},bindTexture:function(t,n,i){void 0===i&&(i=null===R?e.TEXTURE0+C-1:R);let r=$[i];void 0===r&&(r={type:void 0,texture:void 0},$[i]=r),r.type===t&&r.texture===n||(R!==i&&(e.activeTexture(i),R=i),e.bindTexture(t,n||B[t]),r.type=t,r.texture=n)},unbindTexture:function(){const t=$[R];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(t,n){let i=l.get(n);void 0===i&&(i=new WeakMap,l.set(n,i));let r=i.get(t);void 0===r&&(r=e.getUniformBlockIndex(n,t.name),i.set(t,r))},uniformBlockBinding:function(t,n){const i=l.get(n).get(t);s.get(n)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),s.set(n,i))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===O.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),O.copy(t))},viewport:function(t){!1===N.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),N.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===i&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),c={},R=null,$={},u={},d=new WeakMap,h=[],p=null,f=!1,m=null,g=null,v=null,y=null,b=null,w=null,_=null,x=!1,T=null,S=null,E=null,M=null,A=null,O.set(0,0,e.canvas.width,e.canvas.height),N.set(0,0,e.canvas.width,e.canvas.height),r.reset(),o.reset(),a.reset()}}}function pf(e,t,n,i,r,o,a){const s=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),f=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function y(e,t){return v?new OffscreenCanvas(e,t):tc("canvas")}function b(e,t,n,i){let r=1;if((e.width>i||e.height>i)&&(r=i/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const i=t?Zl:Math.floor,o=i(r*e.width),a=i(r*e.height);void 0===m&&(m=y(o,a));const s=n?y(o,a):m;s.width=o,s.height=a;return s.getContext("2d").drawImage(e,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+a+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function w(e){return ql(e.width)&&ql(e.height)}function _(e,t){return e.generateMipmaps&&t&&e.minFilter!==nl&&e.minFilter!==ol}function x(t){e.generateMipmap(t)}function T(n,i,r,o,a=!1){if(!1===s)return i;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=i;return i===e.RED&&(r===e.FLOAT&&(l=e.R32F),r===e.HALF_FLOAT&&(l=e.R16F),r===e.UNSIGNED_BYTE&&(l=e.R8)),i===e.RG&&(r===e.FLOAT&&(l=e.RG32F),r===e.HALF_FLOAT&&(l=e.RG16F),r===e.UNSIGNED_BYTE&&(l=e.RG8)),i===e.RGBA&&(r===e.FLOAT&&(l=e.RGBA32F),r===e.HALF_FLOAT&&(l=e.RGBA16F),r===e.UNSIGNED_BYTE&&(l=o===Pl&&!1===a?e.SRGB8_ALPHA8:e.RGBA8),r===e.UNSIGNED_SHORT_4_4_4_4&&(l=e.RGBA4),r===e.UNSIGNED_SHORT_5_5_5_1&&(l=e.RGB5_A1)),l!==e.R16F&&l!==e.R32F&&l!==e.RG16F&&l!==e.RG32F&&l!==e.RGBA16F&&l!==e.RGBA32F||t.get("EXT_color_buffer_float"),l}function S(e,t,n){return!0===_(e,n)||e.isFramebufferTexture&&e.minFilter!==nl&&e.minFilter!==ol?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function E(t){return t===nl||t===il||t===rl?e.NEAREST:e.LINEAR}function M(e){const t=e.target;t.removeEventListener("dispose",M),function(e){const t=i.get(e);if(void 0===t.__webglInit)return;const n=e.source,r=g.get(n);if(r){const i=r[t.__cacheKey];i.usedTimes--,0===i.usedTimes&&C(e),0===Object.keys(r).length&&g.delete(n)}i.remove(e)}(t),t.isVideoTexture&&f.delete(t)}function A(t){const n=t.target;n.removeEventListener("dispose",A),function(t){const n=t.texture,r=i.get(t),o=i.get(n);void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),a.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(r.__webglFramebuffer[t]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[t]);else{if(e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer)for(let t=0;t<r.__webglColorRenderbuffer.length;t++)r.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(r.__webglColorRenderbuffer[t]);r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let t=0,r=n.length;t<r;t++){const r=i.get(n[t]);r.__webglTexture&&(e.deleteTexture(r.__webglTexture),a.memory.textures--),i.remove(n[t])}i.remove(n),i.remove(t)}(n)}function C(t){const n=i.get(t);e.deleteTexture(n.__webglTexture);const r=t.source;delete g.get(r)[n.__cacheKey],a.memory.textures--}let k=0;function P(t,r){const o=i.get(t);if(t.isVideoTexture&&function(e){const t=a.render.frame;f.get(e)!==t&&(f.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&o.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void O(o,t,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,o.__webglTexture,e.TEXTURE0+r)}const D={[Qs]:e.REPEAT,[el]:e.CLAMP_TO_EDGE,[tl]:e.MIRRORED_REPEAT},R={[nl]:e.NEAREST,[il]:e.NEAREST_MIPMAP_NEAREST,[rl]:e.NEAREST_MIPMAP_LINEAR,[ol]:e.LINEAR,1007:e.LINEAR_MIPMAP_NEAREST,[al]:e.LINEAR_MIPMAP_LINEAR},$={512:e.NEVER,519:e.ALWAYS,513:e.LESS,515:e.LEQUAL,514:e.EQUAL,518:e.GEQUAL,516:e.GREATER,517:e.NOTEQUAL};function I(n,o,a){if(a?(e.texParameteri(n,e.TEXTURE_WRAP_S,D[o.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,D[o.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,D[o.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,R[o.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,R[o.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),o.wrapS===el&&o.wrapT===el||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,E(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,E(o.minFilter)),o.minFilter!==nl&&o.minFilter!==ol&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),o.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,$[o.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){const a=t.get("EXT_texture_filter_anisotropic");if(o.magFilter===nl)return;if(o.minFilter!==rl&&o.minFilter!==al)return;if(o.type===dl&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&o.type===hl&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function L(t,n){let i=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",M));const r=n.source;let o=g.get(r);void 0===o&&(o={},g.set(r,o));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,i=!0),o[s].usedTimes++;const r=o[t.__cacheKey];void 0!==r&&(o[t.__cacheKey].usedTimes--,0===r.usedTimes&&C(n)),t.__cacheKey=s,t.__webglTexture=o[s].texture}return i}function O(t,r,a){let l=e.TEXTURE_2D;(r.isDataArrayTexture||r.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),r.isData3DTexture&&(l=e.TEXTURE_3D);const c=L(t,r),d=r.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+a);const h=i.get(d);if(d.version!==h.__version||!0===c){n.activeTexture(e.TEXTURE0+a),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);const t=function(e){return!s&&(e.wrapS!==el||e.wrapT!==el||e.minFilter!==nl&&e.minFilter!==ol)}(r)&&!1===w(r.image);let i=b(r.image,t,!1,u);i=V(r,i);const p=w(i)||s,f=o.convert(r.format,r.colorSpace);let m,g=o.convert(r.type),v=T(r.internalFormat,f,g,r.colorSpace);I(l,r,p);const y=r.mipmaps,E=s&&!0!==r.isVideoTexture,M=void 0===h.__version||!0===c,A=S(r,i,p);if(r.isDepthTexture)v=e.DEPTH_COMPONENT,s?v=r.type===dl?e.DEPTH_COMPONENT32F:r.type===ul?e.DEPTH_COMPONENT24:r.type===pl?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:r.type===dl&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===ml&&v===e.DEPTH_COMPONENT&&r.type!==ll&&r.type!==ul&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=ul,g=o.convert(r.type)),r.format===gl&&v===e.DEPTH_COMPONENT&&(v=e.DEPTH_STENCIL,r.type!==pl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=pl,g=o.convert(r.type))),M&&(E?n.texStorage2D(e.TEXTURE_2D,1,v,i.width,i.height):n.texImage2D(e.TEXTURE_2D,0,v,i.width,i.height,0,f,g,null));else if(r.isDataTexture)if(y.length>0&&p){E&&M&&n.texStorage2D(e.TEXTURE_2D,A,v,y[0].width,y[0].height);for(let t=0,i=y.length;t<i;t++)m=y[t],E?n.texSubImage2D(e.TEXTURE_2D,t,0,0,m.width,m.height,f,g,m.data):n.texImage2D(e.TEXTURE_2D,t,v,m.width,m.height,0,f,g,m.data);r.generateMipmaps=!1}else E?(M&&n.texStorage2D(e.TEXTURE_2D,A,v,i.width,i.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,i.width,i.height,f,g,i.data)):n.texImage2D(e.TEXTURE_2D,0,v,i.width,i.height,0,f,g,i.data);else if(r.isCompressedTexture)if(r.isCompressedArrayTexture){E&&M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,A,v,y[0].width,y[0].height,i.depth);for(let t=0,o=y.length;t<o;t++)m=y[t],r.format!==fl?null!==f?E?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,m.width,m.height,i.depth,f,m.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,v,m.width,m.height,i.depth,0,m.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,m.width,m.height,i.depth,f,g,m.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,v,m.width,m.height,i.depth,0,f,g,m.data)}else{E&&M&&n.texStorage2D(e.TEXTURE_2D,A,v,y[0].width,y[0].height);for(let t=0,i=y.length;t<i;t++)m=y[t],r.format!==fl?null!==f?E?n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,m.width,m.height,f,m.data):n.compressedTexImage2D(e.TEXTURE_2D,t,v,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?n.texSubImage2D(e.TEXTURE_2D,t,0,0,m.width,m.height,f,g,m.data):n.texImage2D(e.TEXTURE_2D,t,v,m.width,m.height,0,f,g,m.data)}else if(r.isDataArrayTexture)E?(M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,A,v,i.width,i.height,i.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,i.width,i.height,i.depth,f,g,i.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,v,i.width,i.height,i.depth,0,f,g,i.data);else if(r.isData3DTexture)E?(M&&n.texStorage3D(e.TEXTURE_3D,A,v,i.width,i.height,i.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,i.width,i.height,i.depth,f,g,i.data)):n.texImage3D(e.TEXTURE_3D,0,v,i.width,i.height,i.depth,0,f,g,i.data);else if(r.isFramebufferTexture){if(M)if(E)n.texStorage2D(e.TEXTURE_2D,A,v,i.width,i.height);else{let t=i.width,r=i.height;for(let i=0;i<A;i++)n.texImage2D(e.TEXTURE_2D,i,v,t,r,0,f,g,null),t>>=1,r>>=1}}else if(y.length>0&&p){E&&M&&n.texStorage2D(e.TEXTURE_2D,A,v,y[0].width,y[0].height);for(let t=0,i=y.length;t<i;t++)m=y[t],E?n.texSubImage2D(e.TEXTURE_2D,t,0,0,f,g,m):n.texImage2D(e.TEXTURE_2D,t,v,f,g,m);r.generateMipmaps=!1}else E?(M&&n.texStorage2D(e.TEXTURE_2D,A,v,i.width,i.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,f,g,i)):n.texImage2D(e.TEXTURE_2D,0,v,f,g,i);_(r,p)&&x(l),h.__version=d.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function N(t,r,a,s,l){const c=o.convert(a.format,a.colorSpace),u=o.convert(a.type),d=T(a.internalFormat,c,u,a.colorSpace);i.get(r).__hasExternalTextures||(l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,0,d,r.width,r.height,r.depth,0,c,u,null):n.texImage2D(l,0,d,r.width,r.height,0,c,u,null)),n.bindFramebuffer(e.FRAMEBUFFER,t),z(r)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,l,i.get(a).__webglTexture,0,U(r)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,l,i.get(a).__webglTexture,0),n.bindFramebuffer(e.FRAMEBUFFER,null)}function F(t,n,i){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){let r=e.DEPTH_COMPONENT16;if(i||z(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===dl?r=e.DEPTH_COMPONENT32F:t.type===ul&&(r=e.DEPTH_COMPONENT24));const i=U(n);z(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,i,r,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,i,r,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,r,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){const r=U(n);i&&!1===z(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,r,e.DEPTH24_STENCIL8,n.width,n.height):z(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,r,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let r=0;r<t.length;r++){const a=t[r],s=o.convert(a.format,a.colorSpace),l=o.convert(a.type),c=T(a.internalFormat,s,l,a.colorSpace),u=U(n);i&&!1===z(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,c,n.width,n.height):z(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,c,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,c,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function B(t){const r=i.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!r.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),P(r.depthTexture,0);const o=i.get(r.depthTexture).__webglTexture,a=U(r);if(r.depthTexture.format===ml)z(r)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(r.depthTexture.format!==gl)throw new Error("Unknown depthTexture format");z(r)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}(r.__webglFramebuffer,t)}else if(o){r.__webglDepthbuffer=[];for(let i=0;i<6;i++)n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer[i]),r.__webglDepthbuffer[i]=e.createRenderbuffer(),F(r.__webglDepthbuffer[i],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),F(r.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function U(e){return Math.min(d,e.samples)}function z(e){const n=i.get(e);return s&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,n){const i=e.colorSpace,r=e.format,o=e.type;return!0===e.isCompressedTexture||e.format===Ol||i!==Dl&&i!==kl&&(i===Pl?!1===s?!0===t.has("EXT_sRGB")&&r===fl?(e.format=Ol,e.minFilter=ol,e.generateMipmaps=!1):n=hc.sRGBToLinear(n):r===fl&&o===sl||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",i)),n}this.allocateTextureUnit=function(){const e=k;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),k+=1,e},this.resetTextureUnits=function(){k=0},this.setTexture2D=P,this.setTexture2DArray=function(t,r){const o=i.get(t);t.version>0&&o.__version!==t.version?O(o,t,r):n.bindTexture(e.TEXTURE_2D_ARRAY,o.__webglTexture,e.TEXTURE0+r)},this.setTexture3D=function(t,r){const o=i.get(t);t.version>0&&o.__version!==t.version?O(o,t,r):n.bindTexture(e.TEXTURE_3D,o.__webglTexture,e.TEXTURE0+r)},this.setTextureCube=function(t,r){const a=i.get(t);t.version>0&&a.__version!==t.version?function(t,r,a){if(6!==r.image.length)return;const l=L(t,r),u=r.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+a);const d=i.get(u);if(u.version!==d.__version||!0===l){n.activeTexture(e.TEXTURE0+a),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);const t=r.isCompressedTexture||r.image[0].isCompressedTexture,i=r.image[0]&&r.image[0].isDataTexture,h=[];for(let e=0;e<6;e++)h[e]=t||i?i?r.image[e].image:r.image[e]:b(r.image[e],!1,!0,c),h[e]=V(r,h[e]);const p=h[0],f=w(p)||s,m=o.convert(r.format,r.colorSpace),g=o.convert(r.type),v=T(r.internalFormat,m,g,r.colorSpace),y=s&&!0!==r.isVideoTexture,E=void 0===d.__version||!0===l;let M,A=S(r,p,f);if(I(e.TEXTURE_CUBE_MAP,r,f),t){y&&E&&n.texStorage2D(e.TEXTURE_CUBE_MAP,A,v,p.width,p.height);for(let t=0;t<6;t++){M=h[t].mipmaps;for(let i=0;i<M.length;i++){const o=M[i];r.format!==fl?null!==m?y?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,o.width,o.height,m,o.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,v,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,0,0,o.width,o.height,m,g,o.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i,v,o.width,o.height,0,m,g,o.data)}}}else{M=r.mipmaps,y&&E&&(M.length>0&&A++,n.texStorage2D(e.TEXTURE_CUBE_MAP,A,v,h[0].width,h[0].height));for(let t=0;t<6;t++)if(i){y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,h[t].width,h[t].height,m,g,h[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,v,h[t].width,h[t].height,0,m,g,h[t].data);for(let i=0;i<M.length;i++){const r=M[i].image[t].image;y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,r.width,r.height,m,g,r.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,v,r.width,r.height,0,m,g,r.data)}}else{y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,m,g,h[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,v,m,g,h[t]);for(let i=0;i<M.length;i++){const r=M[i];y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,0,0,m,g,r.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,i+1,v,m,g,r.image[t])}}}_(r,f)&&x(e.TEXTURE_CUBE_MAP),d.__version=u.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}(a,t,r):n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture,e.TEXTURE0+r)},this.rebindTextures=function(t,n,r){const o=i.get(t);void 0!==n&&N(o.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),void 0!==r&&B(t)},this.setupRenderTarget=function(t){const l=t.texture,c=i.get(t),u=i.get(l);t.addEventListener("dispose",A),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=l.version,a.memory.textures++);const d=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,p=w(t)||s;if(d){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(c.__webglFramebuffer=e.createFramebuffer(),h)if(r.drawBuffers){const n=t.texture;for(let t=0,r=n.length;t<r;t++){const r=i.get(n[t]);void 0===r.__webglTexture&&(r.__webglTexture=e.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&t.samples>0&&!1===z(t)){const i=h?l:[l];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer);for(let n=0;n<i.length;n++){const r=i[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,c.__webglColorRenderbuffer[n]);const a=o.convert(r.format,r.colorSpace),s=o.convert(r.type),l=T(r.internalFormat,a,s,r.colorSpace,!0===t.isXRRenderTarget),u=U(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),F(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(d){n.bindTexture(e.TEXTURE_CUBE_MAP,u.__webglTexture),I(e.TEXTURE_CUBE_MAP,l,p);for(let n=0;n<6;n++)N(c.__webglFramebuffer[n],t,l,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n);_(l,p)&&x(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){const r=t.texture;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i.get(a);n.bindTexture(e.TEXTURE_2D,s.__webglTexture),I(e.TEXTURE_2D,a,p),N(c.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D),_(a,p)&&x(e.TEXTURE_2D)}n.unbindTexture()}else{let i=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(s?i=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(i,u.__webglTexture),I(i,l,p),N(c.__webglFramebuffer,t,l,e.COLOR_ATTACHMENT0,i),_(l,p)&&x(i),n.unbindTexture()}t.depthBuffer&&B(t)},this.updateRenderTargetMipmap=function(t){const r=w(t)||s,o=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let a=0,s=o.length;a<s;a++){const s=o[a];if(_(s,r)){const r=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=i.get(s).__webglTexture;n.bindTexture(r,o),x(r),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(s&&t.samples>0&&!1===z(t)){const r=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=t.width,a=t.height;let s=e.COLOR_BUFFER_BIT;const l=[],c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=i.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(let t=0;t<r.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<r.length;n++){l.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&l.push(c);const h=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===h&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]),!0===h&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[c]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[c])),d){const t=i.get(r[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,o,a,0,0,o,a,s,e.NEAREST),p&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,l)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<r.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const o=i.get(r[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,o,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=B,this.setupFrameBufferTexture=N,this.useMultisampledRTT=z}function ff(e,t,n){const i=n.isWebGL2;return{convert:function(n,r=""){let o;if(n===sl)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(n===ll)return e.UNSIGNED_SHORT;if(n===cl)return e.INT;if(n===ul)return e.UNSIGNED_INT;if(n===dl)return e.FLOAT;if(n===hl)return i?e.HALF_FLOAT:(o=t.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(1021===n)return e.ALPHA;if(n===fl)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(n===ml)return e.DEPTH_COMPONENT;if(n===gl)return e.DEPTH_STENCIL;if(n===Ol)return o=t.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(1028===n)return e.RED;if(1029===n)return e.RED_INTEGER;if(1030===n)return e.RG;if(1031===n)return e.RG_INTEGER;if(1033===n)return e.RGBA_INTEGER;if(n===vl||n===yl||n===bl||n===wl)if(r===Pl){if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(n===vl)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===yl)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===bl)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===wl)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=t.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(n===vl)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===yl)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===bl)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===wl)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(o=t.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(35840===n)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return o=t.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(o=t.get("WEBGL_compressed_texture_etc"),null===o)return null;if(37492===n)return r===Pl?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(37496===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(o=t.get("WEBGL_compressed_texture_astc"),null===o)return null;if(37808===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return r===Pl?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===_l){if(o=t.get("EXT_texture_compression_bptc"),null===o)return null;if(n===_l)return r===Pl?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===n||36284===n||36285===n||36286===n){if(o=t.get("EXT_texture_compression_rgtc"),null===o)return null;if(n===_l)return o.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===pl?i?e.UNSIGNED_INT_24_8:(o=t.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}}}class mf extends Rd{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class gf extends Su{constructor(){super(),this.isGroup=!0,this.type="Group"}}const vf={type:"move"};class yf{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new gf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new gf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Tc,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Tc),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new gf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Tc,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Tc),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let i=null,r=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const i of e.hand.values()){const e=t.getJointPose(i,n),r=this._getHandJoint(l,i);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],a=i.position.distanceTo(r.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1));null!==a&&(i=t.getPose(e.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(vf)))}return null!==a&&(a.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new gf;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class bf extends vc{constructor(e,t,n,i,r,o,a,s,l,c){if((c=void 0!==c?c:ml)!==ml&&c!==gl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===ml&&(n=ul),void 0===n&&c===gl&&(n=pl),super(null,i,r,o,a,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:nl,this.minFilter=void 0!==s?s:nl,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class wf extends Bl{constructor(e,t){super();const n=this;let i=null,r=1,o=null,a="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,p=null;const f=t.getContextAttributes();let m=null,g=null;const v=[],y=[];let b=null;const w=new Rd;w.layers.enable(1),w.viewport=new yc;const _=new Rd;_.layers.enable(2),_.viewport=new yc;const x=[w,_],T=new mf;T.layers.enable(1),T.layers.enable(2);let S=null,E=null;function M(e){const t=y.indexOf(e.inputSource);if(-1===t)return;const n=v[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||o),n.dispatchEvent({type:e.type,data:e.inputSource}))}function A(){i.removeEventListener("select",M),i.removeEventListener("selectstart",M),i.removeEventListener("selectend",M),i.removeEventListener("squeeze",M),i.removeEventListener("squeezestart",M),i.removeEventListener("squeezeend",M),i.removeEventListener("end",A),i.removeEventListener("inputsourceschange",C);for(let e=0;e<v.length;e++){const t=y[e];null!==t&&(y[e]=null,v[e].disconnect(t))}S=null,E=null,e.setRenderTarget(m),h=null,d=null,u=null,i=null,g=null,$.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function C(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],i=y.indexOf(n);i>=0&&(y[i]=null,v[i].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let i=y.indexOf(n);if(-1===i){for(let e=0;e<v.length;e++){if(e>=y.length){y.push(n),i=e;break}if(null===y[e]){y[e]=n,i=e;break}}if(-1===i)break}const r=v[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(e){b=e},this.getController=function(e){let t=v[e];return void 0===t&&(t=new yf,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new yf,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new yf,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(c){if(i=c,null!==i){if(m=e.getRenderTarget(),i.addEventListener("select",M),i.addEventListener("selectstart",M),i.addEventListener("selectend",M),i.addEventListener("squeeze",M),i.addEventListener("squeezestart",M),i.addEventListener("squeezeend",M),i.addEventListener("end",A),i.addEventListener("inputsourceschange",C),!0!==f.xrCompatible&&await t.makeXRCompatible(),void 0===i.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==i.renderState.layers||f.antialias,alpha:!0,depth:f.depth,stencil:f.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(i,t,n),i.updateRenderState({baseLayer:h}),g=new bc(h.framebufferWidth,h.framebufferHeight,{format:fl,type:sl,colorSpace:e.outputColorSpace,stencilBuffer:f.stencil})}else{let n=null,o=null,a=null;f.depth&&(a=f.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=f.stencil?gl:ml,o=f.stencil?pl:ul);const s={colorFormat:t.RGBA8,depthFormat:a,scaleFactor:r};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(s),i.updateRenderState({layers:[d]}),g=new bc(d.textureWidth,d.textureHeight,{format:fl,type:sl,depthTexture:new bf(d.textureWidth,d.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:f.stencil,colorSpace:e.outputColorSpace,samples:f.antialias?4:0});e.properties.get(g).__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(s),l=null,o=await i.requestReferenceSpace(a),$.setContext(i),$.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode};const k=new Tc,P=new Tc;function D(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCameraXR=function(e){if(null===i)return e;b&&(e=b),T.near=_.near=w.near=e.near,T.far=_.far=w.far=e.far,S===T.near&&E===T.far||(i.updateRenderState({depthNear:T.near,depthFar:T.far}),S=T.near,E=T.far);const t=e.parent,n=T.cameras;D(T,t);for(let e=0;e<n.length;e++)D(n[e],t);return 2===n.length?function(e,t,n){k.setFromMatrixPosition(t.matrixWorld),P.setFromMatrixPosition(n.matrixWorld);const i=k.distanceTo(P),r=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],d=(o[8]+1)/o[0],h=a*u,p=a*d,f=i/(-u+d),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=a+f,v=s+f,y=h-m,b=p+(i-m),w=l*s/v*g,_=c*s/v*g;e.projectionMatrix.makePerspective(y,b,w,_,g,v),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(T,w,_):T.projectionMatrix.copy(w.projectionMatrix),b&&function(e,t){const n=b;null===t?n.matrix.copy(e.matrixWorld):(n.matrix.copy(t.matrixWorld),n.matrix.invert(),n.matrix.multiply(e.matrixWorld));n.matrix.decompose(n.position,n.quaternion,n.scale),n.updateMatrixWorld(!0);const i=n.children;for(let e=0,t=i.length;e<t;e++)i[e].updateMatrixWorld(!0);n.projectionMatrix.copy(e.projectionMatrix),n.projectionMatrixInverse.copy(e.projectionMatrixInverse),n.isPerspectiveCamera&&(n.fov=2*Vl*Math.atan(1/n.projectionMatrix.elements[5]),n.zoom=1)}(T,t),T},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)};let R=null;const $=new jd;$.setAnimationLoop((function(t,i){if(c=i.getViewerPose(l||o),p=i,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let n=!1;t.length!==T.cameras.length&&(T.cameras.length=0,n=!0);for(let i=0;i<t.length;i++){const r=t[i];let o=null;if(null!==h)o=h.getViewport(r);else{const t=u.getViewSubImage(d,r);o=t.viewport,0===i&&(e.setRenderTargetTextures(g,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(g))}let a=x[i];void 0===a&&(a=new Rd,a.layers.enable(i),a.viewport=new yc,x[i]=a),a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(r.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(o.x,o.y,o.width,o.height),0===i&&(T.matrix.copy(a.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===n&&T.cameras.push(a)}}for(let e=0;e<v.length;e++){const t=y[e],n=v[e];null!==t&&void 0!==n&&n.update(t,i,l||o)}R&&R(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),p=null})),this.setAnimationLoop=function(e){R=e},this.dispose=function(){}}}function _f(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function i(i,r){i.opacity.value=r.opacity,r.color&&i.diffuse.value.copy(r.color),r.emissive&&i.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(i.map.value=r.map,n(r.map,i.mapTransform)),r.alphaMap&&(i.alphaMap.value=r.alphaMap,n(r.alphaMap,i.alphaMapTransform)),r.bumpMap&&(i.bumpMap.value=r.bumpMap,n(r.bumpMap,i.bumpMapTransform),i.bumpScale.value=r.bumpScale,1===r.side&&(i.bumpScale.value*=-1)),r.normalMap&&(i.normalMap.value=r.normalMap,n(r.normalMap,i.normalMapTransform),i.normalScale.value.copy(r.normalScale),1===r.side&&i.normalScale.value.negate()),r.displacementMap&&(i.displacementMap.value=r.displacementMap,n(r.displacementMap,i.displacementMapTransform),i.displacementScale.value=r.displacementScale,i.displacementBias.value=r.displacementBias),r.emissiveMap&&(i.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,i.emissiveMapTransform)),r.specularMap&&(i.specularMap.value=r.specularMap,n(r.specularMap,i.specularMapTransform)),r.alphaTest>0&&(i.alphaTest.value=r.alphaTest);const o=t.get(r).envMap;if(o&&(i.envMap.value=o,i.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,i.reflectivity.value=r.reflectivity,i.ior.value=r.ior,i.refractionRatio.value=r.refractionRatio),r.lightMap){i.lightMap.value=r.lightMap;const t=!0===e.useLegacyLights?Math.PI:1;i.lightMapIntensity.value=r.lightMapIntensity*t,n(r.lightMap,i.lightMapTransform)}r.aoMap&&(i.aoMap.value=r.aoMap,i.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,i.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Cd(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,o,a,s){r.isMeshBasicMaterial||r.isMeshLambertMaterial?i(e,r):r.isMeshToonMaterial?(i(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(i(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(i(e,r),function(e,i){e.metalness.value=i.metalness,i.metalnessMap&&(e.metalnessMap.value=i.metalnessMap,n(i.metalnessMap,e.metalnessMapTransform));e.roughness.value=i.roughness,i.roughnessMap&&(e.roughnessMap.value=i.roughnessMap,n(i.roughnessMap,e.roughnessMapTransform));t.get(i).envMap&&(e.envMapIntensity.value=i.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,i){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=i.texture,e.transmissionSamplerSize.value.set(i.width,i.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,r,s)):r.isMeshMatcapMaterial?(i(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?i(e,r):r.isMeshDistanceMaterial?(i(e,r),function(e,n){const i=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(i.matrixWorld),e.nearDistance.value=i.shadow.camera.near,e.farDistance.value=i.shadow.camera.far}(e,r)):r.isMeshNormalMaterial?i(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,i,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*i,e.scale.value=.5*r,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,r,o,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function xf(e,t,n,i){let r={},o={},a=[];const s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(e,t,n){const i=e.value;if(void 0===n[t]){if("number"==typeof i)n[t]=i;else{const e=Array.isArray(i)?i:[i],r=[];for(let t=0;t<e.length;t++)r.push(e[t].clone());n[t]=r}return!0}if("number"==typeof i){if(n[t]!==i)return n[t]=i,!0}else{const e=Array.isArray(n[t])?n[t]:[n[t]],r=Array.isArray(i)?i:[i];for(let t=0;t<e.length;t++){const n=e[t];if(!1===n.equals(r[t]))return n.copy(r[t]),!0}}return!1}function c(e){const t={boundary:0,storage:0};return"number"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const i=a.indexOf(n.__bindingPointIndex);a.splice(i,1),e.deleteBuffer(r[n.id]),delete r[n.id],delete o[n.id]}return{bind:function(e,t){const n=t.program;i.uniformBlockBinding(e,n)},update:function(n,d){let h=r[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const i=16;let r=0;for(let e=0,o=t.length;e<o;e++){const o=t[e],a={boundary:0,storage:0},s=Array.isArray(o.value)?o.value:[o.value];for(let e=0,t=s.length;e<t;e++){const t=c(s[e]);a.boundary+=t.boundary,a.storage+=t.storage}if(o.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),o.__offset=n,e>0){r=n%i;const e=i-r;0!==r&&e-a.boundary<0&&(n+=i-r,o.__offset=n)}n+=a.storage}r=n%i,r>0&&(n+=i-r);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const i=e.createBuffer(),r=t.__size,o=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,i),e.bufferData(e.UNIFORM_BUFFER,r,o),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,i),i}(n),r[n.id]=h,n.addEventListener("dispose",u));const p=d.program;i.updateUBOMapping(n,p);const f=t.render.frame;o[n.id]!==f&&(!function(t){const n=r[t.id],i=t.uniforms,o=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=i.length;t<n;t++){const n=i[t];if(!0===l(n,t,o)){const t=n.__offset,i=Array.isArray(n.value)?n.value:[n.value];let r=0;for(let o=0;o<i.length;o++){const a=i[o],s=c(a);"number"==typeof a?(n.__data[0]=a,e.bufferSubData(e.UNIFORM_BUFFER,t+r,n.__data)):a.isMatrix3?(n.__data[0]=a.elements[0],n.__data[1]=a.elements[1],n.__data[2]=a.elements[2],n.__data[3]=a.elements[0],n.__data[4]=a.elements[3],n.__data[5]=a.elements[4],n.__data[6]=a.elements[5],n.__data[7]=a.elements[0],n.__data[8]=a.elements[6],n.__data[9]=a.elements[7],n.__data[10]=a.elements[8],n.__data[11]=a.elements[0]):(a.toArray(n.__data,r),r+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,n.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),o[n.id]=f)},dispose:function(){for(const t in r)e.deleteBuffer(r[t]);a=[],r={},o={}}}}function Tf(){const e=tc("canvas");return e.style.display="block",e}class Sf{constructor(e={}){const{canvas:t=Tf(),context:n=null,depth:i=!0,stencil:r=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=e;let d;this.isWebGLRenderer=!0,d=null!==n?n.getContextAttributes().alpha:o;const h=new Uint32Array(4),p=new Int32Array(4);let f=null,m=null;const g=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Pl,this.useLegacyLights=!0,this.toneMapping=0,this.toneMappingExposure=1;const y=this;let b=!1,w=0,_=0,x=null,T=-1,S=null;const E=new yc,M=new yc;let A=null;const C=new Hu(0);let k=0,P=t.width,D=t.height,R=1,$=null,I=null;const L=new yc(0,0,P,D),O=new yc(0,0,P,D);let N=!1;const F=new Hd;let B=!1,U=!1,z=null;const V=new Qc,H=new Kl,j=new Tc,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function G(){return null===x?R:1}let q,Z,X,Y,K,J,Q,ee,te,ne,ie,re,oe,ae,se,le,ce,ue,de,he,pe,fe,me,ge,ve=n;function ye(e,n){for(let i=0;i<e.length;i++){const r=e[i],o=t.getContext(r,n);if(null!==o)return o}return null}try{const e={alpha:!0,depth:i,stencil:r,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r153"),t.addEventListener("webglcontextlost",_e,!1),t.addEventListener("webglcontextrestored",xe,!1),t.addEventListener("webglcontextcreationerror",Te,!1),null===ve){const t=["webgl2","webgl","experimental-webgl"];if(!0===y.isWebGL1Renderer&&t.shift(),ve=ye(t,e),null===ve)throw ye(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ve instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===ve.getShaderPrecisionFormat&&(ve.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function be(){q=new bh(ve),Z=new eh(ve,q,e),q.init(Z),fe=new ff(ve,q,Z),X=new hf(ve,q,Z),Y=new xh(ve),K=new Kp,J=new pf(ve,q,X,K,Z,fe,Y),Q=new nh(y),ee=new yh(y),te=new Wd(ve,Z),me=new Jd(ve,q,te,Z),ne=new wh(ve,te,Y,me),ie=new Mh(ve,ne,te,Y),de=new Eh(ve,Z,J),le=new th(K),re=new Yp(y,Q,ee,q,Z,me,le),oe=new _f(y,K),ae=new tf,se=new lf(q,Z),ue=new Kd(y,Q,ee,X,ie,d,s),ce=new df(y,ie,Z),ge=new xf(ve,Y,Z,X),he=new Qd(ve,q,Y,Z),pe=new _h(ve,q,Y,Z),Y.programs=re.programs,y.capabilities=Z,y.extensions=q,y.properties=K,y.renderLists=ae,y.shadowMap=ce,y.state=X,y.info=Y}be();const we=new wf(y,ve);function _e(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function xe(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const e=Y.autoReset,t=ce.enabled,n=ce.autoUpdate,i=ce.needsUpdate,r=ce.type;be(),Y.autoReset=e,ce.enabled=t,ce.autoUpdate=n,ce.needsUpdate=i,ce.type=r}function Te(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Se(e){const t=e.target;t.removeEventListener("dispose",Se),function(e){(function(e){const t=K.get(e).programs;void 0!==t&&(t.forEach((function(e){re.releaseProgram(e)})),e.isShaderMaterial&&re.releaseShaderCache(e))})(e),K.remove(e)}(t)}this.xr=we,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){const e=q.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=q.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(e){void 0!==e&&(R=e,this.setSize(P,D,!1))},this.getSize=function(e){return e.set(P,D)},this.setSize=function(e,n,i=!0){we.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(P=e,D=n,t.width=Math.floor(e*R),t.height=Math.floor(n*R),!0===i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(P*R,D*R).floor()},this.setDrawingBufferSize=function(e,n,i){P=e,D=n,R=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(E)},this.getViewport=function(e){return e.copy(L)},this.setViewport=function(e,t,n,i){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,i),X.viewport(E.copy(L).multiplyScalar(R).floor())},this.getScissor=function(e){return e.copy(O)},this.setScissor=function(e,t,n,i){e.isVector4?O.set(e.x,e.y,e.z,e.w):O.set(e,t,n,i),X.scissor(M.copy(O).multiplyScalar(R).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(e){X.setScissorTest(N=e)},this.setOpaqueSort=function(e){$=e},this.setTransparentSort=function(e){I=e},this.getClearColor=function(e){return e.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(e=!0,t=!0,n=!0){let i=0;if(e){let e=!1;if(null!==x){const t=x.texture.format;e=1033===t||1031===t||1029===t}if(e){const e=x.texture.type,t=e===sl||e===ul||e===ll||e===pl||1017===e||1018===e,n=ue.getClearColor(),i=ue.getClearAlpha(),r=n.r,o=n.g,a=n.b,s=K.get(x).__webglFramebuffer;t?(h[0]=r,h[1]=o,h[2]=a,h[3]=i,ve.clearBufferuiv(ve.COLOR,s,h)):(p[0]=r,p[1]=o,p[2]=a,p[3]=i,ve.clearBufferiv(ve.COLOR,s,p))}else i|=ve.COLOR_BUFFER_BIT}t&&(i|=ve.DEPTH_BUFFER_BIT),n&&(i|=ve.STENCIL_BUFFER_BIT),ve.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",_e,!1),t.removeEventListener("webglcontextrestored",xe,!1),t.removeEventListener("webglcontextcreationerror",Te,!1),ae.dispose(),se.dispose(),K.dispose(),Q.dispose(),ee.dispose(),ie.dispose(),me.dispose(),ge.dispose(),re.dispose(),we.dispose(),we.removeEventListener("sessionstart",Me),we.removeEventListener("sessionend",Ae),z&&(z.dispose(),z=null),Ce.stop()},this.renderBufferDirect=function(e,t,n,i,r,o){null===t&&(t=W);const a=r.isMesh&&r.matrixWorld.determinant()<0,s=function(e,t,n,i,r){!0!==t.isScene&&(t=W);J.resetTextureUnits();const o=t.fog,a=i.isMeshStandardMaterial?t.environment:null,s=null===x?y.outputColorSpace:!0===x.isXRRenderTarget?x.texture.colorSpace:Dl,l=(i.isMeshStandardMaterial?ee:Q).get(i.envMap||a),c=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!i.normalMap||i.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,f=i.toneMapped?y.toneMapping:0,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==g?g.length:0,b=K.get(i),w=m.state.lights;if(!0===B&&(!0===U||e!==S)){const t=e===S&&i.id===T;le.setState(i,e,t)}let _=!1;i.version===b.__version?b.needsLights&&b.lightsStateVersion!==w.state.version||b.outputColorSpace!==s||r.isInstancedMesh&&!1===b.instancing?_=!0:r.isInstancedMesh||!0!==b.instancing?r.isSkinnedMesh&&!1===b.skinning?_=!0:r.isSkinnedMesh||!0!==b.skinning?b.envMap!==l||!0===i.fog&&b.fog!==o?_=!0:void 0===b.numClippingPlanes||b.numClippingPlanes===le.numPlanes&&b.numIntersection===le.numIntersection?(b.vertexAlphas!==c||b.vertexTangents!==u||b.morphTargets!==d||b.morphNormals!==h||b.morphColors!==p||b.toneMapping!==f||!0===Z.isWebGL2&&b.morphTargetsCount!==v)&&(_=!0):_=!0:_=!0:_=!0:(_=!0,b.__version=i.version);let E=b.currentProgram;!0===_&&(E=$e(i,t,r));let M=!1,A=!1,C=!1;const k=E.getUniforms(),P=b.uniforms;X.useProgram(E.program)&&(M=!0,A=!0,C=!0);i.id!==T&&(T=i.id,A=!0);if(M||S!==e){if(k.setValue(ve,"projectionMatrix",e.projectionMatrix),Z.logarithmicDepthBuffer&&k.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),S!==e&&(S=e,A=!0,C=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshStandardMaterial||i.envMap){const t=k.map.cameraPosition;void 0!==t&&t.setValue(ve,j.setFromMatrixPosition(e.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&k.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.isShadowMaterial||r.isSkinnedMesh)&&k.setValue(ve,"viewMatrix",e.matrixWorldInverse)}if(r.isSkinnedMesh){k.setOptional(ve,r,"bindMatrix"),k.setOptional(ve,r,"bindMatrixInverse");const e=r.skeleton;e&&(Z.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),k.setValue(ve,"boneTexture",e.boneTexture,J),k.setValue(ve,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const $=n.morphAttributes;(void 0!==$.position||void 0!==$.normal||void 0!==$.color&&!0===Z.isWebGL2)&&de.update(r,n,E);(A||b.receiveShadow!==r.receiveShadow)&&(b.receiveShadow=r.receiveShadow,k.setValue(ve,"receiveShadow",r.receiveShadow));i.isMeshGouraudMaterial&&null!==i.envMap&&(P.envMap.value=l,P.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);A&&(k.setValue(ve,"toneMappingExposure",y.toneMappingExposure),b.needsLights&&(L=C,(I=P).ambientLightColor.needsUpdate=L,I.lightProbe.needsUpdate=L,I.directionalLights.needsUpdate=L,I.directionalLightShadows.needsUpdate=L,I.pointLights.needsUpdate=L,I.pointLightShadows.needsUpdate=L,I.spotLights.needsUpdate=L,I.spotLightShadows.needsUpdate=L,I.rectAreaLights.needsUpdate=L,I.hemisphereLights.needsUpdate=L),o&&!0===i.fog&&oe.refreshFogUniforms(P,o),oe.refreshMaterialUniforms(P,i,R,D,z),Pp.upload(ve,b.uniformsList,P,J));var I,L;i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Pp.upload(ve,b.uniformsList,P,J),i.uniformsNeedUpdate=!1);i.isSpriteMaterial&&k.setValue(ve,"center",r.center);if(k.setValue(ve,"modelViewMatrix",r.modelViewMatrix),k.setValue(ve,"normalMatrix",r.normalMatrix),k.setValue(ve,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial){const e=i.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(Z.isWebGL2){const n=e[t];ge.update(n,E),ge.bind(n,E)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return E}(e,t,n,i,r);X.setMaterial(i,a);let l=n.index,c=1;!0===i.wireframe&&(l=ne.getWireframeAttribute(n),c=2);const u=n.drawRange,d=n.attributes.position;let h=u.start*c,p=(u.start+u.count)*c;null!==o&&(h=Math.max(h,o.start*c),p=Math.min(p,(o.start+o.count)*c)),null!==l?(h=Math.max(h,0),p=Math.min(p,l.count)):null!=d&&(h=Math.max(h,0),p=Math.min(p,d.count));const f=p-h;if(f<0||f===1/0)return;let g;me.setup(r,i,s,n,l);let v=he;if(null!==l&&(g=te.get(l),v=pe,v.setIndex(g)),r.isMesh)!0===i.wireframe?(X.setLineWidth(i.wireframeLinewidth*G()),v.setMode(ve.LINES)):v.setMode(ve.TRIANGLES);else if(r.isLine){let e=i.linewidth;void 0===e&&(e=1),X.setLineWidth(e*G()),r.isLineSegments?v.setMode(ve.LINES):r.isLineLoop?v.setMode(ve.LINE_LOOP):v.setMode(ve.LINE_STRIP)}else r.isPoints?v.setMode(ve.POINTS):r.isSprite&&v.setMode(ve.TRIANGLES);if(r.isInstancedMesh)v.renderInstances(h,f,r.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);v.renderInstances(h,f,t)}else v.render(h,f)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,$e(e,t,n),e.side=0,e.needsUpdate=!0,$e(e,t,n),e.side=2):$e(e,t,n)}m=se.get(e),m.init(),v.push(m),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))})),m.setupLights(y.useLegacyLights),e.traverse((function(t){const i=t.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){n(i[r],e,t)}else n(i,e,t)})),v.pop(),m=null};let Ee=null;function Me(){Ce.stop()}function Ae(){Ce.start()}const Ce=new jd;function ke(e,t,n,i){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)m.pushLight(e),e.castShadow&&m.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||F.intersectsSprite(e)){i&&j.setFromMatrixPosition(e.matrixWorld).applyMatrix4(V);const t=ie.update(e),r=e.material;r.visible&&f.push(e,t,r,n,j.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||F.intersectsObject(e))){e.isSkinnedMesh&&e.skeleton.frame!==Y.render.frame&&(e.skeleton.update(),e.skeleton.frame=Y.render.frame);const t=ie.update(e),r=e.material;if(i&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),j.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),j.copy(t.boundingSphere.center)),j.applyMatrix4(e.matrixWorld).applyMatrix4(V)),Array.isArray(r)){const i=t.groups;for(let o=0,a=i.length;o<a;o++){const a=i[o],s=r[a.materialIndex];s&&s.visible&&f.push(e,t,s,n,j.z,a)}}else r.visible&&f.push(e,t,r,n,j.z,null)}const r=e.children;for(let e=0,o=r.length;e<o;e++)ke(r[e],t,n,i)}function Pe(e,t,n,i){const r=e.opaque,o=e.transmissive,s=e.transparent;m.setupLightsView(n),!0===B&&le.setGlobalState(y.clippingPlanes,n),o.length>0&&function(e,t,n,i){const r=Z.isWebGL2;null===z&&(z=new bc(1,1,{generateMipmaps:!0,type:q.has("EXT_color_buffer_half_float")?hl:sl,minFilter:al,samples:r&&!0===a?4:0}));y.getDrawingBufferSize(H),r?z.setSize(H.x,H.y):z.setSize(Zl(H.x),Zl(H.y));const o=y.getRenderTarget();y.setRenderTarget(z),y.getClearColor(C),k=y.getClearAlpha(),k<1&&y.setClearColor(16777215,.5);y.clear();const s=y.toneMapping;y.toneMapping=0,De(e,n,i),J.updateMultisampleRenderTarget(z),J.updateRenderTargetMipmap(z);let l=!1;for(let e=0,r=t.length;e<r;e++){const r=t[e],o=r.object,a=r.geometry,s=r.material,c=r.group;if(2===s.side&&o.layers.test(i.layers)){const e=s.side;s.side=1,s.needsUpdate=!0,Re(o,n,i,a,s,c),s.side=e,s.needsUpdate=!0,l=!0}}!0===l&&(J.updateMultisampleRenderTarget(z),J.updateRenderTargetMipmap(z));y.setRenderTarget(o),y.setClearColor(C,k),y.toneMapping=s}(r,o,t,n),i&&X.viewport(E.copy(i)),r.length>0&&De(r,t,n),o.length>0&&De(o,t,n),s.length>0&&De(s,t,n),X.buffers.depth.setTest(!0),X.buffers.depth.setMask(!0),X.buffers.color.setMask(!0),X.setPolygonOffset(!1)}function De(e,t,n){const i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,o=e.length;r<o;r++){const o=e[r],a=o.object,s=o.geometry,l=null===i?o.material:i,c=o.group;a.layers.test(n.layers)&&Re(a,t,n,s,l,c)}}function Re(e,t,n,i,r,o){e.onBeforeRender(y,t,n,i,r,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),r.onBeforeRender(y,t,n,i,e,o),!0===r.transparent&&2===r.side&&!1===r.forceSinglePass?(r.side=1,r.needsUpdate=!0,y.renderBufferDirect(n,t,i,r,e,o),r.side=0,r.needsUpdate=!0,y.renderBufferDirect(n,t,i,r,e,o),r.side=2):y.renderBufferDirect(n,t,i,r,e,o),e.onAfterRender(y,t,n,i,r,o)}function $e(e,t,n){!0!==t.isScene&&(t=W);const i=K.get(e),r=m.state.lights,o=m.state.shadowsArray,a=r.state.version,s=re.getParameters(e,r.state,o,t,n),l=re.getProgramCacheKey(s);let c=i.programs;i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=(e.isMeshStandardMaterial?ee:Q).get(e.envMap||i.environment),void 0===c&&(e.addEventListener("dispose",Se),c=new Map,i.programs=c);let u=c.get(l);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===a)return Ie(e,s),u}else s.uniforms=re.getUniforms(e),e.onBuild(n,s,y),e.onBeforeCompile(s,y),u=re.acquireProgram(s,l),c.set(l,u),i.uniforms=s.uniforms;const d=i.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=le.uniform),Ie(e,s),i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=a,i.needsLights&&(d.ambientLightColor.value=r.state.ambient,d.lightProbe.value=r.state.probe,d.directionalLights.value=r.state.directional,d.directionalLightShadows.value=r.state.directionalShadow,d.spotLights.value=r.state.spot,d.spotLightShadows.value=r.state.spotShadow,d.rectAreaLights.value=r.state.rectArea,d.ltc_1.value=r.state.rectAreaLTC1,d.ltc_2.value=r.state.rectAreaLTC2,d.pointLights.value=r.state.point,d.pointLightShadows.value=r.state.pointShadow,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotLightMatrix.value=r.state.spotLightMatrix,d.spotLightMap.value=r.state.spotLightMap,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix);const h=u.getUniforms(),p=Pp.seqWithValue(h.seq,d);return i.currentProgram=u,i.uniformsList=p,u}function Ie(e,t){const n=K.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Ce.setAnimationLoop((function(e){Ee&&Ee(e)})),"undefined"!=typeof self&&Ce.setContext(self),this.setAnimationLoop=function(e){Ee=e,we.setAnimationLoop(e),null===e?Ce.stop():Ce.start()},we.addEventListener("sessionstart",Me),we.addEventListener("sessionend",Ae),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(t=we.updateCameraXR(t)),!0===e.isScene&&e.onBeforeRender(y,e,t,x),m=se.get(e,v.length),m.init(),v.push(m),V.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),F.setFromProjectionMatrix(V),U=this.localClippingEnabled,B=le.init(this.clippingPlanes,U),f=ae.get(e,g.length),f.init(),g.push(f),ke(e,t,0,y.sortObjects),f.finish(),!0===y.sortObjects&&f.sort($,I),!0===B&&le.beginShadows();const n=m.state.shadowsArray;if(ce.render(n,e,t),!0===B&&le.endShadows(),!0===this.info.autoReset&&this.info.reset(),this.info.render.frame++,ue.render(f,e),m.setupLights(y.useLegacyLights),t.isArrayCamera){const n=t.cameras;for(let t=0,i=n.length;t<i;t++){const i=n[t];Pe(f,e,i,i.viewport)}}else Pe(f,e,t);null!==x&&(J.updateMultisampleRenderTarget(x),J.updateRenderTargetMipmap(x)),!0===e.isScene&&e.onAfterRender(y,e,t),me.resetDefaultState(),T=-1,S=null,v.pop(),m=v.length>0?v[v.length-1]:null,g.pop(),f=g.length>0?g[g.length-1]:null},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(e,t,n){K.get(e.texture).__webglTexture=t,K.get(e.depthTexture).__webglTexture=n;const i=K.get(e);i.__hasExternalTextures=!0,i.__hasExternalTextures&&(i.__autoAllocateDepthBuffer=void 0===n,i.__autoAllocateDepthBuffer||!0===q.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),i.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=K.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){x=e,w=t,_=n;let i=!0,r=null,o=!1,a=!1;if(e){const n=K.get(e);void 0!==n.__useDefaultFramebuffer?(X.bindFramebuffer(ve.FRAMEBUFFER,null),i=!1):void 0===n.__webglFramebuffer?J.setupRenderTarget(e):n.__hasExternalTextures&&J.rebindTextures(e,K.get(e.texture).__webglTexture,K.get(e.depthTexture).__webglTexture);const s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(a=!0);const l=K.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=l[t],o=!0):r=Z.isWebGL2&&e.samples>0&&!1===J.useMultisampledRTT(e)?K.get(e).__webglMultisampledFramebuffer:l,E.copy(e.viewport),M.copy(e.scissor),A=e.scissorTest}else E.copy(L).multiplyScalar(R).floor(),M.copy(O).multiplyScalar(R).floor(),A=N;if(X.bindFramebuffer(ve.FRAMEBUFFER,r)&&Z.drawBuffers&&i&&X.drawBuffers(e,r),X.viewport(E),X.scissor(M),X.setScissorTest(A),o){const i=K.get(e.texture);ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_CUBE_MAP_POSITIVE_X+t,i.__webglTexture,n)}else if(a){const i=K.get(e.texture),r=t||0;ve.framebufferTextureLayer(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,i.__webglTexture,n||0,r)}T=-1},this.readRenderTargetPixels=function(e,t,n,i,r,o,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=K.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){X.bindFramebuffer(ve.FRAMEBUFFER,s);try{const a=e.texture,s=a.format,l=a.type;if(s!==fl&&fe.convert(s)!==ve.getParameter(ve.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===hl&&(q.has("EXT_color_buffer_half_float")||Z.isWebGL2&&q.has("EXT_color_buffer_float"));if(!(l===sl||fe.convert(l)===ve.getParameter(ve.IMPLEMENTATION_COLOR_READ_TYPE)||l===dl&&(Z.isWebGL2||q.has("OES_texture_float")||q.has("WEBGL_color_buffer_float"))||c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&ve.readPixels(t,n,i,r,fe.convert(s),fe.convert(l),o)}finally{const e=null!==x?K.get(x).__webglFramebuffer:null;X.bindFramebuffer(ve.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){const i=Math.pow(2,-n),r=Math.floor(t.image.width*i),o=Math.floor(t.image.height*i);J.setTexture2D(t,0),ve.copyTexSubImage2D(ve.TEXTURE_2D,n,0,0,e.x,e.y,r,o),X.unbindTexture()},this.copyTextureToTexture=function(e,t,n,i=0){const r=t.image.width,o=t.image.height,a=fe.convert(n.format),s=fe.convert(n.type);J.setTexture2D(n,0),ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,n.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?ve.texSubImage2D(ve.TEXTURE_2D,i,e.x,e.y,r,o,a,s,t.image.data):t.isCompressedTexture?ve.compressedTexSubImage2D(ve.TEXTURE_2D,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):ve.texSubImage2D(ve.TEXTURE_2D,i,e.x,e.y,a,s,t.image),0===i&&n.generateMipmaps&&ve.generateMipmap(ve.TEXTURE_2D),X.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,i,r=0){if(y.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=e.max.x-e.min.x+1,a=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=fe.convert(i.format),c=fe.convert(i.type);let u;if(i.isData3DTexture)J.setTexture3D(i,0),u=ve.TEXTURE_3D;else{if(!i.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");J.setTexture2DArray(i,0),u=ve.TEXTURE_2D_ARRAY}ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,i.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,i.unpackAlignment);const d=ve.getParameter(ve.UNPACK_ROW_LENGTH),h=ve.getParameter(ve.UNPACK_IMAGE_HEIGHT),p=ve.getParameter(ve.UNPACK_SKIP_PIXELS),f=ve.getParameter(ve.UNPACK_SKIP_ROWS),m=ve.getParameter(ve.UNPACK_SKIP_IMAGES),g=n.isCompressedTexture?n.mipmaps[0]:n.image;ve.pixelStorei(ve.UNPACK_ROW_LENGTH,g.width),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,g.height),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,e.min.x),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,e.min.y),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?ve.texSubImage3D(u,r,t.x,t.y,t.z,o,a,s,l,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ve.compressedTexSubImage3D(u,r,t.x,t.y,t.z,o,a,s,l,g.data)):ve.texSubImage3D(u,r,t.x,t.y,t.z,o,a,s,l,c,g),ve.pixelStorei(ve.UNPACK_ROW_LENGTH,d),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,h),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,p),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,f),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,m),0===r&&i.generateMipmaps&&ve.generateMipmap(u),X.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?J.setTextureCube(e,0):e.isData3DTexture?J.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?J.setTexture2DArray(e,0):J.setTexture2D(e,0),X.unbindTexture()},this.resetState=function(){w=0,_=0,x=null,X.reset(),me.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Nl}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Pl?Cl:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Cl?Pl:Dl}}(class extends Sf{}).prototype.isWebGL1Renderer=!0;class Ef extends Su{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Mf extends Fu{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Hu(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Af=new Tc,Cf=new Tc,kf=new Qc,Pf=new Jc,Df=new jc;class Rf extends Su{constructor(e=new od,t=new Mf){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)Af.fromBufferAttribute(t,e-1),Cf.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Af.distanceTo(Cf);e.setAttribute("lineDistance",new Ku(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Df.copy(n.boundingSphere),Df.applyMatrix4(i),Df.radius+=r,!1===e.ray.intersectsSphere(Df))return;kf.copy(i).invert(),Pf.copy(e.ray).applyMatrix4(kf);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new Tc,c=new Tc,u=new Tc,d=new Tc,h=this.isLineSegments?2:1,p=n.index,f=n.attributes.position;if(null!==p){for(let n=Math.max(0,o.start),i=Math.min(p.count,o.start+o.count)-1;n<i;n+=h){const i=p.getX(n),r=p.getX(n+1);l.fromBufferAttribute(f,i),c.fromBufferAttribute(f,r);if(Pf.distanceSqToSegment(l,c,d,u)>s)continue;d.applyMatrix4(this.matrixWorld);const o=e.ray.origin.distanceTo(d);o<e.near||o>e.far||t.push({distance:o,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else{for(let n=Math.max(0,o.start),i=Math.min(f.count,o.start+o.count)-1;n<i;n+=h){l.fromBufferAttribute(f,n),c.fromBufferAttribute(f,n+1);if(Pf.distanceSqToSegment(l,c,d,u)>s)continue;d.applyMatrix4(this.matrixWorld);const i=e.ray.origin.distanceTo(d);i<e.near||i>e.far||t.push({distance:i,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}const $f=new Tc,If=new Tc;class Lf extends Rf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)$f.fromBufferAttribute(t,e),If.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+$f.distanceTo(If);e.setAttribute("lineDistance",new Ku(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Of extends od{constructor(e=1,t=32,n=0,i=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const r=[],o=[],a=[],s=[],l=new Tc,c=new Kl;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let r=0,u=3;r<=t;r++,u+=3){const d=n+r/t*i;l.x=e*Math.cos(d),l.y=e*Math.sin(d),o.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(o[u]/e+1)/2,c.y=(o[u+1]/e+1)/2,s.push(c.x,c.y)}for(let e=1;e<=t;e++)r.push(e,e+1,0);this.setIndex(r),this.setAttribute("position",new Ku(o,3)),this.setAttribute("normal",new Ku(a,3)),this.setAttribute("uv",new Ku(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Of(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Nf extends od{constructor(e=.5,t=1,n=32,i=1,r=0,o=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},n=Math.max(3,n);const a=[],s=[],l=[],c=[];let u=e;const d=(t-e)/(i=Math.max(1,i)),h=new Tc,p=new Kl;for(let e=0;e<=i;e++){for(let e=0;e<=n;e++){const i=r+e/n*o;h.x=u*Math.cos(i),h.y=u*Math.sin(i),s.push(h.x,h.y,h.z),l.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,c.push(p.x,p.y)}u+=d}for(let e=0;e<i;e++){const t=e*(n+1);for(let e=0;e<n;e++){const i=e+t,r=i,o=i+n+1,s=i+n+2,l=i+1;a.push(r,o,l),a.push(o,s,l)}}this.setIndex(a),this.setAttribute("position",new Ku(s,3)),this.setAttribute("normal",new Ku(l,3)),this.setAttribute("uv",new Ku(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nf(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}function Ff(e,t,n){return Uf(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function Bf(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Uf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}class zf{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(e>=r)break e;{const a=t[1];e<a&&(n=2,r=a);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0}}for(;n<o;){const i=n+o>>>1;e<t[i]?o=i:n=i+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===i)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let e=0;e!==i;++e)t[e]=n[r+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Vf extends zf{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:El,endingEnd:El}}intervalChanged_(e,t,n){const i=this.parameterPositions;let r=e-2,o=e+1,a=i[r],s=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case Ml:r=e,a=2*t-n;break;case Al:r=i.length-2,a=t+i[r]-i[r+1];break;default:r=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Ml:o=e,s=2*n-t;break;case Al:o=1,s=n+i[1]-i[0];break;default:o=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=o*c}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(i-t),f=p*p,m=f*p,g=-d*m+2*d*f-d*p,v=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,b=h*m-h*f;for(let e=0;e!==a;++e)r[e]=g*o[c+e]+v*o[l+e]+y*o[s+e]+b*o[u+e];return r}}class Hf extends zf{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(i-t),u=1-c;for(let e=0;e!==a;++e)r[e]=o[l+e]*u+o[s+e]*c;return r}}class jf extends zf{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Wf{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Bf(t,this.TimeBufferType),this.values=Bf(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Bf(e.times,Array),values:Bf(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new jf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Hf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Vf(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case xl:t=this.InterpolantFactoryMethodDiscrete;break;case Tl:t=this.InterpolantFactoryMethodLinear;break;case Sl:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xl;case this.InterpolantFactoryMethodLinear:return Tl;case this.InterpolantFactoryMethodSmooth:return Sl}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const e=this.getValueSize();this.times=Ff(n,r,o),this.values=Ff(this.values,r*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let t=0;t!==r;t++){const i=n[t];if("number"==typeof i&&isNaN(i)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,i),e=!1;break}if(null!==o&&o>i){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,i,o),e=!1;break}o=i}if(void 0!==i&&Uf(i))for(let t=0,n=i.length;t!==n;++t){const n=i[t];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,n),e=!1;break}}return e}optimize(){const e=Ff(this.times),t=Ff(this.values),n=this.getValueSize(),i=this.getInterpolation()===Sl,r=e.length-1;let o=1;for(let a=1;a<r;++a){let r=!1;const s=e[a];if(s!==e[a+1]&&(1!==a||s!==e[0]))if(i)r=!0;else{const e=a*n,i=e-n,o=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[i+a]||n!==t[o+a]){r=!0;break}}}if(r){if(a!==o){e[o]=e[a];const i=a*n,r=o*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++o}}if(r>0){e[o]=e[r];for(let e=r*n,i=o*n,a=0;a!==n;++a)t[i+a]=t[e+a];++o}return o!==e.length?(this.times=Ff(e,0,o),this.values=Ff(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=Ff(this.times,0),t=Ff(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}Wf.prototype.TimeBufferType=Float32Array,Wf.prototype.ValueBufferType=Float32Array,Wf.prototype.DefaultInterpolation=Tl;class Gf extends Wf{}Gf.prototype.ValueTypeName="bool",Gf.prototype.ValueBufferType=Array,Gf.prototype.DefaultInterpolation=xl,Gf.prototype.InterpolantFactoryMethodLinear=void 0,Gf.prototype.InterpolantFactoryMethodSmooth=void 0;class qf extends Wf{}qf.prototype.ValueTypeName="color";class Zf extends Wf{}Zf.prototype.ValueTypeName="number";class Xf extends zf{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(i-t);let l=e*a;for(let e=l+a;l!==e;l+=4)xc.slerpFlat(r,0,o,l-a,o,l,s);return r}}class Yf extends Wf{InterpolantFactoryMethodLinear(e){return new Xf(this.times,this.values,this.getValueSize(),e)}}Yf.prototype.ValueTypeName="quaternion",Yf.prototype.DefaultInterpolation=Tl,Yf.prototype.InterpolantFactoryMethodSmooth=void 0;class Kf extends Wf{}Kf.prototype.ValueTypeName="string",Kf.prototype.ValueBufferType=Array,Kf.prototype.DefaultInterpolation=xl,Kf.prototype.InterpolantFactoryMethodLinear=void 0,Kf.prototype.InterpolantFactoryMethodSmooth=void 0;class Jf extends Wf{}Jf.prototype.ValueTypeName="vector";const Qf={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class em{constructor(e,t,n){const i=this;let r,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===o&&void 0!==i.onStart&&i.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,s),a===s&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}}const tm=new em;class nm{constructor(e){this.manager=void 0!==e?e:tm,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(i,r){n.load(e,i,t,r)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Error;class im extends nm{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Qf.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;const a=tc("img");function s(){c(),Qf.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){c(),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}function c(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class rm extends nm{constructor(e){super(e)}load(e,t,n,i){const r=new vc,o=new im(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}const om="\\[\\]\\.:\\/",am=new RegExp("[\\[\\]\\.:\\/]","g"),sm="[^\\[\\]\\.:\\/]",lm="[^"+om.replace("\\.","")+"]",cm=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",sm)+/(WCOD+)?/.source.replace("WCOD",lm)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",sm)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",sm)+"$"),um=["material","materials","bones","map"];class dm{constructor(e,t,n){this.path=t,this.parsedPath=n||dm.parseTrackName(t),this.node=dm.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new dm.Composite(e,t,n):new dm(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(am,"")}static parseTrackName(e){const t=cm.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const e=n.nodeName.substring(i+1);-1!==um.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let i=0;i<e.length;i++){const r=e[i];if(r.name===t||r.uuid===t)return r;const o=n(r.children);if(o)return o}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=dm.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}const o=e[i];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}dm.Composite=class{constructor(e,t,n){const i=n||dm.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},dm.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},dm.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},dm.prototype.GetterByBindingType=[dm.prototype._getValue_direct,dm.prototype._getValue_array,dm.prototype._getValue_arrayElement,dm.prototype._getValue_toArray],dm.prototype.SetterByBindingTypeAndVersioning=[[dm.prototype._setValue_direct,dm.prototype._setValue_direct_setNeedsUpdate,dm.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[dm.prototype._setValue_array,dm.prototype._setValue_array_setNeedsUpdate,dm.prototype._setValue_array_setMatrixWorldNeedsUpdate],[dm.prototype._setValue_arrayElement,dm.prototype._setValue_arrayElement_setNeedsUpdate,dm.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[dm.prototype._setValue_fromArray,dm.prototype._setValue_fromArray_setNeedsUpdate,dm.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);class hm{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(jl(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const pm=new Kl;class fm{constructor(e=new Kl(1/0,1/0),t=new Kl(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=pm.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,pm).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Gs}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Gs);var mm,gm=a(35657),vm=a.n(gm),ym=(a(97238),{Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-ym.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*ym.Bounce.In(2*e):.5*ym.Bounce.Out(2*e-1)+.5}}}),bm="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},wm=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=bm()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var r=this._tweens[n[i]],o=!t;r&&!1===r.update(e,o)&&!t&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),_m={Linear:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),o=_m.Utils.Linear;return t<0?o(e[0],e[1],i):t>1?o(e[n],e[n-1],n-i):o(e[r],e[r+1>n?n:r+1],i-r)},Bezier:function(e,t){for(var n=0,i=e.length-1,r=Math.pow,o=_m.Utils.Bernstein,a=0;a<=i;a++)n+=r(1-t,i-a)*r(t,a)*e[a]*o(i,a);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),o=_m.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(r=Math.floor(i=n*(1+t))),o(e[(r-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],i-r)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):o(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],i-r)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=_m.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(mm=[1],function(e){var t=1;if(mm[e])return mm[e];for(var n=e;n>1;n--)t*=n;return mm[e]=t,t}),CatmullRom:function(e,t,n,i,r){var o=.5*(n-e),a=.5*(i-t),s=r*r;return(2*t-2*n+o+a)*(r*s)+(-3*t+3*n-2*o-a)*s+o*r+t}}},xm=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Tm=new wm,Sm=function(){function e(e,t){void 0===t&&(t=Tm),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ym.Linear.None,this._interpolationFunction=_m.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=xm.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?bm()+parseFloat(e):e:bm(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,n,i){for(var r in n){var o=e[r],a=Array.isArray(o),s=a?"array":typeof o,l=!a&&Array.isArray(n[r]);if("undefined"!==s&&"function"!==s){if(l){var c=n[r];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,o)),n[r]=[o].concat(c)}if("object"!==s&&!a||!o||l)void 0===t[r]&&(t[r]=o),a||(t[r]*=1),i[r]=l?n[r].slice().reverse():t[r]||0;else{for(var u in t[r]=a?[]:{},o)t[r][u]=o[u];i[r]=a?[]:{},this._setupProperties(o,t[r],n[r],i[r])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=bm()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=bm()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=bm()),void 0===t&&(t=!0),this._isPaused)return!0;var n,i,r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>r)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=0===this._duration||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,s=this._chainedTweens.length;a<s;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,i){for(var r in n)if(void 0!==t[r]){var o=t[r]||0,a=n[r],s=Array.isArray(e[r]),l=Array.isArray(a);!s&&l?e[r]=this._interpolationFunction(a,i):"object"==typeof a&&a?this._updateProperties(e[r],o,a,i):"number"==typeof(a=this._handleRelativeValue(o,a))&&(e[r]=o+(a-o)*i)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),Em=(xm.nextId,Tm);Em.getAll.bind(Em),Em.removeAll.bind(Em),Em.add.bind(Em),Em.remove.bind(Em),Em.update.bind(Em);function Mm(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Am=function(e){Vo()(n,e);var t=Mm(n);function n(e){var i;o()(this,n),i=t.call(this),u()(Uo()(i),"tween",void 0),u()(Uo()(i),"updateHandlers",[]),u()(Uo()(i),"completeHandlers",[]);var r=e.start,a=e.end,s=e.duration,l=e.easing,c=e.repeat,d=e.yoyo;return i.tween=new Sm({value:r}),i.tween.to({value:a}),i.tween.duration(1e3*s),i.tween.onUpdate((function(e){var t=e.value;i.updateHandlers.forEach((function(e){return e(t)}))})),i.tween.onComplete((function(){i.completeHandlers.forEach((function(e){return e(!1)}))})),i.tween.onStop((function(){i.completeHandlers.forEach((function(e){return e(!0)}))})),l&&i.tween.easing(l),c&&i.tween.repeat(c),d&&i.tween.yoyo(d),i}return l()(n,[{key:"isPlaying",value:function(){return this.tween.isPlaying()}},{key:"play",value:function(){this.tween.start()}},{key:"stop",value:function(){this.tween.stop()}},{key:"update",value:function(e){this.tween.update(e)}},{key:"onUpdate",value:function(e){this.updateHandlers.push(e)}},{key:"onComplete",value:function(e){this.completeHandlers.push(e)}},{key:"getId",value:function(){return this.tween.getId()}}]),n}(Bl),Cm=ym.Linear.None,km=ym.Cubic.InOut,Pm=(ym.Cubic.In,ym.Cubic.Out,ym.Quadratic.InOut);function Dm(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Rm=a(15344),$m=function(e){Vo()(n,e);var t=Dm(n);function n(e){var i;o()(this,n),i=t.call(this),u()(Uo()(i),"originalOpacity",0),u()(Uo()(i),"material",new Wu({map:(new rm).load(Rm),side:2,transparent:!0,opacity:i.originalOpacity,depthWrite:!1}));var r={innerRadius:e?.111:.123,outerRadius:e?.145:.169,thetaSegments:64};return i.geometry=new Nf(r.innerRadius,r.outerRadius,r.thetaSegments),i}return l()(n)}(Td),Im=function(e){Vo()(n,e);var t=Dm(n);function n(e,i){var r;o()(this,n),r=t.call(this),u()(Uo()(r),"originalOpacity",.6),u()(Uo()(r),"material",new Wu({transparent:!0,side:2,depthWrite:!1,opacity:r.originalOpacity}));var a={innerRadius:e?.108:.12,outerRadius:e?.111:.123,thetaSegments:64};return i?(r.material.color.set(16777215),a.innerRadius=e?.106:.118,a.outerRadius=e?.111:.123,r.originalOpacity=0,r.material.opacity=0):r.material.color.set("#555555"),r.geometry=new Nf(a.innerRadius,a.outerRadius,a.thetaSegments),r}return l()(n)}(Td),Lm=function(e){Vo()(n,e);var t=Dm(n);function n(e){var i;o()(this,n),i=t.call(this),u()(Uo()(i),"originalOpacity",.6),u()(Uo()(i),"material",new Wu({transparent:!0,side:2,color:16777215,depthWrite:!1,opacity:i.originalOpacity}));var r={innerRadius:e?.078:.09,outerRadius:e?.108:.12,thetaSegments:64};return i.geometry=new Nf(r.innerRadius,r.outerRadius,r.thetaSegments),i}return l()(n)}(Td),Om=function(e){Vo()(n,e);var t=Dm(n);function n(e){var i;o()(this,n),i=t.call(this),u()(Uo()(i),"originalOpacity",.6),u()(Uo()(i),"material",new Wu({transparent:!0,color:"#555555",side:2,depthWrite:!1,opacity:i.originalOpacity}));var r={innerRadius:e?.075:.087,outerRadius:e?.078:.09,thetaSegments:64};return i.geometry=new Nf(r.innerRadius,r.outerRadius,r.thetaSegments),i}return l()(n)}(Td),Nm=function(e){Vo()(n,e);var t=Dm(n);function n(e){var i;o()(this,n),i=t.call(this),u()(Uo()(i),"originalOpacity",0),u()(Uo()(i),"material",new Wu({transparent:!0,color:16777215,side:2,depthWrite:!1,opacity:i.originalOpacity}));var r={radius:e?.065:.077,thetaSegments:64};return i.geometry=new Of(r.radius,r.thetaSegments),i}return l()(n)}(Td),Fm=function(e){Vo()(n,e);var t=Dm(n);function n(e,i,r){var a;o()(this,n),a=t.call(this),u()(Uo()(a),"renderOrder",1),u()(Uo()(a),"data",void 0),u()(Uo()(a),"isShowing",void 0),u()(Uo()(a),"occluded",void 0),u()(Uo()(a),"elements",void 0),u()(Uo()(a),"idleTimeout",void 0),u()(Uo()(a),"boundingBox",new Mc),u()(Uo()(a),"animationManager",void 0),u()(Uo()(a),"navCircleAnimations",{});var s=e.angle,l=e.dist,c=e.occluded;a.data=e;var d=new Im(i,c),h=new $m(i);return a.elements={outerRing:d,circleShadow:h},a.add(d,h),a.occluded=c,c?(a.elements.innerCircle=new Nm(i),a.add(a.elements.innerCircle)):(a.elements.middleRing=new Lm(i),a.elements.innerRing=new Om(i),a.add(a.elements.middleRing,a.elements.innerRing)),a.setPosition(a.calculatePosition(s,l,i)),a.rotation.set(Math.PI/2,0,0),a.computeBoundingBox(),r&&(a.animationManager=r,a.navCircleAnimations.hover=new Am({start:0,end:1,duration:.25,easing:Cm}),a.navCircleAnimations.hover.onUpdate((function(e){a.setHoveredWeight(e)})),a.navCircleAnimations.unhover=new Am({start:1,end:0,duration:.25,easing:Cm}),a.navCircleAnimations.unhover.onUpdate((function(e){a.setHoveredWeight(e)})),a.navCircleAnimations.hide=new Am({start:1,end:0,duration:.25,easing:Cm}),a.navCircleAnimations.hide.onUpdate((function(e){a.setHiddenWeight(e)})),a.navCircleAnimations.show=new Am({start:0,end:1,duration:.25,easing:Cm}),a.navCircleAnimations.show.onUpdate((function(e){a.setHiddenWeight(e)}))),a.idleTimeout=null,a.isShowing=!0,a}return l()(n,[{key:"calculatePosition",value:function(e,t,n){var i=Math.sqrt(t)/1e3,r=i*Math.sin(e)*(n?-.74:-.84);return{x:i*Math.cos(e)*(n?.74:.84),z:r}}},{key:"setPosition",value:function(e){this.position.set(e.x,void 0!==e.y?e.y:-1,e.z)}},{key:"computeBoundingBox",value:function(){this.boundingBox.setFromObject(this)}},{key:"show",value:function(){this.isShowing||this.occluded||(this.isShowing=!0,this.playAnimation(this.navCircleAnimations.show))}},{key:"hover",value:function(){this.isShowing=!0,this.playAnimation(this.navCircleAnimations.hover)}},{key:"unhover",value:function(){this.isShowing=!0,this.playAnimation(this.navCircleAnimations.unhover)}},{key:"idle",set:function(e){var t=this;e&&this.isShowing?this.idleTimeout=window.setTimeout((function(){t.isShowing=!1,t.playAnimation(t.navCircleAnimations.hide)}),3e3):(clearTimeout(this.idleTimeout),this.idleTimeout=null)}},{key:"playAnimation",value:function(e){this.animationManager&&void 0!==e&&(vm()(this.navCircleAnimations).forEach((function(e){e.stop()})),this.animationManager.playAnimation(e))}},{key:"setHoveredWeight",value:function(e){vm()(this.elements).forEach((function(t){t.material.opacity=t.originalOpacity+(1-t.originalOpacity)*e,t.material.needsUpdate=!0}))}},{key:"setHiddenWeight",value:function(e){vm()(this.elements).forEach((function(t){t.material.opacity=t.originalOpacity*e,t.material.needsUpdate=!0}))}},{key:"dispose",value:function(){vm()(this.elements).forEach((function(e){e.material.dispose(),e.geometry.dispose()}))}}]),n}(gf);function Bm(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Um=a(51697),zm=a(15344),Vm=function(e){Vo()(n,e);var t=Bm(n);function n(){var e;o()(this,n),e=t.call(this),u()(Uo()(e),"originalOpacity",0),u()(Uo()(e),"material",new Wu({map:(new rm).load(zm),side:2,transparent:!0,opacity:e.originalOpacity,depthWrite:!1}));var i=.072,r=.096,a=64;return e.geometry=new Nf(i,r,a),e}return l()(n)}(Td),Hm=function(e){Vo()(n,e);var t=Bm(n);function n(){var e;o()(this,n),e=t.call(this),u()(Uo()(e),"originalOpacity",.5),u()(Uo()(e),"material",new Wu({map:(new rm).load(Um),side:2,transparent:!0,opacity:e.originalOpacity,depthWrite:!1}));return e.geometry=new Gd(.15,.15),e}return l()(n)}(Td),jm=function(e){Vo()(n,e);var t=Bm(n);function n(e,i){var r;o()(this,n),r=t.call(this),u()(Uo()(r),"renderOrder",1),u()(Uo()(r),"data",void 0),u()(Uo()(r),"isShowing",void 0),u()(Uo()(r),"elements",void 0),u()(Uo()(r),"idleTimeout",void 0),u()(Uo()(r),"boundingBox",new Mc),u()(Uo()(r),"animationManager",void 0),u()(Uo()(r),"gateAnimations",{});var a=e.angle,s=e.dist;r.data=e;var l=new Hm,c=new Vm;return r.elements={gateImage:l,gateShadow:c},r.add(l,c),r.setPosition(r.calculatePosition(a,s)),r.computeBoundingBox(),i&&(r.animationManager=i,r.gateAnimations.hover=new Am({start:0,end:1,duration:.25,easing:Cm}),r.gateAnimations.hover.onUpdate((function(e){r.setHoveredWeight(e)})),r.gateAnimations.unhover=new Am({start:1,end:0,duration:.25,easing:Cm}),r.gateAnimations.unhover.onUpdate((function(e){r.setHoveredWeight(e)})),r.gateAnimations.hide=new Am({start:1,end:0,duration:.25,easing:Cm}),r.gateAnimations.hide.onUpdate((function(e){r.setHiddenWeight(e)})),r.gateAnimations.show=new Am({start:0,end:1,duration:.25,easing:Cm}),r.gateAnimations.show.onUpdate((function(e){r.setHiddenWeight(e)}))),r.idleTimeout=null,r.isShowing=!0,r}return l()(n,[{key:"calculatePosition",value:function(e,t){var n=Math.sqrt(t)/1e3,i=n>=1.2?.41:.75,r=n*Math.sin(e)*-i;return{x:n*Math.cos(e)*i,z:r}}},{key:"setPosition",value:function(e){this.position.set(e.x,void 0!==e.y?e.y:-.18,e.z);var t=Math.atan(e.x/e.z);this.rotation.set(0,t,0)}},{key:"computeBoundingBox",value:function(){this.boundingBox.setFromObject(this)}},{key:"show",value:function(){this.isShowing||(this.isShowing=!0,this.playAnimation(this.gateAnimations.show))}},{key:"hover",value:function(){this.isShowing=!0,this.playAnimation(this.gateAnimations.hover)}},{key:"unhover",value:function(){this.isShowing=!0,this.playAnimation(this.gateAnimations.unhover)}},{key:"idle",set:function(e){var t=this;e&&this.isShowing?this.idleTimeout=window.setTimeout((function(){t.isShowing=!1,t.playAnimation(t.gateAnimations.hide)}),3e3):(clearTimeout(this.idleTimeout),this.idleTimeout=null)}},{key:"playAnimation",value:function(e){this.animationManager&&void 0!==e&&(vm()(this.gateAnimations).forEach((function(e){e.stop()})),this.animationManager.playAnimation(e))}},{key:"setHoveredWeight",value:function(e){vm()(this.elements).forEach((function(t){t.material.opacity=t.originalOpacity+(1-t.originalOpacity)*e,t.material.needsUpdate=!0}))}},{key:"setHiddenWeight",value:function(e){vm()(this.elements).forEach((function(t){t.material.opacity=t.originalOpacity*e,t.material.needsUpdate=!0}))}},{key:"dispose",value:function(){vm()(this.elements).forEach((function(e){e.material.dispose(),e.geometry.dispose()}))}}]),n}(gf);function Wm(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Gm=23.81,qm=41.67,Zm=59.52,Xm=62.5,Ym=64,Km=16777215,Jm=16777215,Qm=function(e){Vo()(n,e);var t=Wm(n);function n(e){var i;return o()(this,n),i=t.call(this),u()(Uo()(i),"geometry",new Of(Gm,Ym)),u()(Uo()(i),"material",new Wu({transparent:!0})),i.material.color.set(e),i}return l()(n)}(Td),eg=function(e){Vo()(n,e);var t=Wm(n);function n(){var e;o()(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),u()(Uo()(e),"geometry",new Nf(Gm,qm,Ym)),u()(Uo()(e),"material",new Wu({color:Km,transparent:!0})),e}return l()(n)}(Td),tg=function(e){Vo()(n,e);var t=Wm(n);function n(e){var i;return o()(this,n),i=t.call(this),u()(Uo()(i),"geometry",new Nf(qm,Zm,Ym)),u()(Uo()(i),"material",new Wu({transparent:!0})),i.material.color.set(e),i}return l()(n)}(Td),ng=function(e){Vo()(n,e);var t=Wm(n);function n(){var e;o()(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),u()(Uo()(e),"geometry",new Nf(Zm,Xm,Ym)),u()(Uo()(e),"material",new Wu({color:Km,transparent:!0})),e}return l()(n)}(Td),ig=function(e){Vo()(n,e);var t=Wm(n);function n(){var e;o()(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),u()(Uo()(e),"geometry",new Of(3,Ym)),u()(Uo()(e),"material",new Wu({color:Jm,transparent:!0})),e}return l()(n)}(Td),rg=function(e){Vo()(n,e);var t=Wm(n);function n(e){var i;return o()(this,n),i=t.call(this),u()(Uo()(i),"geometry",new od),u()(Uo()(i),"material",new Mf({color:Jm,transparent:!0})),u()(Uo()(i),"_length",0),i.length=e,i}return l()(n,[{key:"length",get:function(){return this._length},set:function(e){this._length=e,this.geometry.setFromPoints([new Tc(0,0,0),new Tc(0,e,0)])}}]),n}(Lf),og=function(e){Vo()(n,e);var t=Wm(n);function n(e,i,r){var a;o()(this,n),a=t.call(this),u()(Uo()(a),"renderOrder",1),u()(Uo()(a),"tagId",void 0),u()(Uo()(a),"elements",void 0),u()(Uo()(a),"originalOpacity",1),u()(Uo()(a),"circleScale",1),u()(Uo()(a),"stemPointScale",1),u()(Uo()(a),"stemLength",0),u()(Uo()(a),"boundingBox",new Mc),u()(Uo()(a),"animationManager",void 0),u()(Uo()(a),"tagHotspotAnimations",{}),u()(Uo()(a),"hovered",!1),u()(Uo()(a),"pinned",!1),a.tagId=e.id;var s=Ii(e.color);void 0!==r&&(a.circleScale=sg(r),a.stemPointScale=lg(r));var l=new eg;l.scale.setScalar(a.circleScale);var c=new tg(s);c.scale.setScalar(a.circleScale);var d=new ng;if(d.scale.setScalar(a.circleScale),a.elements={innerRing:l,middleRing:c,outerRing:d},1===e.design){var h=new Qm(s);h.scale.setScalar(a.circleScale),a.elements.innerCircle=h}if(void 0!==e.stem&&0!==e.stem){var p=new ig;p.scale.setScalar(a.stemPointScale),a.elements.stemPoint=p,a.stemLength=Math.abs(10*e.stem);var f=a.stemLength-Xm*a.circleScale,m=new rg(f);m.rotation.z=e.stem>0?0:Math.PI,a.elements.stem=m;var g=e.stem>0?a.stemLength:-a.stemLength;a.elements.innerRing.position.y=g,a.elements.middleRing.position.y=g,a.elements.outerRing.position.y=g,a.elements.innerCircle&&(a.elements.innerCircle.position.y=g)}return a.originalOpacity=void 0!==e.opacity?1===e.opacity?0:.01*e.opacity:.75,a.originalOpacity<1&&vm()(a.elements).forEach((function(e){e.material.opacity=a.originalOpacity,e.material.needsUpdate=!0})),Bs()(a.elements).forEach((function(e){var t=O()(e,2),n=t[0],i=t[1];i.name=n,a.add(i)})),i&&(a.animationManager=i,a.tagHotspotAnimations.hover=new Am({start:0,end:1,duration:.25,easing:km}),a.tagHotspotAnimations.hover.onUpdate((function(e){a.setHoveredWeight(e)})),a.tagHotspotAnimations.unhover=new Am({start:1,end:0,duration:.25,easing:km}),a.tagHotspotAnimations.unhover.onUpdate((function(e){a.setHoveredWeight(e)})),a.tagHotspotAnimations.highlight=new Am({start:a.circleScale,end:1.5*a.circleScale,duration:.4,easing:Pm,repeat:1,yoyo:!0}),a.tagHotspotAnimations.highlight.onUpdate((function(e){a.setScale(e)}))),a}return l()(n,[{key:"dispose",value:function(){vm()(this.elements).forEach((function(e){e.geometry.dispose(),e.material.dispose()}))}},{key:"computeBoundingBox",value:function(){this.boundingBox.setFromObject(this.elements.outerRing)}},{key:"hover",value:function(){this.hovered||(this.hovered=!0,this.pinned||this.playAnimation(this.tagHotspotAnimations.hover))}},{key:"unhover",value:function(){this.hovered&&(this.hovered=!1,this.pinned||this.playAnimation(this.tagHotspotAnimations.unhover))}},{key:"pin",value:function(){this.pinned||(this.pinned=!0,this.hovered||this.playAnimation(this.tagHotspotAnimations.hover))}},{key:"unpin",value:function(){this.pinned&&(this.pinned=!1,this.hovered||this.playAnimation(this.tagHotspotAnimations.unhover))}},{key:"highlight",value:function(){this.playAnimation(this.tagHotspotAnimations.highlight)}},{key:"setScale",value:function(e){var t=this.elements,n=t.innerRing,i=t.middleRing,r=t.outerRing,o=t.innerCircle,a=t.stem;if(n.scale.setScalar(e),i.scale.setScalar(e),r.scale.setScalar(e),o&&o.scale.setScalar(e),a){var s=this.stemLength-e*Xm;a.length=s}}},{key:"setOpacity",value:function(e){vm()(this.elements).forEach((function(t){t.material.opacity=e,t.material.needsUpdate=!0}))}},{key:"playAnimation",value:function(e){this.animationManager&&void 0!==e&&(vm()(this.tagHotspotAnimations).forEach((function(e){e.stop()})),this.animationManager.playAnimation(e))}},{key:"setHoveredWeight",value:function(e){var t=this.originalOpacity+(1-this.originalOpacity)*e;this.setOpacity(t);var n=this.circleScale+.25*this.circleScale*e;this.setScale(n)}}]),n}(gf),ag=function(e,t){var n=sa(t),i={x:e.coords.x-n.x,y:e.coords.y,z:e.coords.z-n.z},r=ia(i),o=ha(i),a=o.elevation,s=o.azimuth;return(new Tc).setFromSphericalCoords(r,.5*Math.PI-a,s+.5*Math.PI)},sg=function(e){var t=Math.abs(e);return t>8e3?t/8e3:t<2e3?t/2e3:1},lg=function(e){return Math.abs(e)/2e3},cg=function(e,t,n){var i=e.clone().project(t),r=.5*n.x,o=.5*n.y;return new Kl(i.x*r+r,-i.y*o+o)},ug=function(e,t,n,i){var r=function(e){var t=(new Qc).multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse);return(new Hd).setFromProjectionMatrix(t)}(n),o=e.filter((function(e){return function(e,t){return t.intersectsBox(e.boundingBox)}(e,r)})),a=o.reduce((function(e,r){if(r instanceof og){var o=function(e,t,n){var i=cg(e.min,t,n),r=cg(e.max,t,n);return new fm(i,r)}(r.boundingBox,n,i),a=(new Kl).addVectors(o.min,o.max).divideScalar(2),s=(new Kl).subVectors(o.max,o.min),l=(new Kl).subVectors(t,a),c=Math.sqrt(Math.pow(l.x,2)+Math.pow(l.y,2))-.5*(Math.abs(s.x)+Math.abs(s.y));return c<10&&(e.dist=c,e.item=r),e}var u=cg(r.position,n,i),d=(new Kl).subVectors(t,u),h=Math.sqrt(Math.pow(d.x,2)+Math.pow(d.y,2));return(null===e.dist||h<e.dist)&&(e.dist=h,e.item=r),e}),{dist:null,item:null});return a.item},dg=a(34455),hg=a.n(dg),pg=a(49117),fg=a.n(pg),mg={posX:0,negX:2,posY:4,negY:5,posZ:1,negZ:3},gg=function(){var e=fg()(hg().mark((function e(t){var n;return hg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new im,e.abrupt("return",new(jr())((function(e,i){n.load(t,e,void 0,i)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vg=function(e){var t=new Ld(e);return t.needsUpdate=!0,t},yg=function(){function e(){o()(this,e),u()(this,"textureCache",{})}var t;return l()(e,[{key:"getCubeTextureForPano",value:(t=fg()(hg().mark((function e(t,n){var i,r,o,a,s;return hg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=this.textureCache[t.id])){e.next=3;break}return e.abrupt("return",jr().resolve(i));case 3:return r=vm()(mg).map((function(e){return Io(t,e,n)})),o=r.map((function(e){return gg(e)})),e.next=7,jr().all(o);case 7:return a=e.sent,s=vg(a),this.textureCache[t.id]=s,e.abrupt("return",jr().resolve(s));case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),bg=(a(10195),"varying vec3 vertexPosition;\n\nvoid main() {\n  vertexPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"),wg="uniform samplerCube panos[2];\nuniform vec3 transparentColor;\nuniform float opacity;\nuniform float mixFactor;\nuniform vec3 direction;\nuniform mat4 rotations[2];\n\nvarying vec3 vertexPosition;\n\nvec4 getColorFromPano(samplerCube pano, mat4 rotation, float directionOffset) {\n  vec3 coordinates = vec3(rotation * vec4(vertexPosition - (direction * directionOffset), 1.0));\n  return textureCube(pano, vec3(coordinates.xy, -coordinates.z));\n}\n\nvoid main() {\n  vec4 firstPanoColor = getColorFromPano(panos[0], rotations[0], mixFactor);\n  vec4 secondPanoColor = getColorFromPano(panos[1], rotations[1], mixFactor - 1.0);\n  vec4 color = mix(firstPanoColor, secondPanoColor, mixFactor);\n\n  gl_FragColor = mix(vec4(transparentColor, 1.0), color, opacity);\n}\n";function _g(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var xg=function(e){Vo()(n,e);var t=_g(n);function n(){var e;o()(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),u()(Uo()(e),"renderOrder",0),u()(Uo()(e),"geometry",new Ed(1e5,1e5,1e5)),u()(Uo()(e),"material",new Pd({side:1,uniforms:{panos:{value:[new Ld,new Ld]},rotations:{value:[new Qc,new Qc]},transparentColor:{value:new Hu("#000000")},opacity:{value:1},mixFactor:{value:0},direction:{value:new Tc}},vertexShader:bg,fragmentShader:wg})),u()(Uo()(e),"activePanoCenter",new Tc),u()(Uo()(e),"targetPanoCenter",new Tc),u()(Uo()(e),"nextPanoIndex",0),e}return l()(n,[{key:"setPano",value:function(e,t){this.material.uniforms.panos.value[this.nextPanoIndex]=e,this.material.uniforms.rotations.value[this.nextPanoIndex].makeRotationY(-t),this.nextPanoIndex=1-this.nextPanoIndex}},{key:"computeDirection",value:function(){this.material.uniforms.direction.value.copy(this.targetPanoCenter).sub(this.activePanoCenter).normalize().multiplyScalar(1===this.nextPanoIndex?1:-1).multiplyScalar(2e4)}},{key:"setMix",value:function(e){this.material.uniforms.mixFactor.value=e}},{key:"getMix",value:function(){return this.material.uniforms.mixFactor.value}},{key:"setOpacity",value:function(e){this.material.uniforms.opacity.value=e}},{key:"getOpacity",value:function(){return this.material.uniforms.opacity.value}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Td);function Tg(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Sg=function(e){Vo()(n,e);var t=Tg(n);function n(e){var i;return o()(this,n),(i=t.call(this)).element=e,i.eventCache=[],i}return l()(n,[{key:"dispose",value:function(){}}]),n}(Bl);function Eg(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Mg=function(e){Vo()(n,e);var t=Eg(n);function n(e){var i;return o()(this,n),i=t.call(this,e),u()(Uo()(i),"onPointerDown",(function(e){i.eventCache.push(e),i.element.setPointerCapture(e.pointerId),i.previousPosition=i.getAverageTouchPosition(),1===i.eventCache.length&&(i.element.addEventListener("pointermove",i.onPointerMove),i.element.addEventListener("pointerup",i.onPointerUp),i.element.addEventListener("pointercancel",i.onPointerUp),i.element.addEventListener("pointerout",i.onPointerUp),i.element.addEventListener("pointerleave",i.onPointerUp),i.dispatchEvent({type:"start",position:i.previousPosition}))})),u()(Uo()(i),"onPointerMove",(function(e){var t=i.eventCache.findIndex((function(t){var n=t.pointerId;return e.pointerId===n}));i.eventCache[t]=e;var n=i.getAverageTouchPosition(),r={x:n.x-i.previousPosition.x,y:n.y-i.previousPosition.y};i.dispatchEvent({type:"change",position:n,offset:r}),i.previousPosition=n})),u()(Uo()(i),"onPointerUp",(function(e){i.eventCache=i.eventCache.filter((function(t){var n=t.pointerId;return e.pointerId!==n})),i.element.releasePointerCapture(e.pointerId),i.eventCache.length>0?i.previousPosition=i.getAverageTouchPosition():(i.element.removeEventListener("pointermove",i.onPointerMove,!1),i.element.removeEventListener("pointerup",i.onPointerUp,!1),i.element.removeEventListener("pointercancel",i.onPointerUp,!1),i.element.removeEventListener("pointerout",i.onPointerUp,!1),i.element.removeEventListener("pointerleave",i.onPointerUp,!1),i.previousPosition={x:0,y:0},i.dispatchEvent({type:"end"}))})),u()(Uo()(i),"onContextMenu",(function(e){e.preventDefault()})),i.previousPosition={x:0,y:0},i.element.addEventListener("pointerdown",i.onPointerDown),i.element.addEventListener("contextmenu",i.onContextMenu),i}return l()(n,[{key:"dispose",value:function(){this.element&&(this.element.removeEventListener("pointerdown",this.onPointerDown),this.element.removeEventListener("contextmenu",this.onContextMenu))}},{key:"getAverageTouchPosition",value:function(){for(var e=0,t=0,n=0;n<this.eventCache.length;n++)e+=this.eventCache[n].offsetX,t+=this.eventCache[n].offsetY;return{x:e/this.eventCache.length,y:t/this.eventCache.length}}}]),n}(Sg);function Ag(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Cg=function(e){Vo()(n,e);var t=Ag(n);function n(e){var i;return o()(this,n),i=t.call(this,e),u()(Uo()(i),"onPointerDown",(function(e){i.eventCache.push(e),i.element.setPointerCapture(e.pointerId),1===i.eventCache.length&&(i.element.addEventListener("pointermove",i.onPointerMove),i.element.addEventListener("pointerup",i.onPointerUp),i.element.addEventListener("pointercancel",i.onPointerUp),i.element.addEventListener("pointerout",i.onPointerUp),i.element.addEventListener("pointerleave",i.onPointerUp)),i.eventCache.length>1&&(i.previousDistance=i.getPinchDistance())})),u()(Uo()(i),"onPointerMove",(function(e){if(!(i.eventCache.length<2)){var t=i.eventCache.findIndex((function(t){var n=t.pointerId;return e.pointerId===n}));if(!(t<0)){i.eventCache[t]=e;var n=i.getPinchDistance(),r=n-i.previousDistance;Math.abs(r)>1e-6&&(i.dispatchEvent({type:"change",offset:r}),i.previousDistance=n)}}})),u()(Uo()(i),"onPointerUp",(function(e){i.eventCache=i.eventCache.filter((function(t){var n=t.pointerId;return e.pointerId!==n})),i.element.releasePointerCapture(e.pointerId),0===i.eventCache.length&&(i.element.removeEventListener("pointermove",i.onPointerMove,!1),i.element.removeEventListener("pointerup",i.onPointerUp,!1),i.element.removeEventListener("pointercancel",i.onPointerUp,!1),i.element.removeEventListener("pointerout",i.onPointerUp,!1),i.element.removeEventListener("pointerleave",i.onPointerUp,!1))})),i.previousDistance=0,i.element.addEventListener("pointerdown",i.onPointerDown),i}return l()(n,[{key:"dispose",value:function(){this.element&&this.element.removeEventListener("pointerdown",this.onPointerDown)}},{key:"getPinchDistance",value:function(){var e=this.eventCache[1].offsetX-this.eventCache[0].offsetX,t=this.eventCache[1].offsetY-this.eventCache[0].offsetY;return Math.sqrt(e*e+t*t)}}]),n}(Sg),kg={drag:Mg,pinch:Cg},Pg={bind:function(e,t){Bs()(t.modifiers).forEach((function(t){var n=O()(t,2),i=n[0];n[1]&&kg[i]&&function(e,t,n){var i=new e(n);i.addEventListener("start",(function(e){n.dispatchEvent(new CustomEvent("".concat(t,"start"),{detail:e}))})),i.addEventListener("change",(function(e){n.dispatchEvent(new CustomEvent("".concat(t),{detail:e}))})),i.addEventListener("end",(function(e){n.dispatchEvent(new CustomEvent("".concat(t,"end"),{detail:e}))}))}(kg[i],i,e)}))}},Dg=function(e,t){return 360*Math.atan(Math.tan(e*Math.PI/360)*t)/Math.PI},Rg=function(e,t,n){var i={x:-(e.x-.5*t.width),y:e.y-.5*t.height,z:.5*t.width/Math.tan(.5*n)},r=Math.sqrt(i.y*i.y+i.z*i.z);return{elevation:Math.acos(i.y/r)-Zo.pj,azimuth:Math.atan2(i.x,i.z)}},$g=function(){function e(t,n){var i=this;o()(this,e),u()(this,"animationManager",void 0),u()(this,"camera",void 0),u()(this,"startTheta",0),u()(this,"target",new hm(1,Zo.pj,Math.PI)),u()(this,"targetVector",new Tc),u()(this,"animation",new Am({start:0,end:Math.PI/36,duration:1,easing:km,repeat:1,yoyo:!0})),this.animationManager=t,this.camera=n,this.animation.onUpdate((function(e){i.setCameraTarget(i.startTheta+e)}))}return l()(e,[{key:"play",value:function(){this.animation.isPlaying()&&this.stop(),this.camera.getWorldDirection(this.targetVector),this.target.setFromVector3(this.targetVector),this.startTheta=this.target.theta,this.animationManager.playAnimation(this.animation)}},{key:"stop",value:function(){this.animation.isPlaying()&&(this.animation.stop(),this.setCameraTarget(this.startTheta))}},{key:"isPlaying",value:function(){return this.animation.isPlaying()}},{key:"setCameraTarget",value:function(e){this.target.theta=e,this.target.makeSafe(),this.targetVector.setFromSpherical(this.target),this.camera.lookAt(this.targetVector)}}]),e}();function Ig(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Lg=function(e){Vo()(n,e);var t=Ig(n);function n(e,i){var r;return o()(this,n),r=t.call(this),u()(Uo()(r),"animationManager",void 0),u()(Uo()(r),"camera",void 0),u()(Uo()(r),"startTheta",0),u()(Uo()(r),"target",new hm(1,Zo.pj,Math.PI)),u()(Uo()(r),"targetVector",new Tc),u()(Uo()(r),"animation",new Am({start:0,end:2*Math.PI,duration:60,easing:Cm})),r.animationManager=e,r.camera=i,r.animation.onUpdate((function(e){var t=r.startTheta+e;r.setCameraTarget(t),r.dispatchEvent({type:"update",angle:t})})),r.animation.onComplete((function(e){e||r.dispatchEvent({type:"finished"})})),r}return l()(n,[{key:"play",value:function(e){this.animation.isPlaying()&&this.stop(),this.startTheta=e,this.animationManager.playAnimation(this.animation)}},{key:"stop",value:function(){this.animation.isPlaying()&&(this.animation.stop(),this.setCameraTarget(this.startTheta))}},{key:"setCameraTarget",value:function(e){this.target.theta=e,this.target.makeSafe(),this.targetVector.setFromSpherical(this.target),this.camera.lookAt(this.targetVector)}}]),n}(Bl);function Og(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Ng=function(e){Vo()(n,e);var t=Og(n);function n(){var e;o()(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),u()(Uo()(e),"activeAnimations",{}),e}return l()(n,[{key:"playAnimation",value:function(e){var t=this;return new(jr())((function(n){t.add(e),e.onComplete((function(){t.remove(e),n()})),e.play(),t.dispatchEvent({type:"needsUpdate"})}))}},{key:"update",value:function(e){vm()(this.activeAnimations).forEach((function(t){return t.update(e)})),I()(this.activeAnimations).length>0&&this.dispatchEvent({type:"needsUpdate"})}},{key:"add",value:function(e){this.activeAnimations[e.getId()]=e}},{key:"remove",value:function(e){delete this.activeAnimations[e.getId()]}}]),n}(Bl),Fg=Cm,Bg=function(e){var t=new Am({start:1,end:0,duration:.4,easing:Fg});return t.onUpdate((function(t){e.setOpacity(t)})),t},Ug=function(e){var t=new Am({start:0,end:1,duration:.4,easing:Fg});return t.onUpdate((function(t){e.setOpacity(t)})),t},zg=km,Vg=function(e){var t=new Am({start:1,end:0,duration:.8,easing:zg});return t.onUpdate((function(t){e.setMix(t)})),t},Hg=function(e){var t=new Am({start:0,end:1,duration:.8,easing:zg});return t.onUpdate((function(t){e.setMix(t)})),t},jg=function(){function e(t,n){o()(this,e),u()(this,"animationManager",void 0),u()(this,"sceneCube",void 0),this.animationManager=t,this.sceneCube=n}var t,n;return l()(e,[{key:"playCrossfadeAnimation",value:(n=fg()(hg().mark((function e(){var t,n;return hg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Bg(this.sceneCube),e.next=3,this.animationManager.playAnimation(t);case 3:return this.sceneCube.setMix(1===this.sceneCube.nextPanoIndex?0:1),n=Ug(this.sceneCube),e.next=7,this.animationManager.playAnimation(n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"playNavigationAnimation",value:(t=fg()(hg().mark((function e(){var t,n;return hg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==this.sceneCube.nextPanoIndex){e.next=6;break}return t=Vg(this.sceneCube),e.next=4,this.animationManager.playAnimation(t);case 4:e.next=9;break;case 6:return n=Hg(this.sceneCube),e.next=9,this.animationManager.playAnimation(n);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"noAnimation",value:function(){this.sceneCube.setMix(1===this.sceneCube.nextPanoIndex?0:1)}}]),e}(),Wg=function(){function e(t,n){var i=this;o()(this,e),u()(this,"animationManager",void 0),u()(this,"camera",void 0),u()(this,"animation",new Am({start:1,end:1.1,duration:.35,easing:km,repeat:1,yoyo:!0})),this.animationManager=t,this.camera=n,this.animation.onUpdate((function(e){i.camera.zoom=e,i.camera.updateProjectionMatrix()}))}return l()(e,[{key:"play",value:function(){this.animationManager.playAnimation(this.animation)}}]),e}(),Gg=a.p+"a/854d6a9347500641b40d.png";function qg(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Zg=function(e){Vo()(n,e);var t=qg(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gg;o()(this,n),e=t.call(this),u()(Uo()(e),"geometry",void 0),u()(Uo()(e),"material",void 0),u()(Uo()(e),"mesh",void 0),u()(Uo()(e),"textureLoader",void 0),e.geometry=new Of(1,124),e.textureLoader=new rm;var r=e.textureLoader.load(i);return r.colorSpace=Pl,e.material=new Wu({map:r}),e.mesh=new Td(e.geometry,e.material),e.add(e.mesh),e}return l()(n,[{key:"updateImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gg;this.textureLoader.load(t,(function(t){t.colorSpace=Pl,e.material.map=t,e.material.needsUpdate=!0}))}}]),n}(gf);const Xg="crossfade",Yg="navigate";var Kg={directives:{gestures:Pg},props:{dimensions:{type:Object,required:!0},activePano:{type:Object,default:null},activePanoCenter:{type:Object,required:!0},tileResolution:{type:Object,default:null},assets:{type:Object,required:!0},ims6:{type:Boolean,default:!1},hFov:{type:Number,required:!0},neighbors:{type:Array,required:!0},angle:{type:Number,required:!0},elevation:{type:Number,required:!0},hoveredTagId:{type:Number,default:-1},pinnedTagId:{type:Number,default:-1},highlightedTagId:{type:Number,default:-1},firstPanoLoaded:{type:Boolean,default:!1},initAnimationDisabled:{type:Boolean,default:!1},autoplaying:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},measureMode:{type:Number,required:!0},panoChangeType:{type:String,required:!0},tripodImageUrl:{type:String,default:""},isAddingTag:{type:Boolean,default:!1},fakeTags:{type:Array,required:!0}},data:()=>({hoveredNavId:-1}),computed:{containerStyle(){return{width:`${this.dimensions.width}px`,height:`${this.dimensions.height}px`}},measureModeActive(){return this.measureMode>0},navGroupVisible(){return!this.autoplaying&&!this.measureModeActive},tagsVisible(){return!this.autoplaying&&!this.measureModeActive}},watch:{navGroupVisible(e){this.navGroup.visible=e,this.render()},tagsVisible(e){this.tags.visible=e,this.render()},activePano(){for(;this.navGroup.children.length;){const e=this.navGroup.children[0];e.dispose(),this.navGroup.remove(e)}for(this.loadPanoFaces();this.tags.children.length;)this.tags.children[0].dispose(),this.tags.remove(this.tags.children[0])},tileResolution(){this.loadPanoFaces()},angle(e){this.cameraTarget.theta=Math.PI-e,this.lookAtCameraTarget()},elevation(e){this.cameraTarget.phi=Zo.pj-e,this.lookAtCameraTarget()},hFov(){this.onResize()},dimensions(){this.onResize()},neighbors(){this.neighbors.forEach((e=>{if(e.isPano){const t=new Fm(e,this.ims6,this.animationManager);this.navGroup.add(t)}else if(e.isGate){const t=new jm(e,this.animationManager);this.navGroup.add(t)}else if(e.isTag){let t=this.tags.children.find((t=>t.tagId===e.id));if(t){const n=ag(e,this.activePanoCenter);t.position.copy(n),t.lookAt(this.camera.position.x,n.y,this.camera.position.z)}else{const n=ag(e,this.activePanoCenter),i=n.distanceTo(this.camera.position);t=new og(e,this.animationManager,i),t.position.copy(n),t.lookAt(this.camera.position.x,n.y,this.camera.position.z),this.tags.add(t),t.computeBoundingBox()}}}))},hoveredNavId(e,t){const n=this.navGroup.children.find((e=>e.data.targetId===t));n&&n.unhover();const i=this.navGroup.children.find((t=>t.data.targetId===e));i&&i.hover()},hoveredTagId(e,t){const n=this.tags.children.find((e=>e.tagId===t));n&&n.unhover();const i=this.tags.children.find((t=>t.tagId===e));i&&i.hover()},pinnedTagId(e,t){const n=this.tags.children.find((e=>e.tagId===t));n&&n.unpin();const i=this.tags.children.find((t=>t.tagId===e));i&&i.pin()},highlightedTagId(e){const t=this.tags.children.find((t=>t.tagId===e));t&&t.highlight()},initAnimationDisabled(e){e&&this.initAnimation.stop()},autoplaying(e){e?(this.startAutoplay(),this.$emit("autoplayStart")):(this.stopAutoplay(),this.$emit("autoplayStop"))},muted(e){this.autoplayMusicManager.setMuted(e)},tripodImageUrl(e){this.placeTripodImage(e)},fakeTags(){this.renderFakeTags()},isAddingTag(e){if(!e)for(;this.renderedFakeTags.children.length>0;){const e=this.renderedFakeTags.children[0];e.dispose(),this.renderedFakeTags.remove(e)}}},created(){this.inertia=new Ra,this.inertia.on("update",(e=>this.onInertiaUpdate(e))),this.animationFrame=null,this.hoverAnimationFrame=null,this.cameraTarget=new hm(1,Zo.pj,Math.PI),this.cameraTargetVector=new Tc,this.mouse=new Kl},mounted(){this.renderer=new Sf({canvas:this.$refs.canvas,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.panoTilesLoader=new yg,this.scene=new Ef,this.camera=new Rd(75,1,.1,2e5),this.animationManager=new Ng,this.animationManager.addEventListener("needsUpdate",this.render),this.initAnimation=new $g(this.animationManager,this.camera),this.autoplayAnimation=new Lg(this.animationManager,this.camera),this.autoplayAnimation.addEventListener("update",this.onAutoplayAnimationUpdate),this.autoplayAnimation.addEventListener("finished",this.onAutoplayAnimationFinished),this.autoplayMusicManager=new Zr(this.muted),this.cube=new xg,this.scene.add(this.cube),this.navGroup=new gf,this.scene.add(this.navGroup),this.tags=new gf,this.scene.add(this.tags),this.renderedFakeTags=new gf,this.scene.add(this.renderedFakeTags),this.tripodImage=new Zg(this.tripodImageUrl),this.tripodImage.position.set(0,-2.05,0),this.tripodImage.rotation.x=-Math.PI/2,this.scene.add(this.tripodImage),this.transitionAnimations=new jg(this.animationManager,this.cube),this.rubberbandAnimation=new Wg(this.animationManager,this.camera),this.activePano&&this.loadPanoFaces(),this.dimensions.width&&this.dimensions.height&&this.onResize(),this.isDragging=!1,this.transitionType=null,this.navActionCount=0,this.renderFakeTags()},beforeDestroy(){this.cube.dispose(),cancelAnimationFrame(this.animationFrame),cancelAnimationFrame(this.hoverAnimationFrame)},methods:{render(){this.animationFrame||(this.animationFrame=requestAnimationFrame((e=>{this.animationFrame=null,this.animationManager.update(e),this.renderer.render(this.scene,this.camera)})))},canvasDragStarted({detail:e}){const t=Rg(e.position,this.dimensions,this.hFov);this.inertia.onMouseDown(t),this.navGroup.children?.forEach((e=>{e.show&&e.show()}))},canvasDragged({detail:e}){this.isDragging=!0;const t=Rg(e.position,this.dimensions,this.hFov);this.inertia.onCubeRotate(t)},canvasDragEnded(){this.inertia.onMouseUp()},onInertiaUpdate(e){this.$emit("rotate",{azimuth:this.angle-e.azimuth,elevation:this.elevation-e.elevation})},canvasClicked(){if(this.isAddingTag)this.$emit("addTag");else if(!this.measureModeActive)if(this.isDragging)this.isDragging=!1;else if(this.hoveredTagId>-1)this.$emit("tagClick",this.hoveredTagId);else if(this.hoveredNavId>-1){const e=this.navGroup.children.find((e=>e.data.targetId===this.hoveredNavId));e.data.isPano&&(this.transitionType=e.occluded?Xg:Yg),this.$emit("setActivePano",e)}else this.rubberbandAnimation.play()},mouseMove(e){this.autoplaying||(this.mouse.set(e.offsetX,e.offsetY),this.updateHover())},updateHover(){this.hoverAnimationFrame||(this.hoverAnimationFrame=requestAnimationFrame((()=>{this.hoverAnimationFrame=null,this.navGroup.children?.forEach((e=>{e.idle=!1}));const e={x:this.dimensions.width,y:this.dimensions.height},t=[...this.navGroup.children,...this.tags.children],n=ug(t,this.mouse,this.camera,e);if(null!==n){const e=n instanceof og?n.tagId:-1;this.$emit("tagHover",e),this.hoveredNavId=n instanceof og?-1:n.data.targetId}else this.$emit("tagHover",-1),this.hoveredNavId=-1})))},mouseLeft(){this.navGroup.children?.forEach((e=>{e.idle=!0})),this.hoveredNavId=-1,cancelAnimationFrame(this.hoverAnimationFrame),this.hoverAnimationFrame=null},async loadPanoFaces(){if(!this.activePano)return Promise.resolve();this.$emit("panoLoadStarted"),await this.loadTilesToNextPano(),this.transitionType===Xg||"floorplan-crossfade"===this.panoChangeType?(this.transitionType=null,this.transitionAnimations.playCrossfadeAnimation()):this.transitionType===Yg?(this.transitionType=null,this.cube.targetPanoCenter.set(this.activePano.center.x,0,this.activePano.center.y),this.cube.computeDirection(),this.transitionAnimations.playNavigationAnimation()):this.firstPanoLoaded?this.transitionAnimations.noAnimation():setTimeout((()=>{this.playInitAnimation()}),1e3),this.render(),this.autoplaying&&this.startAutoplay(),this.cube.activePanoCenter.set(this.activePano.center.x,0,this.activePano.center.y),this.$emit("panoLoadFinished","no-animation")},async loadTilesToNextPano(){const e=await this.panoTilesLoader.getCubeTextureForPano(this.activePano,this.assets);this.renderer.initTexture(e),this.cube.setPano(e,this.activePano.rotationAngle)},onResize(){this.renderer.setSize(this.dimensions.width,this.dimensions.height);const e=this.dimensions.width/this.dimensions.height;var t,n;this.camera.fov=(t=this.hFov*Zo.jl,n=e,360*Math.atan(Math.tan(t*Math.PI/360)*(1/n))/Math.PI),this.camera.aspect=e,this.camera.updateProjectionMatrix(),this.initAnimation.isPlaying()&&this.playInitAnimation(),this.render()},playInitAnimation(){this.initAnimationDisabled||this.initAnimation.play()},startAutoplay(){this.autoplayAnimation.play(this.activePano.rotationAngle+Math.PI),this.autoplayMusicManager.play().then((()=>this.$emit("autoplayBrowserMute",!1))).catch((e=>{e===qr&&this.$emit("autoplayBrowserMute",!0)}))},stopAutoplay(){this.autoplayAnimation.stop(),this.autoplayMusicManager.pause()},onAutoplayAnimationUpdate({angle:e}){this.$emit("autoplayUpdate",{angle:e-Zo.pj,isPanoDone:!1})},onAutoplayAnimationFinished(){this.$emit("autoplayUpdate",{angle:0,isPanoDone:!0})},lookAtCameraTarget(){this.cameraTarget.makeSafe(),this.cameraTargetVector.setFromSpherical(this.cameraTarget),this.camera.lookAt(this.cameraTargetVector),this.render()},placeTripodImage(e){this.tripodImage.updateImage(e),this.render()},renderFakeTags(){this.fakeTags&&(this.fakeTags.forEach((e=>{const t=-e.pos[1],n=e.posY,i=e.pos[0];e.coords=new ta(t,n,i);const r=ag(e,this.activePanoCenter),o=r.distanceTo(this.camera.position),a=new og(e,this.animationManager,o);a.position.copy(r),a.lookAt(this.camera.position.x,r.y,this.camera.position.z),this.renderedFakeTags.add(a),a.computeBoundingBox()})),this.render())}}},Jg=Kg,Qg=(a(96934),(0,Re.Z)(Jg,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scene",style:e.containerStyle,on:{mousemove:e.mouseMove,mouseleave:e.mouseLeft}},[n("canvas",{directives:[{name:"gestures",rawName:"v-gestures.drag.pinch",modifiers:{drag:!0,pinch:!0}}],ref:"canvas",on:{mousedown:function(t){return e.$emit("cubeMouseDown",t)},touchstart:function(t){return e.$emit("cubeMouseDown",t)},dragstart:e.canvasDragStarted,drag:e.canvasDragged,dragend:e.canvasDragEnded,click:e.canvasClicked,pointermove:function(t){return e.$emit("cubePointerMove",t)},wheel:function(t){return e.$emit("cubeMouseWheel",t)},pinch:function(t){return e.$emit("cubePinch",t)}}})])}),[],!1,null,"8c76f7b8",null).exports),ev={props:{dimensions:{type:Object,required:!0},cubeWidth:{type:Number,required:!0},scaleFactor:{type:Number,required:!0},perspective:{type:Number,required:!0}},computed:{cubeHalfEdge(){return.5*this.cubeWidth},containerStyle(){return{width:`${this.dimensions.width}px`,height:`${this.dimensions.height}px`}},cubeStyle(){return{width:`${Math.round(this.cubeWidth)}px`,height:`${Math.round(this.cubeWidth)}px`,transform:`translate(-50%, -50%) scale(${this.scaleFactor})`,perspective:`${this.perspective}px`,perspectiveOrigin:`${Math.round(this.cubeHalfEdge)}px ${Math.round(this.cubeHalfEdge)}px`}}}},tv=(a(62580),(0,Re.Z)(ev,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"measure-cube-container",style:e.containerStyle},[n("div",{staticClass:"cube",style:e.cubeStyle,attrs:{id:"measure-cube"}})])}),[],!1,null,"03aba748",null).exports),nv={components:{CSS3DScene:Na,WebGLScene:Qg,MeasureCube:tv},data:()=>({tourData:{ims6:!1,measureMode:0,editTags:!1,pagepreviewWorkaround:!1,embedpreviewWorkaround:!1,floorplanShrunk:!1,isLandscape:!1,autoplaying:!1,mutedByUser:!1,mutedByBrowser:!1,assets:{},tileResolution:{},activePano:null,hasPanos:!1,tagModalOpen:!1,useWebgl:!1},sceneData:{neighborList:[],neighbors:[],fakeTags:[],dimensions:{},activePanoCenter:{},cubeWidth:0,scaleFactor:0,perspective:0,hFov:0,elevation:0,angle:0,angleZero:0,tripodHeight:0,zoom:1,zoomRange:{},hideArrows:!1,hoveredArrowIndex:-1,mouseDown:!1,activeCube:2,initAnimationDisabled:!1,initAnimationPlaying:!1,panoChangeType:"",mouseCoordinates:{azimuth:0,elevation:0},inertiaStatus:"Stopped",inertiaTargetPose:null,tripodImageUrl:""},tagData:{hoveredTagId:1,pinnedTagId:-1,highlightedTagId:-1,isAddingTag:!1},floorplanData:{mouseDown:!1,isPanZoomMode:!1}}),computed:{showMeasureMask(){const{ims6:e,measureMode:t,editTags:n}=this.tourData;return!(!(e&&t>1)||n)}}},iv=(0,Re.Z)(nv,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scene-container"},[e.tourData.useWebgl?e._e():n("CSS3DScene",{attrs:{dimensions:e.sceneData.dimensions,cubeWidth:e.sceneData.cubeWidth,scaleFactor:e.sceneData.scaleFactor,neighborList:e.sceneData.neighborList,neighbors:e.sceneData.neighbors,fakeTags:e.sceneData.fakeTags,showMeasureMask:e.showMeasureMask,pagepreviewWorkaround:e.tourData.pagepreviewWorkaround,embedpreviewWorkaround:e.tourData.embedpreviewWorkaround,perspective:e.sceneData.perspective,elevation:e.sceneData.elevation,angle:e.sceneData.angle,angleZero:e.sceneData.angleZero,activePanoCenter:e.sceneData.activePanoCenter,tripodHeight:e.sceneData.tripodHeight,zoom:e.sceneData.zoom,zoomRange:e.sceneData.zoomRange,hideArrows:e.sceneData.hideArrows,hoveredArrowIndex:e.sceneData.hoveredArrowIndex,pinnedTagId:e.tagData.pinnedTagId,mouseDown:e.sceneData.mouseDown,measureMode:e.tourData.measureMode,editTags:e.tourData.editTags,floorplanShrunk:e.tourData.floorplanShrunk,isLandscape:e.tourData.isLandscape,autoplaying:e.tourData.autoplaying,muted:e.tourData.mutedByUser||e.tourData.mutedByBrowser,assets:e.tourData.assets,tileResolution:e.tourData.tileResolution,activePano:e.tourData.activePano,hasPanos:e.tourData.hasPanos,activeCube:e.sceneData.activeCube,firstPanoLoaded:e.sceneData.firstPanoLoaded,initAnimationDisabled:e.sceneData.initAnimationDisabled,initAnimationPlaying:e.sceneData.initAnimationPlaying,tagModalOpen:e.tourData.tagModalOpen,mouseCoordinates:e.sceneData.mouseCoordinates,inertiaStatus:e.sceneData.inertiaStatus,inertiaTargetPose:e.sceneData.inertiaTargetPose,floorplanMouseDown:e.floorplanData.mouseDown,floorplanPanZoomMode:e.floorplanData.isPanZoomMode},on:{cubeMouseDown:function(t){return e.$emit("cubeMouseDown",t)},cubeMouseMove:function(t){return e.$emit("cubeMouseMove",t)},cubeMouseUp:function(t){return e.$emit("cubeMouseUp",t)},cubeMouseWheel:function(t){return e.$emit("cubeMouseWheel",t)},cubeMouseLeave:function(t){return e.$emit("cubeMouseLeave",t)},panoLoadStarted:function(t){return e.$emit("panoLoadStarted",t)},panoLoadFinished:function(t){return e.$emit("panoLoadFinished",t)},initAnimationStarted:function(t){return e.$emit("initAnimationStarted",t)},initAnimationFinished:function(t){return e.$emit("initAnimationFinished",t)},autoplayStart:function(t){return e.$emit("autoplayStart",t)},autoplayStop:function(t){return e.$emit("autoplayStop",t)},autoplayUpdate:function(t){return e.$emit("autoplayUpdate",t)},autoplayBrowserMute:function(t){return e.$emit("autoplayBrowserMute",t)},inertiaStatusChange:function(t){return e.$emit("inertiaStatusChange",t)},inertiaUpdate:function(t){return e.$emit("inertiaUpdate",t)}}}),e._v(" "),e.tourData.useWebgl?n("WebGLScene",{attrs:{dimensions:e.sceneData.dimensions,activePano:e.tourData.activePano,activePanoCenter:e.sceneData.activePanoCenter,tileResolution:e.tourData.tileResolution,assets:e.tourData.assets,ims6:e.tourData.ims6,hFov:e.sceneData.hFov,neighbors:e.sceneData.neighbors,elevation:e.sceneData.elevation,angle:e.sceneData.angle,hoveredTagId:e.tagData.hoveredTagId,pinnedTagId:e.tagData.pinnedTagId,highlightedTagId:e.tagData.highlightedTagId,firstPanoLoaded:e.sceneData.firstPanoLoaded,initAnimationDisabled:e.sceneData.initAnimationDisabled,autoplaying:e.tourData.autoplaying,muted:e.tourData.mutedByUser||e.tourData.mutedByBrowser,measureMode:e.tourData.measureMode,tripodImageUrl:e.sceneData.tripodImageUrl,panoChangeType:e.sceneData.panoChangeType,isAddingTag:e.tagData.isAddingTag,fakeTags:e.sceneData.fakeTags},on:{cubeMouseDown:function(t){return e.$emit("cubeMouseDown",t)},rotate:function(t){return e.$emit("rotate",t)},panoLoadStarted:function(t){return e.$emit("panoLoadStarted",t)},panoLoadFinished:function(t){return e.$emit("panoLoadFinished",t)},setActivePano:function(t){return e.$emit("setActivePano",t)},tagHover:function(t){return e.$emit("tagHover",t)},tagClick:function(t){return e.$emit("tagClick",t)},cubePointerMove:function(t){return e.$emit("cubePointerMove",t)},cubeMouseWheel:function(t){return e.$emit("cubeMouseWheel",t)},cubePinch:function(t){return e.$emit("cubePinch",t)},autoplayStart:function(t){return e.$emit("autoplayStart",t)},autoplayStop:function(t){return e.$emit("autoplayStop",t)},autoplayUpdate:function(t){return e.$emit("autoplayUpdate",t)},autoplayBrowserMute:function(t){return e.$emit("autoplayBrowserMute",t)}}}):e._e(),e._v(" "),n("MeasureCube",{attrs:{dimensions:e.sceneData.dimensions,cubeWidth:e.sceneData.cubeWidth,scaleFactor:e.sceneData.scaleFactor,perspective:e.sceneData.perspective}})],1)}),[],!1,null,null,null).exports;a(64828);function rv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&!sv.test(e)&&(e=hv(t,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}function ov(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&pv.test(e)?e.replace(fv,yv):!t&&mv.test(e)?e.replace(gv,yv):e}var av=/<video(.|\n)*?<\/video>/;var sv=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,lv={},cv=/^[^:]+:\/*[^/]*$/,uv=/^([^:]+:)[\s\S]*$/,dv=/^([^:]+:\/*[^/]*)[\s\S]*$/;function hv(e,t){lv[" "+e]||(cv.test(e)?lv[" "+e]=e+"/":lv[" "+e]=function(e,t,n){var i=e.length;if(0===i)return"";var r=0;for(;r<i;){var o=e.charAt(i-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,i-r)}(e,"/",!0));var n=-1===(e=lv[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(uv,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(dv,"$1")+t:e+t}var pv=/[&<>"']/,fv=/[&<>"']/g,mv=/[<>"']|&(?!#?\w+;)/,gv=/[<>"']|&(?!#?\w+;)/g,vv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yv=function(e){return vv[e]},bv={props:{weight:{type:String,default:"regular",validator:e=>["regular","light"].includes(e)}}},wv=(a(42296),{components:{BaseHeader:Ut,BaseParagraph:(0,Re.Z)(bv,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:["base-paragraph",e.weight]},[e._t("default")],2)}),[],!1,null,"48b94d4b",null).exports},mixins:[je.r],props:{tagId:{type:Number,required:!0},title:{type:String,default:""},content:{type:String,default:""},routeUrl:{type:String,default:"",required:!1}},data:()=>({copyClicked:!1}),computed:{defaultTitle(){return`${this.l10n.defaultTagTitle} ${this.tagId}`},icon(){return this.copyClicked?"icomoon-v-checkmark":"icomoon-v-link"}},methods:{copyUrl(){const e=`${this.routeUrl}?tag=${this.tagId}`;er().copy(e),this.copyClicked=!0,setTimeout((()=>{this.copyClicked=!1}),2500)}}}),_v=(a(53189),{components:{BasePanel:Ft,TriangleButton:pi,Tag:(0,Re.Z)(wv,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tag"},[n("BaseHeader",{staticClass:"tag-header",attrs:{size:"md",weight:"bold"}},[e.routeUrl?n("span",{staticClass:"link-container"},[n("a",{class:["link-style",e.icon],on:{click:e.copyUrl}})]):e._e(),e._v("\n    "+e._s(e.title||e.defaultTitle)+"\n  ")]),e._v(" "),e.content?n("BaseParagraph",{staticClass:"tag-content",domProps:{innerHTML:e._s(e.content)}}):e._e()],1)}),[],!1,null,"60fe48ea",null).exports},props:{tag:{type:Object,required:!0},pinned:{type:Boolean,default:!1},tourDimensions:{type:Object,required:!0},activePanoCenter:{type:Object,required:!0},inverseGlobalQuat:{type:Object,required:!0},cameraPlaneNormal:{type:Object,required:!0},hFov:{type:Number,required:!0},routeUrl:{type:String,default:"",required:!1}},data:()=>({direction:"bottom",maximized:!1}),computed:{previewStyle(){return{left:this.maximized?"50%":`${this.screenPosition.x}px`,top:this.maximized?"50%":`${this.screenPosition.y}px`}},panelStyle(){if(this.maximized){const{width:e,maxWidth:t,height:n,maxHeight:i}=this.maximizedPanelSize;return{width:e,maxWidth:t,height:n,maxHeight:i}}return{borderColor:this.pinned?Ii(this.tag.color):"transparent"}},previewClasses(){return this.maximized?["tag-preview","tag-preview-maximized"]:["tag-preview",{"tag-preview-bottom":"bottom"===this.direction,"tag-preview-top":"top"===this.direction,"tag-preview-right":"right"===this.direction,"tag-preview-left":"left"===this.direction,"tag-preview-bottom-right":"bottom-right"===this.direction,"tag-preview-bottom-left":"bottom-left"===this.direction,"tag-preview-top-right":"top-right"===this.direction,"tag-preview-top-left":"top-left"===this.direction}]},panelClasses(){return["tag-preview-panel",{"tag-preview-panel-full-height":this.hasIframe}]},screenPosition(){const e=ua({x:-this.tag.pos.y+this.activePanoCenter.y,y:-this.tag.pos.z,z:this.tag.pos.x-this.activePanoCenter.x},this.inverseGlobalQuat),t=.5*this.tourDimensions.width/Math.tan(.5*this.hFov)/e.z;return{x:.5*this.tourDimensions.width-e.x*t,y:.5*this.tourDimensions.height+e.y*t}},showTriangle(){return!this.maximized&&["top","bottom","left","right"].includes(this.direction)},showDiagonalZone(){return!this.maximized&&["bottom-right","bottom-left","top-right","top-left"].includes(this.direction)},isBehindCamera(){const e=sa(this.activePanoCenter),t=fa(this.tag.pos),n=ha({x:t.x-e.x,y:t.y,z:t.z-e.z});return ra(pa(n.elevation,n.azimuth),this.cameraPlaneNormal)<.01},hasIframe(){return!!this.tag.iframe},hasVideo(){return!(!(e=this.tag.content).includes("<iframe ")&&!e.match(av));var e},maximizedPanelSize(){const e=this.tourDimensions.width-64+"px",t=this.tourDimensions.height-64+"px";if(this.hasIframe)return{width:e,maxWidth:e,height:t,maxHeight:t};if(this.hasVideo){return{width:1.77777778*(this.tourDimensions.height-128)+"px",maxWidth:e,height:"auto",maxHeight:t}}return{width:"auto",maxWidth:e,height:"auto",maxHeight:t}},tagPreviewId(){return`tag-preview-${this.tag.id}`}},mounted(){this.direction=this.getDirection()},methods:{getDirection(){if(!this.$refs.container)return"bottom";const{offsetWidth:e,offsetHeight:t}=this.$refs.container,n=.5*e,i=.5*t,r=this.screenPosition.y>this.tourDimensions.height-n,o=this.screenPosition.y+t>this.tourDimensions.height,a=this.screenPosition.y>.5*this.tourDimensions.height,s=this.screenPosition.y<i,l=this.screenPosition.y<t,c=this.screenPosition.x<n,u=this.screenPosition.x>this.tourDimensions.width-n;return c?s?"bottom-right":r?"top-right":"right":u?s?"bottom-left":r?"top-left":"left":!o&&!a||l?"bottom":"top"}}}),xv=(a(38302),{components:{TagPreview:(0,Re.Z)(_v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.maximized||!e.isBehindCamera,expression:"maximized || !isBehindCamera"}],class:e.previewClasses,style:e.previewStyle,attrs:{id:e.tagPreviewId}},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.maximized,expression:"maximized"}],staticClass:"tag-preview-overlay",on:{click:function(t){return e.$emit("close")}}})]),e._v(" "),n("div",{ref:"container",staticClass:"tag-preview-container"},[e.showTriangle?n("svg",{staticClass:"tag-preview-triangle",attrs:{viewBox:"0 0 14 40"},on:{click:function(t){return e.$emit("triangleClick")}}},[n("polygon",{attrs:{points:"7,10 14,40 0,40"}})]):e._e(),e._v(" "),e.showDiagonalZone?n("div",{staticClass:"tag-preview-diagonal-zone",on:{click:function(t){return e.$emit("triangleClick")}}}):e._e(),e._v(" "),n("BasePanel",{class:e.panelClasses,style:e.panelStyle,attrs:{opacity:e.maximized?"dark":"regular",closeable:e.maximized},on:{close:function(t){return e.$emit("close")}}},[e.tag.content&&!e.maximized?n("TriangleButton",{staticClass:"tag-preview-resize",attrs:{icon:"icomoon-v-arrow-down",size:"sm",iconStyle:{transform:"rotate(225deg)"}},on:{click:function(t){e.maximized=!0}}}):e._e(),e._v(" "),n("Tag",{attrs:{tagId:e.tag.id,title:e.tag.title,content:e.tag.content,routeUrl:e.routeUrl}})],1)],1)],1)}),[],!1,null,"32a865c4",null).exports},props:{routeUrl:{type:String,default:"",required:!1}},data:()=>({sceneData:{dimensions:{},activePanoCenter:{},inverseGlobalQuat:{},cameraPlaneNormal:{},hFov:0},tagData:{tags:[],pinnedTagId:-1,hoveredTagId:-1}}),computed:{activeTags(){return-1!==this.tagData.hoveredTagId?[this.getTagFromId(this.tagData.hoveredTagId)]:-1!==this.tagData.pinnedTagId?[this.getTagFromId(this.tagData.pinnedTagId)]:[]}},methods:{getTagFromId(e){return this.tagData.tags.find((t=>t.id===e))}}}),Tv=xv,Sv=(a(49376),(0,Re.Z)(Tv,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{attrs:{name:"tag-previews"}},e._l(e.activeTags,(function(t){return n("TagPreview",{key:t.id,staticClass:"tag-preview",attrs:{tag:t,pinned:t.id===e.tagData.pinnedTagId,tourDimensions:e.sceneData.dimensions,activePanoCenter:e.sceneData.activePanoCenter,inverseGlobalQuat:e.sceneData.inverseGlobalQuat,cameraPlaneNormal:e.sceneData.cameraPlaneNormal,hFov:e.sceneData.hFov,routeUrl:e.routeUrl},on:{close:function(t){return e.$emit("close")},triangleClick:function(n){return e.$emit("pin",t.id)}}})})),1)}),[],!1,null,"4227fcb8",null).exports),Ev=(a(5251),a(64402)),Mv=a.n(Ev),Av=a(31699),Cv=a.n(Av),kv=(a(97226),a(42679),function(e){return/^(https?:)?\/\/(player.)?vimeo.com(?=$|\/)(?!\/external)/.test(e)}),Pv=function(e){if(!kv(e))return!1;var t=e.match(/^([a-z:/]*\/\/)(?:www\.)?(?:player\.)?vimeo\.com\/(?:video\/)?(?:channels\/[A-Za-z0-9]+\/)?([A-Za-z0-9]+)/),n=t?t[2]:null;return n||!1},Dv=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??(v=)?([^#&?]*).*/,Rv=function(e){return(e.includes("youtube.com")||e.includes("youtu.be"))&&Dv.test(e)},$v=function(e){if(!Rv(e))return!1;var t=e.match(Dv);return!(!t||11!==t[8].length)&&t[8]},Iv=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,Lv=function(e){return e.includes("iplayerhd.com/player/video")&&Iv.test(e)},Ov=/[-\w]{25,}/,Nv=function(e){return e.includes("drive.google.com")&&Ov.test(e)},Fv=function(e){var t=new URL(e),n=new URLSearchParams(t.search);return{cid:n.get("cid"),resid:n.get("resid")||n.get("id"),authkey:n.get("authkey")}},Bv=function(e){return e.includes("onedrive.live.com")&&!!((t=Fv(e)).cid&&t.resid&&t.authkey);var t},Uv=/([A-Za-z0-9]){9,}/,zv=/s\/([A-Za-z0-9]{9,})/,Vv=/scl\/fi\/([A-Za-z0-9]{9,})/,Hv=function(e){return(zv.test(e)||Vv.test(e))&&(e.includes("dropbox.com")||e.includes("dropboxusercontent.com"))},jv=function(e){var t=e.match(Uv);return!(!t||!t.length)&&t[0]},Wv=function(e){var t=e.split(/[#?]/)[0].split(".").pop();return t?t.trim():""},Gv=function(e){return["mp4","webm","ogg","ogv"].includes(e)},qv=function(e){return Gv(Wv(e))},Zv={vimeo:{getId:Pv,isValid:kv},youTube:{getId:$v,isValid:Rv},iPlayerHD:{getId:function(e){if(!Lv(e))return!1;var t=e.match(Iv);return!(!t||1!==t.length)&&t[0]},isValid:Lv},googleDrive:{getId:function(e){if(!Nv(e))return!1;var t=e.match(Ov);return!(!t||1!==t.length)&&t[0]},isValid:Nv},oneDrive:{getUrl:function(e){if(!Bv(e))return!1;var t=Fv(e);return!!t&&encodeURI("https://onedrive.live.com/download?cid=".concat(t.cid,"&resid=").concat(t.resid,"&authkey=").concat(t.authkey))},isValid:Bv},dropbox:{getId:jv,getUrl:function(e){if(!Hv(e))return!1;if(zv.test(e)){var t=jv(e);return"https://www.dropbox.com/s/".concat(t,"?raw=1")}if(Vv.test(e)){var n="raw=1";return e.includes(n)?e:"".concat(e,"&").concat(n)}return!1},isValid:Hv},link:{getExtension:Wv,isSupportedExtension:Gv,isValid:qv},isValid:function(e){return!e||(kv(e)&&!!Pv(e)||Rv(e)&&!!$v(e)||Lv(e)||Nv(e)||Bv(e)||Hv(e)||qv(e))},isValidVideoFile:qv},Xv=Zv,Yv="enter image description here",Kv="enter image title here",Jv=function(e,t,n,i){if(!e)return n;var r=dy(e);if(r){var o=!1;switch(r.service){case"dropbox":o="Video"===n||Xv.isValidVideoFile(e);break;case"googledrive":case"onedrive":o="Video"===n;break;case"youtube":case"vimeo":case"iplayerhd":case"directlink":o=!0}if(o){var a=uy[r.service];if(a)return a.embedCode(r.id||r.url,n)}}return function(e,t,n,i){if(!(e=rv(e)))return n;e=ov(e),t=t?'title="'.concat(ov(t),'" '):"",n=n||e;var r="";if(i)for(var o in i)i.hasOwnProperty(o)&&(r+="".concat(ov(o),'="').concat(ov(i[o]),'" '));return'<a href="'.concat(e,'" ').concat(t).concat(r,'target="_blank" rel="nofollow">').concat(n,"</a>")}(e,t,n,i)},Qv=function(e,t,n){return e&&n!==e?"[".concat(n,": ").concat(e,"]"):n},ey=function(e,t,n){if(n&&n.trim()===Yv&&(n=""),!e)return n;t&&t.trim()===Kv&&(t="");var i=dy(e);return i&&"dropbox"===i.service&&(e="".concat(i.url)),function(e,t,n){return(e=rv(e))?(e=ov(e),t=t?'title="'.concat(ov(t),'" '):"",n=ov(n||""),'<img src="'.concat(e,'" ').concat(t,'alt="').concat(n,'">')):n}(e,t,n)},ty=function(e,t,n,i,r){if(r){var o=t.indexOf(":///");if(!(o<0)){var a=t.slice(0,o);return r[a]?r[a](t.slice(o+4),n,i,e):void 0}}};var ny='</p><div class="video-iframe-container">',iy='sandbox="allow-scripts allow-same-origin allow-presentation allow-forms',ry="".concat(iy,'"'),oy="".concat(iy,' allow-popups allow-popups-to-escape-sandbox"'),ay='class="video-iframe" allowfullscreen="" scrolling="no" allow="fullscreen; autoplay; encrypted-media" '.concat(ry),sy="</iframe></div><p>",ly="</div><p>",cy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'<video\n    style="width: 100%; height: 100%; position: absolute;"\n    controls="" playsinline=""\n    controlsList="nodownload">\n    <source src="'.concat(e,'"').concat(t,">\n  </video>")},uy={youtube:{embedCode:function(e,t){return"".concat(ny,'<iframe src="https://www.youtube.com/embed/').concat(e,'?rel=0&amp;showinfo=0" ').concat(ay,">").concat(t).concat(sy)}},vimeo:{embedCode:function(e,t){return"".concat(ny,'<iframe src="https://player.vimeo.com/video/').concat(e,'?byline=0&amp;badge=0&amp;portrait=0&amp;title=0" ').concat(ay,">").concat(t).concat(sy)}},iplayerhd:{embedCode:function(e,t){return"".concat(ny,'<iframe src="https://iplayerhd.com/player/video/').concat(e,'" ').concat(ay,">").concat(t).concat(sy)}},googledrive:{embedCode:function(e,t){return"".concat(ny,'<iframe src="https://drive.google.com/file/d/').concat(e,'/preview" ').concat(ay,">").concat(t).concat(sy)}},dropbox:{embedCode:function(e,t){return"".concat(ny,'<iframe src="').concat(e,'" ').concat(ay,">").concat(t).concat(sy)}},onedrive:{embedCode:function(e){return"".concat(ny).concat(cy(e)).concat(ly)}},directlink:{embedCode:function(e){var t="",n=Xv.link.getExtension(e);return Xv.link.isSupportedExtension(n)&&("ogv"===n&&(n="ogg"),t=' type="video/'.concat(n,'"')),"".concat(ny).concat(cy(e,t)).concat(ly)}}};function dy(e){if(!e)return null;if(e=(e=(e=e.trim()).replace("-nocookie","")).replace("/www.","/"),/\/\/google/.test(e)){var t=e.match(/url=([^&]+)&/);t&&(e=decodeURIComponent(t[1]))}return Xv.youTube.isValid(e)?{id:Xv.youTube.getId(e),service:"youtube"}:Xv.vimeo.isValid(e)?{id:Xv.vimeo.getId(e),service:"vimeo"}:Xv.iPlayerHD.isValid(e)?{id:Xv.iPlayerHD.getId(e),service:"iplayerhd"}:Xv.googleDrive.isValid(e)?{id:Xv.googleDrive.getId(e),service:"googledrive"}:Xv.oneDrive.isValid(e)?{id:Xv.oneDrive.getUrl(e),service:"onedrive"}:Xv.dropbox.isValid(e)?{url:Xv.dropbox.getUrl(e),service:"dropbox"}:Xv.link.isValid(e)?{id:e,service:"directlink"}:null}var hy={ALLOWED_TAGS:[],ALLOWED_ATTR:[],KEEP_CONTENT:!0},py={savable:!1,iconlibrary:"fa",resize:"none",fullscreen:{enable:!1},hiddenButtons:"cmdPreview cmdUrl cmdImage cmdCode",disabledButtons:"cmdPreview cmdUrl cmdImage cmdCode",additionalButtons:[[{name:"groupCustom",data:[{name:"cmdLink",title:"URL/Link",icon:"fa fa-link",callback:function(e){var t,n,i=e.getSelection();t=0===i.length?e.__localize("enter link description here"):i.text;var r=prompt(e.__localize("Insert Hyperlink"),"http://");if(null!==r&&""!==r&&"http://"!==r&&/^((http|https):\/\/|(mailto:)|(\/\/))[a-z0-9]/i.test(r)){var o=zs()("<div>".concat(r,"</div>")).text();e.replaceSelection("[".concat(t,"](").concat(o,")")),n=i.start+1,e.setSelection(n,n+t.length)}}},{name:"cmdVideo",toggle:!1,title:"Video",icon:"fa fa-youtube-play",callback:function(e){var t,n,i,r=e.getSelection();0===(t=(t=0===r.length?e.__localize("Video"):r.text).trim()).indexOf("http")?(i=t,t=e.__localize("Video")):i=prompt(e.__localize("Insert Video Hyperlink"),"http://");if(null!==i&&""!==i&&"http://"!==i&&/^((http|https):\/\/)[a-z0-9]/i.test(i)){var o=zs()("<div>".concat(i,"</div>")).text();e.replaceSelection("[".concat(t,"](").concat(o,")")),n=r.start+1,e.setSelection(n,n+t.length)}}}]}]]},fy=function(e,t){return e=Cv().sanitize(e,hy),t?'<p style="margin:10px;overflow-wrap:break-word;word-wrap:break-word;hyphens:none;">'.concat(e,"</p>"):'<iframe src="'.concat(e,'" class="tag-iframe" ').concat(oy,' allowfullscreen="" allow="fullscreen"></iframe>')},my=/<video(.|\n)*?<\/video>/,gy=function(){function e(t){o()(this,e),this.isShown=!1,this.elem=t}return l()(e,[{key:"show",value:function(){var e=this;this.isShown=!0;setTimeout((function(){e.isShown&&e.elem.removeClass("hidden")}),200)}},{key:"hide",value:function(){this.isShown=!1,this.elem.addClass("hidden")}}]),e}(),vy=gy,yy=function(){function e(){o()(this,e),this.gates=[],this.floorplans=[],this.active_floorplan_index=0}return l()(e,[{key:"setActiveFloorId",value:function(e){this.active_floorplan_index=e||this.active_floorplan_index}},{key:"setInitFloor",value:function(e){this.setActiveFloorId(e);var t=this.getActiveFloorplan();if(!t||t.hidden)for(var n=0;n<this.floorplans.length&&(t=this.floorplans[n],this.active_floorplan_index=t.id,t.hidden);n++);}},{key:"getShownFloorplans",value:function(){for(var e=this.floorplans,t=[],n=0;n<e.length;n++)e[n].hidden||t.push(e[n]);return t}},{key:"getActiveFloorplan",value:function(){return this.getFloorplanFromId(this.active_floorplan_index)}},{key:"getIdxFromActiveFloorplanIndex",value:function(){return this.getFloorplanAndIdxFromId(this.active_floorplan_index).i}},{key:"getFloorplanIdFromIdx",value:function(e){return this.floorplans[e].id}},{key:"getFloorplanFromIdx",value:function(e){return this.floorplans[e]}},{key:"getFloorplanFromId",value:function(e){return this.getFloorplanAndIdxFromId(e).floorplan}},{key:"getFloorplanAndIdxFromId",value:function(e){for(var t=0;t<this.floorplans.length;t++){var n=this.floorplans[t];if(this.floorplans[t].id===e)return{floorplan:n,i:t}}return{floorplan:this.floorplans[0],i:0}}}]),e}(),by=yy,wy=function(e,t){var n;if(!t)return document.createElementNS("http://www.w3.org/2000/svg",e);for(n in t)if(t.hasOwnProperty(n)){if("string"==typeof t[n]&&t[n].includes("Infinity"))return;t[n]!==1/0&&t[n]!==-1/0?"href"===n?e.setAttributeNS("http://www.w3.org/1999/xlink",n,t[n]):("r"===n&&t[n]<0&&(t[n]=0),e.setAttribute(n,t[n])):e.setAttribute(n,1)}return null},_y=function(){function e(){o()(this,e)}return l()(e,null,[{key:"draw",value:function(e,t){var n=wy(e);return wy(n,t),n}},{key:"setAttr",value:function(e,t){wy(e,t)}},{key:"defMask",value:function(e,t){var n=wy("mask");n.id=e;var i=wy("circle");wy(i,{cx:t.cx,cy:t.cy,r:t.outerRadius,fill:"white"}),n.appendChild(i);var r=wy("circle");return wy(r,{cx:t.cx,cy:t.cy,r:t.innerRadius}),n.appendChild(r),n}},{key:"defRadialGradient",value:function(e,t){var n=wy("radialGradient");void 0!==t.fx&&void 0!==t.fy&&wy(n,{fx:t.fx,fy:t.fy}),n.id=e;var i=wy("stop");wy(i,{offset:"0%","stop-color":t.startColor}),n.appendChild(i);var r=wy("stop");return wy(r,{offset:"100%","stop-color":t.endColor,"stop-opacity":t.stopOpacity}),n.appendChild(r),n}},{key:"setDraggable",value:function(e,t,n,i){var r=null,o=function(e){r=e.target,"mousemove touchmove".split(" ").forEach((function(e){window.addEventListener(e,a)})),"mouseup touchend".split(" ").forEach((function(e){window.addEventListener(e,s)})),t(e),e.stopPropagation()},a=function(e){n(e),e.stopPropagation()},s=function e(t){r&&("mousemove touchmove".split(" ").forEach((function(e){window.removeEventListener(e,a)})),"mouseup touchend".split(" ").forEach((function(t){window.removeEventListener(t,e)})),r=null,i(t),t.stopPropagation())};"mousedown touchstart".split(" ").forEach((function(t){e.addEventListener(t,o)}))}},{key:"getTransformStr",value:function(t){var n=e.getTransformMatrix(t);return"matrix(".concat(n[0]," ").concat(n[1]," ").concat(n[2]," ").concat(n[3]," ").concat(n[4]," ").concat(n[5],")")}},{key:"getTransformMatrix",value:function(e){var t,n,i,r,o,a,s;e.scale?(t=e.scale[0],n=e.scale[1]):(t=1,n=1),e.relPos?(i=e.relPos[0],r=e.relPos[1]):(i=0,r=0),e.pos?(o=e.pos[0],a=e.pos[1]):(o=0,a=0),s=e.ang?e.ang:0;var l=Math.cos(s),c=Math.sin(s),u=t*l,d=t*c,h=n*-c,p=n*l;return[u,d,h,p,i*u+r*h+o,i*d+r*p+a]}}]),e}(),xy="rgb(13, 158, 75)",Ty="rgb(179, 239, 185)",Sy="#ff0000",Ey=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),this.bShow=!0,this.center=new Vs(0,0),this.rotationAngle=0,this.visited=!1,this.neighbors=[],this.color=null,this.circleColor=t.isRadix?Ty:xy,this.tempHidden=!1,this.element=null}return l()(e,[{key:"_redraw",value:function(e,t){this.element&&_y.setAttr(this.element,{fill:this.bShow||t?e:Sy,"fill-opacity":this.visited?0:.2,stroke:this.bShow||t?e:Sy,"stroke-width":.2*this.getRadius()})}},{key:"setColor",value:function(e,t){this.color=e,this._redraw(this.color,t)}},{key:"resetColor",value:function(){this.setColor(this.bShow?this.circleColor:Sy)}},{key:"setShown",value:function(e,t){this.bShow=t,this.setColor(e)}},{key:"setVisible",value:function(e){this.tempHidden=!e,this.element&&(this.element.style.visibility=!1===e?"hidden":"")}},{key:"swapColor",value:function(e){this.setColor(e?this.circleColor:Sy,!0)}},{key:"draw",value:function(e,t){this.getRadius=e.getRadius,this.element=_y.draw("circle",{id:"pano".concat(this.id),r:this.getRadius(),cx:this.center.x,cy:this.center.y,style:"cursor: pointer"}),this.setColor(this.circleColor),e.containerElement.appendChild(this.element),t&&t.floorplanRedrawObserver&&t.floorplanRedrawObserver.add(this.setElementR.bind(this))}},{key:"setVisited",value:function(e){this.visited=!0,this.setColor(e?this.color:this.circleColor)}},{key:"setElementR",value:function(){if(this.element){var e=this.getRadius();_y.setAttr(this.element,{r:e,"stroke-width":.2*e})}}},{key:"vrGetSphereId",value:function(){return this.id}},{key:"getTripodImageOpacity",value:function(){return"user"===this.type?0:1}}]),e}(),My=Ey,Ay=a.p+"a/5f384342608bfcb12239.svg",Cy=function(){function e(){o()(this,e),this.bShow=!0,this.center=new Vs(0,0),this.tempHidden=!1}return l()(e,[{key:"setShown",value:function(e,t){this.bShow=t}},{key:"setVisible",value:function(e){this.element.style.visibility=!1===e?"hidden":"",this.tempHidden=!e}},{key:"draw",value:function(e,t){this.getRadius=e.getRadius;var n=this.getRadius();this.element=_y.draw("image",{id:"gate".concat(this.id),class:"gate",width:4*n,height:4*n,x:this.center.x-2*n,y:this.center.y-2*n,href:Ay,style:"cursor: pointer"}),e.containerElement.appendChild(this.element),t&&t.floorplanRedrawObserver&&t.floorplanRedrawObserver.add(this.setElementR.bind(this))}},{key:"setElementR",value:function(){if(this.element){var e=this.getRadius();_y.setAttr(this.element,{width:4*e,height:4*e,x:this.center.x-2*e,y:this.center.y-2*e})}}}]),e}(),ky=Cy,Py=function(){function e(){o()(this,e),this.id=null,this.color="",this.design=null,this.opacity=null,this.title="",this.content="",this.iframe="",this.stem=0,this.coords=new ta(0,0,0),this.center=new Vs(0,0),this.allPanoIds=[],this.visiblePanoIds=[],this.initialPanoId=null,this.hidden=null,this.tempHidden=!1}return l()(e,[{key:"setShown",value:function(e,t){this.hidden=!t}},{key:"setVisible",value:function(e){this.tempHidden=!e,this.element&&(this.element.style.visibility=!1===e?"hidden":"")}},{key:"draw",value:function(e,t){this.getRadius=function(){return e.getRadius()};var n=this.getRadius();this.element=_y.draw("use",{href:"#tag",id:"tag".concat(this.id),class:"tag".concat(this.hidden?" hidden":""),width:4*n,height:4*n,x:this.center.x-2*n,y:this.center.y-2*n,fill:e.getColor(this.color)}),e.containerElement.appendChild(this.element),t&&t.floorplanRedrawObserver&&t.floorplanRedrawObserver.add(this.setElementR.bind(this))}},{key:"setElementR",value:function(){if(this.element){var e=this.getRadius();_y.setAttr(this.element,{width:4*e,height:4*e,x:this.center.x-2*e,y:this.center.y-2*e})}}}]),e}(),Dy=Py,Ry=a(86905);Ry.ML._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],(function(){var e=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},t=function(e,t,n){var i,r,o=e.cycle;for(i in o)r=o[i],e[i]="function"==typeof r?r(n,t[n]):r[n%r.length];delete e.cycle},n=function(e,t,i){Ry.ZP.call(this,e,t,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=n.prototype.render},i=1e-10,r=Ry.ZP._internals,o=r.isSelector,a=r.isArray,s=n.prototype=Ry.ZP.to({},.1,{}),l=[];n.version="2.0.2",s.constructor=n,s.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=Ry.ZP.killTweensOf,n.getTweensOf=Ry.ZP.getTweensOf,n.lagSmoothing=Ry.ZP.lagSmoothing,n.ticker=Ry.ZP.ticker,n.render=Ry.ZP.render,s.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),Ry.ZP.prototype.invalidate.call(this)},s.updateTo=function(e,t){var n,i=this.ratio,r=this.vars.immediateRender||e.immediateRender;for(n in t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),e)this.vars[n]=e[n];if(this._initted||r)if(t)this._initted=!1,r&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&Ry.ZP._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||r)for(var a,s=1/(1-i),l=this._firstPT;l;)a=l.s+l.c,l.c*=s,l.s=a-l.c,l=l._next;return this},s.render=function(e,t,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var o,a,s,l,c,u,d,h,p,f=this._dirty?this.totalDuration():this._totalDuration,m=this._time,g=this._totalTime,v=this._cycle,y=this._duration,b=this._rawPrevTime;if(e>=f-1e-7&&e>=0?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(o=!0,a="onComplete",n=n||this._timeline.autoRemoveChildren),0===y&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(b<0||e<=0&&e>=-1e-7||b===i&&"isPause"!==this.data)&&b!==e&&(n=!0,b>i&&(a="onReverseComplete")),this._rawPrevTime=h=!t||e||b===e?e:i)):e<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===y&&b>0)&&(a="onReverseComplete",o=this._reversed),e<0&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||n)&&(b>=0&&(n=!0),this._rawPrevTime=h=!t||e||b===e?e:i)),this._initted||(n=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(l=y+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&g<=e&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=y-this._time,(p=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==p||this._initted?this._yoyoEase=p=!0===p?this._ease:p instanceof Ry.SX?p:Ry.SX.map[p]:(p=this.vars.ease,this._yoyoEase=p=p?p instanceof Ry.SX?p:"function"==typeof p?new Ry.SX(p,this.vars.easeParams):Ry.SX.map[p]||Ry.ZP.defaultEase:Ry.ZP.defaultEase)),this.ratio=p?1-p.getRatio((y-this._time)/y):0)),this._time>y?this._time=y:this._time<0&&(this._time=0)),this._easeType&&!p?(c=this._time/y,(1===(u=this._easeType)||3===u&&c>=.5)&&(c=1-c),3===u&&(c*=2),1===(d=this._easePower)?c*=c:2===d?c*=c*c:3===d?c*=c*c*c:4===d&&(c*=c*c*c*c),1===u?this.ratio=1-c:2===u?this.ratio=c:this._time/y<.5?this.ratio=c/2:this.ratio=1-c/2):p||(this.ratio=this._ease.getRatio(this._time/y))),m!==this._time||n||v!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=m,this._totalTime=g,this._rawPrevTime=b,this._cycle=v,r.lazyTweens.push(this),void(this._lazy=[e,t]);!this._time||o||p?o&&this._ease._calcEnd&&!p&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/y)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==m&&e>=0&&(this._active=!0),0===g&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,!0,n):a||(a="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==y||t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(e<0&&this._startAt&&this._startTime&&this._startAt.render(e,!0,n),t||(this._totalTime!==g||a)&&this._callback("onUpdate")),this._cycle!==v&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),a&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,!0,n),o&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this._callback(a),0===y&&this._rawPrevTime===i&&h!==i&&(this._rawPrevTime=0)))}else g!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},n.to=function(e,t,i){return new n(e,t,i)},n.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new n(e,t,i)},n.fromTo=function(e,t,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new n(e,t,r)},n.staggerTo=n.allTo=function(i,r,s,c,u,d,h){c=c||0;var p,f,m,g,v=0,y=[],b=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),u.apply(h||s.callbackScope||this,d||l)},w=s.cycle,_=s.startAt&&s.startAt.cycle;for(a(i)||("string"==typeof i&&(i=Ry.ZP.selector(i)||i),o(i)&&(i=e(i))),i=i||[],c<0&&((i=e(i)).reverse(),c*=-1),p=i.length-1,m=0;m<=p;m++){for(g in f={},s)f[g]=s[g];if(w&&(t(f,i,m),null!=f.duration&&(r=f.duration,delete f.duration)),_){for(g in _=f.startAt={},s.startAt)_[g]=s.startAt[g];t(f.startAt,i,m)}f.delay=v+(f.delay||0),m===p&&u&&(f.onComplete=b),y[m]=new n(i[m],r,f),v+=c}return y},n.staggerFrom=n.allFrom=function(e,t,i,r,o,a,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,n.staggerTo(e,t,i,r,o,a,s)},n.staggerFromTo=n.allFromTo=function(e,t,i,r,o,a,s,l){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,n.staggerTo(e,t,r,o,a,s,l)},n.delayedCall=function(e,t,i,r,o){return new n(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,useFrames:o,overwrite:0})},n.set=function(e,t){return new n(e,0,t)},n.isTweening=function(e){return Ry.ZP.getTweensOf(e,!0).length>0};var c=function(e,t){for(var n=[],i=0,r=e._first;r;)r instanceof Ry.ZP?n[i++]=r:(t&&(n[i++]=r),i=(n=n.concat(c(r,t))).length),r=r._next;return n},u=n.getAllTweens=function(e){return c(Ry.fw._rootTimeline,e).concat(c(Ry.fw._rootFramesTimeline,e))};n.killAll=function(e,t,n,i){null==t&&(t=!0),null==n&&(n=!0);var r,o,a,s=u(0!=i),l=s.length,c=t&&n&&i;for(a=0;a<l;a++)o=s[a],(c||o instanceof Ry.MQ||(r=o.target===o.vars.onComplete)&&n||t&&!r)&&(e?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},n.killChildTweensOf=function(t,i){if(null!=t){var s,l,c,u,d,h=r.tweenLookup;if("string"==typeof t&&(t=Ry.ZP.selector(t)||t),o(t)&&(t=e(t)),a(t))for(u=t.length;--u>-1;)n.killChildTweensOf(t[u],i);else{for(c in s=[],h)for(l=h[c].target.parentNode;l;)l===t&&(s=s.concat(h[c].tweens)),l=l.parentNode;for(d=s.length,u=0;u<d;u++)i&&s[u].totalTime(s[u].totalDuration()),s[u]._enabled(!1,!1)}}};var d=function(e,t,n,i){t=!1!==t,n=!1!==n;for(var r,o,a=u(i=!1!==i),s=t&&n&&i,l=a.length;--l>-1;)o=a[l],(s||o instanceof Ry.MQ||(r=o.target===o.vars.onComplete)&&n||t&&!r)&&o.paused(e)};return n.pauseAll=function(e,t,n){d(!0,e,t,n)},n.resumeAll=function(e,t,n){d(!1,e,t,n)},n.globalTimeScale=function(e){var t=Ry.fw._rootTimeline,n=Ry.ZP.ticker.time;return arguments.length?(e=e||i,t._startTime=n-(n-t._startTime)*t._timeScale/e,t=Ry.fw._rootFramesTimeline,n=Ry.ZP.ticker.frame,t._startTime=n-(n-t._startTime)*t._timeScale/e,t._timeScale=Ry.fw._rootTimeline._timeScale=e,e):t._timeScale},s.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},s.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},s.duration=function(e){return arguments.length?Ry.fw.prototype.duration.call(this,e):this._duration},s.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},s.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},s.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},s.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},n}),!0);var $y=Ry.li.TweenMax;Ry.ML._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],(function(){var e,t,n,i,r=function(){Ry.VN.call(this,"css"),this._overwriteProps.length=0,this.setRatio=r.prototype.setRatio},o=Ry.ML._gsDefine.globals,a={},s=r.prototype=new Ry.VN("css");s.constructor=r,r.version="2.0.2",r.API=2,r.defaultTransformPerspective=0,r.defaultSkewType="compensated",r.defaultSmoothOrigin=!0,s="px",r.suffixMap={top:s,right:s,bottom:s,left:s,width:s,height:s,fontSize:s,padding:s,margin:s,perspective:s,lineHeight:""};var l,c,u,d,h,p,f,m,g=/(?:\-|\.|\b)(\d|\.|e\-)+/g,v=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,b=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,_=/opacity *= *([^)]*)/i,x=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,E=/([A-Z])/g,M=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,C=function(e,t){return t.toUpperCase()},k=/(?:Left|Right|Width)/i,P=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,R=/,(?=[^\)]*(?:\(|$))/gi,$=/[\s,\(]/i,I=Math.PI/180,L=180/Math.PI,O={},N={style:{}},F=Ry.ML.document||{createElement:function(){return N}},B=function(e,t){return F.createElementNS?F.createElementNS(t||"http://www.w3.org/1999/xhtml",e):F.createElement(e)},U=B("div"),z=B("img"),V=r._internals={_specialProps:a},H=(Ry.ML.navigator||{}).userAgent||"",j=function(){var e=H.indexOf("Android"),t=B("a");return u=-1!==H.indexOf("Safari")&&-1===H.indexOf("Chrome")&&(-1===e||parseFloat(H.substr(e+8,2))>3),h=u&&parseFloat(H.substr(H.indexOf("Version/")+8,2))<6,d=-1!==H.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(H)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(H))&&(p=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),W=function(e){return _.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},G=function(e){Ry.ML.console&&console.log(e)},q="",Z="",X=function(e,t){var n,i,r=(t=t||U).style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===r[n[i]+e];);return i>=0?(q="-"+(Z=3===i?"ms":n[i]).toLowerCase()+"-",Z+e):null},Y=("undefined"!=typeof window?window:F.defaultView||{getComputedStyle:function(){}}).getComputedStyle,K=r.getStyle=function(e,t,n,i,r){var o;return j||"opacity"!==t?(!i&&e.style[t]?o=e.style[t]:(n=n||Y(e))?o=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace(E,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[t]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):W(e)},J=V.convertToPixels=function(e,t,n,i,o){if("px"===i||!i&&"lineHeight"!==t)return n;if("auto"===i||!n)return 0;var a,s,l,c=k.test(t),u=e,d=U.style,h=n<0,p=1===n;if(h&&(n=-n),p&&(n*=100),"lineHeight"!==t||i)if("%"===i&&-1!==t.indexOf("border"))a=n/100*(c?e.clientWidth:e.clientHeight);else{if(d.cssText="border:0 solid red;position:"+K(e,"position")+";line-height:0;","%"!==i&&u.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)d[c?"borderLeftWidth":"borderTopWidth"]=n+i;else{if(u=e.parentNode||F.body,-1!==K(u,"display").indexOf("flex")&&(d.position="absolute"),s=u._gsCache,l=Ry.ZP.ticker.frame,s&&c&&s.time===l)return s.width*n/100;d[c?"width":"height"]=n+i}u.appendChild(U),a=parseFloat(U[c?"offsetWidth":"offsetHeight"]),u.removeChild(U),c&&"%"===i&&!1!==r.cacheWidths&&((s=u._gsCache=u._gsCache||{}).time=l,s.width=a/n*100),0!==a||o||(a=J(e,t,n,i,!0))}else s=Y(e).lineHeight,e.style.lineHeight=n,a=parseFloat(Y(e).lineHeight),e.style.lineHeight=s;return p&&(a/=100),h?-a:a},Q=V.calculateOffset=function(e,t,n){if("absolute"!==K(e,"position",n))return 0;var i="left"===t?"Left":"Top",r=K(e,"margin"+i,n);return e["offset"+i]-(J(e,t,parseFloat(r),r.replace(w,""))||0)},ee=function(e,t){var n,i,r,o={};if(t=t||Y(e,null))if(n=t.length)for(;--n>-1;)-1!==(r=t[n]).indexOf("-transform")&&Ae!==r||(o[r.replace(M,C)]=t.getPropertyValue(r));else for(n in t)-1!==n.indexOf("Transform")&&Me!==n||(o[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===o[n]&&(o[n.replace(M,C)]=t[n]);return j||(o.opacity=W(e)),i=Ue(e,t,!1),o.rotation=i.rotation,o.skewX=i.skewX,o.scaleX=i.scaleX,o.scaleY=i.scaleY,o.x=i.x,o.y=i.y,ke&&(o.z=i.z,o.rotationX=i.rotationX,o.rotationY=i.rotationY,o.scaleZ=i.scaleZ),o.filters&&delete o.filters,o},te=function(e,t,n,i,r){var o,a,s,l={},c=e.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(t[a]!==(o=n[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(l[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof t[a]||""===t[a].replace(b,"")?o:0:Q(e,a),void 0!==c[a]&&(s=new ge(c,a,c[a],s))));if(i)for(a in i)"className"!==a&&(l[a]=i[a]);return{difs:l,firstMPT:s}},ne={width:["Left","Right"],height:["Top","Bottom"]},ie=["marginLeft","marginRight","marginTop","marginBottom"],re=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||Y(e))[t]||0;if(e.getCTM&&Ne(e))return e.getBBox()[t]||0;var i=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),r=ne[t],o=r.length;for(n=n||Y(e,null);--o>-1;)i-=parseFloat(K(e,"padding"+r[o],n,!0))||0,i-=parseFloat(K(e,"border"+r[o]+"Width",n,!0))||0;return i},oe=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var n,i=e.split(" "),r=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],o=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];if(i.length>3&&!t){for(i=e.split(", ").join(",").split(","),e=[],n=0;n<i.length;n++)e.push(oe(i[n]));return e.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),e=r+" "+o+(i.length>2?" "+i[2]:""),t&&(t.oxp=-1!==r.indexOf("%"),t.oyp=-1!==o.indexOf("%"),t.oxr="="===r.charAt(1),t.oyr="="===o.charAt(1),t.ox=parseFloat(r.replace(b,"")),t.oy=parseFloat(o.replace(b,"")),t.v=e),t||e},ae=function(e,t){return"function"==typeof e&&(e=e(m,f)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},se=function(e,t){"function"==typeof e&&(e=e(m,f));var n="string"==typeof e&&"="===e.charAt(1);return"string"==typeof e&&"v"===e.charAt(e.length-2)&&(e=(n?e.substr(0,2):0)+window["inner"+("vh"===e.substr(-2)?"Height":"Width")]*(parseFloat(n?e.substr(2):e)/100)),null==e?t:n?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},le=function(e,t,n,i){var r,o,a,s,l,c=1e-6;return"function"==typeof e&&(e=e(m,f)),null==e?s=t:"number"==typeof e?s=e:(r=360,o=e.split("_"),a=((l="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===e.indexOf("rad")?1:L)-(l?0:t),o.length&&(i&&(i[n]=t+a),-1!==e.indexOf("short")&&(a%=r)!==a%180&&(a=a<0?a+r:a-r),-1!==e.indexOf("_cw")&&a<0?a=(a+3599999999640)%r-(a/r|0)*r:-1!==e.indexOf("ccw")&&a>0&&(a=(a-3599999999640)%r-(a/r|0)*r)),s=t+a),s<c&&s>-c&&(s=0),s},ce={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ue=function(e,t,n){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},de=r.parseColor=function(e,t){var n,i,r,o,a,s,l,c,u,d,h;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),ce[e])n=ce[e];else if("#"===e.charAt(0))4===e.length&&(i=e.charAt(1),r=e.charAt(2),o=e.charAt(3),e="#"+i+i+r+r+o+o),n=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=h=e.match(g),t){if(-1!==e.indexOf("="))return e.match(v)}else a=Number(n[0])%360/360,s=Number(n[1])/100,i=2*(l=Number(n[2])/100)-(r=l<=.5?l*(s+1):l+s-l*s),n.length>3&&(n[3]=Number(n[3])),n[0]=ue(a+1/3,i,r),n[1]=ue(a,i,r),n[2]=ue(a-1/3,i,r);else n=e.match(g)||ce.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=ce.black;return t&&!h&&(i=n[0]/255,r=n[1]/255,o=n[2]/255,l=((c=Math.max(i,r,o))+(u=Math.min(i,r,o)))/2,c===u?a=s=0:(d=c-u,s=l>.5?d/(2-c-u):d/(c+u),a=c===i?(r-o)/d+(r<o?6:0):c===r?(o-i)/d+2:(i-r)/d+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*l+.5|0),n},he=function(e,t){var n,i,r,o=e.match(pe)||[],a=0,s="";if(!o.length)return e;for(n=0;n<o.length;n++)i=o[n],a+=(r=e.substr(a,e.indexOf(i,a)-a)).length+i.length,3===(i=de(i,t)).length&&i.push(1),s+=r+(t?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return s+e.substr(a)},pe="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(s in ce)pe+="|"+s+"\\b";pe=new RegExp(pe+")","gi"),r.colorStringFilter=function(e){var t,n=e[0]+" "+e[1];pe.test(n)&&(t=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),e[0]=he(e[0],t),e[1]=he(e[1],t)),pe.lastIndex=0},Ry.ZP.defaultStringFilter||(Ry.ZP.defaultStringFilter=r.colorStringFilter);var fe=function(e,t,n,i){if(null==e)return function(e){return e};var r,o=t?(e.match(pe)||[""])[0]:"",a=e.split(o).join("").match(y)||[],s=e.substr(0,e.indexOf(a[0])),l=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",u=a.length,d=u>0?a[0].replace(g,""):"";return u?t?(r=function(e){var t,h,p,f;if("number"==typeof e)e+=d;else if(i&&R.test(e)){for(f=e.replace(R,"|").split("|"),p=0;p<f.length;p++)f[p]=r(f[p]);return f.join(",")}if(t=(e.match(pe)||[o])[0],p=(h=e.split(t).join("").match(y)||[]).length,u>p--)for(;++p<u;)h[p]=n?h[(p-1)/2|0]:a[p];return s+h.join(c)+c+t+l+(-1!==e.indexOf("inset")?" inset":"")},r):(r=function(e){var t,o,h;if("number"==typeof e)e+=d;else if(i&&R.test(e)){for(o=e.replace(R,"|").split("|"),h=0;h<o.length;h++)o[h]=r(o[h]);return o.join(",")}if(h=(t=e.match(y)||[]).length,u>h--)for(;++h<u;)t[h]=n?t[(h-1)/2|0]:a[h];return s+t.join(c)+l},r):function(e){return e}},me=function(e){return e=e.split(","),function(t,n,i,r,o,a,s){var l,c=(n+"").split(" ");for(s={},l=0;l<4;l++)s[e[l]]=c[l]=c[l]||c[(l-1)/2>>0];return r.parse(t,s,o,a)}},ge=(V._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,i,r,o,a=this.data,s=a.proxy,l=a.firstMPT,c=1e-6;l;)t=s[l.v],l.r?t=l.r(t):t<c&&t>-c&&(t=0),l.t[l.p]=t,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod.call(this._tween,s.rotation,this.t,this._tween):s.rotation),1===e||0===e)for(l=a.firstMPT,o=1===e?"e":"b";l;){if((n=l.t).type){if(1===n.type){for(r=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n[o]=r}}else n[o]=n.s+n.xs0;l=l._next}},function(e,t,n,i,r){this.t=e,this.p=t,this.v=n,this.r=r,i&&(i._prev=this,this._next=i)}),ve=(V._parseToProxy=function(e,t,n,i,r,o){var a,s,l,c,u,d=i,h={},p={},f=n._transform,m=O;for(n._transform=null,O=t,i=u=n.parse(e,t,i,r),O=m,o&&(n._transform=f,d&&(d._prev=null,d._prev&&(d._prev._next=null)));i&&i!==d;){if(i.type<=1&&(p[s=i.p]=i.s+i.c,h[s]=i.s,o||(c=new ge(i,"s",s,c,i.r),i.c=0),1===i.type))for(a=i.l;--a>0;)l="xn"+a,p[s=i.p+"_"+l]=i.data[l],h[s]=i[l],o||(c=new ge(i,l,s,c,i.rxp[l]));i=i._next}return{proxy:h,end:p,firstMPT:c,pt:u}},V.CSSPropTween=function(t,n,r,o,a,s,l,c,u,d,h){this.t=t,this.p=n,this.s=r,this.c=o,this.n=l||n,t instanceof ve||i.push(this.n),this.r=c?"function"==typeof c?c:Math.round:c,this.type=s||0,u&&(this.pr=u,e=!0),this.b=void 0===d?r:d,this.e=void 0===h?r+o:h,a&&(this._next=a,a._prev=this)}),ye=function(e,t,n,i,r,o){var a=new ve(e,t,n,i-n,r,-1,o);return a.b=n,a.e=a.xs0=i,a},be=r.parseComplex=function(e,t,n,i,o,a,s,c,u,d){n=n||a||"","function"==typeof i&&(i=i(m,f)),s=new ve(e,t,0,0,s,d?2:1,null,!1,c,n,i),i+="",o&&pe.test(i+n)&&(i=[n,i],r.colorStringFilter(i),n=i[0],i=i[1]);var h,p,y,b,w,_,x,T,S,E,M,A,C,k=n.split(", ").join(",").split(" "),P=i.split(", ").join(",").split(" "),D=k.length,$=!1!==l;for(-1===i.indexOf(",")&&-1===n.indexOf(",")||(-1!==(i+n).indexOf("rgb")||-1!==(i+n).indexOf("hsl")?(k=k.join(" ").replace(R,", ").split(" "),P=P.join(" ").replace(R,", ").split(" ")):(k=k.join(" ").split(",").join(", ").split(" "),P=P.join(" ").split(",").join(", ").split(" ")),D=k.length),D!==P.length&&(D=(k=(a||"").split(" ")).length),s.plugin=u,s.setRatio=d,pe.lastIndex=0,h=0;h<D;h++)if(b=k[h],w=P[h]+"",(T=parseFloat(b))||0===T)s.appendXtra("",T,ae(w,T),w.replace(v,""),!(!$||-1===w.indexOf("px"))&&Math.round,!0);else if(o&&pe.test(b))A=")"+((A=w.indexOf(")")+1)?w.substr(A):""),C=-1!==w.indexOf("hsl")&&j,E=w,b=de(b,C),w=de(w,C),(S=b.length+w.length>6)&&!j&&0===w[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(P[h]).join("transparent")):(j||(S=!1),C?s.appendXtra(E.substr(0,E.indexOf("hsl"))+(S?"hsla(":"hsl("),b[0],ae(w[0],b[0]),",",!1,!0).appendXtra("",b[1],ae(w[1],b[1]),"%,",!1).appendXtra("",b[2],ae(w[2],b[2]),S?"%,":"%"+A,!1):s.appendXtra(E.substr(0,E.indexOf("rgb"))+(S?"rgba(":"rgb("),b[0],w[0]-b[0],",",Math.round,!0).appendXtra("",b[1],w[1]-b[1],",",Math.round).appendXtra("",b[2],w[2]-b[2],S?",":A,Math.round),S&&(b=b.length<4?1:b[3],s.appendXtra("",b,(w.length<4?1:w[3])-b,A,!1))),pe.lastIndex=0;else if(_=b.match(g)){if(!(x=w.match(v))||x.length!==_.length)return s;for(y=0,p=0;p<_.length;p++)M=_[p],E=b.indexOf(M,y),s.appendXtra(b.substr(y,E-y),Number(M),ae(x[p],M),"",!(!$||"px"!==b.substr(E+M.length,2))&&Math.round,0===p),y=E+M.length;s["xs"+s.l]+=b.substr(y)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+w:w;if(-1!==i.indexOf("=")&&s.data){for(A=s.xs0+s.data.s,h=1;h<s.l;h++)A+=s["xs"+h]+s.data["xn"+h];s.e=A+s["xs"+h]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},we=9;for((s=ve.prototype).l=s.pr=0;--we>0;)s["xn"+we]=0,s["xs"+we]="";s.xs0="",s._next=s._prev=s.xfirst=s.data=s.plugin=s.setRatio=s.rxp=null,s.appendXtra=function(e,t,n,i,r,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+e:e||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=i||"",s>0?(a.data["xn"+s]=t+n,a.rxp["xn"+s]=r,a["xn"+s]=t,a.plugin||(a.xfirst=new ve(a,"xn"+s,t,n,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:t+n},a.rxp={},a.s=t,a.c=n,a.r=r,a)):(a["xs"+s]+=t+(i||""),a)};var _e=function(e,t){t=t||{},this.p=t.prefix&&X(e)||e,a[e]=a[this.p]=this,this.format=t.formatter||fe(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},xe=V._registerComplexSpecialProp=function(e,t,n){"object"!=typeof t&&(t={parser:n});var i,r=e.split(","),o=t.defaultValue;for(n=n||[o],i=0;i<r.length;i++)t.prefix=0===i&&t.prefix,t.defaultValue=n[i]||o,new _e(r[i],t)},Te=V._registerPluginProp=function(e){if(!a[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";xe(e,{parser:function(e,n,i,r,s,l,c){var u=o.com.greensock.plugins[t];return u?(u._cssRegister(),a[i].parse(e,n,i,r,s,l,c)):(G("Error: "+t+" js file not loaded."),s)}})}};(s=_e.prototype).parseComplex=function(e,t,n,i,r,o){var a,s,l,c,u,d,h=this.keyword;if(this.multi&&(R.test(n)||R.test(t)?(s=t.replace(R,"|").split("|"),l=n.replace(R,"|").split("|")):h&&(s=[t],l=[n])),l){for(c=l.length>s.length?l.length:s.length,a=0;a<c;a++)t=s[a]=s[a]||this.dflt,n=l[a]=l[a]||this.dflt,h&&(u=t.indexOf(h))!==(d=n.indexOf(h))&&(-1===d?s[a]=s[a].split(h).join(""):-1===u&&(s[a]+=" "+h));t=s.join(", "),n=l.join(", ")}return be(e,this.p,t,n,this.clrs,this.dflt,i,this.pr,r,o)},s.parse=function(e,t,i,r,o,a,s){return this.parseComplex(e.style,this.format(K(e,this.p,n,!1,this.dflt)),this.format(t),o,a)},r.registerSpecialProp=function(e,t,n){xe(e,{parser:function(e,i,r,o,a,s,l){var c=new ve(e,r,0,0,a,2,r,!1,n);return c.plugin=s,c.setRatio=t(e,i,o._tween,r),c},priority:n})},r.useSVGTransformAttr=!0;var Se,Ee="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Me=X("transform"),Ae=q+"transform",Ce=X("transformOrigin"),ke=null!==X("perspective"),Pe=V.Transform=function(){this.perspective=parseFloat(r.defaultTransformPerspective)||0,this.force3D=!(!1===r.defaultForce3D||!ke)&&(r.defaultForce3D||"auto")},De=Ry.ML.SVGElement,Re=function(e,t,n){var i,r=F.createElementNS("http://www.w3.org/2000/svg",e),o=/([a-z])([A-Z])/g;for(i in n)r.setAttributeNS(null,i.replace(o,"$1-$2").toLowerCase(),n[i]);return t.appendChild(r),r},$e=F.documentElement||{},Ie=function(){var e,t,n,i=p||/Android/i.test(H)&&!Ry.ML.chrome;return F.createElementNS&&!i&&(e=Re("svg",$e),n=(t=Re("rect",e,{width:100,height:50,x:100})).getBoundingClientRect().width,t.style[Ce]="50% 50%",t.style[Me]="scaleX(0.5)",i=n===t.getBoundingClientRect().width&&!(d&&ke),$e.removeChild(e)),i}(),Le=function(e,t,n,i,o,a){var s,l,c,u,d,h,p,f,m,g,v,y,b,w,_=e._gsTransform,x=Be(e,!0);_&&(b=_.xOrigin,w=_.yOrigin),(!i||(s=i.split(" ")).length<2)&&(0===(p=e.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),s=[(-1!==(t=oe(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*p.width:parseFloat(t[0]))+p.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*p.height:parseFloat(t[1]))+p.y]),n.xOrigin=u=parseFloat(s[0]),n.yOrigin=d=parseFloat(s[1]),i&&x!==Fe&&(h=x[0],p=x[1],f=x[2],m=x[3],g=x[4],v=x[5],(y=h*m-p*f)&&(l=u*(m/y)+d*(-f/y)+(f*v-m*g)/y,c=u*(-p/y)+d*(h/y)-(h*v-p*g)/y,u=n.xOrigin=s[0]=l,d=n.yOrigin=s[1]=c)),_&&(a&&(n.xOffset=_.xOffset,n.yOffset=_.yOffset,_=n),o||!1!==o&&!1!==r.defaultSmoothOrigin?(l=u-b,c=d-w,_.xOffset+=l*x[0]+c*x[2]-l,_.yOffset+=l*x[1]+c*x[3]-c):_.xOffset=_.yOffset=0),a||e.setAttribute("data-svg-origin",s.join(" "))},Oe=function(e){var t,n=B("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if($e.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Oe}catch(e){}else this._originalGetBBox&&(t=this._originalGetBBox());return r?i.insertBefore(this,r):i.appendChild(this),$e.removeChild(n),this.style.cssText=o,t},Ne=function(e){return!(!De||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!function(e){try{return e.getBBox()}catch(t){return Oe.call(e,!0)}}(e))},Fe=[1,0,0,1,0,0],Be=function(e,t){var n,i,r,o,a,s,l=e._gsTransform||new Pe,c=1e5,u=e.style;if(Me?i=K(e,Ae,null,!0):e.currentStyle&&(i=(i=e.currentStyle.filter.match(P))&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),l.x||0,l.y||0].join(","):""),n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,!Me||!(s=!Y(e)||"none"===Y(e).display)&&e.parentNode||(s&&(o=u.display,u.display="block"),e.parentNode||(a=1,$e.appendChild(e)),n=!(i=K(e,Ae,null,!0))||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,o?u.display=o:s&&je(u,"display"),a&&$e.removeChild(e)),(l.svg||e.getCTM&&Ne(e))&&(n&&-1!==(u[Me]+"").indexOf("matrix")&&(i=u[Me],n=0),r=e.getAttribute("transform"),n&&r&&(i="matrix("+(r=e.transform.baseVal.consolidate().matrix).a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",n=0)),n)return Fe;for(r=(i||"").match(g)||[],we=r.length;--we>-1;)o=Number(r[we]),r[we]=(a=o-(o|=0))?(a*c+(a<0?-.5:.5)|0)/c+o:o;return t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Ue=V.getTransform=function(e,t,n,i){if(e._gsTransform&&n&&!i)return e._gsTransform;var o,a,s,l,c,u,d=n&&e._gsTransform||new Pe,h=d.scaleX<0,p=2e-5,f=1e5,m=ke&&(parseFloat(K(e,Ce,t,!1,"0 0 0").split(" ")[2])||d.zOrigin)||0,g=parseFloat(r.defaultTransformPerspective)||0;if(d.svg=!(!e.getCTM||!Ne(e)),d.svg&&(Le(e,K(e,Ce,t,!1,"50% 50%")+"",d,e.getAttribute("data-svg-origin")),Se=r.useSVGTransformAttr||Ie),(o=Be(e))!==Fe){if(16===o.length){var v,y,b,w,_,x=o[0],T=o[1],S=o[2],E=o[3],M=o[4],A=o[5],C=o[6],k=o[7],P=o[8],D=o[9],R=o[10],$=o[12],I=o[13],O=o[14],N=o[11],F=Math.atan2(C,R);d.zOrigin&&($=P*(O=-d.zOrigin)-o[12],I=D*O-o[13],O=R*O+d.zOrigin-o[14]),d.rotationX=F*L,F&&(v=M*(w=Math.cos(-F))+P*(_=Math.sin(-F)),y=A*w+D*_,b=C*w+R*_,P=M*-_+P*w,D=A*-_+D*w,R=C*-_+R*w,N=k*-_+N*w,M=v,A=y,C=b),F=Math.atan2(-S,R),d.rotationY=F*L,F&&(y=T*(w=Math.cos(-F))-D*(_=Math.sin(-F)),b=S*w-R*_,D=T*_+D*w,R=S*_+R*w,N=E*_+N*w,x=v=x*w-P*_,T=y,S=b),F=Math.atan2(T,x),d.rotation=F*L,F&&(v=x*(w=Math.cos(F))+T*(_=Math.sin(F)),y=M*w+A*_,b=P*w+D*_,T=T*w-x*_,A=A*w-M*_,D=D*w-P*_,x=v,M=y,P=b),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),F=Math.atan2(M,A),d.scaleX=(Math.sqrt(x*x+T*T+S*S)*f+.5|0)/f,d.scaleY=(Math.sqrt(A*A+C*C)*f+.5|0)/f,d.scaleZ=(Math.sqrt(P*P+D*D+R*R)*f+.5|0)/f,x/=d.scaleX,M/=d.scaleY,T/=d.scaleX,A/=d.scaleY,Math.abs(F)>p?(d.skewX=F*L,M=0,"simple"!==d.skewType&&(d.scaleY*=1/Math.cos(F))):d.skewX=0,d.perspective=N?1/(N<0?-N:N):0,d.x=$,d.y=I,d.z=O,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*x-d.yOrigin*M),d.y-=d.yOrigin-(d.yOrigin*T-d.xOrigin*A))}else if(!ke||i||!o.length||d.x!==o[4]||d.y!==o[5]||!d.rotationX&&!d.rotationY){var B=o.length>=6,U=B?o[0]:1,z=o[1]||0,V=o[2]||0,H=B?o[3]:1;d.x=o[4]||0,d.y=o[5]||0,s=Math.sqrt(U*U+z*z),l=Math.sqrt(H*H+V*V),c=U||z?Math.atan2(z,U)*L:d.rotation||0,u=V||H?Math.atan2(V,H)*L+c:d.skewX||0,d.scaleX=s,d.scaleY=l,d.rotation=c,d.skewX=u,ke&&(d.rotationX=d.rotationY=d.z=0,d.perspective=g,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*U+d.yOrigin*V),d.y-=d.yOrigin-(d.xOrigin*z+d.yOrigin*H))}for(a in Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(h?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180)),d.zOrigin=m,d)d[a]<p&&d[a]>-p&&(d[a]=0)}return n&&(e._gsTransform=d,d.svg&&(Se&&e.style[Me]?Ry.ZP.delayedCall(.001,(function(){je(e.style,Me)})):!Se&&e.getAttribute("transform")&&Ry.ZP.delayedCall(.001,(function(){e.removeAttribute("transform")})))),d},ze=function(e){var t,n,i=this.data,r=-i.rotation*I,o=r+i.skewX*I,a=1e5,s=(Math.cos(r)*i.scaleX*a|0)/a,l=(Math.sin(r)*i.scaleX*a|0)/a,c=(Math.sin(o)*-i.scaleY*a|0)/a,u=(Math.cos(o)*i.scaleY*a|0)/a,d=this.t.style,h=this.t.currentStyle;if(h){n=l,l=-c,c=-n,t=h.filter,d.filter="";var f,m,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==h.position,b="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+c+", M22="+u,x=i.x+g*i.xPercent/100,T=i.y+v*i.yPercent/100;if(null!=i.ox&&(x+=(f=(i.oxp?g*i.ox*.01:i.ox)-g/2)-(f*s+(m=(i.oyp?v*i.oy*.01:i.oy)-v/2)*l),T+=m-(f*c+m*u)),b+=y?", Dx="+((f=g/2)-(f*s+(m=v/2)*l)+x)+", Dy="+(m-(f*c+m*u)+T)+")":", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?d.filter=t.replace(D,b):d.filter=b+" "+t,0!==e&&1!==e||1===s&&0===l&&0===c&&1===u&&(y&&-1===b.indexOf("Dx=0, Dy=0")||_.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&d.removeAttribute("filter")),!y){var S,E,M,A=p<8?1:-1;for(f=i.ieOffsetX||0,m=i.ieOffsetY||0,i.ieOffsetX=Math.round((g-((s<0?-s:s)*g+(l<0?-l:l)*v))/2+x),i.ieOffsetY=Math.round((v-((u<0?-u:u)*v+(c<0?-c:c)*g))/2+T),we=0;we<4;we++)M=(n=-1!==(S=h[E=ie[we]]).indexOf("px")?parseFloat(S):J(this.t,E,parseFloat(S),S.replace(w,""))||0)!==i[E]?we<2?-i.ieOffsetX:-i.ieOffsetY:we<2?f-i.ieOffsetX:m-i.ieOffsetY,d[E]=(i[E]=Math.round(n-M*(0===we||2===we?1:A)))+"px"}}},Ve=V.set3DTransformRatio=V.setTransformRatio=function(e){var t,n,i,r,o,a,s,l,c,u,h,p,f,m,g,v,y,b,w,_,x,T,S,E=this.data,M=this.t.style,A=E.rotation,C=E.rotationX,k=E.rotationY,P=E.scaleX,D=E.scaleY,R=E.scaleZ,$=E.x,L=E.y,O=E.z,N=E.svg,F=E.perspective,B=E.force3D,U=E.skewY,z=E.skewX;if(U&&(z+=U,A+=U),!((1!==e&&0!==e||"auto"!==B||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&B||O||F||k||C||1!==R)||Se&&N||!ke)A||z||N?(A*=I,T=z*I,S=1e5,n=Math.cos(A)*P,o=Math.sin(A)*P,i=Math.sin(A-T)*-D,a=Math.cos(A-T)*D,T&&"simple"===E.skewType&&(t=Math.tan(T-U*I),i*=t=Math.sqrt(1+t*t),a*=t,U&&(t=Math.tan(U*I),n*=t=Math.sqrt(1+t*t),o*=t)),N&&($+=E.xOrigin-(E.xOrigin*n+E.yOrigin*i)+E.xOffset,L+=E.yOrigin-(E.xOrigin*o+E.yOrigin*a)+E.yOffset,Se&&(E.xPercent||E.yPercent)&&(g=this.t.getBBox(),$+=.01*E.xPercent*g.width,L+=.01*E.yPercent*g.height),$<(g=1e-6)&&$>-g&&($=0),L<g&&L>-g&&(L=0)),w=(n*S|0)/S+","+(o*S|0)/S+","+(i*S|0)/S+","+(a*S|0)/S+","+$+","+L+")",N&&Se?this.t.setAttribute("transform","matrix("+w):M[Me]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+w):M[Me]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+P+",0,0,"+D+","+$+","+L+")";else{if(d&&(P<(g=1e-4)&&P>-g&&(P=R=2e-5),D<g&&D>-g&&(D=R=2e-5),!F||E.z||E.rotationX||E.rotationY||(F=0)),A||z)A*=I,v=n=Math.cos(A),y=o=Math.sin(A),z&&(A-=z*I,v=Math.cos(A),y=Math.sin(A),"simple"===E.skewType&&(t=Math.tan((z-U)*I),v*=t=Math.sqrt(1+t*t),y*=t,E.skewY&&(t=Math.tan(U*I),n*=t=Math.sqrt(1+t*t),o*=t))),i=-y,a=v;else{if(!(k||C||1!==R||F||N))return void(M[Me]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+$+"px,"+L+"px,"+O+"px)"+(1!==P||1!==D?" scale("+P+","+D+")":""));n=a=1,i=o=0}u=1,r=s=l=c=h=p=0,f=F?-1/F:0,m=E.zOrigin,g=1e-6,_=",",x="0",(A=k*I)&&(v=Math.cos(A),l=-(y=Math.sin(A)),h=f*-y,r=n*y,s=o*y,u=v,f*=v,n*=v,o*=v),(A=C*I)&&(t=i*(v=Math.cos(A))+r*(y=Math.sin(A)),b=a*v+s*y,c=u*y,p=f*y,r=i*-y+r*v,s=a*-y+s*v,u*=v,f*=v,i=t,a=b),1!==R&&(r*=R,s*=R,u*=R,f*=R),1!==D&&(i*=D,a*=D,c*=D,p*=D),1!==P&&(n*=P,o*=P,l*=P,h*=P),(m||N)&&(m&&($+=r*-m,L+=s*-m,O+=u*-m+m),N&&($+=E.xOrigin-(E.xOrigin*n+E.yOrigin*i)+E.xOffset,L+=E.yOrigin-(E.xOrigin*o+E.yOrigin*a)+E.yOffset),$<g&&$>-g&&($=x),L<g&&L>-g&&(L=x),O<g&&O>-g&&(O=0)),w=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",w+=(n<g&&n>-g?x:n)+_+(o<g&&o>-g?x:o)+_+(l<g&&l>-g?x:l),w+=_+(h<g&&h>-g?x:h)+_+(i<g&&i>-g?x:i)+_+(a<g&&a>-g?x:a),C||k||1!==R?(w+=_+(c<g&&c>-g?x:c)+_+(p<g&&p>-g?x:p)+_+(r<g&&r>-g?x:r),w+=_+(s<g&&s>-g?x:s)+_+(u<g&&u>-g?x:u)+_+(f<g&&f>-g?x:f)+_):w+=",0,0,0,0,1,0,",w+=$+_+L+_+O+_+(F?1+-O/F:1)+")",M[Me]=w}};(s=Pe.prototype).x=s.y=s.z=s.skewX=s.skewY=s.rotation=s.rotationX=s.rotationY=s.zOrigin=s.xPercent=s.yPercent=s.xOffset=s.yOffset=0,s.scaleX=s.scaleY=s.scaleZ=1,xe("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,i,o,a,s,l){if(o._lastParsedTransform===l)return a;o._lastParsedTransform=l;var c,u=l.scale&&"function"==typeof l.scale?l.scale:0;"function"==typeof l[i]&&(c=l[i],l[i]=t),u&&(l.scale=u(m,e));var d,h,p,g,v,y,b,w,_,x=e._gsTransform,T=e.style,S=1e-6,E=Ee.length,M=l,A={},C="transformOrigin",k=Ue(e,n,!0,M.parseTransform),P=M.transform&&("function"==typeof M.transform?M.transform(m,f):M.transform);if(k.skewType=M.skewType||k.skewType||r.defaultSkewType,o._transform=k,"rotationZ"in M&&(M.rotation=M.rotationZ),P&&"string"==typeof P&&Me)(h=U.style)[Me]=P,h.display="block",h.position="absolute",-1!==P.indexOf("%")&&(h.width=K(e,"width"),h.height=K(e,"height")),F.body.appendChild(U),d=Ue(U,null,!1),"simple"===k.skewType&&(d.scaleY*=Math.cos(d.skewX*I)),k.svg&&(y=k.xOrigin,b=k.yOrigin,d.x-=k.xOffset,d.y-=k.yOffset,(M.transformOrigin||M.svgOrigin)&&(P={},Le(e,oe(M.transformOrigin),P,M.svgOrigin,M.smoothOrigin,!0),y=P.xOrigin,b=P.yOrigin,d.x-=P.xOffset-k.xOffset,d.y-=P.yOffset-k.yOffset),(y||b)&&(w=Be(U,!0),d.x-=y-(y*w[0]+b*w[2]),d.y-=b-(y*w[1]+b*w[3]))),F.body.removeChild(U),d.perspective||(d.perspective=k.perspective),null!=M.xPercent&&(d.xPercent=se(M.xPercent,k.xPercent)),null!=M.yPercent&&(d.yPercent=se(M.yPercent,k.yPercent));else if("object"==typeof M){if(d={scaleX:se(null!=M.scaleX?M.scaleX:M.scale,k.scaleX),scaleY:se(null!=M.scaleY?M.scaleY:M.scale,k.scaleY),scaleZ:se(M.scaleZ,k.scaleZ),x:se(M.x,k.x),y:se(M.y,k.y),z:se(M.z,k.z),xPercent:se(M.xPercent,k.xPercent),yPercent:se(M.yPercent,k.yPercent),perspective:se(M.transformPerspective,k.perspective)},null!=(v=M.directionalRotation))if("object"==typeof v)for(h in v)M[h]=v[h];else M.rotation=v;"string"==typeof M.x&&-1!==M.x.indexOf("%")&&(d.x=0,d.xPercent=se(M.x,k.xPercent)),"string"==typeof M.y&&-1!==M.y.indexOf("%")&&(d.y=0,d.yPercent=se(M.y,k.yPercent)),d.rotation=le("rotation"in M?M.rotation:"shortRotation"in M?M.shortRotation+"_short":k.rotation,k.rotation,"rotation",A),ke&&(d.rotationX=le("rotationX"in M?M.rotationX:"shortRotationX"in M?M.shortRotationX+"_short":k.rotationX||0,k.rotationX,"rotationX",A),d.rotationY=le("rotationY"in M?M.rotationY:"shortRotationY"in M?M.shortRotationY+"_short":k.rotationY||0,k.rotationY,"rotationY",A)),d.skewX=le(M.skewX,k.skewX),d.skewY=le(M.skewY,k.skewY)}for(ke&&null!=M.force3D&&(k.force3D=M.force3D,g=!0),(p=k.force3D||k.z||k.rotationX||k.rotationY||d.z||d.rotationX||d.rotationY||d.perspective)||null==M.scale||(d.scaleZ=1);--E>-1;)((P=d[_=Ee[E]]-k[_])>S||P<-S||null!=M[_]||null!=O[_])&&(g=!0,a=new ve(k,_,k[_],P,a),_ in A&&(a.e=A[_]),a.xs0=0,a.plugin=s,o._overwriteProps.push(a.n));return P=M.transformOrigin,k.svg&&(P||M.svgOrigin)&&(y=k.xOffset,b=k.yOffset,Le(e,oe(P),d,M.svgOrigin,M.smoothOrigin),a=ye(k,"xOrigin",(x?k:d).xOrigin,d.xOrigin,a,C),a=ye(k,"yOrigin",(x?k:d).yOrigin,d.yOrigin,a,C),y===k.xOffset&&b===k.yOffset||(a=ye(k,"xOffset",x?y:k.xOffset,k.xOffset,a,C),a=ye(k,"yOffset",x?b:k.yOffset,k.yOffset,a,C)),P="0px 0px"),(P||ke&&p&&k.zOrigin)&&(Me?(g=!0,_=Ce,P=(P||K(e,_,n,!1,"50% 50%"))+"",(a=new ve(T,_,0,0,a,-1,C)).b=T[_],a.plugin=s,ke?(h=k.zOrigin,P=P.split(" "),k.zOrigin=(P.length>2&&(0===h||"0px"!==P[2])?parseFloat(P[2]):h)||0,a.xs0=a.e=P[0]+" "+(P[1]||"50%")+" 0px",(a=new ve(k,"zOrigin",0,0,a,-1,a.n)).b=h,a.xs0=a.e=k.zOrigin):a.xs0=a.e=P):oe(P+"",k)),g&&(o._transformType=k.svg&&Se||!p&&3!==this._transformType?2:3),c&&(l[i]=c),u&&(l.scale=u),a},prefix:!0}),xe("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),xe("borderRadius",{defaultValue:"0px",parser:function(e,i,r,o,a,s){i=this.format(i);var l,c,u,d,h,p,f,m,g,v,y,b,w,_,x,T,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=e.style;for(g=parseFloat(e.offsetWidth),v=parseFloat(e.offsetHeight),l=i.split(" "),c=0;c<S.length;c++)this.p.indexOf("border")&&(S[c]=X(S[c])),-1!==(h=d=K(e,S[c],n,!1,"0px")).indexOf(" ")&&(d=h.split(" "),h=d[0],d=d[1]),p=u=l[c],f=parseFloat(h),b=h.substr((f+"").length),(w="="===p.charAt(1))?(m=parseInt(p.charAt(0)+"1",10),p=p.substr(2),m*=parseFloat(p),y=p.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(p),y=p.substr((m+"").length)),""===y&&(y=t[r]||b),y!==b&&(_=J(e,"borderLeft",f,b),x=J(e,"borderTop",f,b),"%"===y?(h=_/g*100+"%",d=x/v*100+"%"):"em"===y?(h=_/(T=J(e,"borderLeft",1,"em"))+"em",d=x/T+"em"):(h=_+"px",d=x+"px"),w&&(p=parseFloat(h)+m+y,u=parseFloat(d)+m+y)),a=be(E,S[c],h+" "+d,p+" "+u,!1,"0px",a);return a},prefix:!0,formatter:fe("0px 0px 0px 0px",!1,!0)}),xe("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,i,r,o,a){return be(e.style,i,this.format(K(e,i,n,!1,"0px 0px")),this.format(t),!1,"0px",o)},prefix:!0,formatter:fe("0px 0px",!1,!0)}),xe("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,r,o,a){var s,l,c,u,d,h,f="background-position",m=n||Y(e,null),g=this.format((m?p?m.getPropertyValue(f+"-x")+" "+m.getPropertyValue(f+"-y"):m.getPropertyValue(f):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),v=this.format(t);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(h=K(e,"backgroundImage").replace(A,""))&&"none"!==h){for(s=g.split(" "),l=v.split(" "),z.setAttribute("src",h),c=2;--c>-1;)(u=-1!==(g=s[c]).indexOf("%"))!==(-1!==l[c].indexOf("%"))&&(d=0===c?e.offsetWidth-z.width:e.offsetHeight-z.height,s[c]=u?parseFloat(g)/100*d+"px":parseFloat(g)/d*100+"%");g=s.join(" ")}return this.parseComplex(e.style,g,v,o,a)},formatter:oe}),xe("backgroundSize",{defaultValue:"0 0",formatter:function(e){return"co"===(e+="").substr(0,2)?e:oe(-1===e.indexOf(" ")?e+" "+e:e)}}),xe("perspective",{defaultValue:"0px",prefix:!0}),xe("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),xe("transformStyle",{prefix:!0}),xe("backfaceVisibility",{prefix:!0}),xe("userSelect",{prefix:!0}),xe("margin",{parser:me("marginTop,marginRight,marginBottom,marginLeft")}),xe("padding",{parser:me("paddingTop,paddingRight,paddingBottom,paddingLeft")}),xe("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,r,o,a){var s,l,c;return p<9?(l=e.currentStyle,c=p<8?" ":",",s="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",t=this.format(t).split(",").join(c)):(s=this.format(K(e,this.p,n,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,o,a)}}),xe("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),xe("autoRound,strictUnits",{parser:function(e,t,n,i,r){return r}}),xe("border",{defaultValue:"0px solid #000",parser:function(e,t,i,r,o,a){var s=K(e,"borderTopWidth",n,!1,"0px"),l=this.format(t).split(" "),c=l[0].replace(w,"");return"px"!==c&&(s=parseFloat(s)/J(e,"borderTopWidth",1,c)+c),this.parseComplex(e.style,this.format(s+" "+K(e,"borderTopStyle",n,!1,"solid")+" "+K(e,"borderTopColor",n,!1,"#000")),l.join(" "),o,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(pe)||["#000"])[0]}}),xe("borderWidth",{parser:me("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),xe("float,cssFloat,styleFloat",{parser:function(e,t,n,i,r,o){var a=e.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new ve(a,s,0,0,r,-1,n,!1,0,a[s],t)}});var He=function(e){var t,n=this.t,i=n.filter||K(this.data,"filter")||"",r=this.s+this.c*e|0;100===r&&(-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(n.removeAttribute("filter"),t=!K(this.data,"filter")):(n.filter=i.replace(T,""),t=!0)),t||(this.xn1&&(n.filter=i=i||"alpha(opacity="+r+")"),-1===i.indexOf("pacity")?0===r&&this.xn1||(n.filter=i+" alpha(opacity="+r+")"):n.filter=i.replace(_,"opacity="+r))};xe("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,r,o,a){var s=parseFloat(K(e,"opacity",n,!1,"1")),l=e.style,c="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),c&&1===s&&"hidden"===K(e,"visibility",n)&&0!==t&&(s=0),j?o=new ve(l,"opacity",s,t-s,o):((o=new ve(l,"opacity",100*s,100*(t-s),o)).xn1=c?1:0,l.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=a,o.setRatio=He),c&&((o=new ve(l,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(i)),o}});var je=function(e,t){t&&(e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(E,"-$1").toLowerCase())):e.removeAttribute(t))},We=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:je(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};xe("className",{parser:function(t,i,r,o,a,s,l){var c,u,d,h,p,f=t.getAttribute("class")||"",m=t.style.cssText;if((a=o._classNamePT=new ve(t,r,0,0,a,2)).setRatio=We,a.pr=-11,e=!0,a.b=f,u=ee(t,n),d=t._gsClassPT){for(h={},p=d.data;p;)h[p.p]=1,p=p._next;d.setRatio(1)}return t._gsClassPT=a,a.e="="!==i.charAt(1)?i:f.replace(new RegExp("(?:\\s|^)"+i.substr(2)+"(?![\\w-])"),"")+("+"===i.charAt(0)?" "+i.substr(2):""),t.setAttribute("class",a.e),c=te(t,u,ee(t),l,h),t.setAttribute("class",f),a.data=c.firstMPT,t.style.cssText=m,a=a.xfirst=o.parse(t,c.difs,a,s)}});var Ge=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,i,r,o,s=this.t.style,l=a.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(i=(t=this.e.split(" ").join("").split(",")).length;--i>-1;)n=t[i],a[n]&&(a[n].parse===l?r=!0:n="transformOrigin"===n?Ce:a[n].p),je(s,n);r&&(je(s,Me),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(xe("clearProps",{parser:function(t,n,i,r,o){return(o=new ve(t,i,0,0,o,2)).setRatio=Ge,o.e=n,o.pr=-10,o.data=r._tween,e=!0,o}}),s="bezier,throwProps,physicsProps,physics2D".split(","),we=s.length;we--;)Te(s[we]);(s=r.prototype)._firstPT=s._lastParsedTransform=s._transform=null,s._onInitTween=function(o,s,d,p){if(!o.nodeType)return!1;this._target=f=o,this._tween=d,this._vars=s,m=p,l=s.autoRound,e=!1,t=s.suffixMap||r.suffixMap,n=Y(o,""),i=this._overwriteProps;var g,v,y,b,w,_,T,S,E,M=o.style;if(c&&""===M.zIndex&&("auto"!==(g=K(o,"zIndex",n))&&""!==g||this._addLazySet(M,"zIndex",0)),"string"==typeof s&&(b=M.cssText,g=ee(o,n),M.cssText=b+";"+s,g=te(o,g,ee(o)).difs,!j&&x.test(s)&&(g.opacity=parseFloat(RegExp.$1)),s=g,M.cssText=b),s.className?this._firstPT=v=a.className.parse(o,s.className,"className",this,null,null,s):this._firstPT=v=this.parse(o,s,null),this._transformType){for(E=3===this._transformType,Me?u&&(c=!0,""===M.zIndex&&("auto"!==(T=K(o,"zIndex",n))&&""!==T||this._addLazySet(M,"zIndex",0)),h&&this._addLazySet(M,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(E?"visible":"hidden"))):M.zoom=1,y=v;y&&y._next;)y=y._next;S=new ve(o,"transform",0,0,null,2),this._linkCSSP(S,null,y),S.setRatio=Me?Ve:ze,S.data=this._transform||Ue(o,n,!0),S.tween=d,S.pr=-1,i.pop()}if(e){for(;v;){for(_=v._next,y=b;y&&y.pr>v.pr;)y=y._next;(v._prev=y?y._prev:w)?v._prev._next=v:b=v,(v._next=y)?y._prev=v:w=v,v=_}this._firstPT=b}return!0},s.parse=function(e,i,r,o){var s,c,u,d,h,p,g,v,y,b,_=e.style;for(s in i){if("function"==typeof(p=i[s])&&(p=p(m,f)),c=a[s])r=c.parse(e,p,s,this,r,o,i);else{if("--"===s.substr(0,2)){this._tween._propLookup[s]=this._addTween.call(this._tween,e.style,"setProperty",Y(e).getPropertyValue(s)+"",p+"",s,!1,s);continue}h=K(e,s,n)+"",y="string"==typeof p,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||y&&S.test(p)?(y||(p=((p=de(p)).length>3?"rgba(":"rgb(")+p.join(",")+")"),r=be(_,s,h,p,!0,"transparent",r,0,o)):y&&$.test(p)?r=be(_,s,h,p,!0,null,r,0,o):(g=(u=parseFloat(h))||0===u?h.substr((u+"").length):"",""!==h&&"auto"!==h||("width"===s||"height"===s?(u=re(e,s,n),g="px"):"left"===s||"top"===s?(u=Q(e,s,n),g="px"):(u="opacity"!==s?0:1,g="")),(b=y&&"="===p.charAt(1))?(d=parseInt(p.charAt(0)+"1",10),p=p.substr(2),d*=parseFloat(p),v=p.replace(w,"")):(d=parseFloat(p),v=y?p.replace(w,""):""),""===v&&(v=s in t?t[s]:g),p=d||0===d?(b?d+u:d)+v:i[s],g!==v&&(""===v&&"lineHeight"!==s||(d||0===d)&&u&&(u=J(e,s,u,g),"%"===v?(u/=J(e,s,100,"%")/100,!0!==i.strictUnits&&(h=u+"%")):"em"===v||"rem"===v||"vw"===v||"vh"===v?u/=J(e,s,1,v):"px"!==v&&(d=J(e,s,d,v),v="px"),b&&(d||0===d)&&(p=d+u+v))),b&&(d+=u),!u&&0!==u||!d&&0!==d?void 0!==_[s]&&(p||p+""!="NaN"&&null!=p)?(r=new ve(_,s,d||u||0,0,r,-1,s,!1,0,h,p)).xs0="none"!==p||"display"!==s&&-1===s.indexOf("Style")?p:h:G("invalid "+s+" tween value: "+i[s]):(r=new ve(_,s,u,d-u,r,0,s,!1!==l&&("px"===v||"zIndex"===s),0,h,p)).xs0=v)}o&&r&&!r.plugin&&(r.plugin=o)}return r},s.setRatio=function(e){var t,n,i,r=this._firstPT,o=1e-6;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(t=r.c*e+r.s,r.r?t=r.r(t):t<o&&t>-o&&(t=0),r.type)if(1===r.type)if(2===(i=r.l))r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(n=r.xs0+t+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(t=r.r(r.s+r.c),r.type){if(1===r.type){for(i=r.l,n=r.xs0+t+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}}else r.t[r.p]=t+r.xs0;else r.t[r.p]=r.e;else r.setRatio(e);r=r._next}},s._enableTransforms=function(e){this._transform=this._transform||Ue(this._target,n,!0),this._transformType=this._transform.svg&&Se||!e&&3!==this._transformType?2:3};var qe=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};s._addLazySet=function(e,t,n){var i=this._firstPT=new ve(e,t,0,0,this._firstPT,2);i.e=n,i.setRatio=qe,i.data=this},s._linkCSSP=function(e,t,n,i){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,i=!0),n?n._next=e:i||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},s._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&(t.r=e[t.p]),t=t._next},s._kill=function(e){var t,n,i,r=e;if(e.autoAlpha||e.alpha){for(n in r={},e)r[n]=e[n];r.opacity=1,r.autoAlpha&&(r.visibility=1)}for(e.className&&(t=this._classNamePT)&&((i=t.xfirst)&&i._prev?this._linkCSSP(i._prev,t._next,i._prev._prev):i===this._firstPT&&(this._firstPT=t._next),t._next&&this._linkCSSP(t._next,t._next._next,i._prev),this._classNamePT=null),t=this._firstPT;t;)t.plugin&&t.plugin!==n&&t.plugin._kill&&(t.plugin._kill(e),n=t.plugin),t=t._next;return Ry.VN.prototype._kill.call(this,r)};var Ze=function(e,t,n){var i,r,o,a;if(e.slice)for(r=e.length;--r>-1;)Ze(e[r],t,n);else for(r=(i=e.childNodes).length;--r>-1;)a=(o=i[r]).type,o.style&&(t.push(ee(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Ze(o,t,n)};return r.cascadeTo=function(e,t,n){var i,r,o,a,s=Ry.ZP.to(e,t,n),l=[s],c=[],u=[],d=[],h=Ry.ZP._internals.reservedProps;for(e=s._targets||s.target,Ze(e,c,d),s.render(t,!0,!0),Ze(e,u),s.render(0,!0,!0),s._enabled(!0),i=d.length;--i>-1;)if((r=te(d[i],c[i],u[i])).firstMPT){for(o in r=r.difs,n)h[o]&&(r[o]=n[o]);for(o in a={},r)a[o]=c[i][o];l.push(Ry.ZP.fromTo(d[i],t,a,r))}return l},Ry.VN.activate([r]),r}),!0);var Iy=Ry.li.CSSPlugin,Ly=Ry.ML._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(e,t,n,i){var r,o;if("function"!=typeof e.setAttribute)return!1;for(r in t)"function"==typeof(o=t[r])&&(o=o(i,e)),this._addTween(e,"setAttribute",e.getAttribute(r)+"",o+"",r,!1,r),this._overwriteProps.push(r);return!0}}),Oy=Ry.ML._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),Ny=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(n){return(Math.round(n/e)*e*t|0)/t}},Fy=function(e,t){for(;e;)e.f||e.blob||(e.m=t||Math.round),e=e._next},By=Oy.prototype;By._onInitAllProps=function(){var e,t,n,i,r=this._tween,o=r.vars.roundProps,a={},s=r._propLookup.roundProps;if("object"!=typeof o||o.push)for("string"==typeof o&&(o=o.split(",")),n=o.length;--n>-1;)a[o[n]]=Math.round;else for(i in o)a[i]=Ny(o[i]);for(i in a)for(e=r._firstPT;e;)t=e._next,e.pg?e.t._mod(a):e.n===i&&(2===e.f&&e.t?Fy(e.t._firstPT,a[i]):(this._add(e.t,i,e.s,e.c,a[i]),t&&(t._prev=e._prev),e._prev?e._prev._next=t:r._firstPT===e&&(r._firstPT=t),e._next=e._prev=null,r._propLookup[i]=s)),e=t;return!1},By._add=function(e,t,n,i,r){this._addTween(e,t,n,n+i,t,r||Math.round),this._overwriteProps.push(t)};var Uy=Ry.ML._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(e,t,n,i){"object"!=typeof t&&(t={rotation:t}),this.finals={};var r,o,a,s,l,c,u=!0===t.useRadians?2*Math.PI:360,d=1e-6;for(r in t)"useRadians"!==r&&("function"==typeof(s=t[r])&&(s=s(i,e)),o=(c=(s+"").split("_"))[0],a=parseFloat("function"!=typeof e[r]?e[r]:e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]()),l=(s=this.finals[r]="string"==typeof o&&"="===o.charAt(1)?a+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0)-a,c.length&&(-1!==(o=c.join("_")).indexOf("short")&&(l%=u)!==l%(u/2)&&(l=l<0?l+u:l-u),-1!==o.indexOf("_cw")&&l<0?l=(l+9999999999*u)%u-(l/u|0)*u:-1!==o.indexOf("ccw")&&l>0&&(l=(l-9999999999*u)%u-(l/u|0)*u)),(l>d||l<-d)&&(this._addTween(e,r,a,a+l,r),this._overwriteProps.push(r)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}});Uy._autoCSS=!0,Ry.ML._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],(function(){var e=function(e){Ry.MQ.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var t,n,i=this.vars;for(n in i)t=i[n],o(t)&&-1!==t.join("").indexOf("{self}")&&(i[n]=this._swapSelfInParams(t));o(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},t=1e-10,n=Ry.ZP._internals,i=e._internals={},r=n.isSelector,o=n.isArray,a=n.lazyTweens,s=n.lazyRender,l=Ry.ML._gsDefine.globals,c=function(e){var t,n={};for(t in e)n[t]=e[t];return n},u=function(e,t,n){var i,r,o=e.cycle;for(i in o)r=o[i],e[i]="function"==typeof r?r(n,t[n]):r[n%r.length];delete e.cycle},d=i.pauseCallback=function(){},h=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},p=e.prototype=new Ry.MQ;return e.version="2.0.2",p.constructor=e,p.kill()._gc=p._forcingPlayhead=p._hasPause=!1,p.to=function(e,t,n,i){var r=n.repeat&&l.TweenMax||Ry.ZP;return t?this.add(new r(e,t,n),i):this.set(e,n,i)},p.from=function(e,t,n,i){return this.add((n.repeat&&l.TweenMax||Ry.ZP).from(e,t,n),i)},p.fromTo=function(e,t,n,i,r){var o=i.repeat&&l.TweenMax||Ry.ZP;return t?this.add(o.fromTo(e,t,n,i),r):this.set(e,i,r)},p.staggerTo=function(t,n,i,o,a,s,l,d){var p,f,m=new e({onComplete:s,onCompleteParams:l,callbackScope:d,smoothChildTiming:this.smoothChildTiming}),g=i.cycle;for("string"==typeof t&&(t=Ry.ZP.selector(t)||t),r(t=t||[])&&(t=h(t)),(o=o||0)<0&&((t=h(t)).reverse(),o*=-1),f=0;f<t.length;f++)(p=c(i)).startAt&&(p.startAt=c(p.startAt),p.startAt.cycle&&u(p.startAt,t,f)),g&&(u(p,t,f),null!=p.duration&&(n=p.duration,delete p.duration)),m.to(t[f],n,p,f*o);return this.add(m,a)},p.staggerFrom=function(e,t,n,i,r,o,a,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,i,r,o,a,s)},p.staggerFromTo=function(e,t,n,i,r,o,a,s,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,i,r,o,a,s,l)},p.call=function(e,t,n,i){return this.add(Ry.ZP.delayedCall(0,e,t,n),i)},p.set=function(e,t,n){return n=this._parseTimeOrLabel(n,0,!0),null==t.immediateRender&&(t.immediateRender=n===this._time&&!this._paused),this.add(new Ry.ZP(e,0,t),n)},e.exportRoot=function(t,n){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,r,o,a,s=new e(t),l=s._timeline;for(null==n&&(n=!0),l._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=l._time,o=l._first;o;)a=o._next,n&&o instanceof Ry.ZP&&o.target===o.vars.onComplete||((r=o._startTime-o._delay)<0&&(i=1),s.add(o,r)),o=a;return l.add(s,0),i&&s.totalDuration(),s},p.add=function(t,n,i,r){var a,s,l,c,u,d;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,t)),!(t instanceof Ry.fw)){if(t instanceof Array||t&&t.push&&o(t)){for(i=i||"normal",r=r||0,a=n,s=t.length,l=0;l<s;l++)o(c=t[l])&&(c=new e({tweens:c})),this.add(c,a),"string"!=typeof c&&"function"!=typeof c&&("sequence"===i?a=c._startTime+c.totalDuration()/c._timeScale:"start"===i&&(c._startTime-=c.delay())),a+=r;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,n);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=Ry.ZP.delayedCall(0,t)}if(Ry.MQ.prototype.add.call(this,t,n),t._time&&(a=Math.max(0,Math.min(t.totalDuration(),(this.rawTime()-t._startTime)*t._timeScale)),Math.abs(a-t._totalTime)>1e-5&&t.render(a,!1,!1)),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=(u=this).rawTime()>t._startTime;u._timeline;)d&&u._timeline.smoothChildTiming?u.totalTime(u._totalTime,!0):u._gc&&u._enabled(!0,!1),u=u._timeline;return this},p.remove=function(e){if(e instanceof Ry.fw){this._remove(e,!1);var t=e._timeline=e.vars.useFrames?Ry.fw._rootFramesTimeline:Ry.fw._rootTimeline;return e._startTime=(e._paused?e._pauseTime:t._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&o(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},p._remove=function(e,t){return Ry.MQ.prototype._remove.call(this,e,t),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},p.insert=p.insertMultiple=function(e,t,n,i){return this.add(e,t||0,n,i)},p.appendMultiple=function(e,t,n,i){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,i)},p.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},p.addPause=function(e,t,n,i){var r=Ry.ZP.delayedCall(0,d,n,i||this);return r.vars.onComplete=r.vars.onReverseComplete=t,r.data="isPause",this._hasPause=!0,this.add(r,e)},p.removeLabel=function(e){return delete this._labels[e],this},p.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},p._parseTimeOrLabel=function(e,t,n,i){var r,a;if(i instanceof Ry.fw&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&o(i)))for(a=i.length;--a>-1;)i[a]instanceof Ry.fw&&i[a].timeline===this&&this.remove(i[a]);if(r="number"!=typeof e||t?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof t)return this._parseTimeOrLabel(t,n&&"number"==typeof e&&null==this._labels[t]?e-r:0,n);if(t=t||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=r);else{if(-1===(a=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=r+t:t:this._labels[e]+t;t=parseInt(e.charAt(a-1)+"1",10)*Number(e.substr(a+1)),e=a>1?this._parseTimeOrLabel(e.substr(0,a-1),0,n):r}return Number(e)+t},p.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(e,t){return this.play(e,t)},p.gotoAndStop=function(e,t){return this.pause(e,t)},p.render=function(e,n,i){this._gc&&this._enabled(!0,!1);var r,o,l,c,u,d,h,p=this._time,f=this._dirty?this.totalDuration():this._totalDuration,m=this._startTime,g=this._timeScale,v=this._paused;if(p!==this._time&&(e+=this._time-p),e>=f-1e-7&&e>=0)this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(o=!0,c="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(e<=0&&e>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===t)&&this._rawPrevTime!==e&&this._first&&(u=!0,this._rawPrevTime>t&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!n||e||this._rawPrevTime===e?e:t,e=f+1e-4;else if(e<1e-7)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==t&&(this._rawPrevTime>0||e<0&&this._rawPrevTime>=0))&&(c="onReverseComplete",o=this._reversed),e<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=o=!0,c="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!n||e||this._rawPrevTime===e?e:t,0===e&&o)for(r=this._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;e=0,this._initted||(u=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!n){if(e>=p)for(r=this._first;r&&r._startTime<=e&&!d;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(d=r),r=r._next;else for(r=this._last;r&&r._startTime>=e&&!d;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(d=r),r=r._prev;d&&(this._time=e=d._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==p&&this._first||i||u||d){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&e>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||n||this._callback("onStart")),(h=this._time)>=p)for(r=this._first;r&&(l=r._next,h===this._time&&(!this._paused||v));)(r._active||r._startTime<=h&&!r._paused&&!r._gc)&&(d===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,n,i):r.render((e-r._startTime)*r._timeScale,n,i)),r=l;else for(r=this._last;r&&(l=r._prev,h===this._time&&(!this._paused||v));){if(r._active||r._startTime<=p&&!r._paused&&!r._gc){if(d===r){for(d=r._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(e-d._startTime)*d._timeScale:(e-d._startTime)*d._timeScale,n,i),d=d._prev;d=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,n,i):r.render((e-r._startTime)*r._timeScale,n,i)}r=l}this._onUpdate&&(n||(a.length&&s(),this._callback("onUpdate"))),c&&(this._gc||m!==this._startTime&&g===this._timeScale||(0===this._time||f>=this.totalDuration())&&(o&&(a.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!n&&this.vars[c]&&this._callback(c)))}},p._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof e&&t._hasPausedChild())return!0;t=t._next}return!1},p.getChildren=function(e,t,n,i){i=i||-9999999999;for(var r=[],o=this._first,a=0;o;)o._startTime<i||(o instanceof Ry.ZP?!1!==t&&(r[a++]=o):(!1!==n&&(r[a++]=o),!1!==e&&(a=(r=r.concat(o.getChildren(!0,t,n))).length))),o=o._next;return r},p.getTweensOf=function(e,t){var n,i,r=this._gc,o=[],a=0;for(r&&this._enabled(!0,!0),i=(n=Ry.ZP.getTweensOf(e)).length;--i>-1;)(n[i].timeline===this||t&&this._contains(n[i]))&&(o[a++]=n[i]);return r&&this._enabled(!1,!0),o},p.recent=function(){return this._recent},p._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},p.shiftChildren=function(e,t,n){n=n||0;for(var i,r=this._first,o=this._labels;r;)r._startTime>=n&&(r._startTime+=e),r=r._next;if(t)for(i in o)o[i]>=n&&(o[i]+=e);return this._uncache(!0)},p._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),i=n.length,r=!1;--i>-1;)n[i]._kill(e,t)&&(r=!0);return r},p.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return Ry.fw.prototype.invalidate.call(this)},p._enabled=function(e,t){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return Ry.MQ.prototype._enabled.call(this,e,t)},p.totalTime=function(e,t,n){this._forcingPlayhead=!0;var i=Ry.fw.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,i},p.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,i=0,r=this._last,o=999999999999;r;)t=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(r,r._startTime-r._delay),this._calculatingDuration=0):o=r._startTime,r._startTime<0&&!r._paused&&(i-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale,this._time-=r._startTime,this._totalTime-=r._startTime,this._rawPrevTime-=r._startTime),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),(n=r._startTime+r._totalDuration/r._timeScale)>i&&(i=n),r=t;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},p.paused=function(e){if(!e)for(var t=this._first,n=this._time;t;)t._startTime===n&&"isPause"===t.data&&(t._rawPrevTime=0),t=t._next;return Ry.fw.prototype.paused.apply(this,arguments)},p.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===Ry.fw._rootFramesTimeline},p.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},e}),!0);var zy=Ry.li.TimelineLite;Ry.ML._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],(function(){var e=function(e){zy.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},t=1e-10,n=Ry.ZP._internals,i=n.lazyTweens,r=n.lazyRender,o=Ry.ML._gsDefine.globals,a=new Ry.SX(null,null,1,0),s=e.prototype=new zy;return s.constructor=e,s.kill()._gc=!1,e.version="2.0.2",s.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),zy.prototype.invalidate.call(this)},s.addCallback=function(e,t,n,i){return this.add(Ry.ZP.delayedCall(0,e,n,i),t)},s.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),i=n.length,r=this._parseTimeOrLabel(t);--i>-1;)n[i]._startTime===r&&n[i]._enabled(!1,!1);return this},s.removePause=function(e){return this.removeCallback(zy._internals.pauseCallback,e)},s.tweenTo=function(e,t){t=t||{};var n,i,r,s={ease:a,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},l=t.repeat&&o.TweenMax||Ry.ZP;for(i in t)s[i]=t[i];return s.time=this._parseTimeOrLabel(e),n=Math.abs(Number(s.time)-this._time)/this._timeScale||.001,r=new l(this,n,s),s.onStart=function(){r.target.paused(!0),r.vars.time===r.target.time()||n!==r.duration()||r.isFromTo||r.duration(Math.abs(r.vars.time-r.target.time())/r.target._timeScale).render(r.time(),!0,!0),t.onStart&&t.onStart.apply(t.onStartScope||t.callbackScope||r,t.onStartParams||[])},r},s.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},n.immediateRender=!1!==n.immediateRender;var i=this.tweenTo(t,n);return i.isFromTo=1,i.duration(Math.abs(i.vars.time-e)/this._timeScale||.001)},s.render=function(e,n,o){this._gc&&this._enabled(!0,!1);var a,s,l,c,u,d,h,p,f=this._time,m=this._dirty?this.totalDuration():this._totalDuration,g=this._duration,v=this._totalTime,y=this._startTime,b=this._timeScale,w=this._rawPrevTime,_=this._paused,x=this._cycle;if(f!==this._time&&(e+=this._time-f),e>=m-1e-7&&e>=0)this._locked||(this._totalTime=m,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,c="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(e<=0&&e>=-1e-7||w<0||w===t)&&w!==e&&this._first&&(u=!0,w>t&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!n||e||this._rawPrevTime===e?e:t,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=g,e=g+1e-4);else if(e<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==f||0===g&&w!==t&&(w>0||e<0&&w>=0)&&!this._locked)&&(c="onReverseComplete",s=this._reversed),e<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=s=!0,c="onReverseComplete"):w>=0&&this._first&&(u=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=g||!n||e||this._rawPrevTime===e?e:t,0===e&&s)for(a=this._first;a&&0===a._startTime;)a._duration||(s=!1),a=a._next;e=0,this._initted||(u=!0)}else if(0===g&&w<0&&(u=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(d=g+this._repeatDelay,this._cycle=this._totalTime/d>>0,0!==this._cycle&&this._cycle===this._totalTime/d&&v<=e&&this._cycle--,this._time=this._totalTime-this._cycle*d,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time),this._time>g?(this._time=g,e=g+1e-4):this._time<0?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!n){if((e=this._time)>=f||this._repeat&&x!==this._cycle)for(a=this._first;a&&a._startTime<=e&&!h;)a._duration||"isPause"!==a.data||a.ratio||0===a._startTime&&0===this._rawPrevTime||(h=a),a=a._next;else for(a=this._last;a&&a._startTime>=e&&!h;)a._duration||"isPause"===a.data&&a._rawPrevTime>0&&(h=a),a=a._prev;h&&h._startTime<g&&(this._time=e=h._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var T=this._yoyo&&0!=(1&x),S=T===(this._yoyo&&0!=(1&this._cycle)),E=this._totalTime,M=this._cycle,A=this._rawPrevTime,C=this._time;if(this._totalTime=x*g,this._cycle<x?T=!T:this._totalTime+=g,this._time=f,this._rawPrevTime=0===g?w-1e-4:w,this._cycle=x,this._locked=!0,f=T?0:g,this.render(f,n,0===g),n||this._gc||this.vars.onRepeat&&(this._cycle=M,this._locked=!1,this._callback("onRepeat")),f!==this._time)return;if(S&&(this._cycle=x,this._locked=!0,f=T?g+1e-4:-1e-4,this.render(f,!0,!1)),this._locked=!1,this._paused&&!_)return;this._time=C,this._totalTime=E,this._cycle=M,this._rawPrevTime=A}if(this._time!==f&&this._first||o||u||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&e>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||n||this._callback("onStart")),(p=this._time)>=f)for(a=this._first;a&&(l=a._next,p===this._time&&(!this._paused||_));)(a._active||a._startTime<=this._time&&!a._paused&&!a._gc)&&(h===a&&this.pause(),a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(e-a._startTime)*a._timeScale,n,o):a.render((e-a._startTime)*a._timeScale,n,o)),a=l;else for(a=this._last;a&&(l=a._prev,p===this._time&&(!this._paused||_));){if(a._active||a._startTime<=f&&!a._paused&&!a._gc){if(h===a){for(h=a._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(e-h._startTime)*h._timeScale:(e-h._startTime)*h._timeScale,n,o),h=h._prev;h=null,this.pause()}a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(e-a._startTime)*a._timeScale,n,o):a.render((e-a._startTime)*a._timeScale,n,o)}a=l}this._onUpdate&&(n||(i.length&&r(),this._callback("onUpdate"))),c&&(this._locked||this._gc||y!==this._startTime&&b===this._timeScale||(0===this._time||m>=this.totalDuration())&&(s&&(i.length&&r(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!n&&this.vars[c]&&this._callback(c)))}else v!==this._totalTime&&this._onUpdate&&(n||this._callback("onUpdate"))},s.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var i,r,o=[],a=this.getChildren(e,t,n),s=0,l=a.length;for(i=0;i<l;i++)(r=a[i]).isActive()&&(o[s++]=r);return o},s.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,n=this.getLabelsArray(),i=n.length;for(t=0;t<i;t++)if(n[t].time>e)return n[t].name;return null},s.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;--n>-1;)if(t[n].time<e)return t[n].name;return null},s.getLabelsArray=function(){var e,t=[],n=0;for(e in this._labels)t[n++]={time:this._labels[e],name:e};return t.sort((function(e,t){return e.time-t.time})),t},s.invalidate=function(){return this._locked=!1,zy.prototype.invalidate.call(this)},s.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()||0},s.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()||0},s.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(zy.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},s.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},s.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},s.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},s.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},s.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},e}),!0);var Vy=Ry.li.TimelineMax,Hy=180/Math.PI,jy=[],Wy=[],Gy=[],qy={},Zy=Ry.ML._gsDefine.globals,Xy=function(e,t,n,i){n===i&&(n=i-(i-t)/1e6),e===t&&(t=e+(n-e)/1e6),this.a=e,this.b=t,this.c=n,this.d=i,this.da=i-e,this.ca=n-e,this.ba=t-e},Yy=function(e,t,n,i){var r={a:e},o={},a={},s={c:i},l=(e+t)/2,c=(t+n)/2,u=(n+i)/2,d=(l+c)/2,h=(c+u)/2,p=(h-d)/8;return r.b=l+(e-l)/4,o.b=d+p,r.c=o.a=(r.b+o.b)/2,o.c=a.a=(d+h)/2,a.b=h-p,s.b=u+(i-u)/4,a.c=s.a=(a.b+s.b)/2,[r,o,a,s]},Ky=function(e,t,n,i,r){var o,a,s,l,c,u,d,h,p,f,m,g,v,y=e.length-1,b=0,w=e[0].a;for(o=0;o<y;o++)a=(c=e[b]).a,s=c.d,l=e[b+1].d,r?(m=jy[o],v=((g=Wy[o])+m)*t*.25/(i?.5:Gy[o]||.5),h=s-((u=s-(s-a)*(i?.5*t:0!==m?v/m:0))+(((d=s+(l-s)*(i?.5*t:0!==g?v/g:0))-u)*(3*m/(m+g)+.5)/4||0))):h=s-((u=s-(s-a)*t*.5)+(d=s+(l-s)*t*.5))/2,u+=h,d+=h,c.c=p=u,c.b=0!==o?w:w=c.a+.6*(c.c-c.a),c.da=s-a,c.ca=p-a,c.ba=w-a,n?(f=Yy(a,w,p,s),e.splice(b,1,f[0],f[1],f[2],f[3]),b+=4):b++,w=d;(c=e[b]).b=w,c.c=w+.4*(c.d-w),c.da=c.d-c.a,c.ca=c.c-c.a,c.ba=w-c.a,n&&(f=Yy(c.a,w,c.c,c.d),e.splice(b,1,f[0],f[1],f[2],f[3]))},Jy=function(e,t,n,i){var r,o,a,s,l,c,u=[];if(i)for(o=(e=[i].concat(e)).length;--o>-1;)"string"==typeof(c=e[o][t])&&"="===c.charAt(1)&&(e[o][t]=i[t]+Number(c.charAt(0)+c.substr(2)));if((r=e.length-2)<0)return u[0]=new Xy(e[0][t],0,0,e[0][t]),u;for(o=0;o<r;o++)a=e[o][t],s=e[o+1][t],u[o]=new Xy(a,0,0,s),n&&(l=e[o+2][t],jy[o]=(jy[o]||0)+(s-a)*(s-a),Wy[o]=(Wy[o]||0)+(l-s)*(l-s));return u[o]=new Xy(e[o][t],0,0,e[o+1][t]),u},Qy=function(e,t,n,i,r,o){var a,s,l,c,u,d,h,p,f={},m=[],g=o||e[0];for(s in r="string"==typeof r?","+r+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==t&&(t=1),e[0])m.push(s);if(e.length>1){for(p=e[e.length-1],h=!0,a=m.length;--a>-1;)if(s=m[a],Math.abs(g[s]-p[s])>.05){h=!1;break}h&&(e=e.concat(),o&&e.unshift(o),e.push(e[1]),o=e[e.length-3])}for(jy.length=Wy.length=Gy.length=0,a=m.length;--a>-1;)s=m[a],qy[s]=-1!==r.indexOf(","+s+","),f[s]=Jy(e,s,qy[s],o);for(a=jy.length;--a>-1;)jy[a]=Math.sqrt(jy[a]),Wy[a]=Math.sqrt(Wy[a]);if(!i){for(a=m.length;--a>-1;)if(qy[s])for(d=(l=f[m[a]]).length-1,c=0;c<d;c++)u=l[c+1].da/Wy[c]+l[c].da/jy[c]||0,Gy[c]=(Gy[c]||0)+u*u;for(a=Gy.length;--a>-1;)Gy[a]=Math.sqrt(Gy[a])}for(a=m.length,c=n?4:1;--a>-1;)l=f[s=m[a]],Ky(l,t,n,i,qy[s]),h&&(l.splice(0,c),l.splice(l.length-c,c));return f},eb=function(e,t,n){for(var i,r,o,a,s,l,c,u,d,h,p,f=1/n,m=e.length;--m>-1;)for(o=(h=e[m]).a,a=h.d-o,s=h.c-o,l=h.b-o,i=r=0,u=1;u<=n;u++)i=r-(r=((c=f*u)*c*a+3*(d=1-c)*(c*s+d*l))*c),t[p=m*n+u-1]=(t[p]||0)+i*i},tb=Ry.ML._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._mod={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var i,r,o,a,s,l=t.values||[],c={},u=l[0],d=t.autoRotate||n.vars.orientToBezier;for(i in this._autoRotate=d?d instanceof Array?d:[["x","y","rotation",!0===d?0:Number(d)||0]]:null,u)this._props.push(i);for(o=this._props.length;--o>-1;)i=this._props[o],this._overwriteProps.push(i),r=this._func[i]="function"==typeof e[i],c[i]=r?e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(e[i]),s||c[i]!==l[0][i]&&(s=c);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?Qy(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,s):function(e,t,n){var i,r,o,a,s,l,c,u,d,h,p,f={},m="cubic"===(t=t||"soft")?3:2,g="soft"===t,v=[];if(g&&n&&(e=[n].concat(e)),null==e||e.length<m+1)throw"invalid Bezier data";for(d in e[0])v.push(d);for(l=v.length;--l>-1;){for(f[d=v[l]]=s=[],h=0,u=e.length,c=0;c<u;c++)i=null==n?e[c][d]:"string"==typeof(p=e[c][d])&&"="===p.charAt(1)?n[d]+Number(p.charAt(0)+p.substr(2)):Number(p),g&&c>1&&c<u-1&&(s[h++]=(i+s[h-2])/2),s[h++]=i;for(u=h-m+1,h=0,c=0;c<u;c+=m)i=s[c],r=s[c+1],o=s[c+2],a=2===m?0:s[c+3],s[h++]=p=3===m?new Xy(i,r,o,a):new Xy(i,(2*r+i)/3,(2*r+o)/3,o);s.length=h}return f}(l,t.type,c),this._segCount=this._beziers[i].length,this._timeRes){var h=function(e,t){var n,i,r,o,a=[],s=[],l=0,c=0,u=(t=t>>0||6)-1,d=[],h=[];for(n in e)eb(e[n],a,t);for(r=a.length,i=0;i<r;i++)l+=Math.sqrt(a[i]),h[o=i%t]=l,o===u&&(c+=l,d[o=i/t>>0]=h,s[o]=c,l=0,h=[]);return{length:c,lengths:s,segments:d}}(this._beziers,this._timeRes);this._length=h.length,this._lengths=h.lengths,this._segments=h.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),o=d.length;--o>-1;){for(a=0;a<3;a++)i=d[o][a],this._func[i]="function"==typeof e[i]&&e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)];i=d[o][2],this._initialRotations[o]=(this._func[i]?this._func[i].call(this._target):this._target[i])||0,this._overwriteProps.push(i)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(e){var t,n,i,r,o,a,s,l,c,u,d=this._segCount,h=this._func,p=this._target,f=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,u=this._curSeg,e*=this._length,i=this._li,e>this._l2&&i<d-1){for(l=d-1;i<l&&(this._l2=c[++i])<=e;);this._l1=c[i-1],this._li=i,this._curSeg=u=this._segments[i],this._s2=u[this._s1=this._si=0]}else if(e<this._l1&&i>0){for(;i>0&&(this._l1=c[--i])>=e;);0===i&&e<this._l1?this._l1=0:i++,this._l2=c[i],this._li=i,this._curSeg=u=this._segments[i],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(t=i,e-=this._l1,i=this._si,e>this._s2&&i<u.length-1){for(l=u.length-1;i<l&&(this._s2=u[++i])<=e;);this._s1=u[i-1],this._si=i}else if(e<this._s1&&i>0){for(;i>0&&(this._s1=u[--i])>=e;);0===i&&e<this._s1?this._s1=0:i++,this._s2=u[i],this._si=i}a=(i+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else a=(e-(t=e<0?0:e>=1?d-1:d*e>>0)*(1/d))*d;for(n=1-a,i=this._props.length;--i>-1;)r=this._props[i],s=(a*a*(o=this._beziers[r][t]).da+3*n*(a*o.ca+n*o.ba))*a+o.a,this._mod[r]&&(s=this._mod[r](s,p)),h[r]?p[r](s):p[r]=s;if(this._autoRotate){var m,g,v,y,b,w,_,x=this._autoRotate;for(i=x.length;--i>-1;)r=x[i][2],w=x[i][3]||0,_=!0===x[i][4]?1:Hy,o=this._beziers[x[i][0]],m=this._beziers[x[i][1]],o&&m&&(o=o[t],m=m[t],g=o.a+(o.b-o.a)*a,g+=((y=o.b+(o.c-o.b)*a)-g)*a,y+=(o.c+(o.d-o.c)*a-y)*a,v=m.a+(m.b-m.a)*a,v+=((b=m.b+(m.c-m.b)*a)-v)*a,b+=(m.c+(m.d-m.c)*a-b)*a,s=f?Math.atan2(b-v,y-g)*_+w:this._initialRotations[i],this._mod[r]&&(s=this._mod[r](s,p)),h[r]?p[r](s):p[r]=s)}}}),nb=tb.prototype;tb.bezierThrough=Qy,tb.cubicToQuadratic=Yy,tb._autoCSS=!0,tb.quadraticToCubic=function(e,t,n){return new Xy(e,(2*t+e)/3,(2*t+n)/3,n)},tb._cssRegister=function(){var e=Zy.CSSPlugin;if(e){var t=e._internals,n=t._parseToProxy,i=t._setPluginRatio,r=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,o,a,s,l){t instanceof Array&&(t={values:t}),l=new tb;var c,u,d,h=t.values,p=h.length-1,f=[],m={};if(p<0)return s;for(c=0;c<=p;c++)d=n(e,h[c],a,s,l,p!==c),f[c]=d.end;for(u in t)m[u]=t[u];return m.values=f,(s=new r(e,"bezier",0,0,d.pt,2)).data=d,s.plugin=l,s.setRatio=i,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(c=!0===m.autoRotate?0:Number(m.autoRotate),m.autoRotate=null!=d.end.left?[["left","top","rotation",c,!1]]:null!=d.end.x&&[["x","y","rotation",c,!1]]),m.autoRotate&&(a._transform||a._enableTransforms(!1),d.autoRotate=a._target._gsTransform,d.proxy.rotation=d.autoRotate.rotation||0,a._overwriteProps.push("rotation")),l._onInitTween(d.proxy,m,a._tween),s}})}},nb._mod=function(e){for(var t,n=this._overwriteProps,i=n.length;--i>-1;)(t=e[n[i]])&&"function"==typeof t&&(this._mod[n[i]]=t)},nb._kill=function(e){var t,n,i=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],n=i.length;--n>-1;)i[n]===t&&i.splice(n,1);if(i=this._autoRotate)for(n=i.length;--n>-1;)e[i[n][2]]&&i.splice(n,1);return this._super._kill.call(this,e)},Ry.ML._gsDefine("easing.Back",["easing.Ease"],(function(){var e,t,n,i,r=Ry.ML.GreenSockGlobals||Ry.ML,o=r.com.greensock,a=2*Math.PI,s=Math.PI/2,l=o._class,c=function(e,t){var n=l("easing."+e,(function(){}),!0),i=n.prototype=new Ry.SX;return i.constructor=n,i.getRatio=t,n},u=Ry.SX.register||function(){},d=function(e,t,n,i,r){var o=l("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new i},!0);return u(o,e),o},h=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},p=function(e,t){var n=l("easing."+e,(function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1}),!0),i=n.prototype=new Ry.SX;return i.constructor=n,i.getRatio=t,i.config=function(e){return new n(e)},n},f=d("Back",p("BackOut",(function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1})),p("BackIn",(function(e){return e*e*((this._p1+1)*e-this._p1)})),p("BackInOut",(function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)}))),m=l("easing.SlowMo",(function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n}),!0),g=m.prototype=new Ry.SX;return g.constructor=m,g.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1===e?0:1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),g.config=m.config=function(e,t,n){return new m(e,t,n)},(g=(e=l("easing.SteppedEase",(function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0}),!0)).prototype=new Ry.SX).constructor=e,g.getRatio=function(e){return e<0?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},g.config=e.config=function(t,n){return new e(t,n)},(g=(t=l("easing.ExpoScaleEase",(function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n}),!0)).prototype=new Ry.SX).constructor=t,g.getRatio=function(e){return this._ease&&(e=this._ease.getRatio(e)),(this._p3*Math.exp(this._p1*e)-this._p3)/this._p2},g.config=t.config=function(e,n,i){return new t(e,n,i)},n=l("easing.RoughEase",(function(e){for(var t,n,i,r,o,a,s=(e=e||{}).taper||"none",l=[],c=0,u=0|(e.points||20),d=u,p=!1!==e.randomize,f=!0===e.clamp,m=e.template instanceof Ry.SX?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)t=p?Math.random():1/u*d,n=m?m.getRatio(t):t,i="none"===s?g:"out"===s?(r=1-t)*r*g:"in"===s?t*t*g:t<.5?(r=2*t)*r*.5*g:(r=2*(1-t))*r*.5*g,p?n+=Math.random()*i-.5*i:d%2?n+=.5*i:n-=.5*i,f&&(n>1?n=1:n<0&&(n=0)),l[c++]={x:t,y:n};for(l.sort((function(e,t){return e.x-t.x})),a=new h(1,1,null),d=u;--d>-1;)o=l[d],a=new h(o.x,o.y,a);this._prev=new h(0,0,0!==a.t?a:a.next)}),!0),(g=n.prototype=new Ry.SX).constructor=n,g.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},g.config=function(e){return new n(e)},n.ease=new n,d("Bounce",c("BounceOut",(function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375})),c("BounceIn",(function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)})),c("BounceInOut",(function(e){var t=e<.5;return(e=t?1-2*e:2*e-1)<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5}))),d("Circ",c("CircOut",(function(e){return Math.sqrt(1-(e-=1)*e)})),c("CircIn",(function(e){return-(Math.sqrt(1-e*e)-1)})),c("CircInOut",(function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}))),i=function(e,t,n){var i=l("easing."+e,(function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(e<1?e:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2}),!0),r=i.prototype=new Ry.SX;return r.constructor=i,r.getRatio=t,r.config=function(e,t){return new i(e,t)},i},d("Elastic",i("ElasticOut",(function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1}),.3),i("ElasticIn",(function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)}),.3),i("ElasticInOut",(function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1}),.45)),d("Expo",c("ExpoOut",(function(e){return 1-Math.pow(2,-10*e)})),c("ExpoIn",(function(e){return Math.pow(2,10*(e-1))-.001})),c("ExpoInOut",(function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}))),d("Sine",c("SineOut",(function(e){return Math.sin(e*s)})),c("SineIn",(function(e){return 1-Math.cos(e*s)})),c("SineInOut",(function(e){return-.5*(Math.cos(Math.PI*e)-1)}))),l("easing.EaseLookup",{find:function(e){return Ry.SX.map[e]}},!0),u(r.SlowMo,"SlowMo","ease,"),u(n,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),f}),!0);var ib=Ry.li.Back,rb=Ry.li.Elastic,ob=Ry.li.Bounce,ab=Ry.li.RoughEase,sb=Ry.li.SlowMo,lb=Ry.li.SteppedEase,cb=Ry.li.Circ,ub=Ry.li.Expo,db=Ry.li.Sine,hb=Ry.li.ExpoScaleEase;function pb(e){e+=.5;var t=Math.floor(e/12),n=Math.floor(e-12*t);return 0===t&&0===n?"0'":(t>0?"".concat(t,"'"):"")+(n>0?"".concat(n,'"'):"")}function fb(e){return e=Jo()(e)/100,"".concat(e.toFixed(2),"m")}$y._autoActivated=[zy,Vy,Iy,Ly,tb,Oy,Uy,ib,rb,ob,ab,sb,lb,cb,ub,db,hb];var mb=function(){function e(t,n){o()(this,e),this.element=null,this.colors=t.colors,this.draw(t,n)}return l()(e,[{key:"draw",value:function(e,t){var n=e.position;this.getRadius=e.getRadius;var i=this.getRadius(),r=e.id;this.maskElement=_y.defMask("floor".concat(r,"__pano_donut-mask"),{cx:n.x,cy:n.y,outerRadius:3*i,innerRadius:i}),this.gradientElement=_y.defRadialGradient("floor".concat(r,"__pano_donut-gradient"),{startColor:this.colors.circle,endColor:this.colors.circle,stopOpacity:0});var o=e.useLocalIRI?"":window.location.href.split("#")[0];this.element=_y.draw("circle",{id:"floorplanwindow__pano_donut",r:3*i,class:"hidden",fill:"url(".concat(o,"#floor").concat(r,"__pano_donut-gradient)"),mask:"url(".concat(o,"#floor").concat(r,"__pano_donut-mask)"),"stroke-opacity":0,style:"cursor: pointer"}),e.defsElement.appendChild(this.maskElement),e.defsElement.appendChild(this.gradientElement),e.containerElement.appendChild(this.element),t&&t.floorplanRedrawObserver&&t.floorplanRedrawObserver.add(this.setElementR.bind(this))}},{key:"redraw",value:function(e){if(this.element){for(var t=this.maskElement.children,n=0;n<t.length;n++)_y.setAttr(t[n],{cx:e.x,cy:e.y});_y.setAttr(this.element,{cx:e.x,cy:e.y,class:""})}}},{key:"setElementR",value:function(){if(this.element){var e=this.getRadius(),t=this.maskElement.children;_y.setAttr(t[0],{r:3*e}),_y.setAttr(t[1],{r:e}),_y.setAttr(this.element,{r:3*e})}}},{key:"hide",value:function(){this.element&&_y.setAttr(this.element,{class:"hidden"})}}]),e}(),gb=mb,vb=function(){function e(t,n){o()(this,e),u()(this,"setTransition",(function(e,t){this.setPos(t);this.element.style[e]="cx ".concat(.8,"s ease, cy ").concat(.8,"s ease")})),this.element=null,this.pos=null,this.color=t.color,this.draw(t,n)}return l()(e,[{key:"draw",value:function(e,t){var n=e.position;this.pos=n,this.getRadius=e.getRadius;var i=this.getRadius(),r=e.id;this.gradientElement=_y.defRadialGradient("floor".concat(r,"__pano_marker-gradient"),{fx:.33,fy:.33,startColor:"#e0e0e0",endColor:this.color});var o=e.useLocalIRI?"":window.location.href.split("#")[0];this.element=_y.draw("circle",{r:i,fill:"url(".concat(o,"#floor").concat(r,"__pano_marker-gradient)"),cx:n.x,cy:n.y,id:"pano-marker",style:"cursor: pointer"}),e.defsElement.appendChild(this.gradientElement),e.containerElement.appendChild(this.element),t&&t.floorplanRedrawObserver&&t.floorplanRedrawObserver.add(this.setElementR.bind(this))}},{key:"getPos",value:function(){return this.pos}},{key:"setPos",value:function(e){this.pos=e,_y.setAttr(this.element,{cx:e.x,cy:e.y})}},{key:"setElementR",value:function(){this.element&&_y.setAttr(this.element,{r:this.getRadius()})}},{key:"unsetTransition",value:function(e){this.element.style[e]="none"}}]),e}(),yb=vb,bb=Zo.pj,wb=function(){function e(t,n){o()(this,e),this.element=null,this.draw(t,n)}return l()(e,[{key:"draw",value:function(e,t){var n=e.position;this.getRadius=e.getRadius;var i=e.noPointerEvents,r=e.transitionStyle,o=e.id;this.gradientElement=_y.defRadialGradient("floor".concat(o,"__pano_radar-gradient"),{fx:0,fy:.5,startColor:"#5e5e5e",endColor:"#f8f8f8",stopOpacity:.05});var a=e.useLocalIRI?"":window.location.href.split("#")[0];this.element=_y.draw("path",{fill:"url(".concat(a,"#floor").concat(o,"__pano_radar-gradient)"),"stroke-width":0,"stroke-opacity":0,transform:"translate(".concat(n.x,", ").concat(n.y,")"),id:"radar-gradient"}),this.setElementR(),i&&(this.element.style["pointer-events"]="none"),this.element.style[r]="opacity ".concat(.4,"s ease"),this.setTransform(n,0),e.defsElement.appendChild(this.gradientElement),e.containerElement.appendChild(this.element),t&&t.floorplanRedrawObserver&&t.floorplanRedrawObserver.add(this.setElementR.bind(this))}},{key:"setTransform",value:function(e,t){if(this.element){var n=" scale(2)",i="";this.element.getAttribute("transform").includes(n)&&(i=n),_y.setAttr(this.element,{transform:"translate(".concat(e.x,", ").concat(e.y,") rotate(").concat((0,Zo.D5)(-Zo.jl*t,360),")").concat(i)})}}},{key:"setElementR",value:function(){if(this.element){var e=this.getRadius(),t=10*e,n=-.5*bb,i=" M ".concat(t*Math.cos(n)," ").concat(-t*Math.sin(n));i+=" L ".concat(t*Math.cos(n)," ").concat(-t*Math.sin(n)),n+=bb,i+=" A ".concat(t," ").concat(t," 0 0 0 ").concat(t*Math.cos(n)," ").concat(-t*Math.sin(n)),i+=" L ".concat(e*Math.cos(n)," ").concat(-e*Math.sin(n)),n=-.5*bb,i+=" A ".concat(e," ").concat(e," 0 0 1 ").concat(e*Math.cos(n)," ").concat(-e*Math.sin(n)),_y.setAttr(this.element,{d:i})}}}]),e}(),_b=wb;function xb(){this.target=null,this.targetId=-1,this.distSq=-1,this.angle=0}xb.getAngle=function(e,t){var n=t.x-e.x,i=t.y-e.y;if(n*n+i*i<1e-12)return 0;var r=Math.atan2(i,n);return r<0?2*Math.PI+r:r},xb.diff=function(e,t){for(var n=Math.abs(e-t);n>Math.PI;)n-=2*Math.PI;return Math.abs(n)};var Tb=xb,Sb=function(){function e(t,n,i,r){o()(this,e),this.x=t||0,this.y=n||0,this.distance=i||0,this.element=null,this.rectElement=null,this.textElement=null,this.getBImperial=r.getBImperial,this.getFontSize=r.getFontSize}return l()(e,[{key:"_setMeasurementText",value:function(){var e=this.distance/10;return this.getBImperial()?pb(e/2.54):fb(e)}},{key:"_getWidth",value:function(e){var t=this.getFontSize(),n=Math.round(e.length*t*.5);return this.getBImperial()?n:n+.5*t}},{key:"_redraw",value:function(){var e=this._setMeasurementText();_y.setAttr(this.rectElement,{width:this._getWidth(e)}),this.textElement.textContent=e}},{key:"draw",value:function(){if(!this.element){var e=this.getFontSize(),t=this._setMeasurementText();return this.element=document.createElementNS("http://www.w3.org/2000/svg","g"),this.rectElement=_y.draw("rect",{class:"measurement-label-bg",width:this._getWidth(t),height:e,fill:"white",transform:_y.getTransformStr({pos:[this.x,this.y]}),rx:20,ry:20}),this.element.appendChild(this.rectElement),this.textElement=_y.draw("text",{class:"measurement-label","font-family":"Arial","font-size":e,fill:"#fb2918",transform:_y.getTransformStr({pos:[this.x+.1*e,this.y+.875*e]})}),this.textElement.textContent=t,this.element.appendChild(this.textElement),this.element}this._redraw()}},{key:"redrawFontSize",value:function(){var e=this.getFontSize(),t=this._setMeasurementText();_y.setAttr(this.rectElement,{width:this._getWidth(t),height:e,rx:20,ry:20}),_y.setAttr(this.textElement,{"font-size":e,transform:_y.getTransformStr({pos:[this.x+.1*e,this.y+.875*e]})})}}]),e}(),Eb="#fb2918",Mb=function(){function e(t){o()(this,e),this.label=null,this.element=null,this.getFontSize=t.getFontSize,this.svg2Data=t.svg2Data,this.getSize=t.getSize,this.getBImperial=t.getBImperial}return l()(e,[{key:"clear",value:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null,this.label=null)}},{key:"draw",value:function(e,t,n){var i=this,r=this.svg2Data(e),o=this.svg2Data(t),a=this._getRadius();if(this.element=document.createElementNS("http://www.w3.org/2000/svg","g"),this.element.appendChild(_y.draw("circle",{cx:r.x,cy:r.y,r:a,fill:Eb,class:"measurement-circle"})),this.element.appendChild(_y.draw("line",{x1:r.x,y1:r.y,x2:o.x,y2:o.y,"stroke-width":this.getSize(),stroke:Eb,fill:Eb,class:"measurement"})),this.element.appendChild(_y.draw("circle",{cx:o.x,cy:o.y,r:a,fill:Eb,class:"measurement-circle"})),!n){this.label=new Sb(.5*(o.x+r.x+1),.5*(o.y+r.y-1)+function(e,t){var n=i.getFontSize();return(t.x-e.x)*(t.y-e.y)<0?n:-n}(r,o),Hs(o,r),{getBImperial:this.getBImperial,getFontSize:this.getFontSize}),this.updateLabel()}}},{key:"redraw",value:function(){var e=this._getRadius();_y.setAttr(this.element.querySelector("circle"),{r:e}),_y.setAttr(this.element.querySelector("line"),{"stroke-width":this.getSize()}),_y.setAttr(this.element.querySelectorAll("circle")[1],{r:e}),this.label&&this.label.redrawFontSize()}},{key:"updateLabel",value:function(){if(this.label){var e=this.label.draw();e&&this.element.appendChild(e)}}},{key:"_getRadius",value:function(){return 1.5*this.getSize()}}]),e}(),Ab=Mb,Cb=a(76700),kb=a.n(Cb),Pb=function(){function e(){o()(this,e),this.handlers=[]}return l()(e,[{key:"add",value:function(e){this.handlers.push(e)}},{key:"do",value:function(e,t){var n=t||window;this.handlers.forEach((function(t){t.call(n,e)}))}}]),e}(),Db=Pb,Rb=a.p+"a/aabbaf73b0af49aeae36.svg",$b=function(){function e(t){o()(this,e),this.text="",this.width=-1,this.height=-1,this.x=0,this.y=0,this.rot=0,this.fontSize=0,this.hidden=!1,this.viewer=function(){return t},this.shownLabelColor="#2e2e2e",this.onRedraw=new Db,this.onRedrawNoText=new Db,this.onOnResetLabels=new Db,this.onRedrawFontSize=new Db,this.onTransformChange=new Db}return l()(e,[{key:"elementId",value:function(){return"edit-btn".concat(this.id)}},{key:"redraw",value:function(){this.text||(this._resetToOriginal(),this.onRedrawNoText.do()),this._redraw(),this.onRedraw.do()}},{key:"setShown",value:function(e){this.hidden=!e,this._redraw()}},{key:"_resetToOriginal",value:function(){this.orig&&(this.text=this.orig.text,this.fontSize=this.orig.fontSize||0)}},{key:"_getRelPos",value:function(e,t){return[0,.875*e-t*e/2]}},{key:"draw",value:function(e,t,n,i,r){this.floorplanAPI=e,this.containerElement=e.containerElement,this.getFontSize=e.getFontSize;var o=this.getFontSize(this.fontSize);this.transform.relPos=this._getRelPos(o,1),this.element=_y.draw("text",{"font-family":"Arial","font-size":o,"text-anchor":"middle",transform:_y.getTransformStr(this.transform)}),this.setElementTextContent(),this.containerElement.appendChild(this.element),i&&i.floorplanRedrawObserver&&i.floorplanRedrawObserver.add(this.redrawFontSize.bind(this)),this.editable&&(this._setEditable(t,i,r),this._setHideable(n),this.redraw())}},{key:"_setEditable",value:function(e,t,n){var i=this;if(this.floorplanAPI=e,this.shownLabelColor=e.labelColor,this.element){var r=e.getElementSize();this.editElement=document.createElementNS("http://www.w3.org/2000/svg","image"),this.editElement.setAttributeNS("http://www.w3.org/1999/xlink","href",Rb),_y.setAttr(this.editElement,{id:this.elementId(),class:"edit-btn",width:r,height:r,preserveAspectRatio:"none",style:"cursor: pointer"}),this.containerElement.appendChild(this.editElement),this.onTransformChange.add((function(){var t,n;i.editElement&&_y.setAttr(i.editElement,{transform:_y.getTransformStr({ang:i.transform.ang,pos:i.transform.pos,relPos:(t=i.element.getBBox().width,n=i.getFontSize(i.fontSize),[.5*t+.2*e.getElementSize(),-n])})})})),this.onTransformChange.do(),"mousedown touchstart".split(" ").forEach((function(t){i.editElement.addEventListener(t,(function(){e.onMousedown(i)}))})),t&&t.floorplanRedrawObserver&&t.floorplanRedrawObserver.add(this.updateEditElementSize.bind(this)),this.deleteLabel=function(){i.containerElement.removeChild(i.editElement),i.containerElement.removeChild(i.dragElement),i.containerElement.removeChild(i.element),n.deleteLabel(i)}}}},{key:"updateEditElementSize",value:function(){if(this.editElement&&this.floorplanAPI){var e=this.floorplanAPI.getElementSize();_y.setAttr(this.editElement,{width:e,height:e}),this.onTransformChange.do()}}},{key:"_setHideable",value:function(e){e&&e.toggleRoomHidden&&(this.toggleRoomHidden=e.toggleRoomHidden),e&&e.toggleRoomUnfinished&&(this.toggleRoomUnfinished=e.toggleRoomUnfinished)}},{key:"onResetLabels",value:function(e){e&&(this._resetToOriginal(),this.text||this.onRedrawNoText.do()),this.x=this.orig.x,this.y=this.orig.y,this.transform.pos=[this.x,this.y],this._redraw(),this.onOnResetLabels.do()}},{key:"_redraw",value:function(e){if(this.element){if(this.getFontSize){var t=!1,n=this.getFontSize(this.fontSize);if(e)Jo()(this.element.getAttribute("font-size"))<(n=this.getFontSize(0))&&(t=!0);t||this.element.setAttribute("font-size",n)}var i=_y.getTransformStr(this.transform);i&&this.element.setAttribute("transform",i),this.element.setAttribute("fill",this._getFill()),this.setElementTextContent()}}},{key:"setElementTextContent",value:function(){this.element.textContent=this.viewer().vf.getLocalizedLabel(this.text)}},{key:"redrawFontSize",value:function(e){this._redraw(e),this.onRedrawFontSize.do()}},{key:"_getFill",value:function(){return this.hidden?"red":this.shownLabelColor}},{key:"editDone",value:function(e,t,n){void 0===t||/\d[^.0-9]+\d/.test(t)||(this.text=t),"function"==typeof n&&n(),this._redraw(),this.onRedraw.do()}}]),e}(),Ib=$b,Lb=a.p+"a/71e9c96d9a9364d41b26.svg";function Ob(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Nb=function(e){Vo()(n,e);var t=Ob(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"draw",value:function(e,t,i,r,o,a){var s=this;kb()(Go()(n.prototype),"draw",this).call(this,e,t,i,o,a),_y.setAttr(this.element,{id:"floor-label".concat(this.id)}),this.shownLabelColor="#909090",this._setDraggable(r,o),this.onRedrawNoText.add((function(){s.hidden=!0}))}},{key:"_setDraggable",value:function(e,t){var n=this;if(this.editable&&this.text){this.floorplanAPI=e;var i=this,r=e.getElementSize();this.dragElement=document.createElementNS("http://www.w3.org/2000/svg","image"),this.dragElement.setAttributeNS("http://www.w3.org/1999/xlink","href",Lb),_y.setAttr(this.dragElement,{id:"drag-btn".concat(this.id),class:"drag-btn",width:r,height:r,preserveAspectRatio:"none"}),this.containerElement.appendChild(this.dragElement),this.onTransformChange.add((function(){var t,i;n.dragElement&&_y.setAttr(n.dragElement,{transform:_y.getTransformStr({ang:n.transform.ang,pos:n.transform.pos,relPos:(t=n.element.getBBox().width,i=n.getFontSize(n.fontSize),[.5*-t-1.2*e.getElementSize(),-i])})})})),this.onRedraw.add((function(){n.onTransformChange.do()})),this.onOnResetLabels.add((function(){n.onTransformChange.do()})),this.onTransformChange.do();var o=new Vs(0,0);_y.setDraggable(this.dragElement,(function(t){o=e.getPosition(t),e.showRoomDimsLabels(!1)}),(function(t){var i=e.getPosition(t),r=i.x-o.x,a=i.y-o.y;n.transform.pos[0]+=r,n.transform.pos[1]+=a,n.onTransformChange.do(),n._redraw(),o=i}),(function(){i.x=n.transform.pos[0],i.y=n.transform.pos[1],e.showRoomDimsLabels(!0)})),e.element.appendChild(this.dragElement),t&&t.floorplanRedrawObserver&&t.floorplanRedrawObserver.add((function(){var t=e.getElementSize();_y.setAttr(n.dragElement,{width:t,height:t}),n.onTransformChange.do()}))}}},{key:"updateDragEditElements",value:function(){if(this.dragElement&&this.floorplanAPI){var e=this.floorplanAPI.getElementSize();_y.setAttr(this.dragElement,{width:e,height:e}),this.updateEditElementSize()}}}]),n}(Ib),Fb=Nb;function Bb(e,t){var n=I()(e);if(R()){var i=R()(e);t&&(i=i.filter((function(t){return P()(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ub(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bb(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):C()?M()(e,C()(n)):Bb(Object(n)).forEach((function(t){S()(e,t,P()(n,t))}))}return e}var zb=[142,118,98],Vb=1.5,Hb=.5,jb=8e3,Wb=function(e,t){for(var n,i,r=-1,o=0;o<t.length;o++)i=Hs(e,t[o].center),(r<0||i<r)&&(r=i,n=t[o]);return{hotspot:n,distance:r}},Gb=function(){function e(t){var n=this;o()(this,e),this.viewer=t,this.initPanoId=0,this.label="",this.hidden=!1,this.panos=[],this.panoIds=[],this.gates=[],this.tags=[],this.labels={dimensions:[],names:[]},this.activePanoMarker=null,this.nActivePano=0,this.nPrevActivePano=this.viewer.vf.quickReloadNPrevActivePano||0,this.isPanZoomed=!1,this.userHasPanZoomed=!1,this.prevTouchDistance=0,this.point=null,this.zoomPoint=null,this.isPointerDown=!1,this.cm2pxMax=1,this.viewBox=null,this.originalViewBox=null,this.userInitViewBox=null,this.hasInitialZoom=!1,this.pointerOrigin={x:0,y:0},this.bHasOutline=!1,this.area=0,this.perimeter=0,this.currentMeasurement=new Ab(this._getMeasurementAPI()),this.measurements=[],this.current_measurement_point_1=new Vs,this.radarSector=null,this.onBeforeSetFloor=new Db,this.onAfterSetFloor=new Db,this.onRedraw=new Db,this.viewer.vf.eventBus.on("localeChange",(function(){n.redraw()}))}return l()(e,[{key:"_getLabelDrawAPI",value:function(){var e=this;return{getFontSize:function(t){return e.getFontSize(t)},containerElement:this.element}}},{key:"_getEditableAPI",value:function(){var e=this;return{labelColor:this.get_colors().label,getPosition:this._data2Svg.bind(this),getLength:this._data2SvgDelta.bind(this),getElementSize:function(){return 4*e.getPanoRadius()},onMousedown:function(t){e.viewer.editModal.onLabelEditBtnClick(t)}}}},{key:"_getDraggableAPI",value:function(e){var t=this;return{element:this.element,showRoomDimsLabels:function(e,n){if("tour_meas"!==t.viewer.vf.page)return t.showRoomDimsLabels(e,n)},getPosition:function(n){return t._svg2Data(e(n))},getElementSize:function(){return 4*t.getPanoRadius()}}}},{key:"_getDeletableAPI",value:function(){var e=this;return{deleteLabel:function(t){for(var n,i=0;i<e.labels.names.length;i++)e.labels.names[i].id===t.id&&(n=i);void 0!==n&&e.labels.names.splice(n,1)}}}},{key:"_getMeasurementAPI",value:function(){var e=this;return{svg2Data:function(t){return e._svg2Data(t)},getFontSize:function(){var t=e.bboxes.data.h/e.bboxes.data.w,n=e.bboxes.draw.h/t*.04;return(0,Zo.uZ)(n,6,10)*e.scale},getSize:function(){return e.scale},getBImperial:function(){return e.viewer.vf.bImperial}}}},{key:"setAllLabelShown",value:function(e){for(var t=0;t<this.labels.names.length;t++)this.labels.names[t].setShown(e);this.rooms.forEach((function(t){t.hidden=!e,t.label&&(t.label.hideNameAndDimsAndArea(t.hidden),t.label.redrawNameColor(),t.label.redrawDimensionsAndAreaColor())}))}},{key:"setAllPanoShown",value:function(e,t){for(var n=0;n<this.panos.length;n++){var i=this.panos[n];e&&t&&!t(i)||i.setShown(this.get_colors().circle,e)}}},{key:"areAllPanosHidden",value:function(){for(var e=this.panos.length;e--;)if(this.panos[e].bShow)return!1;return!0}},{key:"get_colors",value:function(){return{wall:"#1f1f1f",label:"#909090",bgd:"rgb(248, 248, 248)",circle:this.viewer.vf.isRadix?"rgb(179, 239, 185)":"rgb(13, 158, 75)"}}},{key:"computePanoNeighbors",value:function(){var e,t,n,i,r,o=this.panos,a=[],s=[],l=[],c=function(e,t){return l[e]-l[t]};for(e=0;e<o.length;e++)o[e].neighbors.length=0,a[o[e].id]=e,s[e]=e;for(e=0;e<o.length;e++)for(n=0;n<o.length;n++)o[n].id!==o[e].id&&(r=js(o[e].center,o[n].center))<25e4&&(o[e].overlappingPanoIds=void 0!==o[e].overlappingPanoIds&&o[e].overlappingPanoIds instanceof Array?o[e].overlappingPanoIds:[],o[n].overlappingPanoIds=void 0!==o[n].overlappingPanoIds&&o[n].overlappingPanoIds instanceof Array?o[n].overlappingPanoIds:[],o[e].overlappingPanoIds.includes(o[n].id)||o[e].overlappingPanoIds.push(o[n].id),o[n].overlappingPanoIds.includes(o[e].id)||o[n].overlappingPanoIds.push(o[e].id));for(e=0;e<o.length;e++){for(t=0;t<o[e].visiblePanoIds.length;t++)if(void 0!==(n=a[o[e].visiblePanoIds[t]])&&o[e].bShow&&o[n].bShow){r=js(o[e].center,o[n].center);var u=new Tb;u.isPano=!0,u.dist=r,u.targetId=o[n].id,u.target=o[n],u.angle=-Tb.getAngle(o[e].center,o[n].center),o[e].neighbors.push(u)}this.viewer.maxPanoNeighbors<o[e].neighbors.length&&(this.viewer.maxPanoNeighbors=o[e].neighbors.length)}for(e=0;e<o.length;e++){for(t=0;t<o.length;t++)l[t]=js(o[e].center,o[t].center);for(s.sort(c),t=0;t<o.length;t++)if(e!==(i=s[t])&&o[e].bShow&&o[i].bShow){var d=-Tb.getAngle(o[e].center,o[i].center);for(n=0;n<o[e].neighbors.length&&!((0,Zo.jt)(o[e].neighbors[n].angle,d)<.52);n++);if(n===o[e].neighbors.length){r=js(o[e].center,o[i].center);var h=new Tb;h.isPano=!0,h.dist=r,h.targetId=o[i].id,h.target=o[i],h.angle=d,o[e].neighbors.push(h)}}this.viewer.maxPanoNeighbors<o[e].neighbors.length&&(this.viewer.maxPanoNeighbors=o[e].neighbors.length)}this.maxPanoDistSq=(0,Zo.uZ)(Math.max.apply(Math,x()(o.map((function(e){return Math.max.apply(Math,x()(e.neighbors.map((function(e){return e.dist}))))})))),0,64e6),this.computeGates(),this.computeTags(),o.forEach((function(e){return e.neighbors.sort((function(e,t){return t.dist-e.dist}))}))}},{key:"computeGates",value:function(){var e,t,n,i,r=this.gates,o=this.panos,a=this.viewer;if(!a.vf.pagepreviewWorkaround&&!a.vf.embedpreviewWorkaround)for(e=0;e<r.length;e++)for(t=0;t<r[e].visiblePanoIds.length;t++){i=js(o[n=this.getPanoAndIdxFromId(r[e].visiblePanoIds[t]).i].center,r[e].center);var s=new Tb;s.isGate=!0,s.dist=i;var l=a.house.getFloorplanFromId(r[e].targetFloorId);s.targetFloor=l,s.targetFloorId=l.id,s.angle=-Tb.getAngle(o[n].center,r[e].center),s.targetGateId=r[e].targetId,s.gateId=r[e].id,s.gateIdx=e,r[e].targetPanoId?(s.targetId=r[e].targetPanoId,s.target=l.panos[l.getPanoAndIdxFromId(s.targetId).i]):s.hidden=!0,o[n].neighbors.push(s),a.maxPanoNeighbors<o[n].neighbors.length&&(a.maxPanoNeighbors=o[n].neighbors.length)}}},{key:"computeTags",value:function(){var e,t,n,i,r,o=this.viewer,a=this.panos,s=this.tags;if(!o.vf.pagepreviewWorkaround&&!o.vf.embedpreviewWorkaround)for(e=0;e<s.length;e++){r=s[e];var l=o.vf.editTags?r.allPanoIds:r.visiblePanoIds;for(t=0;t<l.length;t++)if((i=this.getPanoAndIdxFromId(l[t]))&&i.pano){n=i.i;var c=new Tb;c.id=r.id,c.isTag=!0,c.stem=r.stem,c.coords=r.coords,c.dist=js(a[n].center,r.center),c.title=r.title,c.content=r.content,c.iframe=r.iframe,c.color=r.color,c.design=r.design||0,c.opacity=r.opacity,c.tagIdx=e,o.vf.editTags&&(c.hidden=!r.visiblePanoIds.includes(r.allPanoIds[t]));var u=o.house.getFloorplanFromId(s[e].floorId);c.targetFloor=u,c.targetFloorId=u.id,a[n].neighbors.push(c),o.maxPanoNeighbors<a[n].neighbors.length&&(o.maxPanoNeighbors=a[n].neighbors.length)}}}},{key:"setNActivePano",value:function(e){this.nActivePano=e}},{key:"setNPrevActivePano",value:function(){this.nPrevActivePano=this.nActivePano}},{key:"setInitPano",value:function(e){e&&this.setNActivePano(e)}},{key:"setInitAngle",value:function(e){isNaN(e)||(this.nInitAngle=(e+90)*Zo.ZX-this.getAngleOffset())}},{key:"setPanoMarkerTransition",value:function(e){this.activePanoMarker&&this.activePanoMarker.setTransition(e,this.getActivePano().center)}},{key:"unsetPanoMarkerTransition",value:function(e){this.activePanoMarker&&this.activePanoMarker.unsetTransition(e)}},{key:"getClickedPano",value:function(e){if(!this.bHasOutline||!this.panos.length||this.viewer.bInTransition)return!1;var t=Wb(this._svg2Data(e),this.panos);return!(!t||!t.hotspot||t.hotspot.tempHidden||!(0,Zo.Re)(t.distance,0,3*this.getPanoRadius()))&&t.hotspot}},{key:"getClickedGate",value:function(e){if(!this.bHasOutline||!this.gates.length||this.viewer.bInTransition)return!1;var t=Wb(this._svg2Data(e),this.gates);return!(!t||!t.hotspot||t.hotspot.tempHidden||!(0,Zo.Re)(t.distance,0,3*this.getPanoRadius()))&&t.hotspot}},{key:"getClickedTag",value:function(e){if(!this.bHasOutline||!this.tags.length||this.viewer.bInTransition)return!1;var t=Wb(this._svg2Data(e),this.tags);return!(!t||!t.hotspot||t.hotspot.tempHidden||!(0,Zo.Re)(t.distance,0,3*this.getPanoRadius()))&&t.hotspot}},{key:"getFontSize",value:function(e){var t=zb[0]*this.scaleFactor/this.scale,n=zb[e]*this.scaleFactor;return t>=9?[9,7.4788,6.2112][e]*this.scale:n}},{key:"getPanoRadius",value:function(){var e=this.viewer.sidePanelElem[0].classList.contains("minimized"),t=zb[0]*this.scaleFactor,n=t/this.scale;return n>=9?4.5*this.scale:n<6&&!e?3*this.scale:.5*t}},{key:"redrawPanoHighlight",value:function(e){this.panoHighlight&&!e.tempHidden&&this.panoHighlight.redraw(e.center)}},{key:"hidePanoHighlight",value:function(){this.panoHighlight&&this.panoHighlight.hide()}},{key:"draw",value:function(e){var t=this;(this.setNoObjects(this.viewer.vf.noobjects),this.element=this.viewer.floorplanwindowElem[0].querySelector("#floor".concat(this.id)),this.element.setAttributeNS(null,"preserveAspectRatio","xMinYMin"),this.viewer.vf.isRadix)&&this.element.querySelectorAll("g#scan g path.point").forEach((function(e){e.setAttribute("vector-effect","non-scaling-stroke")}));if(this._setTransform(),this._showDimArrows(),this.defsElement||(this.defsElement=document.createElementNS("http://www.w3.org/2000/svg","defs"),this.element.appendChild(this.defsElement)),(this.panos.length||this.gates.length||this.tags.length)&&!this.viewer.vf.pagepreviewWorkaround&&!this.viewer.vf.embedpreviewWorkaround){var n=this.panos.length?this.getActivePano().center:{x:0,y:0};this.panoHighlight=new gb({position:n,getRadius:this.getPanoRadius.bind(this),colors:this.get_colors(),id:this.id,containerElement:this.element,defsElement:this.defsElement,useLocalIRI:this.viewer.vf.useLocalIRI},{floorplanRedrawObserver:this.onRedraw})}if(this.tags.length&&!this.viewer.vf.pagepreviewWorkaround&&!this.viewer.vf.embedpreviewWorkaround){var r=_y.draw("g",{style:"display: none"}),o=_y.draw("symbol",{id:"tag",viewBox:"0 0 512 512",width:512,height:512,style:"cursor: pointer"}),a=_y.draw("path",{d:"M487.523 0h-195.813c-13.462 0-32.265 7.788-41.785 17.308l-242.786 242.786c-9.52 9.519-9.52 25.096 0 34.615l210.151 210.151c9.519 9.519 25.095 9.519 34.615 0l242.787-242.787c9.519-9.518 17.307-28.322 17.307-41.784v-195.813c0-13.462-11.014-24.477-24.476-24.477zM365.14 195.813c-27.036 0-48.954-21.917-48.954-48.953s21.917-48.953 48.954-48.953 48.954 21.917 48.954 48.953-21.917 48.953-48.954 48.953z"});o.appendChild(a),r.appendChild(o),this.element.appendChild(r);var s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("id","tags"),this.tags.forEach((function(e){e.draw({getRadius:function(){return.8*t.getPanoRadius()},getColor:t.viewer.getTagColor.bind(t),containerElement:s},{floorplanRedrawObserver:t.onRedraw}),e.setVisible(t.viewer.vf.showTagsInFp)})),this.element.appendChild(s)}if(this.panos.length){var l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttribute("id","panos"),this.panos.forEach((function(e){e.draw({getRadius:t.getPanoRadius.bind(t),containerElement:l},{floorplanRedrawObserver:t.onRedraw})})),this.element.appendChild(l),this.defsElement=document.createElementNS("http://www.w3.org/2000/svg","defs"),this.element.appendChild(this.defsElement),this.activePanoMarker=new yb({position:this.getActivePano().center,getRadius:function(){return.6*t.getPanoRadius()},color:this.get_colors().circle,id:this.id,containerElement:this.element,defsElement:this.defsElement,useLocalIRI:this.viewer.vf.useLocalIRI},{floorplanRedrawObserver:this.onRedraw}),this.radarSector=new _b({position:this.getActivePano().center,getRadius:this.getPanoRadius.bind(this),editable:this.viewer.vf.edit&&this.viewer.vf.edit.labels,transitionStyle:this.viewer.transitionStyle,colors:this.get_colors(),id:this.id,containerElement:this.element,defsElement:this.defsElement,useLocalIRI:this.viewer.vf.useLocalIRI},{floorplanRedrawObserver:this.onRedraw})}if(this.gates.length&&!this.viewer.vf.pagepreviewWorkaround&&!this.viewer.vf.embedpreviewWorkaround){var c=document.createElementNS("http://www.w3.org/2000/svg","g");c.setAttribute("id","gates"),this.gates.forEach((function(e){e.draw({getRadius:t.getPanoRadius.bind(t),containerElement:c},{floorplanRedrawObserver:t.onRedraw})})),this.element.appendChild(c)}var u=this.viewer,d=u.vf.edit&&u.vf.edit.labels;if(document.createElementNS("http://www.w3.org/2000/svg","g").setAttribute("id","floor-labels"),this.labels.names.forEach((function(n){(d||!d&&!n.hidden)&&n.draw(t._getLabelDrawAPI(),t._getEditableAPI(),void 0,t._getDraggableAPI(e),{floorplanRedrawObserver:t.onRedraw},t._getDeletableAPI())})),document.createElementNS("http://www.w3.org/2000/svg","g").setAttribute("id","room-labels"),this.rooms.forEach((function(e){e.label.text&&!e.label.text.length||(e.hidden&&e.label&&(e.label.hidden=e.hidden),(d||!d&&!e.hidden)&&e.label.draw(i()(t._getLabelDrawAPI(),{hideDims:"tour_meas"!==u.vf.page,hideArea:"tour_meas"!==u.vf.page}),t._getEditableAPI(),{setRoomHidden:function(){e.hidden=!0,e.label&&(e.label.hidden=e.hidden)},toggleRoomHidden:function(){e.hidden=!e.hidden,e.label&&(e.label.hidden=e.hidden)},toggleRoomUnfinished:function(){9===e.type?e.origType&&e.label.origText||t.setRoomOrigData(e)?(e.type=e.origType,e.label.text=e.label.origText):(e.type=-1,e.label.text="OTHER"):(e.type=9,e.label.text="UNFINISHED")}},{floorplanRedrawObserver:t.onRedraw},{markerElement:t.element.querySelector("#room".concat(e.id,">.arrows")),areAllHidden:function(){return t.viewer.vf.nodims},isMeasMode:function(){return"tour_meas"===t.viewer.vf.page}},{areAllHidden:function(){return t.viewer.vf.noroomarea}}))})),_y.setAttr(this.element,{id:"floor".concat(this.id)}),this.redraw(),"tour_meas"===this.viewer.vf.page&&this.showRoomDimsLabels(),this.point=this.element.createSVGPoint(),this.zoomPoint=this.element.createSVGPoint(),this.viewBox=this.element.viewBox.baseVal,this.originalViewBox={x:this.viewBox.x,y:this.viewBox.y,width:this.viewBox.width,height:this.viewBox.height},this.viewer.vf.quickReloadViewBox&&Ry.ZP.to(this.viewBox,0,Ub(Ub({},this.viewer.vf.quickReloadViewBox),{},{onComplete:function(){t.isPanZoomed=!0,t.updateScale(),delete t.viewer.vf.quickReloadViewBox,t.viewer.vf.eventBus.emit("fp-initial-animation-finish")}})),this.userInitViewBox&&this.userInitViewBox.length){var h={x:this.userInitViewBox[0],y:this.userInitViewBox[1],width:this.userInitViewBox[2],height:this.userInitViewBox[3]};this.hasInitialZoom=!this.viewBoxesAreEqual(h,this.originalViewBox)}this.element.addEventListener("mousedown",this.onPointerDown.bind(this)),this.element.addEventListener("mouseup",this.onPointerUp.bind(this)),this.element.addEventListener("mousemove",this.onPointerMove.bind(this)),this.element.addEventListener("wheel",this.onWheel.bind(this)),this.element.addEventListener("touchstart",this.onPointerDown.bind(this)),this.element.addEventListener("touchend",this.onPointerUp.bind(this)),this.element.addEventListener("touchmove",this.onPointerMove.bind(this))}},{key:"redraw",value:function(e,t,n){if(this.element){var i="tour_meas"===this.viewer.vf.page&&!t;if(this.isPanZoomed){var r=this.element.querySelector("#panos");r&&(r.style.opacity=i?.6:""),this.updateScale(),this.showRoomDimsLabels("tour_meas"!==this.viewer.vf.page)}else this.hideMeasurementElements(),this._setTransform(i,e,n),this.updateDimensions(),this.updateMeasurements(),this.onRedraw.do(),this.showRoomDimsLabels("tour_meas"!==this.viewer.vf.page),this.showMeasurementElements()}}},{key:"resetPanZoom",value:function(){var e=this;this.isPanZoomed=!1,this.userHasPanZoomed=!0,this.onPointerUp(),this.redraw(!0,"tour_meas"!==this.viewer.vf.page,(function(){e.updateElementSizes(),e.updateMeasurements(),e.cm2pxMax=1}))}},{key:"getPointFromEvent",value:function(e){e.touches?(this.point.x=e.touches[0].clientX,this.point.y=e.touches[0].clientY):(this.point.x=e.clientX,this.point.y=e.clientY);var t=this.element.getScreenCTM().inverse();return this.point.matrixTransform(t)}},{key:"getTouchDetails",value:function(e){var t,n,i=e.touches[0],r=e.touches[1],o=new Vs(i.pageX,i.pageY),a=new Vs(r.pageX,r.pageY);return{distance:Hs(o,a),midpoint:(t=o,n=a,new Vs(.5*(t.x+n.x),.5*(t.y+n.y)))}}},{key:"onPointerMove",value:function(e){if(this.isPointerDown&&this.viewer.floorplanData.isPanZoomMode&&!this.viewer.floorplanShrunk)if(e.preventDefault(),"touchmove"===e.type&&e.touches&&2===e.touches.length){var t=this.getTouchDetails(e),n=t.distance-this.prevTouchDistance;if(this.prevTouchDistance=t.distance,!n||n<0&&(this.viewBox.width>=this.originalViewBox.width*Vb||this.viewBox.height>=this.originalViewBox.height*Vb))return;this.zoomPoint.x=t.midpoint.x,this.zoomPoint.y=t.midpoint.y;var i=this.zoomPoint.matrixTransform(this.element.getScreenCTM().inverse()),r=1-.005*n,o={};o.x=this.viewBox.x-(i.x-this.viewBox.x)*(r-1),o.y=this.viewBox.y-(i.y-this.viewBox.y)*(r-1),o.w=this.viewBox.width*r,o.h=this.viewBox.height*r;var a=this.calcViewBoxScale(this.bboxes.draw,o,0,0,0,0);if(this._data2SvgDelta(10,a)>1)return;this.viewBox.x=o.x,this.viewBox.y=o.y,this.viewBox.width=o.w,this.viewBox.height=o.h,this.onPanZoom(n>0)}else{var s=this.getPointFromEvent(e);this.viewBox.x-=s.x-this.pointerOrigin.x,this.viewBox.y-=s.y-this.pointerOrigin.y,this.isPanZoomed=!0,this.updateBBoxes(!0)}}},{key:"onPointerUp",value:function(){this.viewer.floorplanData.isPanZoomMode&&!this.viewer.floorplanShrunk&&(this.isPointerDown=!1)}},{key:"onPointerDown",value:function(e){if(this.viewer.floorplanData.isPanZoomMode&&!this.viewer.floorplanShrunk)if(this.isPointerDown=!0,"touchstart"===e.type&&e.touches&&2===e.touches.length){var t=this.getTouchDetails(e);this.prevTouchDistance=t.distance}else this.pointerOrigin=this.getPointFromEvent(e)}},{key:"onWheel",value:function(e){if(this.viewer.floorplanData.isPanZoomMode){var t;e.preventDefault();var n=e.wheelDelta;if(t=n?n%120==0?n/120:n/12:-((n=e.deltaY||e.detail||0)%3?10*n:n/3),!((t=(0,Zo.uZ)(t,-5,5))<0&&(this.viewBox.width>=this.originalViewBox.width*Vb||this.viewBox.height>=this.originalViewBox.height*Vb))){var i=this._data2SvgDelta(10);if(!(t>0&&(i>=1||i>=this.cm2pxMax))){this.zoomPoint.x=e.clientX,this.zoomPoint.y=e.clientY;var r=this.zoomPoint.matrixTransform(this.element.getScreenCTM().inverse()),o=.05*t,a=1-o,s={};s.x=this.viewBox.x-(r.x-this.viewBox.x)*(a-1),s.y=this.viewBox.y-(r.y-this.viewBox.y)*(a-1),s.w=this.viewBox.width*a,s.h=this.viewBox.height*a;for(var l=this.calcViewBoxScale(this.bboxes.draw,s,0,0,0,0),c=this._data2SvgDelta(10,l);c>1;)a=1-(o-=.01),s.x=this.viewBox.x-(r.x-this.viewBox.x)*(a-1),s.y=this.viewBox.y-(r.y-this.viewBox.y)*(a-1),s.w=this.viewBox.width*a,s.h=this.viewBox.height*a,l=this.calcViewBoxScale(this.bboxes.draw,s,0,0,0,0),c=this._data2SvgDelta(10,l),this.cm2pxMax=c;this.viewBox.x=s.x,this.viewBox.y=s.y,this.viewBox.width=s.w,this.viewBox.height=s.h,this.onPanZoom(t>0)}}}}},{key:"onPanZoom",value:function(e){this.userHasPanZoomed=!0,this.isPanZoomed=!0,this.updateScale(!0,e)}},{key:"updateElementSizes",value:function(e){this.rooms.forEach((function(t){t.label.redrawFontSize(e),t.label.updateEditElementSize()})),this.labels.names.forEach((function(t){t.redrawFontSize(e),t.updateDragEditElements?t.updateDragEditElements():t.updateEditElementSize()})),this.panos.forEach((function(e){return e.setElementR()})),this.gates.forEach((function(e){return e.setElementR()})),this.tags.forEach((function(e){return e.setElementR()})),this.activePanoMarker&&this.activePanoMarker.setElementR(),this.panoHighlight&&this.panoHighlight.setElementR(),this.radarSector&&this.radarSector.setElementR(),this.updateMeasurements()}},{key:"updateBBoxes",value:function(e){if(this.viewBox&&(this.viewer.vf.eventBus.emit("floorplan-pan-zoom"),this.bboxes.data={x:this.viewBox.x,y:this.viewBox.y,w:this.viewBox.width,h:this.viewBox.height},!e)){var t=this.element.getBoundingClientRect();this.bboxes.draw={x:t.left,y:t.top,w:t.width,h:t.height}}}},{key:"updateScale",value:function(e,t){this.updateBBoxes(e),this.scale=this.calcViewBoxScale(this.bboxes.draw,this.bboxes.data,0,0,0,0),this.updateElementSizes(t)}},{key:"saveFloorScreenshot",value:function(e,t,n){var i=this;if(this.element){var r=this.element.cloneNode(!0);this.element.style.display="none",r.setAttribute("id","".concat(r.id,"_clone")),this.element.parentElement.insertAdjacentElement("beforeend",r);for(var o=r.viewBox.baseVal,a={x:o.x,y:o.y,w:o.width,h:o.height},s=r.getBoundingClientRect(),l={x:s.left,y:s.top,w:s.width,h:s.height},c=this.calcViewBoxScale(l,a,0,0,0,0),u=this._data2SvgDelta(10,c);u<1&&(r.style.width="".concat(1.1*s.width,"px"),r.style.height="".concat(1.1*s.height,"px"),l={x:(s=r.getBoundingClientRect()).left,y:s.top,w:s.width,h:s.height},c=this.calcViewBoxScale(l,a,0,0,0,0),u=this._data2SvgDelta(10,c),!(s.width>jb||s.height>jb)););for(var d=!0;(u>=1.001||s.width>jb||s.height>jb)&&(r.style.width="".concat(d?Math.floor(s.width):s.width-1,"px"),r.style.height="".concat(d?Math.floor(s.height):s.height-1,"px"),l={x:(s=r.getBoundingClientRect()).left,y:s.top,w:s.width,h:s.height},c=this.calcViewBoxScale(l,a,0,0,0,0),u=this._data2SvgDelta(10,c),d=!1,Math.max(s.width,s.height)!==jb););var h=document.createElement("canvas");h.width=s.width,h.height=s.height;var p=h.getContext("2d");if(this.measurements.length&&n){var f=this.measurements[0].element,m=new Vs(f.children[0].cx.baseVal.value,f.children[0].cy.baseVal.value),g=new Vs(f.children[2].cx.baseVal.value,f.children[2].cy.baseVal.value),v=m.y<=g.y?m:g,y=m.y<=g.y?g:m,b=v.x-y.x,_=y.y-v.y,x=Math.atan2(_,b)-.5*Math.PI,T=Math.cos(x),S=Math.sin(x);S<0&&(S=-S),T<0&&(T=-T);var E=h.height*S+h.width*T,M=h.height*T+h.width*S,A=E/M;E>jb&&(M=(E=jb)/A),M>jb&&(E=(M=jb)*A),h.width=E,h.height=M,p.fillStyle="white",p.fillRect(0,0,E,M),p.translate(.5*E,.5*M),p.rotate(x),p.translate(.5*-E,.5*-M),p.translate(.5*(E-s.width),.5*(M-s.height))}else p.fillStyle="white",p.fillRect(0,0,h.width,h.height);if(this.tags.length){var C=w()(r.querySelectorAll("#tags .tag"));t?C.forEach((function(e){return e.setAttribute("style","")})):C.forEach((function(e){e.style.visibility="hidden"}))}var k=r.querySelector("g#panos");k&&k.remove();var P=r.querySelector("g#gates");P&&P.remove();var D=r.querySelector("#pano-marker");D&&D.remove();var R=r.querySelector("#floorplanwindow__pano_donut");R&&R.remove();var $=r.querySelector("#radar-gradient");$&&$.remove(),w()(r.querySelectorAll("g#rooms g.room g.arrows.hidden")).forEach((function(e){return e.remove()}));var I=r.querySelector("style");if(I)if(I.innerHTML+="\n        svg > text {\n          font-family: Arial;\n          fill: rgb(46, 46, 46);\n        }",this.viewer.vf.isRadix)I.innerHTML+="\n          g#scan g path.point {\n            stroke: black;\n            stroke-width: ".concat(this.viewer.isSafari?"15":"0.5",";\n          }");else{var L=w()(document.getElementsByTagName("style")).find((function(e){return e.innerHTML.includes(".floor__color__balanced")})),O=L.innerHTML.replaceAll(".side-panel-styles","");I.innerHTML+=O}r.width.baseVal.valueAsString=r.width.baseVal.value.toString(),r.height.baseVal.valueAsString=r.height.baseVal.value.toString();var N=(new XMLSerializer).serializeToString(r);r.remove(),this.element.style.display="";var F=new Image;F.onload=function(){if(p.drawImage(F,0,0,s.width,s.height),!i.measurements.length&&!n){var t=h.width*c/10,r=i.viewer.vf.bImperial?pb(t/2.54):fb(t);p.lineWidth=4,p.font="20px Arial",p.fillStyle="black",p.textAlign="center",p.beginPath(),p.moveTo(2,h.height-40),p.lineTo(2,h.height-20),p.stroke(),p.beginPath(),p.moveTo(2,h.height-30),p.lineTo(h.width,h.height-30),p.stroke(),p.beginPath(),p.moveTo(h.width-2,h.height-40),p.lineTo(h.width-2,h.height-20),p.stroke(),p.fillText(r,.5*h.width,h.height-10)}h.toBlob((function(t){var n="".concat(i.viewer.vf.title,".jpg");Tt().saveAs(t,n),e&&e()}),"image/jpeg",1)},F.src="data:image/svg+xml; charset=utf8, ".concat(encodeURIComponent(N))}}},{key:"showTagVisibility",value:function(e){e&&e.allPanoIds&&e.allPanoIds.length&&(this.panos.forEach((function(t){e.allPanoIds.includes(t.id)?t.swapColor(e.visiblePanoIds.includes(t.id)):t.setVisible(!1)})),this.gates.forEach((function(e){e.setVisible(!1)})),this.tags.forEach((function(t){t.id!==e.id&&t.setVisible(!1)})))}},{key:"updateTagIconsVisibility",value:function(){var e=this;this.tags.forEach((function(t){t.setVisible(e.viewer.vf.showTagsInFp)}))}},{key:"exitTagVisibility",value:function(){this.panos.forEach((function(e){e.resetColor(),e.setVisible(!0)})),this.gates.forEach((function(e){e.setVisible(!0)})),this.tags.forEach((function(e){e.setVisible(!0)}))}},{key:"onFloorplanwindowMousedown",value:function(e){this.current_measurement_point_1=e}},{key:"onFloorplanwindowMouseup",value:function(e,t){Hs(this.current_measurement_point_1,e)>6?this.drawFinalMeasurement(e,t):this.currentMeasurement.clear()}},{key:"clearCurrentMeasurement",value:function(){this.currentMeasurement.clear()}},{key:"drawCurrentMeasurement",value:function(e,t){this.currentMeasurement.clear(),this.currentMeasurement.draw(this.current_measurement_point_1,e,t),this.element.appendChild(this.currentMeasurement.element)}},{key:"drawFinalMeasurement",value:function(e,t){var n=new Ab(this._getMeasurementAPI());n.draw(this.current_measurement_point_1,e,t),this.element.appendChild(n.element),this.measurements.push(n),this.currentMeasurement.clear()}},{key:"clearLastMeasurement",value:function(){if(this.currentMeasurement.clear(),0!==this.measurements.length){var e=this.measurements.length-1;this.measurements[e].clear(),this.measurements.length=e}}},{key:"updateMeasurements",value:function(){for(var e=0;e<this.measurements.length;e++)this.measurements[e].redraw()}},{key:"updateMeasurementLabels",value:function(){for(var e=0;e<this.measurements.length;e++)this.measurements[e].updateLabel()}},{key:"clearMeasurements",value:function(){this.currentMeasurement.clear();for(var e=0;e<this.measurements.length;e++)this.measurements[e].clear();this.measurements.length=0}},{key:"setRadarTransform",value:function(e){this.getActivePano()&&this.radarSector&&this.radarSector.setTransform(this.activePanoMarker.getPos(),e+this.getAngleOffset())}},{key:"updateDimensions",value:function(){this.showRoomDimsLabels()}},{key:"showRoomDimsLabels",value:function(e,t){var n=this,i=this.viewer.vf.bImperial,r=!this.viewer.vf.edit&&this.viewer.vf.nodims||this.viewer.vf.isPreview,o=this.viewer.vf.noroomarea||this.viewer.vf.isPreview;e&&(r=!0,o=!0),this._showDimArrows(),this.rooms.forEach((function(e){e.label.onShowRoomDimsLabels({getNodims:function(){return n.viewer.vf.nodims||n.viewer.vf.isPreview},getNoroomarea:function(){return n.viewer.vf.noroomarea||n.viewer.vf.isPreview},fontSize:n.getFontSize(e.label.fontSize),bImperial:i,hidden:!e.label.editable&&e.hidden,customAttrs:t},r,o)}))}},{key:"pano__isMouseOver",value:function(e){if(!this.panos.length)return!1;if(!(e=this._svg2Data(e)))return-1;for(var t,n,i=-1,r=0;r<this.panos.length;r++)n=Hs(e,this.panos[r].center),(i<0||n<i)&&(i=n,t=r);return i>=0&&i<=3*this.getPanoRadius()?t:-1}},{key:"gate__isMouseOver",value:function(e){if(!this.gates.length)return!1;if(!(e=this._svg2Data(e)))return-1;for(var t,n,i=-1,r=0;r<this.gates.length;r++)n=Hs(e,this.gates[r].center),(i<0||n<i)&&(i=n,t=r);return i>=0&&i<=3*this.getPanoRadius()?t:-1}},{key:"tag__isMouseOver",value:function(e){if(!this.tags.length)return!1;if(!(e=this._svg2Data(e)))return-1;for(var t,n,i=-1,r=0;r<this.tags.length;r++)if(n=Hs(e,this.tags[r].center),i<0||n<i){if(this.tags[r].tempHidden)continue;i=n,t=r}return i>=0&&i<=3*this.getPanoRadius()?t:-1}},{key:"getHotspotMouseIsOver",value:function(e){var t=this.pano__isMouseOver(e);if(-1!==t&&this.panos[t])return this.panos[t];var n=this.gate__isMouseOver(e);if(-1!==n&&this.gates[n])return this.gates[n];var i=this.tag__isMouseOver(e);return-1!==i&&this.tags[i]?this.tags[i]:void 0}},{key:"setPanoVisited",value:function(){if(this.panos.length&&this.bHasOutline){var e=this.getActivePano();e&&(this.activePanoMarker&&this.activePanoMarker.setPos(e.center),this.viewer.vf.editTags&&(this.viewer.isSettingTagVisibility||this.viewer.isUpdatingTagVisibility)||e.setVisited())}}},{key:"removeCanvas",value:function(){if(this.bHasOutline){if(!this.canvas)return;this.canvas.remove()}}},{key:"calcViewBoxScale",value:function(e,t,n,i,r,o){var a=e.h-r-o,s=e.w-n-i,l=a/s;return t.h/t.w>l?t.h/a:t.w/s}},{key:"getPaddedViewBox",value:function(e,t,n,i,r,o){var a=this.calcViewBoxScale(e,t,n,i,r,o);n*=a,i*=a,o*=a,r*=a;var s=.5*(e.w*a-n-i-t.w),l=.5*(e.h*a-r-o-t.h);return n+=s,i+=s,o+=l,r+=l,{x:t.x-n,y:t.y-r,w:t.w+n+i,h:t.h+r+o,scale:a}}},{key:"hideMeasurementElements",value:function(){var e=this.element.getElementById("advmeasurements");e&&(e.style.display="none");for(var t=this.element.getElementsByClassName("measurement"),n=0;n<t.length;n++)t[n].style.display="none";for(var i=this.element.getElementsByClassName("measurement-circle"),r=0;r<i.length;r++)i[r].style.display="none";for(var o=this.element.getElementsByClassName("measurement-label"),a=0;a<o.length;a++)o[a].style.display="none";for(var s=this.element.getElementsByClassName("measurement-label-bg"),l=0;l<s.length;l++)s[l].style.display="none"}},{key:"showMeasurementElements",value:function(){var e=this.element.getElementById("advmeasurements");e&&(e.style.display="");for(var t=this.element.getElementsByClassName("measurement"),n=0;n<t.length;n++)t[n].style.display="";for(var i=this.element.getElementsByClassName("measurement-circle"),r=0;r<i.length;r++)i[r].style.display="";for(var o=this.element.getElementsByClassName("measurement-label"),a=0;a<o.length;a++)o[a].style.display="";for(var s=this.element.getElementsByClassName("measurement-label-bg"),l=0;l<s.length;l++)s[l].style.display=""}},{key:"_setTransform",value:function(e,t,n){var i=void 0!==e,r=this.element.getBoundingClientRect();if(this.viewer.vf.isJviewPage()&&r.width&&r.height){if(i){var o=this.element.querySelector("#panos");o&&(o.style.opacity=e?.6:"")}var a={x:r.left,y:r.top,w:r.width,h:r.height},s=this.getTargetViewbox(a.w,a.h,this.viewer.floorplanShrunk);i&&t?this.resizeViewboxAnimation(s).then(n):this.element.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.w," ").concat(s.h)),this.bboxes={data:s,draw:a},this.scale=s.scale,this.scaleFactor||(this.scaleFactor=1+Math.max(s.h/2e4,s.w/13333))}}},{key:"unhideSvgElements",value:function(){if(this.element){var e=this.element.querySelector("#panos"),t=this.element.getElementsByTagName("text"),n=this.element.getElementsByTagName("image");if(e)for(var i=0;i<e.childNodes.length;i++)e.childNodes[i].style.visibility="";if(t)for(var r=0;r<t.length;r++)t[r].style.visibility="";if(n)for(var o=0;o<n.length;o++)!this.viewer.vf.showTagsInFp&&n[o].classList.contains("tag")||(n[o].style.visibility="")}}},{key:"_svg2Data",value:function(e){return!!this.bboxes&&new Vs(e.x*this.scale+this.bboxes.data.x,e.y*this.scale+this.bboxes.data.y)}},{key:"_data2Svg",value:function(e){return!!this.bboxes&&new Vs((e.x-this.bboxes.data.x)/this.scale,(e.y-this.bboxes.data.y)/this.scale)}},{key:"_data2SvgDelta",value:function(e,t){return e/(t=t||this.bboxes.data.w/this.bboxes.draw.w)}},{key:"computeAngle",value:function(e){if(0===this.panos.length||!this.bboxes)return-1001;var t=this.getActivePano();e=this._svg2Data(e);var n=new Vs(e.x-t.center.x,e.y-t.center.y),i=Math.sqrt(n.x*n.x+n.y*n.y);if(i<150)return-1001;var r=n.x/i;(0,Zo.uZ)(r,-1,1);var o=Math.acos(r);return n.y>0&&(o=Zo.uo-o),o-=this.getAngleOffset(),(0,Zo.D5)(o,Zo.uo),o}},{key:"getLabelEditFontSize",value:function(e){return this.getFontSize(e)/this.scale}},{key:"drawCompass",value:function(e){this.compass&&this.compass.setTransform(e*Zo.ZX)}},{key:"setColorScheme",value:function(e){this.element&&(this.colorScheme&&this.element.classList.remove("floor__color__".concat(this.colorScheme)),this.element.classList.add("floor__color__".concat(e)),this.colorScheme=e)}},{key:"setNoObjects",value:function(e){var t=document.getElementsByClassName("premium");if(e)for(var n=0;n<t.length;n++)t[n].classList.add("hidden");else for(var i=0;i<t.length;i++)t[i].classList.remove("hidden")}},{key:"onResetLabels",value:function(e){this.labels.names.forEach((function(t){t.onResetLabels(e)})),this.rooms.forEach((function(t){t.label.onResetLabels(e)}))}},{key:"_setRadarOpacity",value:function(e){this.hasOutline()&&(this.radarSector.element.style.opacity=e)}},{key:"onSetElementsPreTransition",value:function(){this.hasOutline()&&this._setRadarOpacity(0)}},{key:"onAnimationEndNavigation",value:function(){var e=this;if(this._setRadarOpacity(1),this.isPanZoomed){var t=this.activePanoMarker.element.getBBox(),n=2*this.viewer.vf.barHeight*this.scale,i=1.2*this.viewer.vf.barHeight*this.scale;if(t.x<this.viewBox.x+i||t.x>this.viewBox.x+this.viewBox.width-i||t.y<this.viewBox.y+n||t.y>this.viewBox.y+this.viewBox.height-n){var r={x:this.viewBox.x,y:this.viewBox.y,onComplete:function(){return e.updateScale(!0)}};if(t.x<this.viewBox.x+i)r.x=t.x-i;else if(t.x>this.viewBox.x+this.viewBox.width-i){var o=t.x-(this.viewBox.x+this.viewBox.width);r.x=this.viewBox.x+o+i}if(t.y<this.viewBox.y+n)r.y=t.y-n;else if(t.y>this.viewBox.y+this.viewBox.height-n){var a=t.y-(this.viewBox.y+this.viewBox.height);r.y=this.viewBox.y+a+n}Ry.ZP.to(this.viewBox,Hb,r)}}}},{key:"onPanelResizeStart",value:function(e,t,n){if(!this.isPanZoomed&&this.element){this.hideMeasurementElements();var i=this.getTargetViewbox(e,t,n);this.resizeViewboxAnimation(i),this.showMeasurementElements()}}},{key:"onPanelResizeEnd",value:function(){this.redraw()}},{key:"getTargetViewbox",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.element.getElementsByTagName("image");if(i)for(var r=0;r<i.length;r++)i[r].style.display="none";var o=this.element.querySelector("#radar-gradient");o&&(o.style.display="none");var a=this.element.querySelector("#pano-marker");a&&(a.style.display="none");var s=this.element.getBBox(),l={x:s.x,y:s.y,w:s.width,h:s.height};if(a&&(a.style.display=""),o){var c=" scale(2)",u=o.getAttribute("transform"),d=u.includes(c);this.viewer.floorplanShrunk&&!d?o.setAttribute("transform","".concat(u).concat(c)):!this.viewer.floorplanShrunk&&d&&o.setAttribute("transform",u.replace(c,"")),o.style.display=""}if(i)for(var h=0;h<i.length;h++)i[h].style.display="";var p={w:e,h:t},f=this.viewer.vf.barHeight,m=this.getPaddedViewBox(p,l,f*(n?.1:.25),f*(n?.1:.25),f*(n?.375:1.1),f*(n?.25:1.3));return(m.w<0||isNaN(m.w))&&(m.w=0),(m.h<0||isNaN(m.h))&&(m.h=0),isNaN(m.x)&&(m.x=0),isNaN(m.y)&&(m.y=0),m}},{key:"resizeViewboxAnimation",value:function(e){var t=this;return new(jr())((function(n){Ry.ZP.to(t.viewBox,.4,{x:e.x,y:e.y,width:e.w,height:e.h,onComplete:n})}))}},{key:"onOnResizeWindow",value:function(e,t){this.removeCanvas(),e||this.redraw(),t&&(this.hideMeasurementElements(),this.updateDimensions(),this.updateMeasurements(),this.showMeasurementElements())}},{key:"beforeSetFloor",value:function(){this.element&&(this.element.classList.add("hidden"),this.onBeforeSetFloor.do())}},{key:"afterSetFloor",value:function(){this.element&&(this.element.classList.remove("hidden"),this.onAfterSetFloor.do())}},{key:"getElement",value:function(){return this.element}},{key:"getNActivePano",value:function(){return this.nActivePano}},{key:"getActivePano",value:function(){return this.nActivePano?this.getPanoAndIdxFromId(this.nActivePano).pano:null}},{key:"getNPrevActivePano",value:function(){return this.nPrevActivePano}},{key:"getPrevActivePano",value:function(){return this.getPanoAndIdxFromId(this.nPrevActivePano).pano}},{key:"getActivePanoNeighborsCount",value:function(){var e=this.getActivePano();return e?e.neighbors.length:-1}},{key:"getIdxFromNActivePano",value:function(){var e=this.getPanoAndIdxFromId(this.nActivePano);return e?e.i:0}},{key:"getPanoAndIdxFromId",value:function(e){for(var t=0;t<this.panos.length;t++){var n=this.panos[t];if(n.id===e)return{pano:n,i:t}}return{pano:null,i:0}}},{key:"setNActivePanoByIdx",value:function(e){this.nActivePano=this.panos[e].id}},{key:"onUpdateElements",value:function(){this.compass&&this.compass.onOnUpdateElements(this.viewer.floorplanShrunk)}},{key:"onSetFloorplan",value:function(){this.compass&&("tour_meas"===this.viewer.vf.page&&this.updateDimensions(),this.compass.onOnSetFloorplan(this.viewer.floorplanShrunk))}},{key:"onSetGeoAngle",value:function(e){this.compassAngle=e*Zo.ZX}},{key:"_showDimArrows",value:function(){if(this.element){for(var e=this.element.querySelectorAll(".arrows"),t=0;t<e.length;t++)e[t].classList.add("hidden");"tour_meas"!==this.viewer.vf.page||this.viewer.vf.nodims||this.rooms.forEach((function(e){e.label.onShowDimArrows()}))}}},{key:"vrDataToSvg",value:function(e){return new Vs((e.x-this.vrtransform.pos[0])*this.vrtransform.scale[0]+.5*this.vrbboxes.draw.w,-(e.y-this.vrtransform.pos[1])*this.vrtransform.scale[1]+.5*this.vrbboxes.draw.h)}},{key:"vrSetTransform",value:function(e,t){var n={x:0,y:0,w:this.viewerArea[0],h:this.viewerArea[1]};this.vrbboxes={data:n,draw:{x:0,y:0,w:e,h:t}};var i,r=this.vrbboxes.draw.h/this.vrbboxes.draw.w;i=n.h/n.w>r?this.vrbboxes.draw.h/this.vrbboxes.data.h:this.vrbboxes.draw.w/this.vrbboxes.data.w,this.vrtransform={pos:[.5*this.viewerArea[0]+this.viewerOffset[0],.5*this.viewerArea[1]+this.viewerOffset[1]],scale:[i,i]}}},{key:"onVrIsPanoShown",value:function(e){return e.bShow}},{key:"getPanoById",value:function(e){return this.getPanoAndIdxFromId(e).pano}},{key:"getPanoViewLabelNames",value:function(e,t){if(!e){var n=[];return t?this.panos.forEach((function(e){e.text&&n.push(e)})):this.panos.forEach((function(e){e.hidden||e.text&&n.push(e)})),n}}},{key:"setViewerViewBox",value:function(e){if(e){var t=this.viewerArea;this.viewerViewBox={x:this.viewerOffset[0],y:this.viewerOffset[1],w:t[0],h:t[1]}}}},{key:"hasOutline",value:function(){return this.bHasOutline}},{key:"onPanoViewDblClick",value:function(e){this.panos[e].bShow=!this.panos[e].bShow}},{key:"vrGetPanoIdfromIdx",value:function(e){return this.panos[e].id}},{key:"vrDraw",value:function(e){var t=this;!function(e,n){var i,r,o=t.viewerViewBox,a=n/e,s=o.h/o.w;t.element.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.w," ").concat(o.h)),t.bboxes={data:o,draw:{x:0,y:0,w:e,h:n}},s>a?(i=t.bboxes.data.h/t.bboxes.draw.h,r=[.5*(t.bboxes.draw.w-t.bboxes.draw.h/s),0]):(i=t.bboxes.data.w/t.bboxes.draw.w,r=[0,.5*(t.bboxes.draw.h-t.bboxes.draw.w*s)]),t.transform={pos:r,scale:[i,i]}}(e,e);var n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttribute("id","floor-labels"),this.labels.names.forEach((function(e){e.hidden||e.draw({getFontSize:t.getFontSize.bind(t),containerElement:n})})),this.element.appendChild(n);var i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("id","room-labels"),this.rooms.forEach((function(e){e.label.text&&!e.label.text.length||e.hidden||e.label.draw({getFontSize:t.getFontSize.bind(t),containerElement:i})})),this.element.appendChild(i)}},{key:"onAddLabelBtnClick",value:function(e){var t=new Fb(this.viewer);t.text="New Label";var n=this._svg2Data(new Vs(0,this.viewer.vf.barHeight));t.x=this.bboxes.data.w/2+this.bboxes.data.x,t.y=n.y,t.fontSize=0,t.orig={text:t.text,fontSize:t.fontSize,x:t.x,y:t.y,hidden:t.hidden},t.id="new".concat(this.labels.names.length),t.rot=0,t.transform={pos:[t.x,t.y],ang:t.rot},t.editable=this.viewer.vf.edit&&this.viewer.vf.edit.labels,t.draw(this._getLabelDrawAPI(),this._getEditableAPI(),void 0,this._getDraggableAPI(e),{floorplanRedrawObserver:this.onRedraw},this._getDeletableAPI()),this.labels.names.push(t)}},{key:"setActivePanoInitAngle",value:function(e){this.panos[this.getIdxFromNActivePano()].initAngle=(e-90*Zo.ZX)%Zo.uo}},{key:"setInitialPano",value:function(){this.initPanoId=this.nActivePano}},{key:"setInitialZoom",value:function(){this.element&&this.viewBox&&(this.shouldResetInitialZoom()?this.userInitViewBox=null:this.isPanZoomed?this.userInitViewBox=[this.viewBox.x,this.viewBox.y,this.viewBox.width,this.viewBox.height]:this.userInitViewBox=[this.originalViewBox.x,this.originalViewBox.y,this.originalViewBox.width,this.originalViewBox.height])}},{key:"shouldResetInitialZoom",value:function(){return!(this.isPanZoomed||!this.userInitViewBox||!this.userInitViewBox.length)}},{key:"animateInitialPanZoom",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;if(this.element&&!this.userHasPanZoomed){if(this.viewer.vf.embeddedInPortal&&!this.isInViewport())return setTimeout((function(){e.animateInitialPanZoom(t,n)}),1e3);var i;if(this.userInitViewBox)i={x:this.userInitViewBox[0],y:this.userInitViewBox[1],width:this.userInitViewBox[2],height:this.userInitViewBox[3]};else if(this.viewer.vf.fpzoom){var r=this.element.querySelector(this.viewer.vf.isRadix?"#panos":"#walls"),o=r.getBBox(),a={x:o.x,y:o.y,w:o.width,h:o.height},s=this.element.getBoundingClientRect(),l={x:s.x,y:s.y,w:s.width,h:s.height},c=this.viewer.vf.barHeight,u=this.getPaddedViewBox(l,a,1.2*c,1.2*c,c*(this.viewer.vf.isRadix?1.45:1.1),c*(this.viewer.vf.isRadix?1.6:1.3));i={x:u.x,y:u.y,width:u.w,height:u.h}}var d=this.viewBoxesAreEqual(i,this.viewBox);i&&!d?Ry.ZP.to(this.viewBox,t,Ub(Ub({},i),{},{delay:n,onStart:function(){e.viewer.bInFloorplanInitAnimation=!0},onUpdate:this.updateScale.bind(this),onComplete:function(){e.viewer.bInFloorplanInitAnimation=!1,e.isPanZoomed=!0,e.viewer.vf.eventBus.emit("fp-initial-animation-finish")}})):this.viewer.vf.eventBus.emit("fp-initial-animation-finish")}else this.viewer.vf.eventBus.emit("fp-initial-animation-finish")}},{key:"isInViewport",value:function(){var e=this.element.getBoundingClientRect();return e.bottom>0&&e.right>0&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.top<(window.innerHeight||document.documentElement.clientHeight)}},{key:"viewBoxesAreEqual",value:function(e,t){if(e&&t)return Math.abs(e.x-t.x)<1&&Math.abs(e.x-t.x)<1&&Math.abs(e.y-t.y)<1&&Math.abs(e.width-t.width)<1&&Math.abs(e.height-t.height)<1}},{key:"setRoomOrigData",value:function(e){var t=this,n=this.viewer.vf.view.iguide.dataV2;if(!n)return!1;var i=n.buildings.findIndex((function(e){return e.id===t.buildingId}));if(i<0)return!1;var r=n.buildings[i].floors.findIndex((function(e){return e.id===t.id}));if(r<0)return!1;var o=n.buildings[i].floors[r].layout.rooms.findIndex((function(t){return t.id===e.id}));if(o<0)return!1;var a=n.buildings[i].floors[r].layout.rooms[o];return!(!a||9===a.type)&&(e.origType=a.type,e.label.origText=a.name,!0)}},{key:"getAngleOffset",value:function(){return this.viewer.tourData.useWebgl?0:this.getActivePano().rotationAngle}}]),e}(),qb=Gb,Zb=function(){function e(t,n){o()(this,e),this.element=null,this.hidden=n,this.data=t}return l()(e,[{key:"draw",value:function(e){var t=e.transformStr,n=e.fontSize,i=e.bImperial,r=e.hidden,o=e.hide,a=e.customAttrs;this.data&&!r&&(this.element||(this.element=_y.draw("text",{"text-anchor":"middle","font-size":n,fill:this._getFill(),transform:t})),this.element.textContent=o?"":this.getText(i),a&&_y.setAttr(this.element,a),e.containerElement.appendChild(this.element))}},{key:"redrawFontSize",value:function(e,t){this.element&&_y.setAttr(this.element,{"font-size":e,transform:t})}},{key:"erase",value:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null)}},{key:"_redrawColor",value:function(){this.element&&_y.setAttr(this.element,{fill:this._getFill()})}},{key:"onRedrawDimensionsAndAreaColor",value:function(){this._redrawColor()}},{key:"toggleHidden",value:function(){this.hidden=!this.hidden}},{key:"setHidden",value:function(e){this.hidden=e||this.areAllHidden()}}]),e}();function Xb(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Yb=function(e){Vo()(n,e);var t=Xb(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getText",value:function(e){var t,n,i=this.data[0]/10,r=this.data[1]/10;return e?(t=pb(i/2.54),n=pb(r/2.54)):(t=fb(i),n=fb(r)),"".concat(t," x ").concat(n)}},{key:"toggleHidden",value:function(){kb()(Go()(n.prototype),"toggleHidden",this).call(this),this.showDimArrows()}},{key:"setHidden",value:function(e){kb()(Go()(n.prototype),"setHidden",this).call(this,e),this.showDimArrows()}},{key:"showDimArrows",value:function(){this.markerElement&&this.isMeasMode()&&(this.hidden?this.markerElement.classList.add("hidden"):this.markerElement.classList.remove("hidden"))}},{key:"draw",value:function(e){this.getNodims=e.getNodims,kb()(Go()(n.prototype),"draw",this).call(this,e),_y.setAttr(this.element,{id:"dimension-label".concat(e.id)})}},{key:"_getFill",value:function(){return this.hidden||this.getNodims()?"red":"black"}}]),n}(Zb),Kb=Yb;function Jb(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var Qb=function(e){Vo()(n,e);var t=Jb(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getText",value:function(e){return e?"".concat(Math.round(107639e-10*this.data)," sq ft"):"".concat((this.data/1e6).toFixed(1)," m²")}},{key:"draw",value:function(e){this.getNoroomarea=e.getNoroomarea,kb()(Go()(n.prototype),"draw",this).call(this,e),_y.setAttr(this.element,{id:"area-label".concat(e.id)})}},{key:"_getFill",value:function(){return this.hidden||this.getNoroomarea()?"red":"black"}}]),n}(Zb),ew=Qb;function tw(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var nw=function(e){Vo()(n,e);var t=tw(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"draw",value:function(e,t,i,r,o,a){var s=this;kb()(Go()(n.prototype),"draw",this).call(this,e,t,i,r),_y.setAttr(this.element,{id:"room-label".concat(this.id)}),this._setShownLineCount(e.hideDims,e.hideArea),this.dimensionLabel&&o&&(this.dimensionLabel.markerElement=o.markerElement,this.dimensionLabel.areAllHidden=o.areAllHidden,this.dimensionLabel.isMeasMode=o.isMeasMode),this.areaLabel&&a&&(this.areaLabel.areAllHidden=a.areAllHidden),this.onOnResetLabels.add(this._redrawDimensionsAndArea.bind(this)),this.onRedraw.add((function(){s.onTransformChange.do(),s.redrawDimensionsAndAreaColor()})),this.onRedrawFontSize.add(this._redrawDimensionsAndArea.bind(this)),this.onRedrawNoText.add((function(){i.setRoomHidden()}))}},{key:"elementId",value:function(){return"edit-room-btn".concat(this.id)}},{key:"_setShownLineCount",value:function(e,t){this.shownLineCount=this.lineCount,this.dimensionLabel&&e&&this.shownLineCount--,this.areaLabel&&t&&this.shownLineCount--}},{key:"onShowRoomDimsLabels",value:function(e,t,n){if(this.element){this.dimensionLabel&&this.dimensionLabel.erase(),this.areaLabel&&this.areaLabel.erase();var r=t||!this.editable&&this.dimensionLabel&&this.dimensionLabel.hidden,o=n||!this.editable&&this.areaLabel&&this.areaLabel.hidden;this._setShownLineCount(r,o);var a=this.shownLineCount;this.transform.relPos=this._getRelPos(e.fontSize,this.shownLineCount),this._redraw(),a--,this.dimensionLabel&&!r&&(this.dimensionLabel.draw(i()(e,{transformStr:this._getTransformStr(a,e.fontSize),hide:t,containerElement:this.containerElement,id:this.id})),a--),this.areaLabel&&!o&&(this.areaLabel.draw(i()(e,{transformStr:this._getTransformStr(a,e.fontSize),hide:n,containerElement:this.containerElement,id:this.id})),a--)}}},{key:"_getTransformStr",value:function(e,t){return _y.getTransformStr({ang:this.transform.ang,pos:this.transform.pos,relPos:[0,this.transform.relPos[1]+1.17*(this.shownLineCount-e)*t]})}},{key:"editDone",value:function(e,t){var i=this;kb()(Go()(n.prototype),"editDone",this).call(this,e,t,(function(e){if(!e)for(var t=i.element.getBBox().width;t>i.width&&i.fontSize<2;)i.fontSize++,t=i.element.getBBox().width})),this._redrawDimensionsAndArea()}},{key:"_redrawDimensionsAndArea",value:function(){if(this.text&&this.text.length&&"___"!==this.text&&(this.editable||!this.hidden)){var e=this.getFontSize(this.fontSize),t=this.shownLineCount-1;this.transform.relPos=this._getRelPos(e,this.shownLineCount),this.dimensionLabel&&this.dimensionLabel.element&&(this.dimensionLabel.redrawFontSize(e,this._getTransformStr(t,e)),t--),this.areaLabel&&this.areaLabel.element&&(this.areaLabel.redrawFontSize(e,this._getTransformStr(t,e)),t--)}}},{key:"redrawNameColor",value:function(){this._redraw()}},{key:"redrawDimensionsAndAreaColor",value:function(){this.dimensionLabel&&this.dimensionLabel.onRedrawDimensionsAndAreaColor(),this.areaLabel&&this.areaLabel.onRedrawDimensionsAndAreaColor()}},{key:"hideNameAndDimsAndArea",value:function(e){this.hidden=e,this.dimensionLabel&&this.dimensionLabel.setHidden(e),this.areaLabel&&this.areaLabel.setHidden(e)}},{key:"onShowDimArrows",value:function(){this.dimensionLabel&&this.dimensionLabel.showDimArrows()}}]),n}(Ib),iw=nw;function rw(e,t){var n=void 0!==y()&&e[g()]||e["@@iterator"];if(!n){if(f()(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ow(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return w()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ow(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ow(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var aw=function(){function e(t){o()(this,e),this.viewer=t}return l()(e,[{key:"_unpackProperty",value:function(e,t){var n=this;this.isRadix=this.viewer.vf.view&&this.viewer.vf.view.iguide&&this.viewer.vf.view.iguide.isRadix(),t&&(this._normalizeTags(t),this.tags=t);var i,r,o=new by;if(!e||!e.buildings)throw new Error("Empty data");return e.initFloorId||void 0===e.initPanoAngle||(this.initPanoId=e.initPanoId,this.initPanoAngle=e.initPanoAngle),e.buildings.forEach((function(t){if(n.viewer.vf.edit||!t.hidden&&t.floors){for(var i=function(i){if(t.floors[i].id===e.initFloorId&&(o.setActiveFloorId(t.floors[i].id),delete e.initPanoId,delete e.initPanoAngle),!t.floors[i].layout.panos)return"continue";t.floors[i].layout.panos.forEach((function(r){e.initFloorId||r.id!==e.initPanoId||(o.setActiveFloorId(t.floors[i].id),n.migratedInitFloorId=t.floors[i].id,e.initFloorId=t.floors[i].id,t.floors[i].initPanoId=r.id,delete e.initPanoId,delete e.initPanoAngle)}))},r=0;r<t.floors.length;r++)i(r);t.floors.forEach((function(e){t.hidden&&(e.hidden=!0),o.floorplans.push(n._unpackFloor(e,t)),e.layout.gates.forEach((function(t){t.floorId=e.id,o.gates.push(t)}))})),t.actualExtWallThickness=0}})),o.gates.forEach((function(e){var t=o.floorplans.find((function(t){return t.id===e.floorId})),n=t.gates.findIndex((function(t){return t.id===e.id})),a=o.gates.find((function(t){return t.id===e.targetId}));a?(t.gates[n].targetFloorId=a.floorId,a.visiblePanoIds&&(a.visiblePanoIds.length>1&&a.visiblePanoIds.sort((function(e,t){var n,s=rw(o.floorplans);try{for(s.s();!(n=s.n()).done;){var l=n.value;if(i=l.panos.find((function(t){return t.id===e})),i)break}}catch(e){s.e(e)}finally{s.f()}var c,u=rw(o.floorplans);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(r=d.panos.find((function(e){return e.id===t})),r)break}}catch(e){u.e(e)}finally{u.f()}var h=new Vs(a.pos[0],a.pos[1]);return js(h,new Vs(i.center.x,i.center.y))-js(h,new Vs(r.center.x,r.center.y))})),t.gates[n].targetPanoId=a.visiblePanoIds[0])):t.gates.splice(n,1)})),o}},{key:"_unpackFloor",value:function(e,t){var n,i=this,r=new qb(this.viewer);if(r.label=e.name||"",e.interiorArea&&(r.area=e.interiorArea),r.perimeter=e.perimeter||0,r.bHasOutline=!!e.layout.viewerViewBox,e.layout.labels&&e.layout.labels.forEach((function(e){r.labels.names.push(i._unpackFloorLabel(e))})),e.layout.panos=e.layout.panos||[],e.layout.panos.forEach((function(e){(!e.type||"map"!==e.type&&"_Map"!==e.name||!i.isRadix&&"partial"!==e.type)&&(r.panos.push(i._unpackPano(e)),r.panoIds.push(e.id))})),e.layout.gates=e.layout.gates||[],e.layout.gates.forEach((function(e){r.gates.push(i._unpackGate(e))})),r.rooms=[],e.layout.rooms&&e.layout.rooms.forEach((function(e){r.rooms.push(i._unpackRoom(e))})),r.tags=[],this.tags&&this.tags.filter((function(t){return t.floorId===e.id})).forEach((function(e){r.tags.push(i._unpackTag(e))})),r.hidden=e.hidden||!e.name,r.standalone=e.standalone,r.id=e.id,r.compassAngle=e.compassRot||e.compassRotHint,r.scaleFactor=e.scaleFactor||0,r.buildingId=t.id,r.actualExtWallThickness=e.actualExtWallThickness||t.actualExtWallThickness,r.belowGrade=e.belowGrade,r.userInitViewBox=e.layout.userInitViewBox,e.layout.viewerViewBox&&(r.viewerArea=[e.layout.viewerViewBox[2],e.layout.viewerViewBox[3]],r.viewerOffset=[e.layout.viewerViewBox[0],e.layout.viewerViewBox[1]]),e.initPanoId){var o=r.panos.findIndex((function(t){return t.id===e.initPanoId}));o>-1&&(n=r.panos[o].id)}return n?(r.initPanoId=n,r.nActivePano=r.initPanoId,this.migratedInitFloorId===r.id&&void 0!==this.initPanoAngle&&(r.nInitAngle=this.initPanoAngle)):r.panos[0]&&(r.nActivePano=r.panos[0].id),r}},{key:"_unpackPano",value:function(e){var t=new My({isRadix:this.isRadix});return t.id=e.id,t.type=e.type,t.center=this._unpackPoint2D(e.pos),t.center0=t.center,t.rotationAngle=e.rot||0,t.bShow=!e.hidden,t.text=e.name,t.editable=this.viewer.vf.edit&&this.viewer.vf.edit.panos,t.visiblePanoIds=e.visiblePanoIds||[],t.sphereHash=e.sphereHash||"",t.editable&&t.id===this.initPanoId&&this.initPanoAngle?t.initAngle=(this.initPanoAngle-90*Zo.ZX)%Zo.uo:t.initAngle=e.initAngle||0,t}},{key:"_unpackGate",value:function(e){var t=new ky;return t.id=e.id,t.center=this._unpackPoint2D(e.pos),t.targetId=e.targetId,t.visiblePanoIds=e.visiblePanoIds||[],t.bShow=!0,t}},{key:"_unpackTag",value:function(e){var t,n=new Dy;return n.id=e.id,n.floorId=e.floorId,n.coords=this._unpackTagCoords(e.pos),n.center={x:(t=n.coords).z,y:-t.x},n.visiblePanoIds=e.visiblePanoIds||[],n.allPanoIds=e.allPanoIds||[],n.hidden=e.hidden,n.title=e.title,n.content=e.content,n.iframe=e.iframe,n.color=e.color,n.design=e.design,n.opacity=e.opacity,n.stem=e.stem||0,n}},{key:"_unpackRoom",value:function(e){var t=new z(e);return t.label=this._unpackRoomLabel(t),t}},{key:"_unpackPoint2D",value:function(e){return new Vs(e[0],e[1])}},{key:"_unpackPoint3D",value:function(e){return new ta(e[0],e[1],e[2])}},{key:"_unpackTagCoords",value:function(e){var t=this._unpackPoint3D(e);return t.z-=this.viewer.vf.globalTripodHeight,new ta(fa(t))}},{key:"_unpackRoomLabel",value:function(e){var t=new iw(this.viewer);return t.room=function(){return e},t.text=e.name,e.viewerLabel&&(t.x=e.viewerLabel.pos[0],t.y=e.viewerLabel.pos[1],t.width=e.viewerLabel.size[0],t.height=e.viewerLabel.size[1],t.fontSize=e.viewerLabel.fontSize||0),t.orig={text:e.name,fontSize:t.fontSize,x:e.viewerLabel&&e.viewerLabel.pos[0],y:e.viewerLabel&&e.viewerLabel.pos[1],hidden:e.hidden,type:e.type,excluded:e.excluded,exterior:e.exterior,unfinished:e.unfinished},t.id=e.id,t.rot=e.viewerLabel&&-e.viewerLabel.rot||0,t.transform={pos:[t.x,t.y],ang:t.rot},t.lineCount=1,t.editable=this.viewer.vf.edit&&this.viewer.vf.edit.labels,(t.editable||!this.viewer.vf.nodims)&&e.dimensions&&e.dimensions.length&&(t.lineCount++,t.dimensionLabel=new Kb(e.dimensions,e.dimsHidden)),!t.editable&&this.viewer.vf.noroomarea||!e.interiorArea||(t.lineCount++,t.areaLabel=new ew(e.interiorArea,e.areaHidden)),t}},{key:"_unpackFloorLabel",value:function(e){var t=new Fb(this.viewer);return t.text=e.text,t.x=e.pos[0],t.y=e.pos[1],t.fontSize=e.fontSize||0,t.orig={text:e.text,fontSize:t.fontSize,x:e.pos[0],y:e.pos[1],hidden:e.hidden},t.id=e.id,t.rot=-e.rot||0,t.hidden=e.hidden,t.transform={pos:[t.x,t.y],ang:t.rot},t.editable=this.viewer.vf.edit&&this.viewer.vf.edit.labels,t}},{key:"unpack",value:function(e,t){try{return this._unpackProperty(e,t)}catch(t){return void window.console.error("Packer: unpack error: ",t,"\ndata: ",e)}}},{key:"initPos",value:function(e,t){if(!t)return{floorId:e.initFloorId};e.initFloorId=t.floorId}},{key:"pack",value:function(e){try{return this._packProperty(e)}catch(t){return void window.console.error("VFPacker: pack error: ",t,"\nvfhouse: ",e)}}},{key:"_packProperty",value:function(e){var t=this,n={};return n.formatVersion=this.viewer.vf.view.dataV2.formatVersion,n.initFloorId=this.viewer.floorplan.id,n.buildings=[],this.viewer.vf.view.dataV2.buildings.forEach((function(i){var r=[];i.floors.forEach((function(n){var i=e.floorplans.findIndex((function(e){return e.id===n.id}));i>-1&&r.push(t._packFloorplan(e.floorplans[i]))})),n.buildings.push({id:i.id,name:i.name,floors:r})})),n}},{key:"_packFloorplan",value:function(e){var t=this,n={};return n.id=e.id,n.name=e.label,n.layout={labels:[],panos:[],gates:[],tags:[],rooms:[]},e.labels.names&&e.labels.names.forEach((function(e){n.layout.labels.push(t._packFloorLabel(e))})),e.panos&&e.panos.forEach((function(e){e.bShow&&n.layout.panos.push(t._packPano(e))})),e.gates&&e.gates.forEach((function(e){e.bShow&&n.layout.gates.push(t._packGate(e))})),e.rooms&&e.rooms.forEach((function(e){n.layout.rooms.push(t._packRoom(e))})),n.layout.userInitViewBox=e.userInitViewBox,e.hidden&&(n.hidden=e.hidden),n.compassRot=e.compassAngle,n.initPanoId=e.initPanoId,e.actualExtWallThickness>=0&&(n.actualExtWallThickness=e.actualExtWallThickness),e.belowGrade&&(n.belowGrade=e.belowGrade),n}},{key:"_packFloorLabel",value:function(e){return{id:e.id.includes&&e.id.includes("new")?0:e.id,text:e.text,pos:[e.x,e.y],fontSize:e.fontSize,hidden:e.hidden}}},{key:"_packGate",value:function(e){return{id:e.id,pos:[e.center.x,e.center.y],targetId:e.targetId,hidden:!1,visiblePanoIds:e.visiblePanoIds}}},{key:"_packPano",value:function(e){return{id:e.id,pos:[e.center.x,e.center.y],hidden:!e.bShow,name:e.text,initAngle:e.initAngle}}},{key:"_packRoom",value:function(e){var t={id:e.id,name:e.label.text,hidden:e.hidden,type:e.type,excluded:e.excluded,exterior:e.exterior,unfinished:e.unfinished};return e.label&&(e.label.areaLabel&&(t.areaHidden=e.label.areaLabel.hidden),e.label.dimensionLabel&&(t.dimsHidden=e.label.dimensionLabel.hidden),t.viewerLabel=this._packRoomLabel(e.label)),t}},{key:"_packRoomLabel",value:function(e){return{id:e.id,pos:[e.x,e.y],fontSize:e.fontSize}}},{key:"_normalizeTags",value:function(e){e.forEach((function(e){e.allPanoIds||(e.allPanoIds=[]),e.visiblePanoIds||(e.visiblePanoIds=[])}))}}]),e}(),sw=aw,lw=(a(50453),function(){function e(){o()(this,e),this.alpha=new cw(16),this.beta=new cw(16),this.gamma=new cw(16),this.compass=new cw(16),this.time_last=0}return l()(e,[{key:"compassHeading",value:function(e,t,n){var i=e*(Math.PI/180),r=t*(Math.PI/180),o=n*(Math.PI/180),a=Math.cos(i),s=Math.sin(i),l=Math.sin(r),c=Math.cos(o),u=Math.sin(o),d=-a*u-s*l*c,h=-s*u+a*l*c;return Math.atan2(d,h)}},{key:"getOrientation",value:function(e,t){if(null===e.alpha||null===e.beta||null===e.gamma)return!1;var n=e.webkitCompassHeading,i=(new Date).getTime();if(i-this.time_last<32)return this.time_prev=i,!1;this.time_prev=i,this.time_last=i,n&&this.compass.push((t-n-window.orientation)*Zo.ZX),this.alpha.push(e.alpha*Zo.ZX),this.beta.push(e.beta*Zo.ZX),this.gamma.push(e.gamma*Zo.ZX);var r=-this.beta.cos()*this.gamma.cos();return{angle:n?this.compass.angle():-this.compassHeading(e.alpha,e.beta,e.gamma),elevation:Math.acos(r)}}}]),e}()),cw=function(){function e(t){o()(this,e),this.lastIdx=-1,this.n=t,this.cosBuf=new Array(this.n),this.sinBuf=new Array(this.n),this.cosSum=0,this.sinSum=0}return l()(e,[{key:"push",value:function(e){var t=Math.cos(e),n=Math.sin(e);if(this.lastIdx<0)this.cosBuf.fill(t),this.sinBuf.fill(n),this.cosSum=t*this.n,this.sinSum=n*this.n,this.lastIdx=0;else{var i=(this.lastIdx+1)%this.n,r=this.cosBuf[i],o=this.sinBuf[i];this.cosBuf[i]=t,this.sinBuf[i]=n,this.cosSum+=-r+t,this.sinSum+=-o+n,this.lastIdx=i}}},{key:"cos",value:function(){return this.cosSum/this.n}},{key:"sin",value:function(){return this.sinSum/this.n}},{key:"angle",value:function(){return Math.atan2(this.sin(),this.cos())}}]),e}(),uw=lw;a(35401);function dw(e,t){var n=void 0!==y()&&e[g()]||e["@@iterator"];if(!n){if(f()(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return hw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return w()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function hw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pw=function(){function e(t,n,i,r){o()(this,e),this.els=t,this.onResizeStart=n,this.onResizeEnd=i,this.onFloorplanResize=r,this.els.style=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(this.els.style)}return l()(e,[{key:"sidePanelResize",value:function(e,t){var n=this;if(e.embeddedInPortal||(this.els.imagewindow[0].style.transition="width 0.4s ease, opacity 0.4s ease"),e.landscape)this.maximizedFloorplanWidth=Math.ceil(Math.min(this.containerWidth/3,.6*(this.containerHeight-this.addressHeight))),this.maximizedFloorplanHeight=Math.ceil(Math.min(this.containerHeight-this.addressHeight-8,this.maximizedFloorplanWidth/.6)),this.floorplanWidth=this.maximizedFloorplanWidth,this.minimizedFloorplanWidth=.3*this.floorplanWidth,this.minimizedFloorplanHeight=Math.ceil(this.minimizedFloorplanWidth/.6),this.floorplanBottom=0,t?(this.floorplanWidth=this.minimizedFloorplanWidth,this.floorplanHeight=this.minimizedFloorplanHeight):this.floorplanHeight=this.maximizedFloorplanHeight;else{var i=this.containerWidth<375?.15:.2;if(this.minimizedFloorplanWidth=this.containerWidth*i,this.minimizedFloorplanHeight=this.minimizedFloorplanWidth/.6,this.maximizedFloorplanWidth=this.containerWidth-2*this.sidePanelMargin,this.maximizedFloorplanHeight=this.containerHeight-this.addressHeight-this.toolsMenuHeight,t)this.floorplanWidth=this.minimizedFloorplanWidth,this.floorplanHeight=this.minimizedFloorplanHeight,this.floorplanBottom=0;else{this.floorplanWidth=this.maximizedFloorplanWidth,this.floorplanHeight=this.maximizedFloorplanHeight-10,this.floorplanBottom=this.toolsMenuHeight-8+10}}this.image_width=this.containerWidth,this.image_height=this.containerHeight,this.sidePanelMargin=Math.min(Math.max(0,this.els.sidePanel.offset().left),8)||8,this.iw_width="".concat(this.image_width,"px"),this.iw_height="".concat(this.image_height,"px"),this.els.imagewindow[0].style.width=this.iw_width,this.els.imagewindow[0].style.height=this.iw_height,this.els.sidePanel[0].style.margin="".concat(this.sidePanelMargin,"px");var r=this.floorplanWidth+64;this.image_width<768&&(r=this.floorplanWidth+8);var o={top:this.addressHeight};this.floorplanWidth>this.image_width/2?(o.left=8,o.width=this.image_width-16):(o.left=r,o.width=this.image_width-r-8),e.measureModeStatusBarPosition=o,e.eventBus.emit("update-measure-status-bar"),t?(e.landscape,this.els.sidePanel[0].classList.add("minimized"),this.bottomRightBtnsEl&&this.bottomRightBtnsEl.classList.remove("hidden")):(this.els.sidePanel[0].classList.remove("minimized"),e.landscape?this.bottomRightBtnsEl&&this.bottomRightBtnsEl.classList.remove("hidden"):this.bottomRightBtnsEl&&this.bottomRightBtnsEl.classList.add("hidden")),this.els.sidePanel[0].classList.add("resizing"),window.requestAnimationFrame((function(){n.onResizeStart(n.floorplanWidth,n.floorplanHeight),n.els.sidePanel[0].style.width="".concat(n.floorplanWidth,"px"),n.els.sidePanel[0].style.height="".concat(n.floorplanHeight,"px"),n.els.sidePanel[0].style.bottom="".concat(n.floorplanBottom,"px"),n.els.imagewindow[0].classList.add("jview-layout-manager__side-panel_resize"),n.els.controlBtnBar[0]&&(n.els.controlBtnBar[0].classList.add("resizing"),n.setControlBtnBarTransform(e.landscape,t));n.els.sidePanel[0].addEventListener("transitionend",(function e(){n.els.sidePanel[0].style.transformOrigin="",n.els.sidePanel[0].style.transform="",n.els.sidePanel[0].style.bottom="".concat(n.floorplanBottom,"px"),t?(n.els.sidePanel[0].style.width="".concat(n.minimizedFloorplanWidth,"px"),n.els.sidePanel[0].style.height="".concat(n.minimizedFloorplanHeight,"px")):(n.els.sidePanel[0].style.width="".concat(n.floorplanWidth,"px"),n.els.sidePanel[0].style.height="".concat(n.floorplanHeight,"px")),n.els.sidePanel[0].classList.remove("resizing"),n.els.imagewindow[0].classList.remove("jview-layout-manager__side-panel_resize"),n.els.controlBtnBar[0]&&n.els.controlBtnBar[0].classList.remove("resizing"),n.els.imagewindow[0].style.transition="",n.els.viewerRow[0].style.backgroundColor="",n.onFloorplanResize(n.floorplanWidth,n.floorplanHeight),n.onResizeEnd(t),n.els.sidePanel[0].removeEventListener("transitionend",e)}))}))}},{key:"resize",value:function(e,t){if(e.embeddedInPortal&&(window.innerWidth>853||window.innerWidth!==this.window_width)){this.window_width=window.innerWidth;var n=document.getElementById("vf-tour-container");if(n){var i=window.innerWidth>853?.8:.9;if(e.standaloneTagEditor){var r,o=document.getElementsByClassName("submit-btns"),a=o?o[0].offsetHeight+50:84,s=document.getElementsByClassName("expiration-error"),l=s[0].classList.contains("hidden")?0:s[0].offsetHeight,c=0,u=dw(document.querySelectorAll('[id="api-error-alert"]'));try{for(u.s();!(r=u.n()).done;){var d=r.value;d.classList.contains("hidden")||(c+=d.offsetHeight+20)}}catch(e){u.e(e)}finally{u.f()}i=1-(a+c+l)/window.innerHeight}n.style.height="".concat(Math.round(window.innerHeight*i),"px")}}this.addressBar=document.getElementsByClassName("nav-menu")[0],this.addressHeight=this.addressBar?this.addressBar.offsetTop+this.addressBar.clientHeight:8;var h=this.els.tourContainer[0];this.containerWidth=h?h.offsetWidth:0,this.containerHeight=h?h.offsetHeight:0;var p=this.els.controlBtnBar[0];if(this.toolsMenuHeight=p?p.offsetHeight:0,e.landscape)this.maximizedFloorplanWidth=Math.ceil(Math.min(this.containerWidth/3,.6*(this.containerHeight-this.addressHeight))),this.maximizedFloorplanHeight=Math.ceil(Math.min(this.containerHeight-this.addressHeight-8,this.maximizedFloorplanWidth/.6)),this.floorplanWidth=this.maximizedFloorplanWidth,this.minimizedFloorplanWidth=.3*this.floorplanWidth,this.minimizedFloorplanHeight=Math.ceil(this.minimizedFloorplanWidth/.6),this.floorplanBottom=0,t?(this.floorplanWidth=this.minimizedFloorplanWidth,this.floorplanHeight=this.minimizedFloorplanHeight):this.floorplanHeight=this.maximizedFloorplanHeight;else{var f=this.containerWidth<375?.15:.2;this.minimizedFloorplanWidth=this.containerWidth*f,this.minimizedFloorplanHeight=this.minimizedFloorplanWidth/.6,this.maximizedFloorplanWidth=this.containerWidth-2*this.sidePanelMargin,this.maximizedFloorplanHeight=this.containerHeight-this.addressHeight-this.toolsMenuHeight,t?(this.floorplanWidth=this.minimizedFloorplanWidth,this.floorplanHeight=this.minimizedFloorplanHeight,this.floorplanBottom=0):(this.els.sidePanel[0].classList.remove("minimized"),this.floorplanWidth=this.maximizedFloorplanWidth,this.floorplanHeight=this.maximizedFloorplanHeight,this.floorplanBottom=this.toolsMenuHeight-8)}this.image_width=this.containerWidth,this.image_height=this.containerHeight;var m=document.getElementById("autoplay-btn");this.containerWidth<300&&m?m.style.display="none":m&&(m.style.display=""),this.sidePanelMargin=Math.min(Math.max(0,this.els.sidePanel.offset().left),8)||8,this.iw_width="".concat(this.image_width,"px"),this.iw_height="".concat(this.image_height,"px"),this.els.imagewindow[0].style.width=this.iw_width,this.els.imagewindow[0].style.height=this.iw_height;var g=this.floorplanWidth+64;this.image_width<768&&(g=this.floorplanWidth+8);var v={top:this.addressHeight};this.floorplanWidth>this.image_width/2?(v.left=8,v.width=this.image_width-16):(v.left=g,v.width=this.image_width-g-8),e.measureModeStatusBarPosition=v,e.eventBus.emit("update-measure-status-bar"),this.bottomRightBtnsEl=document.getElementById("bottom-right-buttons");var y,b,w=document.getElementById("loader-container"),_=document.getElementsByClassName("no-vr-modal")[0],x=document.getElementById("disclaimer");x&&(x.style.top="".concat(this.addressHeight,"px"),x.style.height="calc(50% - ".concat(this.addressHeight,"px)"),y=x.getElementsByClassName("header")[0],b=x.getElementsByClassName("text")[0],y&&b&&(y.style.marginLeft="",b.style.marginLeft="")),w.style.left="",e.landscape&&y&&b&&(y.style.marginLeft="".concat(this.floorplanWidth+2*this.sidePanelMargin,"px"),b.style.marginLeft="".concat(this.floorplanWidth+2*this.sidePanelMargin,"px")),e.landscape&&!t&&_?_.style.left="calc(50% + ".concat(.5*this.floorplanWidth+.5*this.sidePanelMargin,"px)"):_&&(_.style.left=""),this.els.sidePanel[0].style.bottom="".concat(this.floorplanBottom,"px"),this.els.sidePanel[0].style.width="".concat(this.floorplanWidth,"px"),this.els.sidePanel[0].style.height="".concat(this.floorplanHeight,"px"),this.els.sidePanel[0].style.margin="".concat(this.sidePanelMargin,"px"),this.onFloorplanResize(this.floorplanWidth,this.floorplanHeight);var T=Math.max(this.containerHeight,1e3),S=document.getElementsByClassName("dropdown-list")[0];S&&(S.style.transform="translateY(-".concat(T,"px)")),this.els.controlBtnBar[0]&&this.setControlBtnBarTransform(e.landscape,t),this.els.viewerRow[0].style.height="".concat(Math.round(this.image_height),"px"),t?(e.landscape,this.els.sidePanel[0].classList.add("minimized"),this.bottomRightBtnsEl&&this.bottomRightBtnsEl.classList.remove("hidden")):(this.els.sidePanel[0].classList.remove("minimized"),e.landscape?this.bottomRightBtnsEl&&this.bottomRightBtnsEl.classList.remove("hidden"):this.bottomRightBtnsEl&&this.bottomRightBtnsEl.classList.add("hidden")),e.embeddedInPortal||window.scrollTo(0,0)}},{key:"getFloorplanDims",value:function(){return{width:this.floorplanWidth,height:this.floorplanHeight,maximizedHeight:this.maximizedFloorplanHeight}}},{key:"getContainerDims",value:function(){return{width:this.containerWidth,height:this.containerHeight}}},{key:"getViewportDims",value:function(){return{width:this.image_width,height:this.image_height}}},{key:"setControlBtnBarTransform",value:function(e,t){var n=this.els.controlBtnBar[0];n.style.transform=So(e||t?this.floorplanWidth+this.sidePanelMargin:(window.innerWidth-n.clientWidth)/2)}}]),e}(),fw=pw,mw=a(58610),gw=a.n(mw),vw=["target","targetFloor"];function yw(e,t){var n=I()(e);if(R()){var i=R()(e);t&&(i=i.filter((function(t){return P()(e,t).enumerable}))),n.push.apply(n,i)}return n}function bw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yw(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):C()?M()(e,C()(n)):yw(Object(n)).forEach((function(t){S()(e,t,P()(n,t))}))}return e}var ww=function(){function e(t,n){o()(this,e),this.api=t,this.zoom=n||1,this.zoomRange=null,this.quickReloadZoom=n;var i=document.getElementsByTagName("head")[0];this.styleElement=document.createElement("style"),i.appendChild(this.styleElement)}return l()(e,[{key:"resize",value:function(){var e=this.api.getPanoTileWidth()/window.devicePixelRatio,t=this.api.getContainerDims().width/e;this.cubeHalfEdge=.5*e,this.zoomRange=this.calcZoomRange();var n=this.api.getTripodHeight(),i=n*n,r=2*this.cubeHalfEdge*n/Math.sqrt(4*i+9e4)-2;this.mm2px=r/n,this.api.updateSceneState({cubeWidth:e,scaleFactor:t,tripodHeight:n,zoomRange:this.zoomRange}),this.styleElement.innerHTML="\n      .jview-cube-manager__meas {\n        transform-origin: ".concat(Math.round(this.cubeHalfEdge),"px ").concat(Math.round(this.cubeHalfEdge),"px 0;\n      }")}},{key:"setCubeTransform",value:function(){var e=this.api.getCubeOrientation(),t=e.angle,n=e.elevation;this.zoom=(0,Zo.uZ)(this.zoom,this.zoomRange.minZoom,this.zoomRange.maxZoom);var i=Math.round(this.cubeHalfEdge*this.zoom);this.setHFOV(),this.setVFOV(),this.api.updateSceneState({perspective:i,elevation:n,angle:t,zoom:this.zoom})}},{key:"setHFOV",value:function(){this.hfov=Math.PI-2*Math.atan(this.zoom),this.api.onHFovChange(this.hfov)}},{key:"getHFOV",value:function(){return this.hfov}},{key:"setVFOV",value:function(){var e=this.api.getViewportDims(),t=e.width,n=e.height;this.vfov=2*Math.atan(Math.tan(.5*this.hfov)*(n/t))}},{key:"getVFOV",value:function(){return this.vfov}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomLevel",value:function(){var e=this.zoomRange&&this.zoomRange.minZoom,t=this.zoomRange&&this.zoomRange.maxZoom;return this.zoom===e?0:this.zoom===t?100:+((this.zoom-e)/(t-e)*100).toFixed(2)}},{key:"setZoomLevel",value:function(e){this.zoom=e>=100?this.zoomRange.maxZoom:e<=0?this.zoomRange.minZoom:this.zoomRange.minZoom+(this.zoomRange.maxZoom-this.zoomRange.minZoom)*(.01*e)}},{key:"increaseZoom",value:function(e){this.zoom+=e,this.setHFOV(),this.setVFOV()}},{key:"decreaseZoom",value:function(e){this.zoom-=e,this.setHFOV(),this.setVFOV()}},{key:"resetZoom",value:function(e){if(e&&this.zoom!==this.zoomRange.minZoom)return this.zoom=this.zoomRange.minZoom,this.setHFOV(),this.setVFOV(),void this.setCubeAndArrowsTransform();this.zoom=this.quickReloadZoom||this.zoomRange.minZoom,this.setHFOV(),this.setVFOV()}},{key:"calcZoomRange",value:function(){var e,t=this.api.getContainerDims(),n=function(e){return e>2.42?118:e>1.7?Dg(69.034,e):e>1.11?98.9164:e>.37?Dg(92.972,e):42.5825}(t.width/t.height),i=(e=n,Math.tan(Math.PI*(180-e)/360)),r=function(e){return 3*e}(i);return{minZoom:i,maxZoom:r,hfovdeg:n,hfov:n*Math.PI/180}}},{key:"setArrowsTransform",value:function(){var e=this.api.getCubeOrientation(),t=e.angle,n=e.elevation;this.api.updateSceneState({angle:t,elevation:n,angleZero:this.api.getAngleZero()})}},{key:"setNeighborTagVisibilityAndTransform",value:function(e,t){var n=this.api.getNeighbors(),i=n.findIndex((function(t){return t.isTag&&t.id===e}));if(!(i<0)){var r=n[i];t&&!r.hidden||!t&&r.hidden||(r.hidden=!t,this.setArrows(),this.setCubeAndArrowsTransform())}}},{key:"setCubeAndArrowsTransform",value:function(){this.setCubeTransform(),this.api.onCubeTransformChange(),this.api.shouldNotDisplayArrows()||this.setArrowsTransform()}},{key:"setMeasurementsTransform",value:function(e){var t=this,n=this.api.getAdvancedMeasurementElements(),i=n.points,r=n.lines,o=n.labels,a=n.numbers;i.length&&function(){for(var n,s,l,c,u,d,h,p=t.api.getCubeOrientation(),f=p.angle,m=p.elevation,g=t.cubeHalfEdge,v=Math.round(g*t.getZoom()),y=t.api.getStyleNames().transformStyle,b=t.api.getAngleZero(),w=pa(m,b-f),_=Mo(v)+Ao(m)+Co(f),x=i.length;x--;){s=i[x],h=a.find((function(e){return e.id.substring(11)===s.id.substring(8)})),l=Jo()(s.dataset.elevation),c=Jo()(s.dataset.azimuth);var T=g-2.5,S=So(T)+Eo(T),E=b-c;n=Ao(Zo.pj)+ko(E)+Ao(-l)+Eo(1-T)+Ao(-Zo.pj)+S,s.style[y]=_+n,s.style.width="".concat(5,"px"),s.style.height="".concat(5,"px"),h&&(h.style[y]=_+n)}var M=function(){for(var e=r.length;e--;)u=r[e],d=o[e],u.dataset.point1&&u.dataset.point2&&function(){var e=u.dataset.point1,n=u.dataset.point2,r=i.findIndex((function(t){return t.id==="cubemeas".concat(e)})),o=i.findIndex((function(e){return e.id==="cubemeas".concat(n)}));if(r>=0&&o>=0){var a=i[r].getBoundingClientRect(),s=i[o].getBoundingClientRect(),l=ra(pa(Jo()(i[r].dataset.elevation),Jo()(i[r].dataset.azimuth)),w),c=ra(pa(Jo()(i[o].dataset.elevation),Jo()(i[o].dataset.azimuth)),w),h=new Vs(a.left+.5*a.width,a.top+.5*a.height),p=new Vs(s.left+.5*s.width,s.top+.5*s.height);t.redrawLineAndLabel(h,l,p,c,u,d)}}()};null!=e&&e.isZoom||null!=e&&e.isResize?setTimeout(M,0):M()}()}},{key:"redrawLineAndLabel",value:function(e,t,n,i,r,o){var a=this.api.getStyleNames().transformStyle,s=Hs(e,n),l=this.api.getImagewindowOffset(),c=.5*(e.x+n.x)-l.left,u=.5*(e.y+n.y)-l.top,d=Math.atan2(e.y-n.y,e.x-n.x);t<=.01||i<=.01?(r.style.display="none",o.style.display="none"):(r.style.display="",r.style.width="".concat(s,"px"),r.style.top="".concat(u,"px"),r.style.left="".concat(c-.5*s,"px"),r.style[a]="translateY(-1px) rotate(".concat(d,"rad)"),o.style.display="",o.style.top="".concat(u+5,"px"),o.style.left="".concat(c+5,"px"),o.dataset.measurement?"true"===o.dataset.imperial!==this.api.isImperial()&&(o.setAttribute("data-imperial",this.api.isImperial()),o.textContent=this.api.getPrettyMeasLabel(o.dataset.measurement)):o.textContent="???")}},{key:"getRadius",value:function(){return this.cubeHalfEdge}},{key:"setArrows",value:function(){var e=this.api.getActivePano();if(e){var t=e.neighbors.map((function(t){t.target,t.targetFloor;var n=gw()(t,vw),i=e.visiblePanoIds.indexOf(n.targetId)<0;return bw(bw({},n),{},{occluded:i})}));this.api.updateSceneState({activePano:e,neighbors:t})}}}]),e}(),_w=ww,xw=(a(49793),l()((function e(t,n){o()(this,e),this.p1=t,this.p2=n})));var Tw=function(){function e(t){var n=this;o()(this,e),this.jview=t,this.mode=0,this.mode2PlaneIsDrawn=!1,this.isTouch=!1,this.pointCounter=0,this.lineCounter=0,this.mode3PointNumberCounter=0,this.redPanoCircles=[],this.advmeasRayList=[],this.l10n=this.jview.vf.l10n,this.ims6disclaimer="",this.jview.vf.ims6&&!this.jview.vf.editTags&&(this.jview.vf.lensCalibrated||(this.ims6disclaimer=" ".concat(this.l10n.measureUncalibratedLensDisclaimer)),this.ims6disclaimer+=" ".concat(this.l10n.measureShadedAreaDisclaimer)),this.jview.vf.eventBus.on("localeChange",(function(){n.l10n=n.jview.vf.l10n}))}return l()(e,[{key:"isAdvanced",value:function(){return 2===this.mode||3===this.mode}},{key:"hasAdvanced",value:function(){return this.jview.vf.advmeas}},{key:"onOpenMeasPage",value:function(e,t){if(t){this.jview.floorplan.clearMeasurements();var n=document.querySelectorAll("svg.floor #panos");if(n)for(var i=0;i<n.length;i++)for(var r=0;r<n[i].childNodes.length;r++)n[i].childNodes[r].style.visibility="";var o=document.getElementsByTagName("text");if(o)for(var a=0;a<o.length;a++)"compass-north"!==o[a].id&&(o[a].style.visibility="");var s=document.getElementsByTagName("image");if(s)for(var l=0;l<s.length;l++)s[l].style.visibility="";this.hideStatusBar(),this.isAdvanced()&&this.onOpenAdvancedMeasMode("both","close"),this.mode=0,this.jview.tourContainerElem.removeClass("measure-mode measure-mode-1")}else this.jview.floorplan.hidePanoHighlight(),this.jview.closeTagPreviews(!0),this.jview.closeAllDialogs(),this.mode=1,this.jview.floorplanData.isPanZoomMode=!1,this.jview.vf.editTags?this.jview.tourContainerElem.addClass("measure-mode"):(this.jview.updateBearingDisplay(),this.jview.tourContainerElem.addClass("measure-mode measure-mode-1")),this.jview.hideArrowsAfterDelay(0),this.emptyStatusBar(),this.showStatusBar(),this.addStatusBar("button","mode1");this.jview.tourData.measureMode=this.mode,t&&this.jview.vf.editTags&&(this.jview.vf.page="tour"),this.jview.floorplan.redraw(e,t)}},{key:"onOpenAdvancedMeasMode",value:function(e,t){if(this.redPanoCircles&&this.redPanoCircles.length&&(this.redPanoCircles.forEach((function(e){e.style.stroke=""})),this.redPanoCircles=[]),this.emptyStatusBar(),this.jview.floorplan.clearMeasurements(),this.jview.imagewindowElem.find(".cubemeas").remove(),this.jview.imagewindowElem.find(".cubemeasline").remove(),this.jview.imagewindowElem.find(".cubemeaslabel").remove(),this.jview.imagewindowElem.find(".cubemeasnum").remove(),this.mode2PlaneIsDrawn=!1,this.lineCounter=0,this.pointCounter=0,this.mode3PointNumberCounter=0,this.previousPoint=void 0,zs()("#advmeasurements").remove(),t)this.mode=1,this.jview.updateBearingDisplay(),this.jview.tourContainerElem.removeClass("measure-mode-2 measure-mode-3"),this.jview.vf.editTags||this.jview.tourContainerElem.addClass("measure-mode-1"),this.addStatusBar("","mode1");else{if(this.showStatusBar(),this.jview.vf.editTags&&"tour_meas"!==this.jview.vf.page&&(this.jview.vf.page="tour_meas"),this.advmeasRayList=[],2===e)if(this.mode=2,this.jview.tourContainerElem.removeClass("measure-mode-1"),this.jview.tourContainerElem.removeClass("measure-mode-3"),this.jview.tourContainerElem.addClass("measure-mode-2"),this.jview.vf.editTags&&this.jview.isAddingTag){var n=this.jview.isRepositioningTag?this.l10n.tagRepositioningModeTwoTitle:this.l10n.tagModeTwoTitle;this.addStatusBar("<strong>".concat(n,":</strong> ").concat(this.l10n.tagModeTwoInfo).concat(this.jview.vf.isRadix?" ".concat(this.l10n.tagModeTwoRadix):""))}else this.addStatusBar({title:this.l10n.measureModeTwoTitle,content:"".concat(this.l10n.measureModeTwoInfo).concat(this.ims6disclaimer)});if(3===e){this.mode=3,this.jview.tourContainerElem.removeClass("measure-mode-1"),this.jview.tourContainerElem.removeClass("measure-mode-2"),this.jview.tourContainerElem.addClass("measure-mode-3"),this.advmeasRayMatchedList=[];var i=this.jview.isRepositioningTag?this.l10n.tagRepositioningModeThreeTitle:this.l10n.tagModeThreeTitle,r=this.jview.vf.editTags?i:this.l10n.measureModeThreeTitle,o=this.jview.vf.landscape?"":" <strong>".concat(this.l10n.measureLandscapeRequired,"</strong>"),a=this.getModeThreeInfo();this.addStatusBar({title:r,content:"".concat(o," ").concat(a).concat(this.ims6disclaimer)})}this.addAdvmeasurementsElement()}this.jview.tourData.measureMode=this.mode}},{key:"getModeThreeInfo",value:function(){if(this.jview.vf.editTags&&this.jview.isAddingTag){var e=this.jview.isRepositioningTag?this.l10n.tagRepositioningModeThreeInfoClick:this.l10n.tagModeThreeInfoClick,t=this.jview.isRepositioningTag?this.l10n.tagRepositioningModeThreeInfoTap:this.l10n.tagModeThreeInfoTap;return this.isTouch?t:e}return this.isTouch?this.l10n.measureStartPointTap:this.l10n.measureStartPointClick}},{key:"exit",value:function(){this.emptyStatusBar(),this.jview.floorplan.clearMeasurements(),this.jview.imagewindowElem.find(".cubemeas").remove(),this.jview.imagewindowElem.find(".cubemeasline").remove(),this.jview.imagewindowElem.find(".cubemeaslabel").remove(),this.jview.imagewindowElem.find(".cubemeasnum").remove(),this.mode2PlaneIsDrawn=!1,this.lineCounter=0,this.pointCounter=0,this.mode3PointNumberCounter=0,this.previousPoint=void 0,zs()("#advmeasurements").remove(),this.jview.isAddingTag=!1,this.jview.floorplan.clearMeasurements(),this.hideStatusBar(),this.mode=0,this.jview.tourData.measureMode=this.mode,this.jview.tourContainerElem.removeClass("measure-mode measure-mode-1 measure-mode-2 measure-mode-3"),this.jview.vf.page="tour"}},{key:"addAdvmeasurementsElement",value:function(){if(this.jview.floorplan&&this.jview.floorplan.element){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("id","advmeasurements"),this.jview.floorplan.element.appendChild(e)}}},{key:"cubeDblClick",value:function(e){var t=this;this.pointCounter++;var n=document.getElementsByClassName("scene-container")[0],i=this.jview.getRelativeMousePosition(e,n),r=this.jview.floorplan.getActivePano();if(1===this.mode){var o=ha(this.convertScreenToCartesianCoord(i)),a={ax:r.center.x,ay:r.center.y,bx:r.center.x+5e4*Math.cos(o.azimuth),by:r.center.y-5e4*Math.sin(o.azimuth)};if(this.jview.isSettingTagVisibility)return void this.pointCounter--;this.jview.vf.editTags&&this.jview.isAddingTag&&this.tagMode1DblClick(o,a,r.id)}else if(2===this.mode){var s=document.getElementsByClassName("measurement")[0];if(s){var l=new xw(new Vs(Jo()(s.getAttribute("x1")),Jo()(s.getAttribute("y1"))),new Vs(Jo()(s.getAttribute("x2")),Jo()(s.getAttribute("y2")))),c=function(e,t,n){var i={x:t.x-e.x,y:t.y-e.y};if(Math.abs(i.x)>1e-4||Math.abs(i.y)>1e-4){var r=n/Math.sqrt(function(e,t){return e.x*t.x+e.y*t.y}(i,i));i.x*=r,i.y*=r}return new Vs(i.y,-i.x)}(l.p1,l.p2,2.5*this.jview.floorplan.scale),u=new xw(Ws(l.p1,c),Ws(l.p2,c)),d=ha(this.convertScreenToCartesianCoord(i)),h={ax:r.center.x,ay:r.center.y,bx:r.center.x+5e4*Math.cos(d.azimuth),by:r.center.y-5e4*Math.sin(d.azimuth)},p=da(h.ax,h.ay,h.bx,h.by,l.p1.x,l.p1.y,l.p2.x,l.p2.y);if(this.jview.isSettingTagVisibility)return void this.pointCounter--;if(p){if(this.jview.vf.editTags&&this.jview.isAddingTag){var f=this.tagMode2DblClick(d,h,p);return void this.enterSetTagVisibilityMode(f)}for(var m,g,v=0;v<2;v++){var y={};0===v?(y.x=i.x+2.5,y.y=i.y):(y.x=i.x,y.y=i.y+2.5);var b=ha(this.convertScreenToCartesianCoord(y)),w={ax:r.center.x,ay:r.center.y,bx:r.center.x+5e4*Math.cos(b.azimuth),by:r.center.y-5e4*Math.sin(b.azimuth)},_=da(w.ax,w.ay,w.bx,w.by,l.p1.x,l.p1.y,l.p2.x,l.p2.y),x=Hs(new Vs(w.ax,w.ay),new Vs(_.x,_.y));0===v?m=new ta(_.x,_.y,x*Math.tan(b.elevation)):g=new ta(_.x,_.y,x*Math.tan(b.elevation))}var T=new Vs(h.ax,h.ay),S=Hs(T,new Vs(p.x,p.y))*Math.tan(d.elevation),E=new ta(p.x,p.y,S),M=da(h.ax,h.ay,h.bx,h.by,u.p1.x,u.p1.y,u.p2.x,u.p2.y),A=Hs(T,new Vs(M.x,M.y))*Math.tan(d.elevation),C=new ta(M.x,M.y,A),k={point:E,cubePoint:d,panoId:this.jview.floorplan.getNActivePano(),error:[m,g,C],undo:!0};this.advmeasRayList.push(k);var P=document.createElement("span");if(P.setAttribute("class","cubemeas jview-cube-manager__meas"),P.setAttribute("data-elevation",d.elevation),P.setAttribute("data-azimuth",d.azimuth),P.setAttribute("id","cubemeas".concat(this.pointCounter)),this.jview.measureCubeElem.append(P),this.previousPoint){var D=this.previousPoint;p.z=S;var R=na(D.point,p),$=Mw(D,k,R);this.addStatusBar({distance:R,error:$},"error"),this.lineCounter++;var I=document.createElement("span");I.setAttribute("class","cubemeasline"),I.setAttribute("data-point1",this.pointCounter-1),I.setAttribute("data-point2",this.pointCounter),I.setAttribute("id","cubemeasline".concat(this.lineCounter));var L=document.createElement("span");L.setAttribute("class","cubemeaslabel"),L.setAttribute("data-lineid",this.lineCounter),L.setAttribute("data-measurement",R),L.setAttribute("data-imperial",this.jview.vf.bImperial),L.setAttribute("id","cubemeaslabel".concat(this.lineCounter)),L.textContent=this.getPrettyMeasLabel(R),this.jview.imagewindowElem.append(I),this.jview.imagewindowElem.append(L),this.previousPoint=void 0}else{this.previousPoint=this.advmeasRayList[this.advmeasRayList.length-1];var O=this.isTouch?this.l10n.measureEndPointTap:this.l10n.measureEndPointClick;this.addStatusBar(O)}this.jview.cubeManager.setMeasurementsTransform()}else this.pointCounter--,this.addStatusBar(this.l10n.measureNoIntersection)}else this.pointCounter--,this.addStatusBar({title:this.l10n.measureModeTwoTitle,content:"".concat(this.l10n.measureModeTwoInfo).concat(this.ims6disclaimer)})}else if(3===this.mode){var N,F=this.jview.floorplan.getNActivePano(),B=this.advmeasRayList,U=this.advmeasRayMatchedList,z=sa(r.center),V=this.convertScreenToCartesianCoord(i),H=!!this.advmeasRayList.length,j=this.convertScreenToCartesianCoord(i,H),W=Math.atan2(j.x,j.z),G=ua(V,ca(0,.007,0)),q=ua(V,ca(0,0,.007)),Z=ha(V),X={idx:this.pointCounter,direction:V,direrrorx:G,direrrory:q,cubePoint:Z,cameraPoint:z,panoId:F,undo:!0},Y=!1,K=!1,J=!0,Q=!1,ee=U.some((function(e,t){return-1===e&&F!==B[t].panoId&&(N=t,!0)}));if(ee){U.push(N);var te=oa(B[N].cameraPoint,B[N].direction,z,V);if(te&&te.distance<150){if(X.intersection=te,J=!1,U[N]=-2,this.jview.vf.editTags&&(this.jview.isAddingTag||this.jview.isRepositioningTag)){if(B.length>2)return B.pop(),U.pop(),void this.pointCounter--;var ne=this.jview.vf.globalTripodHeight;if(X.isTag=!0,X.id=++this.jview.vf.tagsMaxId,B.push(X),this.jview.isRepositioningTag){var ie=this.jview.vf.tags.find((function(e){return e.id===t.jview.repositioningTagId}));ie.posY=te.y,ie.pos=[te.z,-te.x,-te.y+ne],ie.visiblePanoIds=[B[N].panoId,X.panoId],ie.allPanoIds=[B[N].panoId,X.panoId],ie.initialPanoId=B[N].panoId;var re=this.jview.vf.tags.findIndex((function(e){return e.id===t.jview.repositioningTagId}));-1!==re&&(this.jview.vf.tags[re]=ie),this.addFakeTag(ie,Z,ie.color),this.enterSetTagVisibilityMode(ie)}else{var oe={id:X.id,title:"",floorId:this.jview.floorplan.id,pos:[te.z,-te.x,-te.y+ne],visiblePanoIds:[B[N].panoId,X.panoId],allPanoIds:[B[N].panoId,X.panoId],initialPanoId:B[N].panoId,isNew:!0,hidden:!1,color:"blue",opacity:75};oe.posY=X.intersection.y,this.addFakeTag(oe,Z),this.jview.vf.tags.push(oe),this.enterSetTagVisibilityMode(oe)}return}if(B.length%2!=0&&N>0){var ae=B[N-1],se=B[N],le=B[B.length-1],ce=X,ue=le.intersection,de=X.intersection;ue.error[0].error=new Array(2),ue.error[0].error[0]=oa(ae.cameraPoint,ae.direrrorx,le.cameraPoint,le.direction).error[0],ue.error[0].error[1]=oa(ae.cameraPoint,ae.direrrory,le.cameraPoint,le.direction).error[0],ue.error[1].error=new Array(2),ue.error[1].error[0]=oa(le.cameraPoint,le.direrrorx,ae.cameraPoint,ae.direction).error[0],ue.error[1].error[1]=oa(le.cameraPoint,le.direrrory,ae.cameraPoint,ae.direction).error[0],de.error[0].error=new Array(2),de.error[0].error[0]=oa(se.cameraPoint,se.direrrorx,ce.cameraPoint,ce.direction).error[0],de.error[0].error[1]=oa(se.cameraPoint,se.direrrory,ce.cameraPoint,ce.direction).error[0],de.error[1].error=new Array(2),de.error[1].error[0]=oa(ce.cameraPoint,ce.direrrorx,se.cameraPoint,se.direction).error[0],de.error[1].error[1]=oa(ce.cameraPoint,ce.direrrory,se.cameraPoint,se.direction).error[0];var he=Aw(ue,de);if(this.addStatusBar(he,"error"),Q=!0,he&&he.distance){K=!0,this.lineCounter++;var pe=document.createElement("span");pe.setAttribute("class","cubemeasline"),pe.setAttribute("data-point1",this.pointCounter-1),pe.setAttribute("data-point2",this.pointCounter),pe.setAttribute("id","cubemeasline".concat(this.lineCounter));var fe=document.createElement("span");fe.setAttribute("class","cubemeaslabel"),fe.setAttribute("data-lineid",this.lineCounter),fe.setAttribute("data-measurement",he.distance),fe.setAttribute("data-imperial",this.jview.vf.bImperial),fe.setAttribute("id","cubemeaslabel".concat(this.lineCounter)),fe.textContent=this.getPrettyMeasLabel(he.distance),this.jview.imagewindowElem.append(pe),this.jview.imagewindowElem.append(fe)}else Y=!0,this.addStatusBar("","toofar")}}else Y=!0,this.addStatusBar("","toofar")}else U.push(-1);if(B.push(X),Y)B.pop(),U.pop(),this.pointCounter--;else{var me=document.createElement("span");me.setAttribute("class","cubemeas jview-cube-manager__meas"),me.setAttribute("data-elevation",Z.elevation);var ge=this.jview.tourData.useWebgl&&!H?W:Z.azimuth;if(me.setAttribute("data-azimuth",ge),me.setAttribute("id","cubemeas".concat(this.pointCounter)),this.jview.measureCubeElem.append(me),this.jview.vf.editTags&&this.jview.isAddingTag){if(B.length>1&&(me.remove(),B.pop(),U.pop(),this.pointCounter--,this.jview.isSettingTagVisibility))return;var ve=this.isTouch?this.l10n.tagSamePointTap:this.l10n.tagSamePointClick;return this.addStatusBar(ve),void this.jview.cubeManager.setMeasurementsTransform()}if(J){this.mode3PointNumberCounter++;var ye=document.createElement("span");ye.setAttribute("class","cubemeasnum jview-cube-manager__meas"),ye.setAttribute("id","cubemeasnum".concat(this.pointCounter)),ye.textContent=this.mode3PointNumberCounter,this.jview.measureCubeElem.append(ye)}if(K||B.length%2!=0){if(!Q){var be=this.isTouch?this.l10n.measureEndPointTap:this.l10n.measureEndPointClick;this.addStatusBar(be)}}else{this.lineCounter++;var we=document.createElement("span");we.setAttribute("class","cubemeasline"),we.setAttribute("data-point1",this.pointCounter-1),we.setAttribute("data-point2",this.pointCounter),we.setAttribute("id","cubemeasline".concat(this.lineCounter));var _e=document.createElement("span");_e.setAttribute("class","cubemeaslabel"),_e.setAttribute("data-lineid",this.lineCounter),_e.setAttribute("id","cubemeaslabel".concat(this.lineCounter)),this.jview.imagewindowElem.append(we),this.jview.imagewindowElem.append(_e);var xe=this.isTouch?this.l10n.measureSamePointsTap:this.l10n.measureSamePointsClick;this.addStatusBar(xe)}this.jview.cubeManager.setMeasurementsTransform()}}}},{key:"enterSetTagVisibilityMode",value:function(e){var t=this.isTouch?this.l10n.tagVisibilityTap:this.l10n.tagVisibilityClick;this.addStatusBar("".concat(t," ").concat(this.l10n.tagVisibilityFinished)),this.jview.enterSetTagVisibilityMode(e)}},{key:"showTagVisibilityStatusBar",value:function(){if(this.jview.vf.editTags){this.emptyStatusBar(),this.showStatusBar();var e=this.isTouch?this.l10n.tagVisibilityTap:this.l10n.tagVisibilityClick;this.addStatusBar(e)}}},{key:"addFakeTag",value:function(e,t){var n=this.jview.sceneData.fakeTags.find((function(t){return t.id===e.id}));if(n)n.hidden=!1;else{if(!t){var i=sa(this.jview.floorplan.getActivePano().center);t=ha({x:e.pos[0]-i.x,y:e.pos[1],z:e.pos[2]-i.z})}e.elevation=t.elevation,e.azimuth=t.azimuth,this.jview.sceneData.fakeTags.push(e)}}},{key:"hideFakeTag",value:function(e){var t=this.jview.sceneData.fakeTags.find((function(t){return t.id===e}));t&&(t.hidden=!0)}},{key:"removeAllFakeTags",value:function(){this.jview.sceneData.fakeTags=[]}},{key:"tagMode1DblClick",value:function(e,t,n){var i=this,r={vector:t,panoId:n,floorId:this.jview.floorplan.id};this.jview.vf.editTags.getTagMode1Data(r).then((function(r){var o=new xw(new Vs(t.ax,t.ay),new Vs(r.tagPoint.x,r.tagPoint.y)),a=Math.tan(e.elevation)*function(e){var t=e.p2.x-e.p1.x,n=e.p2.y-e.p1.y;return Math.sqrt(t*t+n*n)}(o),s=i.jview.vf.globalTripodHeight;if(i.jview.isAddingTag=!0,i.jview.isRepositioningTag){var l=i.jview.vf.tags.find((function(e){return e.id===i.jview.repositioningTagId}));l.pos=[r.tagPoint.x,r.tagPoint.y,a+s],l.visiblePanoIds=x()(r.panoIds),l.allPanoIds=x()(r.panoIds),l.initialPanoId=n;var c=i.jview.vf.tags.findIndex((function(e){return e.id===l.id}));-1!==c&&(i.jview.vf.tags[c]=l),i.jview.isRepositioningTag=!1,i.jview.repositioningTagId=null,i.jview.floorSelectorElem.hide(),i.jview.editorLoader.hide(),i.jview.finishSettingTagVisibility(l),i.jview.exitTagRepositioning()}else{var u={id:++i.jview.vf.tagsMaxId,title:"",floorId:i.jview.floorplan.id,pos:[r.tagPoint.x,r.tagPoint.y,a+s],visiblePanoIds:x()(r.panoIds),allPanoIds:x()(r.panoIds),initialPanoId:n,hidden:!1,color:"blue",opacity:75};i.addFakeTag(u,e),i.jview.vf.tags.push(u),i.jview.floorSelectorElem.hide(),i.jview.editorLoader.hide(),i.jview.finishSettingTagVisibility(u)}})).catch((function(e){console.error(e),i.addStatusBarError(i.l10n.tagCreateError),i.jview.editorLoader.hide()}))}},{key:"tagMode2DblClick",value:function(e,t,n){var i,r=this,o=Hs(new Vs(t.ax,t.ay),new Vs(n.x,n.y)),a=this.jview.vf.globalTripodHeight,s=o*Math.tan(e.elevation),l=new ta(n.x,n.y,s),c={id:++this.jview.vf.tagsMaxId,point:l,cubePoint:e,panoId:this.jview.floorplan.getNActivePano(),undo:!0,isTag:!0};if(this.advmeasRayList.push(c),this.jview.isRepositioningTag){(i=this.jview.vf.tags.find((function(e){return e.id===r.jview.repositioningTagId}))).pos=[l.x,l.y,l.z+a],i.visiblePanoIds=[c.panoId],i.allPanoIds=[c.panoId],i.initialPanoId=c.panoId,this.advmeasRayList.push(c);var u=this.jview.vf.tags.findIndex((function(e){return e.id===r.repositioningTagId}));-1!==u&&(this.jview.vf.tags[u]=i)}else this.advmeasRayList.push(c),i={id:c.id,title:"",floorId:this.jview.floorplan.id,pos:[l.x,l.y,l.z+a],visiblePanoIds:[c.panoId],allPanoIds:[c.panoId],initialPanoId:c.panoId,isNew:!0,hidden:!1,color:"blue",opacity:75},this.jview.vf.tags.push(i);return i.posY=-l.z,this.addFakeTag(i,e,i.color),i}},{key:"clearLastButtonClick",value:function(){3===this.mode||2===this.mode&&(0!==this.pointCounter||this.switchedPano)||(this.jview.floorplan.clearLastMeasurement(),this.mode2PlaneIsDrawn=!1),this.isAdvanced()&&this.advancedUndo()}},{key:"advancedUndo",value:function(){if(3===this.mode&&this.advmeasRayList.length){if(this.advmeasRayList[this.advmeasRayList.length-1]&&this.advmeasRayList[this.advmeasRayList.length-1].panoId!==this.jview.floorplan.getNActivePano())return;if(!this.advmeasRayList[this.advmeasRayList.length-1].undo)return}if(this.jview.vf.editTags&&this.jview.isSettingTagVisibility&&this.jview.exitTagVisibilityMode(),this.pointCounter){if(this.pointCounter%2==0){var e=this.jview.imagewindowElem.find(".cubemeasline[data-point2='".concat(this.pointCounter,"']")),t=e[0].id.substring(12),n=this.jview.imagewindowElem.find("#cubemeaslabel".concat(t));e.remove(),n.remove(),this.lineCounter--}if(this.jview.vf.editTags&&this.advmeasRayList[this.advmeasRayList.length-1].isTag){var i=this.advmeasRayList[this.advmeasRayList.length-1].id,r=this.jview.arrowsContainer.find("#newtag".concat(i));r&&(r.remove(),this.jview.isAddingTag=!0,this.jview.isSettingTagVisibility=!1);var o=this.jview.vf.tags.findIndex((function(e){return e.id===i}));o>-1&&this.jview.vf.tags.splice(o,1),this.jview.vf.tagsMaxId--,this.jview.floorSelectorElem.show()}else{var a=this.jview.measureCubeElem.find("#cubemeas".concat(this.pointCounter));a&&a.remove()}if(2===this.mode)this.advmeasRayList.pop(),this.pointCounter--,this.previousPoint=this.pointCounter%2==0?void 0:this.advmeasRayList[this.advmeasRayList.length-1],this.jview.isRepositioningTag&&this.removeAllFakeTags();else if(3===this.mode){var s=zs()("#cubemeasnum".concat(this.pointCounter));s&&s.remove(),this.pointCounter--,this.mode3PointNumberCounter>0&&this.mode3PointNumberCounter--,this.advmeasRayList.pop();var l=this.advmeasRayMatchedList.pop();l>=0&&(this.advmeasRayMatchedList[l]=-1),this.jview.isRepositioningTag&&this.removeAllFakeTags()}this.jview.cubeManager.setMeasurementsTransform()}}},{key:"verticalMeasurementRay",value:function(e){if("tour_meas"===this.jview.vf.page&&2===this.mode&&this.mode2PlaneIsDrawn){var t=this.jview.floorplan.getActivePano(),n=ha(this.convertScreenToCartesianCoord(e)),i={ax:t.center.x,ay:t.center.y,bx:t.center.x+5e4*Math.cos(n.azimuth),by:t.center.y-5e4*Math.sin(n.azimuth)},r=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("x1",i.ax),r.setAttribute("y1",i.ay),r.setAttribute("x2",i.bx),r.setAttribute("y2",i.by),r.setAttribute("class","pointer"),r.setAttribute("style","stroke:red;stroke-width:20;");var o=zs()("#advmeasurements");o.length?zs()("#advmeasurements .pointer").remove():this.addAdvmeasurementsElement(),o.append(r)}}},{key:"mode2OnFloorplanwindowMouseup",value:function(){var e,t,n,i,r,o,a,s,l=document.getElementsByClassName("measurement")[0];if(l){var c={x1:Jo()(l.getAttribute("x1")),y1:Jo()(l.getAttribute("y1")),x2:Jo()(l.getAttribute("x2")),y2:Jo()(l.getAttribute("y2"))};t=5e4,n=(e=c).x2-e.x1,i=e.y2-e.y1,r=Math.sqrt(n*n+i*i),a=n*(o=(t+r)/r),s=i*o,c={x1:e.x2-a,y1:e.y2-s,x2:e.x1+a,y2:e.y1+s},l.setAttribute("x1",c.x1),l.setAttribute("y1",c.y1),l.setAttribute("x2",c.x2),l.setAttribute("y2",c.y2),this.mode2PlaneIsDrawn=!0,this.switchedPano=!1,this.jview.vf.editTags&&this.jview.isAddingTag?this.addStatusBar("".concat(this.isTouch?this.l10n.tagStartPointTap:this.l10n.tagStartPointClick)):this.addStatusBar("".concat(this.isTouch?this.l10n.measureStartPointTap:this.l10n.measureStartPointClick))}}},{key:"onFloorplanwindowMousemove",value:function(e,t){this.jview.bSecondPoint&&"tour_meas"===this.jview.vf.page&&this.jview.floorplan.drawCurrentMeasurement(e,2===this.mode),(1===this.mode||this.jview.floorplanData.mouseDown)&&(this.jview.angle=t,this.jview.cubeManager.resetZoom(),this.jview.elevation=0,this.jview.update_image())}},{key:"onFloorplanwindowMousedown",value:function(e){"tour_meas"!==this.jview.vf.page||!this.jview.floorplan.bHasOutline||this.jview.bHideMeasurementControls||this.jview.isAutoplaying()||(1===this.mode&&!this.jview.vf.editTags||2===this.mode&&!this.mode2PlaneIsDrawn)&&(this.jview.bSecondPoint||(this.jview.floorplan.onFloorplanwindowMousedown(e),this.jview.bSecondPoint=!0))}},{key:"onFloorplanwindowMouseup",value:function(e){if("tour_meas"===this.jview.vf.page&&this.jview.floorplan.bHasOutline&&!this.jview.bHideMeasurementControls&&!this.jview.isAutoplaying()&&(1===this.mode||2===this.mode&&!this.mode2PlaneIsDrawn)){if(!this.jview.bSecondPoint)return!0;this.jview.bSecondPoint=!1,this.jview.floorplan.onFloorplanwindowMouseup(e,2===this.mode),2===this.mode&&this.mode2OnFloorplanwindowMouseup()}}},{key:"onUpdatePano",value:function(){this.removePointer(),this.jview.imagewindowElem.find(".cubemeas").remove(),this.jview.imagewindowElem.find(".cubemeasline").remove(),this.jview.imagewindowElem.find(".cubemeaslabel").remove(),this.jview.imagewindowElem.find(".cubemeasnum").remove(),this.pointCounter=0,this.lineCounter=0,this.mode3PointNumberCounter=0,this.previousPoint=void 0}},{key:"removePointer",value:function(){zs()("#advmeasurements .pointer").remove()}},{key:"onSetCubeAndArrowsTransform",value:function(e){this.isAdvanced()&&this.jview.cubeManager.setMeasurementsTransform(e)}},{key:"onSwitchCubes",value:function(){var e=this.jview.floorplan.getNActivePano(),t=0,n=0;if(2===this.mode){this.advmeasRayList.length%2!=0&&this.advmeasRayList.pop(),this.advmeasRayList.length&&(this.switchedPano=!0);for(var i=0;i<this.advmeasRayList.length;i++)if(this.advmeasRayList[i].panoId===e){t++,n++;var r=this.advmeasRayList[i]&&this.advmeasRayList[i].point,o=r?t+1e4:t,a=r?n+1e4:n,s=document.createElement("span");s.setAttribute("class","cubemeas jview-cube-manager__meas"),s.setAttribute("data-elevation",this.advmeasRayList[i].cubePoint.elevation),s.setAttribute("data-azimuth",this.advmeasRayList[i].cubePoint.azimuth),s.setAttribute("id","cubemeas".concat(o)),this.jview.measureCubeElem.append(s);var l=document.createElement("span");l.setAttribute("class","cubemeasline"),l.setAttribute("data-point1",o),l.setAttribute("data-point2",o+1),l.setAttribute("id","cubemeasline".concat(a));var c=document.createElement("span");c.setAttribute("class","cubemeaslabel"),c.setAttribute("data-lineid",a),c.setAttribute("id","cubemeaslabel".concat(a));var u=this.advmeasRayList[i].point;i++,t++;var d=this.advmeasRayList[i].point,h=document.createElement("span");if(h.setAttribute("class","cubemeas jview-cube-manager__meas"),h.setAttribute("data-elevation",this.advmeasRayList[i].cubePoint.elevation),h.setAttribute("data-azimuth",this.advmeasRayList[i].cubePoint.azimuth),h.setAttribute("id","cubemeas".concat(o+1)),this.jview.measureCubeElem.append(h),r){var p=na(u,d);p&&(c.setAttribute("data-measurement",p),c.setAttribute("data-imperial",this.jview.vf.bImperial),c.textContent=this.getPrettyMeasLabel(p))}this.jview.imagewindowElem.append(l),this.jview.imagewindowElem.append(c)}}else if(3===this.mode){if(this.jview.vf.editTags&&(this.jview.isSettingTagVisibility||!this.advmeasRayMatchedList))return;if(this.advmeasRayList.length%2!=0&&!this.jview.vf.editTags){this.advmeasRayList.pop();var f=this.advmeasRayMatchedList.pop();f>=0&&(this.advmeasRayMatchedList[f]=-1)}for(var m=0,g=0,v=0;v<this.advmeasRayMatchedList.length;v++)if(!(this.advmeasRayMatchedList[v]<-1)&&(this.advmeasRayList[v].panoId===e||this.advmeasRayMatchedList[v]>=0&&this.advmeasRayList[this.advmeasRayMatchedList[v]].panoId===e)){var y=this.advmeasRayList[v].panoId!==e&&this.advmeasRayMatchedList[v]>=0&&this.advmeasRayList[this.advmeasRayMatchedList[v]].panoId===e?this.advmeasRayMatchedList[v]:v;m++,g++;var b=this.advmeasRayList[y]&&this.advmeasRayList[v].intersection,w=b?m+1e4:m,_=b?g+1e4:g,x=document.createElement("span");if(x.setAttribute("class","cubemeas jview-cube-manager__meas"),x.setAttribute("data-elevation",this.advmeasRayList[y].cubePoint.elevation),x.setAttribute("data-azimuth",this.advmeasRayList[y].cubePoint.azimuth),x.setAttribute("id","cubemeas".concat(w)),this.jview.measureCubeElem.append(x),!this.jview.vf.editTags){var T=document.createElement("span");T.setAttribute("class","cubemeasline"),T.setAttribute("data-point1",w),T.setAttribute("data-point2",w+1),T.setAttribute("id","cubemeasline".concat(_));var S=document.createElement("span");S.setAttribute("class","cubemeaslabel"),S.setAttribute("data-lineid",_),S.setAttribute("id","cubemeaslabel".concat(_));var E=this.advmeasRayList[v].intersection;v++,y++,m++;var M=this.advmeasRayList[v].intersection,A=document.createElement("span");if(A.setAttribute("class","cubemeas jview-cube-manager__meas"),A.setAttribute("data-elevation",this.advmeasRayList[y].cubePoint.elevation),A.setAttribute("data-azimuth",this.advmeasRayList[y].cubePoint.azimuth),A.setAttribute("id","cubemeas".concat(w+1)),this.jview.measureCubeElem.append(A),b){var C=na(E,M);C&&(S.setAttribute("data-measurement",C),S.setAttribute("data-imperial",this.jview.vf.bImperial),S.textContent=this.getPrettyMeasLabel(C))}else{this.mode3PointNumberCounter++;var k=document.createElement("span");k.setAttribute("class","cubemeasnum jview-cube-manager__meas"),k.setAttribute("id","cubemeasnum".concat(w)),k.textContent=this.mode3PointNumberCounter,this.jview.measureCubeElem.append(k),this.mode3PointNumberCounter++;var P=document.createElement("span");P.setAttribute("class","cubemeasnum jview-cube-manager__meas"),P.setAttribute("id","cubemeasnum".concat(w+1)),P.textContent=this.mode3PointNumberCounter,this.jview.measureCubeElem.append(P),this.pointCounter=m}this.jview.imagewindowElem.append(T),this.jview.imagewindowElem.append(S)}}this.jview.cubeManager.setMeasurementsTransform()}if(!this.jview.vf.embeddedInPortal&&this.isAdvanced())for(var D=0;D<this.advmeasRayList.length;D++){this.advmeasRayList[D].undo=!1;var R=this.advmeasRayList[D].panoId,$=document.getElementById("pano".concat(R));this.redPanoCircles.push($),$&&($.style.stroke="red")}}},{key:"convertScreenToCartesianCoord",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.jview.floorplan.getActivePano(),i=this.jview.layoutManager.getContainerDims(),r=this.jview.tourData.useWebgl&&t?this.jview.angle:this.jview.angle+n.rotationAngle,o=ca(this.jview.elevation,r,0),a=this.jview.cubeManager.getHFOV(),s={x:-(e.x-.5*i.width),y:e.y-.5*i.height,z:.5*i.width/Math.tan(.5*a)};return ua(s,o)}},{key:"convertCartesianToScreenCoord",value:function(e){var t=this.jview.floorplan.getActivePano(),n=this.jview.layoutManager.getContainerDims(),i=this.jview.imagewindowElemOffset,r=this.jview.vf.showTagList&&!this.jview.vf.tagListClosed&&this.jview.vf.landscape?this.jview.vf.editTags?300:200:0,o=n.width-i.left+r,a=0;this.jview.vf.embeddedInPortal&&(a=.5*document.getElementById("vf-tour-container").getBoundingClientRect().left);var s=ca(this.jview.elevation,this.jview.angle+t.rotationAngle,0),l=ua({x:-e.y+t.center.y,y:-e.z,z:e.x-t.center.x},la(s)),c=this.jview.cubeManager.getHFOV(),u=.5*n.width/Math.tan(.5*c)/l.z;return new Vs(.5*o-l.x*u+a,.5*n.height+l.y*u)}},{key:"getAdvancedModeElements",value:function(){return{points:w()(this.jview.measureCubeElem.find(".cubemeas")),lines:w()(this.jview.imagewindowElem.find(".cubemeasline")),labels:w()(this.jview.imagewindowElem.find(".cubemeaslabel")),numbers:w()(this.jview.imagewindowElem.find(".cubemeasnum"))}}},{key:"addStatusBar",value:function(e,t){var n=this;this.emptyStatusBar(),this.statusbarTimeout&&clearTimeout(this.statusbarTimeout),this.statusbarTimeout=setTimeout((function(){n.jview.vf.measureModeStatusBarMessage=n.getStatusBarText(e,t),n.jview.vf.eventBus.emit("update-measure-status-bar")}),250)}},{key:"getStatusBarText",value:function(e,t){this.jview.vf.measureModeStatusBarIsVisible||"tour_meas"!==this.jview.vf.page||(this.jview.vf.measureModeStatusBarIsVisible=!0);var n=e;if(e.content&&(n=e.content),"mode1"===t&&this.jview.vf.editTags){var i=this.jview.isRepositioningTag?this.l10n.tagRepositioningModeOneInfoClick:this.l10n.tagModeOneInfoClick,r=this.jview.isRepositioningTag?this.l10n.tagRepositioningModeOneInfoTap:this.l10n.tagModeOneInfoTap,o=this.isTouch?r:i;return{title:this.jview.isRepositioningTag?this.l10n.tagRepositioningModeOneTitle:this.l10n.tagModeOneTitle,content:o}}if("mode1"===t){var a=this.hasAdvanced()?this.l10n.measureModeOneTitle:this.l10n.measureModeTitle,s=this.hasAdvanced()&&"button"===n?" ".concat(this.l10n.measureSwitchMode):"";return{title:a,content:"".concat(this.l10n.measureModeOneInfo).concat(s)}}if("error"===t){var l=this.getPrettyMeasLabel(n.error,n.distance>=500),c=this.getHighErrorMessage(n);return{content:"".concat(this.l10n.measureUncertainty,' <strong id="meas_statusbar_uncertainty" data-meas="').concat(n.distance,'" data-error="').concat(n.error,'">').concat(l,"</strong>. ").concat(c).concat(this.ims6disclaimer," ").concat(this.l10n.measureAdditionalPoints)}}return"toofar"===t?{content:this.l10n.measureInconsistentPoints}:"string"==typeof e?{content:e}:e}},{key:"getHighErrorMessage",value:function(e){return e.error/e.distance>.03?2===this.mode?this.l10n.measureHighError:" ".concat(this.l10n.measureHighError," ").concat(this.l10n.measureHighErrorHelp):""}},{key:"addStatusBarError",value:function(e){var t=this;this.emptyStatusBar(),this.statusbarTimeout&&clearTimeout(this.statusbarTimeout),this.statusbarTimeout=setTimeout((function(){t.jview.vf.measureModeStatusBarMessage={title:t.l10n.measureErrorTitle,content:e},t.jview.vf.eventBus.emit("update-measure-status-bar")}),250)}},{key:"emptyStatusBar",value:function(){this.jview.vf.measureModeStatusBarMessage={title:"",message:""},this.jview.vf.eventBus.emit("update-measure-status-bar")}},{key:"showStatusBar",value:function(){this.isMeasureModeActive()&&(this.jview.vf.measureModeStatusBarIsVisible=!0,this.jview.vf.eventBus.emit("update-measure-status-bar"))}},{key:"hideStatusBar",value:function(){this.jview.vf.measureModeStatusBarIsVisible=!1,this.jview.vf.eventBus.emit("update-measure-status-bar")}},{key:"isMeasureModeActive",value:function(){var e=this.jview,t=e.vf,n=e.isAddingTag,i=e.isSettingTagVisibility,r=e.isUpdatingTagVisibility;return"tour_meas"===t.page||n||i||r}},{key:"detectIfStatusBarShouldUseTouch",value:function(e){this.previousMousedownEventType||(this.previousMousedownEventType=e),this.isTouch="touchstart"===e||"mousedown"===e&&"touchstart"===this.previousMousedownEventType,this.previousMousedownEventType=e}},{key:"onSwitchUnits",value:function(){var e=zs()("#meas_statusbar_uncertainty");if(e.length){var t=e.data("error"),n=e.data("meas");t&&e.html(this.getPrettyMeasLabel(t,n>=500))}}},{key:"getPrettyMeasLabel",value:function(e,t){return e>=500||t&&e>25.4?this.jview.vf.bImperial?pb(e/25.4):fb(e/10):this.jview.vf.bImperial?Sw(e):Ew(e)}}]),e}(),Sw=function(e){if(!e)return"";var t=e/25.4,n=Math.round(10*t)/10;return"".concat(n.toFixed(1),'"')},Ew=function(e){if(!e)return"";var t=Math.round(10*e)/100;return"".concat(t.toFixed(1)," cm")},Mw=function(e,t,n){for(var i=0,r=0,o=0;o<e.error.length;o++)i+=(r=na(e.error[o],t.point)-n)*r;for(var a=0;a<t.error.length;a++)i+=(r=na(t.error[a],e.point)-n)*r;return Math.sqrt(i)},Aw=function(e,t){var n=na(e,t),i=0,r=0,o=na(e.error[0],t);return i+=(r=o-n)*r,i+=(r=na(e.error[0].error[0],t)-o)*r,i+=(r=na(e.error[0].error[1],t)-o)*r,i+=(r=(o=na(e.error[1],t))-n)*r,i+=(r=na(e.error[1].error[0],t)-o)*r,i+=(r=na(e.error[1].error[1],t)-o)*r,i+=(r=(o=na(t.error[0],e))-n)*r,i+=(r=na(t.error[0].error[0],e)-o)*r,i+=(r=na(t.error[0].error[1],e)-o)*r,i+=(r=(o=na(t.error[1],e))-n)*r,i+=(r=na(t.error[1].error[0],e)-o)*r,i+=(r=na(t.error[1].error[1],e)-o)*r,{distance:n,error:Math.sqrt(i)}},Cw=Tw,kw=(a(15355),1e3),Pw=1e4;function Dw(e,t){var n=I()(e);if(R()){var i=R()(e);t&&(i=i.filter((function(t){return P()(e,t).enumerable}))),n.push.apply(n,i)}return n}function Rw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dw(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):C()?M()(e,C()(n)):Dw(Object(n)).forEach((function(t){S()(e,t,P()(n,t))}))}return e}var $w=800,Iw=Zo.pj;function Lw(){this.vf=null,this.touchDistance=0,this.hideArrowsTimer=null,this.mousemoveEndTime=null,this.firstMouseDown=!0,this.latestClick=void 0,this.previousClickEvent=void 0,this.previousCubeClick=void 0,this.previousCubeClickPoint=void 0,this.timeBeforeClick=0,this.inertiaMousePoint=null,this.viewerMouseUpFired=!1,this.documentMouseUpFired=!1,this.windowMouseUpFired=!1,this.fpResizeMousedownTarget=null,this.fpMouseDownHotspot=null,this.fpMouseUpWillNavigate=!1,this.angle=0,this.elevation=0,this.isAddingTag=!1,this.isRepositioningTag=!1,this.repositioningTagId=0,this.isSettingTagVisibility=!1,this.isUpdatingTagVisibility=!1,this.activeTag={},this.tagColors=["blue","green","red","orange","yellow","purple","gray"],this.tagAnimation=null,this.tagAnimateInterval=null,this.tagElemInterval=null,this.tagOpenInEditorScrollTop=0,this.tagOpenInEditorRequiresResize=!1,this.tagOpenInEditorResized=this.tagOpenInEditorResizedHandler.bind(this),this.markdownRenderOptions=null,this.tagGetImageDimsIntervals=[],this.panoContainerElem=null,this.faceElems=[],this.faceDOMElems=[],this.faceImgElems=[],this.panoLoading=null,this.tpanoContainerElem=null,this.tfaceImgElems=[],this.tfaceElems=[],this.tfaceDOMElems=[],this.tpanoLoadedSize=null,this.tpanoLoading=null,this.allAnimations=[],this.packer=null,this.house=null,this.floorplan=null,this.bHideMeasurementControls=!1,this.bSecondPoint=!1,this.preventInitFloorplanMinimize=!1,this.fpInitialAnimationFinished=!1,this.bInitLoad=!0,this.bPreparingTransition=!1,this.bInTransition=!1,this.bFloorplanInTransition=!1,this.bGateTransition=!1,this.bInFloorplanInitAnimation=!1,this.floorplanShrunk=!1,this.hasFloorplan=!0,this.onOnResizeWindow=new Db,this.timesRun=0,this.drawFloorplanCalls=0,this.visibilityEventFired=!1,this.maxPanoNeighbors=0,this.firstUpdateFloor=!0,this.isFirstOnSetFloorplan=!0,this.isFirstApiTourMoveEnd=!0,this.isFirstDelayedRemoveOpacity=!0,this.tagToNavigateTo=null,this.updateFloorBypassCameraReset=!1,this.navigateToPanoInitAngle=!1,this.navigateToPanoDisregardPrevAngle=!1,this.navigateToAngle=null,this.exitedAutoplay=!1,this.editModalOpen=!1,this.pendingDomUpdates={},this.applyPendingDomUpdatesHandler=null,this._applyPendingDomUpdates=this.applyPendingDomUpdates.bind(this),this.tourData={ims6:!1,measureMode:0,editTags:!1,pagepreviewWorkaround:!1,embedpreviewWorkaround:!1,floorplanShrunk:!1,isLandscape:!1,autoplaying:!1,autoplayCount:0,autoplayMusicPlaying:!1,mutedByUser:!1,assets:{},tileResolution:{},activePano:null,hasPanos:!1,tagModalOpen:!1,useWebgl:!1},this.sceneData={neighborList:[],neighbors:[],fakeTags:[],dimensions:{},activePanoCenter:{},inverseGlobalQuat:{},cameraPlaneNormal:{},hFov:0,cubeWidth:1024,scaleFactor:1,perspective:0,elevation:0,angle:0,angleZero:0,tripodHeight:0,zoomRange:{},zoom:1,hideArrows:!1,hoveredArrowIndex:-1,mouseDown:!1,activeCube:2,panoChangeType:"",isPanoViews:!1,firstPanoLoaded:!1,initAnimationDisabled:!1,initAnimationPlaying:!1,mouseCoordinates:{azimuth:0,elevation:0},inertiaStatus:"Stopped",inertiaTargetPose:null,tripodImageUrl:""},this.tagData={tags:[],pinnedTagId:-1,hoveredTagId:-1,highlightedTagId:-1,isAddingTag:this.isAddingTag},this.floorplanData={mouseDown:!1,isPanZoomMode:!1},this.initSceneComponent()}Lw.prototype.initSceneComponent=function(){var e=this,t=new Pe.default({extends:iv,data:{tourData:this.tourData,sceneData:this.sceneData,tagData:this.tagData,floorplanData:this.floorplanData}});t.$on("cubeMouseDown",(function(t){return e.cubeMousedown(t)})),t.$on("cubeMouseMove",(function(t){return e.cubeMousemove(t)})),t.$on("cubeMouseUp",(function(t){return e.cubeMouseup(t)})),t.$on("cubePointerMove",(function(t){return e.cubePointerMove(t)})),t.$on("cubeMouseWheel",(function(t){return e.cubeMousewheel(t)})),t.$on("cubeMouseLeave",(function(t){return e.mouseLeave(t)})),t.$on("cubePinch",(function(t){return e.cubePinch(t)})),t.$on("panoLoadStarted",(function(t){return e.onPanoLoadStarted(t)})),t.$on("panoLoadFinished",(function(t){return e.onPanoLoadFinished(t)})),t.$on("initAnimationStarted",(function(t){return e.initAnimationStarted(t)})),t.$on("initAnimationFinished",(function(t){return e.initAnimationFinished(t)})),t.$on("autoplayStart",(function(t){return e.onAutoplayStart(t)})),t.$on("autoplayStop",(function(t){return e.onAutoplayStop(t)})),t.$on("autoplayUpdate",(function(t){return e.onAutoplayUpdate(t)})),t.$on("autoplayBrowserMute",(function(t){return e.onAutoplayBrowserMute(t)})),t.$on("rotate",(function(t){return e.onSceneRotate(t)})),t.$on("tagHover",(function(t){return e.onTagHotspotHover(t)})),t.$on("tagClick",(function(t){return e.onTagHotspotClick(t)})),t.$on("inertiaStatusChange",(function(t){return e.onInertiaStatusChange(t)})),t.$on("inertiaUpdate",(function(t){return e.onInertiaUpdate(t)})),t.$on("setActivePano",(function(t){return e.setActivePanoFromEvent(t)})),t.$mount("#scene")},Lw.prototype.init=function(e,t){if(e.globalTripodHeight=e.ims6?1350:1200,this.vf=e,this.vf.editTags&&(this.vf.nomeas=!1,this.vf.tagListClosed=!1,this.vf.notaglist=!1,this.vf.hasTagList=!0),this.packer=new sw(this),this.house=this.packer.unpack(t,this.vf.tags),this.house&&this.house.floorplans.forEach((function(e){e.computePanoNeighbors()})),this.vf.nomeas&&(this.bHideMeasurementControls=!0,this.hideMeasureButton=!0),this.vf.edit&&this.vf.edit.panos&&this.vf.edit.canShowPano)for(var n=this.house&&this.house.floorplans||[],i=0;i<n.length;i++)for(var r=0;r<n[i].panos.length;r++){var o=n[i].panos[r];o.bShow=o.bShow&&!!this.vf.edit.canShowPano(o)}this.tourData.ims6=e.ims6,this.tourData.editTags=!!e.editTags,this.tourData.pagepreviewWorkaround=e.pagepreviewWorkaround,this.tourData.embedpreviewWorkaround=e.embedpreviewWorkaround,this.tourData.useWebgl=e.featureFlags.webglViewer,this.vf.setViewer(this)},Lw.prototype.set_geographic_angle=function(e,t){this.floorplan&&this.floorplan.onSetGeoAngle(e),t&&this.floorplan&&this.floorplan.drawCompass(e)},Lw.prototype.getFixedGeoAngle=function(){return this.house.fixedGeoAngle},Lw.prototype.setStyleNames=function(){this.perspectiveStyle="perspective",this.perspectiveCSS="perspective",this.perspectiveOriginStyle="perspectiveOrigin",this.transformStyle="transform",this.transformCSS="transform",this.transformOriginStyle="transformOrigin",this.transitionStyle="transition",this.keyframesCSS="@keyframes",this.animationTimingStyle="animationTimingFunction",this.animationIterationStyle="animationIterationCount",this.animationDurationStyle="animationDuration",this.animationNameStyle="animationName"};var Ow=function(e,t,n){var i=document.createElement("style");i.id=e,i.innerHTML="".concat(n," ").concat(t," {}"),document.getElementsByTagName("head")[0].appendChild(i)};Lw.prototype.getTripodImageUrl=function(){var e=this.vf;return!e.tripodImageUrl||e.unbranded&&!e.forcetripod?Gg:e.tripodImageUrl},Lw.prototype.start=function(e){var t=this,n=this.vf;this.tourData.assets=n.assets,this.tourData.tileResolution=n.tileResolution,this.sceneData.initAnimationDisabled=n.embedpreviewWorkaround||n.pagepreviewWorkaround||n.embeddedInPortal||n.noinitanimation,this.vf.eventBus.on("tile-resolution-change",(function(e){t.tourData.tileResolution=e})),this.tourData.mutedByUser=n.mute,this.vf.eventBus.on("mute-changed",(function(e){t.tourData.mutedByUser=e})),this.vf.eventBus.on("page-opened",(function(e){"video"!==e&&(t.tourData.autoplaying=!1)})),this.setStyleNames(),this.arrowsElem=zs()(e).find(".arrow"),this.layoutManager=new fw({tourContainer:this.tourContainerElem,sidePanel:this.sidePanelElem,imagewindow:this.imagewindowElem,viewerRow:this.tourViewer,controlBtnBar:zs()(e).find("#control-btnbar"),measBtnBar:zs()(e).find(".meas")},(function(e,n){t.floorplan.onPanelResizeStart(e,n,t.floorplanShrunk)}),(function(e){t.bFloorplanInTransition=!1,n.eventBus.emit("floorplan-shrunk-complete",e),t.hasFloorplan&&(t.floorplan.onPanelResizeEnd(),"tour_meas"===t.vf.page&&t.set_measurement_floorplan()),t.setContainerOffsets(),t.floorplanSvgElemOffset=t.floorplanSvgElem.offset(),t.resetUserEvents()}),(function(e,t){n.eventBus.emit("floorplan_resize",{width:e,height:t})})),this.tagData.tags=this.getComputedTags();var i=new Pe.default({extends:Sv,data:{sceneData:this.sceneData,tagData:this.tagData},propsData:{routeUrl:window.PlanitarOfflineZIP?window.location.href.split("?")[0]:En.publicView(this.vf.view)}});i.$on("close",(function(){t.closeTagPreviews(!0)})),i.$on("pin",(function(e){t.setPinnedTag(e)})),i.$mount(),this.imagewindowElem.append(i.$el),this.cubeManager=new _w({getContainerDims:function(){return t.layoutManager.getContainerDims()},getViewportDims:function(){return t.layoutManager.getViewportDims()},getImagewindowElem:function(){return t.imagewindowElem[0]},getImagewindowOffset:function(){var e=t.imagewindowElemOffset;if(t.vf.embeddedInPortal){e=Rw({},t.imagewindowElemOffset);var n=window.pageYOffset||window.scrollY||document.documentElement.scrollTop;e.top-=n}return e},getCubeOrientation:function(){return{angle:-t.angle+Zo.pj,elevation:t.elevation}},getActivePano:function(){return t.floorplan.getActivePano()},getActivePanoId:function(){return t.floorplan.getActivePano().id},getAngleZero:function(){return Zo.pj+t.floorplan.getActivePano().rotationAngle},getNeighbors:function(){return t.floorplan.getActivePano().neighbors},shouldNotDisplayArrows:function(){return"tour_meas"===n.page&&!t.isAddingTag||t.isAutoplaying()},getStyleNames:function(){return{transformStyle:t.transformStyle,perspectiveStyle:t.perspectiveStyle}},getMaxPanoDist:function(){return Math.sqrt(t.floorplan.maxPanoDistSq)},getTripodHeight:function(){return n.globalTripodHeight},getPanoTileWidth:function(){return n.getPanoTileWidth()},isImperial:function(){return n.bImperial},getAdvancedMeasurementElements:function(){return t.measureMode.getAdvancedModeElements()},getNewTagElements:function(){return w()(t.arrowsContainer.find(".newtag"))},getTagColor:function(e){return t.getTagColor(e)},getVfTag:function(e){return n.tags.find((function(t){return t.id===Va()(e)}))},convertCartesianToScreenCoord:function(e){return t.measureMode.convertCartesianToScreenCoord(e)},getPanoContainerElemOffsetLeft:function(){return t.panoContainerElemOffset&&t.panoContainerElemOffset.left?t.panoContainerElemOffset.left:0},getBarHeight:function(){return t.vf.barHeight},isEmbeddedInPortal:function(){return t.vf.embeddedInPortal},getPrettyMeasLabel:function(e){return t.measureMode&&t.measureMode.getPrettyMeasLabel(e)},onCubeTransformChange:function(){t.sceneData.activePanoCenter=t.getActivePanoCenter(),t.sceneData.inverseGlobalQuat=t.getInverseGlobalQuat(),t.sceneData.cameraPlaneNormal=t.getCameraPlaneNormal()},onHFovChange:function(e){t.sceneData.hFov=e},updateSceneState:function(e){Bs()(e).forEach((function(e){var n=O()(e,2),i=n[0],r=n[1];t.sceneData[i]=r}))},isIOS:this.isIOS,isFirefoxAndroidMobile:this.isFirefox&&this.isAndroidMobile},this.vf.quickReloadZoom),this.measureMode=new Cw(this),this.tourData.measureMode=this.measureMode.mode,this.updateCompassSupport(),this.loader=new vy(this.tourLoaderContainerElem),this.editorLoader=new vy(this.editorLoaderOverlayElem);var r=this.house;r.setInitFloor(n.initfplan);var o=r.getActiveFloorplan();if(!o)return n.hasNoFloorplans(),void this.loader.hide();o.setInitPano(n.initpano),o.setInitAngle(n.initangle),this.sceneData.tripodImageUrl=this.getTripodImageUrl(),this.faceImgElems[6].attr("src",this.sceneData.tripodImageUrl),this.tfaceImgElems[6].attr("src",this.sceneData.tripodImageUrl);var a=!!n.initTag&&(n.tags.find((function(e){return e.globalId===n.initTag}))||n.tags.find((function(e){return e.id===Va()(n.initTag)})));a&&(n.page="tour",r.setActiveFloorId(a.floorId)),this.updateFloor(r.active_floorplan_index),a&&this.floorplan.setNActivePano(this.getTagInitialPanoId(a)),this.cubeManager.setArrows(),function(e){Ow("pano_key","pano",e),Ow("tpano_key","tpano",e);for(var t=0;t<6;t++)Ow("image".concat(t,"_key"),"image".concat(t),e),Ow("timage".concat(t,"_key"),"timage".concat(t),e);Ow("face6_key","face6",e)}(this.keyframesCSS),this.tourContainerElem.on("mouseleave",this.tourMouseLeave.bind(this)),this.tourContainerElem.on("mouseenter",this.mouseEnter.bind(this));if(window.addEventListener("visibilitychange",(function e(){t.visibilityEventFired&&window.removeEventListener("visibilitychange",e),document.hidden||t.visibilityEventFired||n.landscape||t.floorplanShrunk||!t.tourData.hasPanos||t.vf.edit||t.preventInitFloorplanMinimize||(t.minimizeFloorplanAfterInitialZoom(),t.visibilityEventFired=!0,window.removeEventListener("visibilitychange",e))})),n.minfp&&n.landscape&&!n.edit){window.addEventListener("visibilitychange",(function e(){t.visibilityEventFired&&window.removeEventListener("visibilitychange",e),document.hidden||t.visibilityEventFired||!n.landscape||t.floorplanShrunk||t.preventInitFloorplanMinimize||(t.minimizeFloorplanAfterInitialZoom(),t.visibilityEventFired=!0,window.removeEventListener("visibilitychange",e))}))}(!this.vf.editTags&&(!this.vf.tags.length||this.vf.notaglist)||this.vf.pagepreviewWorkaround||this.vf.embedpreviewWorkaround)&&(this.vf.hasTagList=!1),this.vf.eventBus.once("fp-initial-animation-finish",(function(){t.fpInitialAnimationFinished=!0})),this.vf.eventBus.once("first-user-interaction",(function(){t.sceneData.initAnimationDisabled=!0})),this.vf.eventBus.emit("started",this)},Lw.prototype.setFloorplan=function(e){this.house.setActiveFloorId(e),this.floorplan=this.house.getActiveFloorplan()},Lw.prototype.drawFloorplan=function(e){var t=this;this.drawFloorplanCalls++,e?this.floorplan.redraw():this.floorplan.draw((function(e){return Nw({originalEvent:e},t.floorplanSvgElemOffset)})),this.floorplanSvgElem=zs()(this.floorplan.getElement()),this.floorplanSvgElemOffset=this.floorplanSvgElem.offset(),this.resetUserEvents()},Lw.prototype.onShrinkFloorplan=function(){var e=this;this.bInTransition||this.bFloorplanInTransition||(this.isRepositioningTag&&this.exitTagRepositioning(),this.bFloorplanInTransition=!0,this.floorplanShrunk&&!this.vf.landscape&&this.closeTagPreviews(!0),this.floorplanShrunk=!this.floorplanShrunk,this.tourData.floorplanShrunk=this.floorplanShrunk,this.vf.eventBus.emit("floorplan-shrunk",this.floorplanShrunk),this.floorplanResizeClicked=!0,window.requestAnimationFrame((function(){e.floorplanShrunk?(zs()("#floorplanwindow__resize-btn").removeClass("icomoon-v-shrink").addClass("icomoon-v-enlarge-minimal"),zs()(".floorplanwindow__iguide-logo a").css("pointer-events","none")):(zs()("#floorplanwindow__resize-btn").removeClass("icomoon-v-enlarge-minimal").addClass("icomoon-v-shrink"),zs()(".floorplanwindow__iguide-logo a").css("pointer-events","auto"))})),this.stopAutoplay(),window.requestAnimationFrame((function(){e.layoutManager&&e.layoutManager.sidePanelResize(e.vf,e.floorplanShrunk),e.onResizeWindow(!0)})))},Lw.prototype.minimizeFloorplanAfterInitialZoom=function(){var e=this;!this.fpInitialAnimationFinished||this.floorplanShrunk?this.vf.eventBus.once("fp-initial-animation-finish",(function(){e.floorplanShrunk||e.onShrinkFloorplan()})):this.onShrinkFloorplan()},Lw.prototype.updateFloor=function(e){var t=this;this.closeAllDialogs&&this.closeAllDialogs(),this.panoLoading&&this.panoLoading.cancel(),this.tpanoLoading&&this.tpanoLoading.cancel();var n=function n(){t.tourViewer[0].removeEventListener("transitionend",n),t.floorplan&&("tour_meas"===t.vf.page&&(t.floorplan.clearMeasurements(),t.set_measurement_floorplan()),t.floorplan.beforeSetFloor()),t.setFloorplan(e);var i=t.floorplan;t.bSecondPoint=!1,t.hasFloorplan=i.hasOutline(),t.tourData.hasPanos=!!i.panos.length,!t.tourData.hasPanos&&t.vf.compass&&t.toggleCompass(),t.cubeManager&&t.cubeManager.resize(),t.vf.eventBus.emit("floor_changed",t.house.active_floorplan_index,i),i.element?(t.floorplan.afterSetFloor(),t.onSetFloorplan(!0)):t.hasFloorplan?t.vf.loadFloorplanAndInsertFirst(i.id,t.floorplanwindowElem[0]).then((function(){t.onSetFloorplan()})):t.onSetFloorplan(!0)},i=this.house.getFloorplanAndIdxFromId(e),r=i.floorplan.getNActivePano();this.vf.eventBus.emit("update_floor",i,r),this.firstUpdateFloor||this.vf.edit&&this.vf.edit.reset||this.vf.editTags&&this.vf.editTagsReset?(this.vf.edit&&(this.vf.edit.reset=!1),this.vf.editTags&&(this.vf.editTagsReset=!1),this.firstUpdateFloor=!1,n()):(this.tourViewer.one("transitionend",n),this.tourViewer.css("opacity","0"))},Lw.prototype.onSetFloorplan=function(e){var t=this;this.floorplan.setViewerViewBox(this.hasFloorplan);var n=this.floorplan.getActivePano(),i=this.vf.pagepreviewWorkaround||this.vf.embedpreviewWorkaround;if(void 0!==this.floorplan.nInitAngle||this.vf.quickReload)this.updateFloorBypassCameraReset||this.vf.quickReload||(this.angle=this.floorplan.nInitAngle%Zo.uo);else if(n)if(this.vf.initangle&&(this.isFirstOnSetFloorplan||this.initPanoId===n.id))this.isFirstOnSetFloorplan&&(this.initPanoId=n.id),this.updateFloorBypassCameraReset||(this.angle=(this.vf.initangle+90)*Zo.ZX-n.rotationAngle%Zo.uo);else if(!this.updateFloorBypassCameraReset)if(this.tagToNavigateTo)this.setAngleAndElevationToTag(this.tagToNavigateTo);else{var r=this.tourData.useWebgl?n.rotationAngle:0;this.angle=n.initAngle+90*Zo.ZX+r%Zo.uo}i&&(this.angle>.89&&this.angle<1.03?this.angle-.89<1.03-this.angle?this.angle=.89:this.angle=1.03:this.angle>-1.03&&this.angle<-.89?this.angle+1.03<-.89-this.angle?this.angle=-1.03:this.angle=-.89:this.angle>.54&&this.angle<.68?this.angle-.54<.68-this.angle?this.angle=.54:this.angle=.68:this.angle>-.68&&this.angle<-.54?this.angle+.68<-.54-this.angle?this.angle=-.68:this.angle=-.54:this.angle>2.115&&this.angle<2.255?this.angle-2.115<2.255-this.angle?this.angle=2.115:this.angle=2.255:this.angle>-2.255&&this.angle<-2.115?this.angle+2.255<-2.115-this.angle?this.angle=-2.255:this.angle=-2.115:this.angle>2.46&&this.angle<2.6?this.angle-2.46<2.6-this.angle?this.angle=2.46:this.angle=2.6:this.angle>-2.6&&this.angle<-2.46?this.angle+2.6<-2.46-this.angle?this.angle=-2.6:this.angle=-2.46:this.angle>3.68&&this.angle<3.82?this.angle-3.68<3.82-this.angle?this.angle=3.68:this.angle=3.82:this.angle>-3.82&&this.angle<-3.68?this.angle+3.82<-3.68-this.angle?this.angle=-3.82:this.angle=-3.68:this.angle>4.03&&this.angle<4.17?this.angle-4.03<4.17-this.angle?this.angle=4.03:this.angle=4.17:this.angle>-4.17&&this.angle<-4.03?this.angle+4.17<-4.03-this.angle?this.angle=-4.17:this.angle=-4.03:this.angle>5.255&&this.angle<5.395?this.angle-5.255<5.395-this.angle?this.angle=5.255:this.angle=5.395:this.angle>-5.395&&this.angle<-5.255?this.angle+5.395<-5.255-this.angle?this.angle=-5.395:this.angle=-5.255:this.angle>5.6&&this.angle<5.74?this.angle-5.6<5.74-this.angle?this.angle=5.6:this.angle=5.74:this.angle>-5.74&&this.angle<-5.6&&(this.angle+5.74<-5.6-this.angle?this.angle=-5.74:this.angle=-5.6),this.vf.eventBus.on("pano_changed-loaded",(function(){setTimeout((function(){t.vf.onWebsnapshotReady()}),50)}))),this.arrowsElem.removeClass("hidden"),this.hasFloorplan?this.floorplanwindowElem.removeClass("hidden"):this.floorplanwindowElem.addClass("hidden"),this.panoViewLabelNames=this.floorplan.getPanoViewLabelNames(this.hasFloorplan,this.vf.edit&&this.vf.edit.labels),this.drawFloorplan(e),this.floorplan.setPanoVisited(),this.floorplan.onSetFloorplan(),this.floorplan.setColorScheme(this.vf.colorscheme);var o=function(){setTimeout((function(){t.hasFloorplan&&t.tourData.hasPanos||!t.hasFloorplan&&!t.isFirstDelayedRemoveOpacity?t.tourViewer.one("transitionend",(function(){t.bInTransition=!1,t.tourData.hasPanos&&t.hideArrowsAfterDelay(),t.isFirstApiTourMoveEnd?t.isFirstApiTourMoveEnd=!1:n&&t.vf.eventBus.emit("tour:move-end",n.id,"floorplan-crossfade"),t.floorplan.animateInitialPanZoom()})):t.bInTransition=!1,t.tourViewer.css("opacity","0.99"),window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){t.tourViewer.css("opacity","")}))})),t.isFirstDelayedRemoveOpacity=!1}),400)};this.tourData.hasPanos?this.vf.quickReload?this.floorplan.setRadarTransform(this.angle):(this.updateFloorBypassCameraReset?this.updateFloorBypassCameraReset=!1:this.cubeManager.resetZoom(!0),this.update_image(),this.updatePano("no-animation",!0),this.tourViewer&&this.vf.eventBus.once("pano_changed-loaded",(function(){t.showNeighborsArrows(!0),o(),t.isFirstApiTourMoveEnd&&!t.hasFloorplan&&(t.isFirstApiTourMoveEnd=!1),t.floorplan.hidePanoHighlight(),t.highlightTagList()}))):(this.sceneData.firstPanoLoaded=!0,this.tourData.activePano=null,this.panoLoading=null,this.tpanoLoading=null,this.loader.hide(),zs()("#imagewindow__overlay").removeClass("imagewindow__overlay_isInvisible"),o(),i&&this.vf.eventBus.emit("pano_changed-loaded")),this.isFirstOnSetFloorplan&&(this.vf.eventBus.emit("first_onsetfloorplan"),this.isFirstOnSetFloorplan=!1,i&&this.floorplan.animateInitialPanZoom(0,0)),this.vf.quickReload&&(this.vf.quickReload=!1,this.vf.quickReloadNPrevActivePano&&delete this.vf.quickReloadNPrevActivePano,this.vf.eventBus.emit("quickreload-complete"))},Lw.prototype.onPanoViewsClick=function(e){if(!this.bInTransition){this.isAutoplaying()&&this.floorplan.setNPrevActivePano(),this.floorplan.setNActivePanoByIdx(e);var t=this.floorplan.getActivePano();this.angle=Zo.pj+t.initAngle,this.updatePano("no-animation",!1,!0)}},Lw.prototype.setFloorplanShown=function(e,t){if(this.vf.edit&&this.vf.edit.floors){e.hidden=!t;var n=this.vf.view.dataV2.buildings.findIndex((function(t){return t.id===e.buildingId}));this.vf.view.dataV2.buildings[n].floors.find((function(t){return t.id===e.id})).hidden=!t;var i=t?"":"500";zs()("#floor-selector").css("z-index",i),zs()("#measure-button").css("z-index",i),this.vf.eventBus.emit("floor_visibility_changed",e)}},Lw.prototype.setAllPanosShown=function(e,t){this.vf.edit&&this.vf.edit.panos&&(e.setAllPanoShown(t,this.vf.edit.canShowPano),this.vf.eventBus.emit("floor_all_pano_visibility_changed",e))},Lw.prototype.onResizeWindow=function(e){this.update_elements(e),this.cubeManager.resetZoom(),this.setCubeAndArrowsTransform({isResize:!0}),this.tourContainerElem.width()<300&&this.isAutoplaying()&&(this.tourData.autoplaying=!1),this.floorplan&&("tour"!==this.vf.page&&"tour_meas"!==this.vf.page||this.floorplan.onOnResizeWindow(e,"tour_meas"===this.vf.page)),this.setContainerOffsets(),this.floorplanSvgElem&&(this.floorplanSvgElemOffset=this.floorplanSvgElem.offset()),this.onOnResizeWindow.do()},Lw.prototype.setContainerOffsets=function(e){this.panoContainerElemOffset=this.panoContainerElem.offset(),this.imagewindowElemOffset=this.imagewindowElem.offset(),e&&this.vf.eventBus.emit("reset-tour-size")},Lw.prototype.update_elements=function(e){if(this.timesRun++,this.timesRun>3&&!this.vf.landscape&&!this.floorplanResizeClicked&&this.visibilityEventFired){var t=this.floorplanShrunk;this.floorplanShrunk=!0,this.tourData.floorplanShrunk=this.floorplanShrunk,t!==this.floorplanShrunk&&(this.vf.eventBus.emit("floorplan-shrunk",this.floorplanShrunk),zs()("#floorplanwindow__resize-btn").removeClass("icomoon-v-shrink").addClass("icomoon-v-enlarge-minimal"),zs()(".floorplanwindow__iguide-logo a").css("pointer-events","none"),this.vf.embeddedInPortal?this.layoutManager.sidePanelResize(this.vf,this.floorplanShrunk):this.vf.eventBus.emit("floorplan-shrunk-complete",this.floorplanShrunk))}e||(this.layoutManager.resize(this.vf,this.floorplanShrunk),this.cubeManager.resize(),this.sceneData.dimensions=this.layoutManager.getContainerDims()),this.floorplan&&this.floorplan.onUpdateElements(),this.floorplanResizeClicked=!1},Lw.prototype.getViewportMousePosition=function(e){var t=this.imagewindowElemOffset;if(this.vf.embeddedInPortal){t=Rw({},this.imagewindowElemOffset);var n=this.imagewindowElem[0].getBoundingClientRect().top;t.top-=n}return Nw(e,t)},Lw.prototype.getRelativeMousePosition=function(e,t){var n=t.getBoundingClientRect(),i={top:n.top+window.scrollY,left:n.left+window.scrollX};return Nw(e,i)},Lw.prototype.getCubeMousePosition=function(e){var t={top:this.imagewindowElemOffset.top,left:this.panoContainerElemOffset.left};return Nw(e,t)};var Nw=function(e,t){var n,i,r=e.originalEvent||e;if("touchstart"===r.type||"touchend"===r.type||"touchmove"===r.type){var o=r.changedTouches[0];n=o.pageX-t.left,i=o.pageY-t.top}else n=r.pageX-t.left,i=r.pageY-t.top;return new Vs(n,i)},Fw=function(e){var t=e.touches[0],n=e.touches[1];return Hs(new Vs(t.pageX,t.pageY),new Vs(n.pageX,n.pageY))};Lw.prototype.cubeMousedown=function(e){if(this.measureMode.detectIfStatusBarShouldUseTouch(e.type),(this.vf.landscape||this.floorplanShrunk)&&2!==e.which&&1!==e.button){this.vf.eventBus.emit("tour:camera-move-start");var t=this.isAutoplaying();t&&this.toggleAutoplay(),this.exitedAutoplay=t,this.firstMouseDown=!1;for(var n=this.floorplan.getActivePano(),i=0;i<n.neighbors.length;i++)!n.neighbors[i].hidden&&this.arrowsElem.length&&this.arrowsElem[i].classList.remove("arrow_disabled");if(this.hideArrowsAfterDelay(),e||(e=window.event),"touchstart"===e.type&&e.touches&&2===e.touches.length)return this.bSecondPoint=!1,this.touchDistance=Fw(e),!0;var r=this.getCubeMousePosition(e);if(this.initialMouseDownPoint=r,this.initialMouseDownTime=Aa()(),this.isAdvancedMeasureMode()||this.vf.editTags&&this.isAddingTag){void 0===this.previousCubeClick&&(this.previousCubeClick=Aa()(),this.previousCubeClickPoint=r);var o=Aa()()-this.previousCubeClick,a=Hs(r,this.previousCubeClickPoint);if(this.previousCubeClick=Aa()(),o>0&&o<500&&a<2)return this.measureMode.cubeDblClick(e),this.previousCubeClick=void 0,this.previousCubeClickPoint=r,!0;this.previousCubeClickPoint=r}this.sceneData.mouseCoordinates=Rg(r,this.layoutManager.getContainerDims(),this.cubeManager.getHFOV()),this.setMouseDownInView()}},Lw.prototype.measModeAdvancedUndo=function(){this.measureMode&&this.measureMode.advancedUndo()},Lw.prototype.cubeClickNavigate=function(e){var t=this;if(this.sceneData.firstPanoLoaded&&(this.vf.landscape||this.floorplanShrunk)&&!this.isAutoplaying()&&"tour_meas"!==this.vf.page&&!this.bPreparingTransition&&!this.bInTransition){this.showNeighborsArrows();var n=this.getViewportMousePosition(e),i=this.floorplan.getActivePano(),r=this.getBestNeighborIdx(n,i);if(r>-1){var o=i.neighbors[r];if(o&&o.isTag){e.preventDefault();var a=this.vf.tags.find((function(e){return e.id===o.id}));return a.id!==this.activeTag.id&&this.exitTagVisibilityMode(),this.selectTag(a,!0),void this.setPinnedTag(a.id)}if(this.bPreparingTransition=!0,this.closeTagPreviews(!0),this.hideArrows(),this.setHoveredArrowIndex(-1),o&&o.isGate)return void this.cubeClickGate(o);this.floorplan.setNPrevActivePano(),this.floorplan.setNActivePano(o.targetId),this.cubeManager.resetZoom(!0),this.floorplan.getNPrevActivePano()!==this.floorplan.getNActivePano()&&(-1===i.visiblePanoIds.indexOf(o.targetId)?this.updatePano("crossfade"):this.updatePano("navigation"),e.returnValue=!1),e.preventDefault()}else window.requestAnimationFrame((function(){Hw(t,zw,Vw)}))}},Lw.prototype.cubeClickGate=function(e){var t=this,n=e.targetGateId;this.bInTransition=!0,this.bGateTransition=!0,this.updateFloor(e.targetFloorId),this.vf.eventBus.once("floor_changed",(function(){t.floorplan.setNActivePano(e.targetId);var i=t.floorplan.getActivePano().neighbors.find((function(e){return e.gateId===n}));t.vf.eventBus.once("pano_changed-loaded",(function(){t.elevation=0,t.angle=i.angle-t.floorplan.getActivePano().rotationAngle,t.update_image(),t.bGateTransition=!1,t.bPreparingTransition=!1}))}))},Lw.prototype.tagGetImageDims=function(e,t,n){var i=this;t=zs()(t);var r=setInterval((function(){var e=t.width(),n=t.height();e&&n&&c(e,n)}),100);this.tagGetImageDimsIntervals[e]||(this.tagGetImageDimsIntervals[e]=[]),this.tagGetImageDimsIntervals[e].push(r);var o,a,s=setTimeout(n,400);t.on("load",o=function(){c(t.width(),t.height())}).on("error",a=function(){c(t.width(),t.height())});var l=!1,c=function(){if(!l){l=!0,clearTimeout(s),clearInterval(r);var c=i.tagGetImageDimsIntervals[e].indexOf(r);if(c>=0&&i.tagGetImageDimsIntervals[e].splice(c,1),!i.tagGetImageDimsIntervals[e].length){var u=i.tagGetImageDimsIntervals.indexOf(e);u>=0&&i.tagGetImageDimsIntervals.splice(u,1)}t.off("load",o).off("error",a);for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];n.apply(i,h)}}},Lw.prototype.closeTagPreviews=function(e){e&&this.setPinnedTag(-1),this.setHoveredTag(-1)},Lw.prototype.closeTagModal=function(e){var t=this;this.tourData.tagModalOpen=!1,this.tagModalElem.hasClass("in")&&(this.tagModalElem.removeClass("in").addClass("transition-out").off(),this.vf.editTags&&(zs()("body").removeClass("tag-modal-open").css("top",""),zs()(window).scrollTop(this.tagOpenInEditorScrollTop),this.vf.eventBus.off("tag-list-resize",this.tagOpenInEditorResized),this.tagOpenInEditorRequiresResize&&(this.tagOpenInEditorRequiresResize=!1,this.onResizeWindow())),this.tagModalElem.one("transitionend",(function(){t.tagModalElem.hide().removeClass("transition-out"),t.vf.editTags?t.vf.viewer.tagModalContentPreviewElem.html(""):(t.tagModalHeaderElem.text(""),t.tagModalContentElem.html(""))})),this.vf.eventBus.emit("tag-closed",e),this.tagAnimation&&(this.tagAnimation.reverse(),this.tagAnimation.onfinish=function(){t.tagAnimation.cancel(),t.tagAnimation=null}))},Lw.prototype.getRenderedTagContent=function(e){var t,n,i;return this.markdownRenderOptions||(this.markdownRenderOptions=(t=this.vf.unbranded,n={gallery:this.renderTagGalleryImage.bind(this),assets:this.renderTagGalleryImage.bind(this),pano:this.renderTagPanoLink.bind(this)},(i=new(Mv().Renderer)).link=function(e,i,r){return ty("link",e,i,r,n)||(t?Qv(e,0,r):Jv(e,i,r))},i.image=function(e,t,i){return ty("image",e,t,i,n)||ey(e,t,i)},{renderer:i,breaks:!0})),function(e,t){return Mv()(Cv().sanitize(e,hy),t).replace(/<p><\/p>/g,"")}(e,this.markdownRenderOptions)},Lw.prototype.renderTagGalleryImage=function(e,t,n,i){var r=this.vf.assets.tagImage(e);return"link"===i?this.vf.unbranded?Qv(r,0,n):Jv(r,t,n):ey(r,t,n)},Lw.prototype.renderTagPanoLink=function(e,t,n,i){if(e&&"image"!==i){var r=e.split("?"),o=r[1]?(0,xn.dD)(r[1]):null,a=r[0];if(a){var s=o?o.a:null,l=o?o.e:null,c=o?o.z:null,u={page:"tour",pano:a};s&&(u.rotation=s),l&&(u.elevation=l),c&&(u.zoom=c);var d="".concat(En.publicView(this.vf.view),"?").concat((0,xn.Ie)(u)),h={class:"tag-pano-link","data-pano":a};return null!==s&&(h["data-angle"]=s),null!==l&&(h["data-elevation"]=l),null!==c&&(h["data-zoom"]=c),Jv(d,t,n,h)}}},Lw.prototype.navigateTo=function(e,t,n,i){var r=this;e=Va()(e)||0,n=Jo()(n)||0,i=Jo()(i)||0;var o,a=this.floorplan.getActivePano();if(e===a.id)return this.closeTagModal(this.activeTag?this.activeTag.id:null),this.imagewindowElem.find(".tagpreview").remove(),t=Jo()(t)||Zo.pj+a.initAngle,this.sceneData.inertiaTargetPose={azimuth:t,elevation:n},void this.cubeManager.setZoomLevel(i);if(this.bInTransition=!0,this.setHoveredArrowIndex(-1),t=Jo()(t),this.elevation=n,this.cubeManager.setZoomLevel(i),this.floorplan.panoIds.includes(e))isNaN(t)?this.navigateToPanoInitAngle=!0:(this.navigateToPanoDisregardPrevAngle=!0,this.navigateToAngle=t),this.floorplan.setNPrevActivePano(),this.floorplan.setNActivePano(e),window.requestAnimationFrame((function(){r.hideArrows(),r.updatePano("crossfade")}));else{if(isNaN(t)||(this.angle=t,this.updateFloorBypassCameraReset=!0),this.house.floorplans.forEach((function(t){t.id!==r.floorplan.id&&t.panoIds.includes(e)&&(o=t.id)})),!o)return void console.warn("Could not find floor for pano",e);this.house.getFloorplanFromId(o).setNActivePano(e),window.requestAnimationFrame((function(){r.updateFloor(o)}))}this.closeTagModal(this.activeTag?this.activeTag.id:null),this.imagewindowElem.find(".tagpreview").remove()},Lw.prototype.tagOpenInEditorResizedHandler=function(){this.tagOpenInEditorRequiresResize=!0},Lw.prototype.highlightTagList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.tagData.highlightedTagId=e,this.vf.showTagList&&this.vf.eventBus.emit("highlighted_tag_changed",e)},Lw.prototype.deselectTag=function(){this.activeTag&&this.activeTag.id&&(this.activeTag={},this.vf.eventBus.emit("active_tag_changed",-1)),this.exitTagVisibilityMode()},Lw.prototype.selectTag=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.isAutoplaying()&&this.toggleAutoplay(),(!this.activeTag||this.activeTag&&this.activeTag.id!==e.id)&&(this.deselectTag(),n&&(this.activeTag=e),this.vf.eventBus.emit("active_tag_changed",e.id,t),this.vf.editTags&&!this.isSettingTagVisibility&&this.enterUpdateTagVisibilityMode(e))},Lw.prototype.getTagInitialPanoId=function(e){var t=this,n=this.house.getFloorplanFromId(e.floorId);if(n){var i=this.vf.editTags&&e.floorId!==this.house.active_floorplan_index;if(e.initialPanoId&&n.panoIds.includes(e.initialPanoId)){if(!this.vf.editTags||i)return e.initialPanoId;var r=this.floorplan.getPanoById(e.initialPanoId);if(r&&r.bShow)return e.initialPanoId}for(var o=[],a=0;a<e.visiblePanoIds.length;a++)if(n.panoIds.includes(e.visiblePanoIds[a])){if(!this.vf.editTags){o.push(e.visiblePanoIds[a]);continue}var s=this.floorplan.getPanoById(e.visiblePanoIds[a]);s&&s.bShow&&o.push(e.visiblePanoIds[a])}var l=function(n,i){for(var r,o=0,a=9999999999,s=0;s<n.length;s++)if(r=t.floorplan.getPanoById(n[s]),i||r.bShow){var l=new Vs(e.pos[0],e.pos[1]),c=Hs(r.center,l);c<a&&(a=c,o=r.id)}return o},c=l(o,!1);if(!c&&this.vf.editTags){for(var u=0;u<e.allPanoIds.length;u++)n.panoIds.includes(e.allPanoIds[u])&&o.push(e.allPanoIds[u]);c=l(o,!0)}return c}},Lw.prototype.selectAndNavigateToTag=function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this.bInTransition){var o=this.vf.tags.find((function(t){return t.id===e}));if(o&&(this.tagToNavigateTo=e,!this.vf.landscape&&this.vf.showTagList&&this.toggleTagList(),this.vf.isJviewPage()||(this.vf.page="tour"),!this.tagAnimation||this.tagAnimation.tagId!==e||"running"!==this.tagAnimation.playState)){var a=!1,s="modal"===n;("immediate"===n||s)&&(s&&this.openTagModal(o),this.setPinnedTag(o.id),this.vf.eventBus.once("tag-closed",(function(t){t===e&&(a=!0)})));var l=function(){i.selectTag(o,t,r);var s=i.getTagInitialPanoId(o);if(s){var l=void 0!==o.stem?o.pos[2]+10*o.stem:o.pos[2],c=new ta(o.pos[0],o.pos[1],l),u=function(){var t=0,r=0;clearInterval(i.tagElemInterval),i.tagElemInterval=setInterval((function(){t++;var s=document.querySelector("svg[data-tagid='".concat(o.id,"']"));s?(clearInterval(i.tagElemInterval),clearInterval(i.tagAnimateInterval),i.tagAnimateInterval=setInterval((function(){r++,("Rendering"!==i.sceneData.inertiaState||r>20)&&(clearInterval(i.tagAnimateInterval),n&&!a?"preview"===n&&i.setPinnedTag(o.id):(i.tagAnimation=s.animate({transform:["scale(1)","scale(1.5)","scale(1)"],easing:"ease-in-out"},800),i.tagAnimation.tagId=e))}),100)):t>20&&clearInterval(i.tagElemInterval)}),100)},d=function(){i.vf.eventBus.once("tour:move-end",(function(){i.showNeighborsArrows(),i.unhideArrows();var e=i.floorplan.getActivePano(),t=-Tb.getAngle(e.center,c);i.sceneData.inertiaTargetPose={azimuth:t-e.rotationAngle,elevation:i.getTagElevation(o)},u(),i.tagToNavigateTo=null}))};if(i.floorplan.panoIds.includes(s)){var h=i.floorplan.getActivePano();if(h.id===s){var p=-Tb.getAngle(h.center,c)-h.rotationAngle,f=i.getTagElevation(o);i.angle===p&&i.elevation===f||(i.sceneData.inertiaTargetPose={azimuth:p,elevation:f}),u()}else i.bPreparingTransition=!0,i.hideArrows(),i.setHoveredArrowIndex(-1),i.floorplan.setNPrevActivePano(),i.floorplan.setNActivePano(s),i.cubeManager.resetZoom(!0),i.updatePano("crossfade"),d()}else{var m;if(i.house.floorplans.forEach((function(e){e.id!==i.floorplan.id&&e.panoIds.includes(s)&&(m=e.id)})),!m)return;i.setAngleAndElevationToTag(e),i.house.getFloorplanFromId(m).setNActivePano(s),i.updateFloor(m),d()}}};this.isAddingTag&&this.isSettingTagVisibility&&this.isSettingTagVisibility.id!==o.id?(this.finishSettingTagVisibility(),this.vf.eventBus.once("quickreload-complete",(function(){l()}))):l()}}},Lw.prototype.openTagModal=function(e,t){var n,i,r,o,a,s,l=this;if(this.tourData.tagModalOpen=!0,this.vf.editTags){this.vf.eventBus.once("tag-list-resize",this.tagOpenInEditorResized),this.tagOpenInEditorScrollTop=document.documentElement.scrollTop,zs()("body").css("top","".concat(-this.tagOpenInEditorScrollTop,"px")).addClass("tag-modal-open"),zs()("body").addClass("tag-modal-open"),n=zs()("#tag-editor-tab-content"),i=zs()("#tag-editor-tab-options"),r=zs()("#tag-editor-tab-preview"),o=zs()("#tag-editor-tabs a");var c=this.floorplan.tags.find((function(t){return t.id===e.id}));c&&(e=c)}if(this.activeTag=e,this.vf.eventBus.emit("active_tag_changed"),this.vf.editTags)this.activeTag.orig={title:this.activeTag.title||"",content:this.activeTag.content,iframe:this.activeTag.iframe,color:this.activeTag.color,design:this.activeTag.design,opacity:this.activeTag.opacity,stem:this.activeTag.stem},this.activeTag.useMaxWidth=this.vf.editTags&&!this.vf.landscape,this.activeTag.hasNoPadding=!0,o.click((function(t){t.preventDefault(),l.tagModalContentPreviewElem.html(""),t.target===r[0]?(l.activeTag.tab="preview",e.iframe?l.tagModalContentPreviewElem.html(fy(e.iframe.substring(0,1e3),l.vf.unbranded)):e.content&&l.tagModalContentPreviewElem.html(l.getRenderedTagContent(e.content.substring(0,Pw)))):t.target===i[0]?l.activeTag.tab="options":t.target===n[0]&&delete l.activeTag.tab}));else if(t||this.tagModalHeaderElem.text(e.title),e.iframe)this.activeTag.useMaxWidth=!0,this.activeTag.hasNoPadding=!0,this.tagModalContentElem.html(fy(e.iframe,this.vf.unbranded));else{var u=this.getRenderedTagContent(e.content);this.activeTag.useMaxWidth=!(!(a=u).includes("<iframe ")&&!a.match(my));var d=this.activeTag.useMaxWidth&&function(e){if(e.match(my)){var t=e.replace(my,"").trim();return!(t=(t=t.replace(/<div(.+?)>/g,"").trim()).replace(/<\/div>/g,"").trim()).length}var n=e.replace(/<iframe(.+?)<\/iframe>/,"").trim();return n=(n=n.replace(/<div(.+?)>/g,"").trim()).replace(/<\/div>/g,"").trim(),e.length>0&&!n.length}(u);this.activeTag.hasNoPadding=this.vf.viewer.activeTag.iframe||d,this.activeTag.hasOneVideoOnly=d,this.activeTag.limitImageHeight=function(e){var t=/<img(.+?)>/g,n=e.match(t),i=e.replace(t,"").trim();return i=(i=i.replace(/<p(.*?)>/g,"").trim()).replace(/<\/p>/g,"").trim(),!!n&&e.length>0&&i.length>0}(u),this.activeTag.imageExtraPadding=function(e){return e.match(/<img(.+?)>/g)}(u)&&(this.isFirefox&&!this.isAndroidMobile||this.isSafari),t||this.tagModalContentElem.html(u)}(this.tagModalElem.show().addClass("transition-in"),window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){l.tagModalElem.addClass("in").one("transitionend",(function(){l.tagModalElem.removeClass("transition-in"),t&&(l.imagewindowElem.find(".tagpreview").remove(),l.pinnedTagId=0)}))}))})),this.vf.eventBus.emit("tag-opened",e.id),this.vf.editTags)||this.tagModalElem.on("mousedown touchstart",(function(e){s=e.target})).on("mouseup touchend",(function(t){t.preventDefault(),(t.target===s&&t.target===l.tagModalElem[0]||t.target===l.tagModalCloseElem[0])&&l.closeTagModal(e.id)}))},Lw.prototype.onAddTagBtnClick=function(){var e=this;if(this.vf.editTags)if(this.deselectTag(),this.isAddingTag=!this.isAddingTag,this.tagData.isAddingTag=this.isAddingTag,this.isAddingTag)this.isAdvancedMeasureMode()||(this.vf.isRadix?this.measureMode.onOpenAdvancedMeasMode(2):(this.measureMode.onOpenMeasPage(!0),this.measureMode.onOpenAdvancedMeasMode()));else{var t=this.isSettingTagVisibility;this.finishSettingTagVisibility(),t&&(this.vf.quickReload=!0,this.vf.eventBus.emit("quickreload"),this.vf.eventBus.once("quickreload-complete",(function(){e.enterUpdateTagVisibilityMode(t,!0),e.floorSelectorElem.show()})))}},Lw.prototype.onRepositionTagBtnClick=function(e){this.vf.editTags&&(this.isAddingTag&&!this.isRepositioningTag&&this.onAddTagBtnClick(),this.deselectTag(),this.isRepositioningTag&&this.repositioningTagId===e.id?this.exitTagRepositioning(!0):(0!==this.repositioningTagId&&this.repositioningTagId!==e.id&&this.exitTagRepositioning(!0),this.selectAndNavigateToTag(e.id,!1,"",!1),this.enterTagRepositioningMode(e)))},Lw.prototype.enterTagRepositioningMode=function(e){this.isAddingTag=!this.isAddingTag,this.tagData.isAddingTag=this.isAddingTag,this.isRepositioningTag=!0,this.repositioningTagId=e.id,this.isAdvancedMeasureMode()||(this.vf.isRadix?this.measureMode.onOpenAdvancedMeasMode(2):(this.measureMode.onOpenMeasPage(!0),this.measureMode.onOpenAdvancedMeasMode()))},Lw.prototype.exitTagRepositioning=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isRepositioningTag=!1,this.repositioningTagId=0,e&&this.onAddTagBtnClick()},Lw.prototype.enterSetTagVisibilityMode=function(e){var t=this;this.isSettingTagVisibility=e,this.editorLoader.show(),this.vf.editTags.getTagVisiblePanoIds(e).then((function(n){e.allPanoIds=x()(n),t.vf.isRadix||(e.visiblePanoIds=x()(n)),t.selectTag(e),t.floorplan.showTagVisibility(e),t.floorSelectorElem.hide(),t.editorLoader.hide()})).catch((function(e){console.error(e),t.measureMode.clearLastButtonClick(),t.measureMode.addStatusBarError("Error calculating tag visibility. Please try again later or contact support if this error persists."),t.editorLoader.hide()}))},Lw.prototype.enterUpdateTagVisibilityMode=function(e,t){this.isUpdatingTagVisibility=e,this.isSettingTagVisibility=!1,this.floorplan.showTagVisibility(e),this.floorSelectorElem.show(),t||this.measureMode.showTagVisibilityStatusBar()},Lw.prototype.finishSettingTagVisibility=function(e){var t=this,n=this.isSettingTagVisibility;n&&delete n.isNew,this.isAddingTag=!1,this.tagData.isAddingTag=this.isAddingTag,this.measureMode.exit(),e?(this.vf.quickReload=!0,this.vf.eventBus.emit("quickreload"),this.vf.eventBus.once("quickreload-complete",(function(){t.selectTag(e)}))):n&&(this.isSettingTagVisibility=!1,this.selectTag(n)),this.measureMode.removeAllFakeTags()},Lw.prototype.exitTagVisibilityMode=function(){this.vf.editTags&&(this.isUpdatingTagVisibility=!1,this.floorplan.exitTagVisibility(),this.measureMode.emptyStatusBar())},Lw.prototype.onDeleteTag=function(){var e=this.activeTag.id;this.tagData.pinnedTagId===e&&this.setPinnedTag(-1);var t=this.vf.tags.findIndex((function(t){return t.id===e}));if(t>=0){this.vf.tags.splice(t,1),this.tagModalElem&&this.tagModalElem.hide().off(),this.vf.eventBus.emit("tag-closed",e);var n=zs()("svg[data-tagid='".concat(e,"']"));n.length&&n.parent().removeClass("pin").addClass("arrow_disabled"),zs()("#tagpreview".concat(e)).remove(),this.isSettingTagVisibility&&this.isSettingTagVisibility.id===e&&this.finishSettingTagVisibility(),this.exitTagVisibilityMode(),this.vf.quickReload=!0,this.vf.eventBus.emit("quickreload")}},Lw.prototype.toggleTagList=function(){this.vf.hasTagList&&(this.vf.showTagList=!this.vf.showTagList,this.vf.tagListClosed=!this.vf.showTagList,this.updateFloorplanTagIconsVisibility(),this.highlightTagList(),this.vf.eventBus.emit("tag-list-resize"))},Lw.prototype.updateFloorplanTagIconsVisibility=function(){this.setShowTagsInFp(),this.floorplan&&this.floorplan.updateTagIconsVisibility()},Lw.prototype.setShowTagsInFp=function(){this.vf.showTagsInFp=!this.floorplanShrunk&&this.vf.hasTagList&&(this.vf.editTags||!this.vf.landscape||this.vf.landscape&&this.vf.showTagList)},Lw.prototype.getTagColor=function(e){return Ii(e)},Lw.prototype.togglePanZoom=function(){this.preventInitFloorplanMinimize=!0,this.floorplanData.isPanZoomMode=!this.floorplanData.isPanZoomMode},Lw.prototype.resetPanZoom=function(){this.floorplan&&this.floorplan.resetPanZoom()},Lw.prototype.saveFloorScreenshot=function(e){this.floorplan&&this.floorplan.saveFloorScreenshot(e,this.saveScreenshotTags,this.saveScreenshotRotate)},Lw.prototype.mouseUp=function(){return this.sceneData.inertiaRendering||this.vf.eventBus.emit("tour:camera-move-end"),this.setMouseDownInView(!1),this.setMouseDownInFloorplan(!1),this.floorplan&&this.floorplan.onPointerUp(),zs()(document).off("mousemove"),!0},Lw.prototype.documentMouseUp=function(){if(this.fpResizeMousedownTarget=null,this.viewerMouseUpFired)return this.viewerMouseUpFired=!1,void(this.documentMouseUpFired=!0);this.documentMouseUpFired=!0,this.mouseUp()},Lw.prototype.windowMouseUp=function(){return this.fpResizeMousedownTarget=null,this.viewerMouseUpFired||this.documentMouseUpFired?(this.viewerMouseUpFired=!1,void(this.documentMouseUpFired=!1)):void this.mouseUp()},Lw.prototype.mouseIdle=function(){this.arrowsElem.length&&("tour_meas"!==this.vf.page||this.isAddingTag?this.arrowsElem.not(".cubetag").addClass("imagewindow__arrow_isInvisible"):this.arrowsElem.addClass("imagewindow__arrow_isInvisible"),this.arrowsElem.on("transitionend",this.arrowOpacityTransitionend.bind(this)))},Lw.prototype.tourMouseLeave=function(){this.pendingDomUpdates.cubeArrows=void 0,this.pendingDomUpdates.cubeArrowsHighlight=void 0,this.setHoveredArrowIndex(-1),this.showNeighborsArrows(),this.hideArrowsAfterDelay(),this.floorplan.hidePanoHighlight(),this.highlightTagList(),this.measureMode.removePointer()},Lw.prototype.mouseLeave=function(){var e=this;this.sceneData.mouseDown?(this.onDocumentCubeMousemove=this.cubeMousemove.bind(this),zs()(document).on("mousemove",this.onDocumentCubeMousemove)):this.floorplanData.mouseDown?(this.onDocumentFloorplanwindowMousemove=this.floorplanwindowMousemove.bind(this),zs()(document).on("mousemove",{offset:this.floorplanSvgElemOffset},this.onDocumentFloorplanwindowMousemove)):this.floorplan&&this.floorplan.isPointerDown&&(this.onDocumentFloorplanwindowMousemove=function(t){return e.floorplan.onPointerMove(t)},this.floorplanData.mouseDown=!0,zs()(document).on("mousemove",this.onDocumentFloorplanwindowMousemove))},Lw.prototype.mouseEnter=function(){this.sceneData.mouseDown||this.floorplanData.mouseDown||(zs()(document).off("mousemove",this.onDocumentCubeMousemove),zs()(document).off("mousemove",this.onDocumentFloorplanwindowMousemove))},Lw.prototype.getBestNeighborIdx=function(e,t){if(this.bInTransition||!t||!t.neighbors.length)return-1;for(var n,i=t.neighbors,r=this.layoutManager.getViewportDims().width,o=this.imagewindowElemOffset.left,a=e.x>.5*r,s=a?e.x-.5*r:.5*r-e.x,l=(0,Zo.uZ)(s/(r/4),0,1),c=a?e.x+r*(.2+.1*l):e.x-r*(.2+.1*l),u=a?e.x-.2*r:e.x+.2*r,d=a?u:c,h=a?c:u,p=-1,f=9999999999,m=0,g=0,v=0,y={},b=[],w=0;w<i.length;w++)if(!(n=i[w]).hidden){var _=this.arrowsElem[w];if(n.isTag){var x=_.getBoundingClientRect();if(y.leftX=x.left-o,y.rightX=x.right-o,y.centerX=x.left+.5*x.width,y.centerY=x.top+.5*x.height,m=y.centerX-e.x-o,g=y.centerY-e.y,(v=Math.sqrt(m*m+g*g)-(x.width+x.height)/4)<10&&(y.leftX>=d&&y.leftX<=h||y.rightX>=d&&y.rightX<=h)){var T=sa(t.center),S=ha({x:n.coords.x-T.x,y:n.coords.y,z:n.coords.z-T.z});if(ra(pa(S.elevation,S.azimuth),pa(this.elevation,this.angle+t.rotationAngle))<.01)continue;f=v,p=w}}else{var E=(0,Zo.jt)(n.angle,this.angle+t.rotationAngle);if(_&&E<=1.57079633){var M=_.getBoundingClientRect();if(y.leftX=M.left-o,y.rightX=M.right-o,y.centerX=M.left+.5*M.width,y.centerY=M.top+.5*M.height,m=y.centerX-e.x-o,g=y.centerY-e.y,v=Math.sqrt(m*m+g*g)-(M.width+M.height)/4,y.leftX>=d&&y.leftX<=h||y.rightX>=d&&y.rightX<=h){if((a&&y.leftX>window.innerWidth-o||!a&&y.rightX<0)&&!n.isGate){b.push({idx:w,bbox:M});continue}(n.isGate&&v<20||n.isPano&&v<f)&&(f=v,p=w)}}}}if(-1===p&&b.length){f=9999999999;for(var A=b.length;A--;){var C=b[A];y.centerX=C.bbox.left+.5*C.bbox.width,y.centerY=C.bbox.top+.5*C.bbox.height,m=y.centerX-e.x-o,g=y.centerY-e.y,(v=Math.sqrt(m*m+g*g)-(C.bbox.width+C.bbox.height)/4)<f&&(f=v,p=C.idx)}}return p},Lw.prototype.applyPendingDomUpdates=function(){if(this.bGateTransition&&(this.pendingDomUpdates.floorplanRotate=void 0,this.pendingDomUpdates.floorplanPanoHighlight=void 0),void 0!==this.pendingDomUpdates.cubeArrows&&(this.showNeighborsArrows(),this.hideArrowsAfterDelay(),this.floorplanShrunk&&zs()("#floorplanwindow__resize-btn").css("color",""),this.pendingDomUpdates.cubeArrows=void 0),void 0!==this.pendingDomUpdates.setMouseDownInView&&(this.pendingDomUpdates.setMouseDownInView?(this.floorplanData.mouseDown=!1,this.tourContainerElem.addClass("view-mouse-down")):this.tourContainerElem.removeClass("view-mouse-down"),this.pendingDomUpdates.setMouseDownInView=void 0),void 0!==this.pendingDomUpdates.setMouseDownInFloorplan&&(this.pendingDomUpdates.setMouseDownInFloorplan?(this.sceneData.mouseDown=!1,this.tourContainerElem.addClass("floorplan-mouse-down")):this.tourContainerElem.removeClass("floorplan-mouse-down"),this.pendingDomUpdates.setMouseDownInView=void 0),this.pendingDomUpdates.cubeArrowsHighlight){if(this.inertiaMousePoint&&!this.bInTransition&&!this.bPreparingTransition){var e=this.floorplan.getActivePano(),t=this.getBestNeighborIdx(this.inertiaMousePoint,e),n=this.sceneData.hoveredArrowIndex;n!==t&&(n>-1&&(this.setHoveredArrowIndex(-1),this.vf.eventBus.emit("hovered_tag_change",-1),this.setHoveredTag(-1),this.floorplan.hidePanoHighlight(),this.highlightTagList()),t>-1&&(this.setHoveredArrowIndex(t),e.neighbors[t].isTag?(this.floorplan.redrawPanoHighlight(this.floorplan.tags[e.neighbors[t].tagIdx]),this.highlightTagList(e.neighbors[t].id),this.setHoveredTag(e.neighbors[t].id)):e.neighbors[t].isGate?this.floorplan.redrawPanoHighlight(this.floorplan.gates[e.neighbors[t].gateIdx]):e.neighbors[t].isPano&&this.floorplan.redrawPanoHighlight(e.neighbors[t].target)))}this.pendingDomUpdates.cubeArrowsHighlight=void 0}if(void 0!==this.pendingDomUpdates.verticalMeasurement){var i=this.pendingDomUpdates.verticalMeasurement;this.measureMode.verticalMeasurementRay(i),this.pendingDomUpdates.verticalMeasurement=void 0}if(void 0!==this.pendingDomUpdates.cubeTouchZoom){var r=this.pendingDomUpdates.cubeTouchZoom,o=r-this.touchDistance;this.touchDistance=r,this.cubeManager.increaseZoom(.7*o*.05),this.showNeighborsArrows(),this.update_image(),this.pendingDomUpdates.cubeTouchZoom=void 0}if(void 0!==this.pendingDomUpdates.cubeRotate){if(!this.isAutoplaying()&&!this.bInTransition){var a=this.pendingDomUpdates.cubeRotate;this.sceneData.mouseCoordinates=Rg(a,this.layoutManager.getContainerDims(),this.cubeManager.getHFOV()),this.previousCubeClick=void 0}this.pendingDomUpdates.cubeRotate=void 0}if(void 0!==this.pendingDomUpdates.cubeWheelScroll){var s=this.pendingDomUpdates.cubeWheelScroll;this.cubeManager.increaseZoom(.7*-s*.05),this.showNeighborsArrows(),this.update_image({isZoom:!0}),this.cubeManager.getZoom()&&this.hideArrowsAfterDelay(),this.pendingDomUpdates.cubeWheelScroll=void 0}if(void 0!==this.pendingDomUpdates.floorplanMousemove&&(this.measureMode.removePointer(),this.floorplanwindowElem.css("cursor",""),zs()("#floorplanwindow__resize-btn").css("color",""),this.pendingDomUpdates.floorplanMousemove=void 0),void 0!==this.pendingDomUpdates.floorplanPanoHighlight){if(this.hasFloorplan){var l=this.pendingDomUpdates.floorplanPanoHighlight,c=this.floorplan.pano__isMouseOver(l);if(-1!==c&&this.floorplan.panos[c]){var u=document.getElementById("pano".concat(this.floorplan.panos[c].id));u&&"hidden"!==u.style.visibility&&this.floorplan.redrawPanoHighlight(this.floorplan.panos[c])}else{var d=this.floorplan.gate__isMouseOver(l);if(-1!==d&&this.floorplan.gates[d]){var h=document.getElementById("gate".concat(this.floorplan.gates[d].id));h&&"hidden"!==h.style.visibility&&this.floorplan.redrawPanoHighlight(this.floorplan.gates[d])}else{var p=this.floorplan.tag__isMouseOver(l);if(-1!==p&&this.floorplan.tags[p]){var f=document.getElementById("tag".concat(this.floorplan.tags[p].id));f&&!f.classList.contains("hidden")&&(this.floorplan.redrawPanoHighlight(this.floorplan.tags[p]),this.highlightTagList(this.floorplan.tags[p].id))}else this.floorplan.hidePanoHighlight(),this.highlightTagList()}}}this.pendingDomUpdates.floorplanPanoHighlight=void 0}if(void 0!==this.pendingDomUpdates.hideFloorplanPanoHighlight&&(this.floorplan.hidePanoHighlight(),this.pendingDomUpdates.hideFloorplanPanoHighlight=void 0),void 0!==this.pendingDomUpdates.floorplanRotate){if("tour_meas"===this.vf.page||this.floorplanData.mouseDown){var m=this.pendingDomUpdates.floorplanRotate,g=this.floorplan.computeAngle(m);g<-1e3&&(g=this.angle),this.vf.compass||this.measureMode.onFloorplanwindowMousemove(m,g)}this.pendingDomUpdates.floorplanRotate=void 0}if(void 0!==this.pendingDomUpdates.floorplanWheelScroll){var v=this.pendingDomUpdates.floorplanWheelScroll;this.angle+=.1*v,this.update_image(),this.pendingDomUpdates.floorplanWheelScroll=void 0}if(void 0!==this.pendingDomUpdates.showNeighborsArrows){var y=!1;(this.bInTransition&&"transition"!==this.pendingDomUpdates.showNeighborsArrows||this.isAutoplaying()||this.sceneData.initAnimationPlaying||this.mouseIsInFloorplan||"tour_meas"===this.vf.page)&&(this.bInTransition||"tour_meas"===this.vf.page&&!this.isAddingTag?this.arrowsElem.addClass("imagewindow__arrow_isInvisible"):this.arrowsElem.not(".cubetag").addClass("imagewindow__arrow_isInvisible"),this.setHoveredArrowIndex(-1),this.arrowsElem.on("transitionend",this.arrowOpacityTransitionend.bind(this)),y=!0),y||this.arrowsElem.removeClass("imagewindow__arrow_isInvisible"),this.pendingDomUpdates.showNeighborsArrows=void 0}this.applyPendingDomUpdatesHandler=null},Lw.prototype.cubeMousemove=function(e){if(!this.floorplanData.mouseDown&&this.sceneData.firstPanoLoaded){"mousemove"===e.type&&!e.buttons&&this.sceneData.mouseDown&&this.setMouseDownInView(!1),e||(e=window.event),this.isIOS&&"touchmove"===e.type&&e.preventDefault&&e.preventDefault(),(this.bInTransition||this.bPreparingTransition)&&(this.floorplan.hidePanoHighlight(),this.highlightTagList()),this.mouseIsInFloorplan&&(this.mouseIsInFloorplan=!1),this.applyPendingDomUpdatesHandler||(this.applyPendingDomUpdatesHandler=window.requestAnimationFrame(this._applyPendingDomUpdates)),this.pendingDomUpdates.cubeArrows=!0,this.inertiaMousePoint=this.getViewportMousePosition(e);var t=this.getCubeMousePosition(e);this.pendingDomUpdates.verticalMeasurement=t;var n=zs()("#dropdown-container").hasClass("show");if("tour_meas"===this.vf.page||n||this.isAutoplaying()||this.bInTransition||this.bPreparingTransition||"Rendering"===this.sceneData.inertiaStatus||(this.pendingDomUpdates.cubeArrowsHighlight=!0),"touchmove"===e.type&&e.touches&&2===e.touches.length){this.bSecondPoint=!1;var i=Fw(e);this.pendingDomUpdates.cubeTouchZoom=i}else!1!==this.sceneData.mouseDown&&(this.pendingDomUpdates.cubeRotate=t)}},Lw.prototype.cubeMouseup=function(e){if(this.pendingDomUpdates.cubeRotate=void 0,e||(e=window.event),"touchend"===e.type&&e.touches&&2===e.touches.length)return this.bSecondPoint=!1,!0;(!this.floorplan||this.floorplan&&!this.floorplan.isPointerDown)&&(this.viewerMouseUpFired=!0),"Stopped"===this.sceneData.inertiaStatus&&this.vf.eventBus.emit("tour:camera-move-end");var t=zs()("#dropdown-container").hasClass("show");"Rendering"!==this.sceneData.inertiaStatus&&this.cubeArrowsHighlightForInertia();var n=this.getCubeMousePosition(e);!(!t&&!this.bInTransition&&this.sceneData.mouseDown&&!this.floorplanData.mouseDown&&Aa()()-this.initialMouseDownTime<400&&Hs(this.initialMouseDownPoint,n)<7)||e.toElement&&-1!==e.toElement.className.indexOf("arrow")||this.exitedAutoplay||(0===this.timeBeforeClick||this.timeBeforeClick<Aa()())&&(this.cubeClickNavigate(e),this.floorplan.hidePanoHighlight()),this.setMouseDownInFloorplan(!1),this.setMouseDownInView(!1)},Lw.prototype.cubePointerMove=function(e){this.applyPendingDomUpdatesHandler||(this.applyPendingDomUpdatesHandler=window.requestAnimationFrame(this._applyPendingDomUpdates));var t=this.getCubeMousePosition(e);this.pendingDomUpdates.verticalMeasurement=t},Lw.prototype.cubeMousewheel=function(e){if(e.preventDefault(),!this.isAutoplaying()&&!this.sceneData.initAnimationPlaying){var t=0;e.wheelDelta?t=-e.wheelDelta/120:e.detail&&(t=e.detail),this.applyPendingDomUpdatesHandler||(this.applyPendingDomUpdatesHandler=window.requestAnimationFrame(this._applyPendingDomUpdates)),this.pendingDomUpdates.cubeWheelScroll=t}},Lw.prototype.cubePinch=function(e){this.applyPendingDomUpdatesHandler||(this.applyPendingDomUpdatesHandler=window.requestAnimationFrame(this._applyPendingDomUpdates)),this.pendingDomUpdates.cubeWheelScroll=-e.detail.offset},Lw.prototype.floorplanwindowMousedown=function(e){if(this.measureMode.detectIfStatusBarShouldUseTouch(e.type),!this.bGateTransition){if(e||(e=window.event),"touchstart"===e.type&&e.originalEvent.touches&&2===e.originalEvent.touches.length)return e.returnValue=!0,this.bSecondPoint=!1,!0;if(this.floorplanShrunk)return e.preventDefault(),this.onShrinkFloorplan(),!0;if(!e.target.tagName||"image"!==e.target.tagName||!e.target.classList.contains("edit-btn")){void 0===this.latestClick&&(this.latestClick=Aa()());var t=Aa()()-this.latestClick;if(this.latestClick=Aa()(),t>0&&t<500&&(this.vf.edit&&this.vf.edit.panos||this.vf.editTags&&(this.isAddingTag&&this.isSettingTagVisibility||this.isUpdatingTagVisibility)))return this.floorplanwindowDblClick(e),this.latestClick=void 0,!0;this.previousClickEvent=e,this.floorplanData.isPanZoomMode||(this.setMouseDownInFloorplan(),"touchstart"===e.type&&e.originalEvent.touches&&e.originalEvent.touches.length<2&&(this.mouseIsInFloorplan=!0));var n=Nw(e,e.data.offset),i=this.floorplan.getHotspotMouseIsOver(n);if(i&&(this.fpMouseDownHotspot=i,this.fpMouseUpWillNavigate=!0),!this.floorplanData.isPanZoomMode&&(this.measureMode.onFloorplanwindowMousedown(n),this.elevation=0,this.cubeManager.resetZoom(),!this.vf.compass)){var r=this.floorplan.computeAngle(n);r!==this.angle&&(r>-1e3&&(this.angle=r),this.vf.eventBus.emit("tour:camera-move-start"),this.update_image())}}}},Lw.prototype.floorplanwindowMousemove=function(e){if(!this.sceneData.mouseDown){if("mousemove"===e.type&&!e.buttons&&this.floorplanData.mouseDown&&this.setMouseDownInFloorplan(!1),this.floorplanShrunk)return this.floorplanwindowElem.css("cursor","pointer"),void zs()("#floorplanwindow__resize-btn").css("color","black");if(this.applyPendingDomUpdatesHandler||(this.applyPendingDomUpdatesHandler=window.requestAnimationFrame(this._applyPendingDomUpdates)),this.pendingDomUpdates.floorplanMousemove=!0,!e.target.classList||!e.target.classList.contains("overlay")&&"DisclaimerButton"!==e.target.id&&"ClearLastButton"!==e.target.id&&!e.target.classList.contains("units")&&"shrink"!==e.target.id){if(this.mouseIsInFloorplan=!0,this.showNeighborsArrows(),e||(e=window.event),"touchmove"===e.type&&e.originalEvent.touches&&2===e.originalEvent.touches.length)return this.bSecondPoint=!1,!0;if(e.preventDefault?e.preventDefault():e.returnValue=!1,this.bInTransition)return!1;var t=Nw(e,e.data.offset);if(this.fpMouseUpWillNavigate&&this.fpMouseDownHotspot){var n=this.floorplan.getHotspotMouseIsOver(t);(this.floorplanData.isPanZoomMode||!n||n&&n!==this.fpMouseDownHotspot)&&(this.fpMouseUpWillNavigate=!1)}if(this.pendingDomUpdates.floorplanPanoHighlight=t,this.isAutoplaying()||this.vf.editTags&&this.isMeasureMode1()&&!this.floorplanData.mouseDown)return!1;this.floorplanData.isPanZoomMode||(this.pendingDomUpdates.floorplanRotate=t)}}},Lw.prototype.floorplanwindowMouseup=function(e){var t=this;if(e||(e=window.event),(this.floorplanData.mouseDown||this.sceneData.mouseDown)&&this.vf.eventBus.emit("tour:camera-move-end"),this.viewerMouseUpFired=!0,e.preventDefault(),this.setMouseDownInFloorplan(!1),this.setMouseDownInView(!1),"touchend"===e.type&&e.originalEvent.touches&&2===e.originalEvent.touches.length)return this.bSecondPoint=!1,!0;var n,i,r,o,a,s,l=Nw(e,e.data.offset),c=!0;if(this.fpMouseUpWillNavigate){this.fpMouseUpWillNavigate=!1;var u=this.floorplan.getHotspotMouseIsOver(l);if(u&&u===this.fpMouseDownHotspot)if(this.floorplan.setNPrevActivePano(),(n=this.floorplan.getClickedPano(l))&&this.floorplan.getNPrevActivePano()!==n.id){this.floorplan.setNActivePano(n.id),this.vf.edit||this.vf.landscape||"tour"!==this.vf.page||this.onShrinkFloorplan(),this.hideArrows(),this.bPreparingTransition=!0,this.cubeManager.resetZoom(!0);var d=this.isAutoplaying()||this.tourData.useWebgl;if(this.vf.editTags&&this.isAddingTag&&this.isSettingTagVisibility){var h=this.isSettingTagVisibility;this.finishSettingTagVisibility(),this.vf.quickReload=!0,this.vf.quickReloadNPrevActivePano=this.floorplan.getNPrevActivePano(),this.vf.eventBus.emit("quickreload"),this.vf.eventBus.once("quickreload-complete",(function(){t.enterUpdateTagVisibilityMode(h),t.updatePano(d?"no-animation":"floorplan-crossfade")}))}else this.updatePano(d?"no-animation":"floorplan-crossfade");c=!1,e.returnValue=!1}else(r=this.floorplan.getClickedGate(l))?(this.bInTransition=!0,this.bGateTransition=!0,this.vf.edit||this.vf.landscape||"tour"!==this.vf.page||this.onShrinkFloorplan(),(a=this.floorplan.gates.find((function(e){return e.id===r.id})))&&(this.updateFloor(a.targetFloorId),this.vf.eventBus.once("floor_changed",(function(){if(a.targetPanoId){t.floorplan.setNActivePano(a.targetPanoId);var e=t.floorplan.getActivePano();e&&(s=e.neighbors.find((function(e){return e.gateId===a.targetId}))),t.vf.eventBus.once("pano_changed-loaded",(function(){if(t.bGateTransition=!1,s){var n=t.tourData.useWebgl?0:e.rotationAngle;t.angle=s.angle-n,t.update_image()}}))}else t.bGateTransition=!1})),e.returnValue=!1)):(i=this.floorplan.getClickedTag(l))&&(this.vf.edit||this.vf.landscape||"tour"!==this.vf.page||this.onShrinkFloorplan(),(o=this.floorplan.tags.find((function(e){return e.id===i.id})))&&(this.isRepositioningTag&&this.exitTagRepositioning(!0),this.selectAndNavigateToTag(i.id,!0,"preview"),e.returnValue=!1))}else this.pendingDomUpdates.hideFloorplanPanoHighlight=!0;return this.floorplanData.isPanZoomMode?void 0:n||a||o?(o||(this.elevation=0),this.bSecondPoint=!1,void this.floorplan.clearCurrentMeasurement()):(this.measureMode.onFloorplanwindowMouseup(l),c)},Lw.prototype.floorplanwindowDblClick=function(e){var t=this,n=this.floorplan,i=n.getClickedPano(Nw(e,e.data.offset));if(i&&i.id&&this.previousClickEvent.target===e.target)if(this.vf.editTags&&(this.isAddingTag&&this.isSettingTagVisibility||this.isUpdatingTagVisibility)){var r=this.isUpdatingTagVisibility?this.isUpdatingTagVisibility:this.isSettingTagVisibility,o=r.visiblePanoIds.includes(i.id);if(o){var a=r.visiblePanoIds.indexOf(i.id);r.visiblePanoIds.splice(a,1)}else r.visiblePanoIds.push(i.id);var s=!o;i.swapColor(s);var l=function(){t.isUpdatingTagVisibility?t.cubeManager.setNeighborTagVisibilityAndTransform(r.id,s):s?t.measureMode.addFakeTag(r):t.measureMode.hideFakeTag(r.id)},c=n.getActivePano();i.id===c.id&&i.id===n.getNPrevActivePano()?l():this.vf.eventBus.once("tour:move-end",(function(){l()}))}else{var u=n.getPanoAndIdxFromId(i.id).pano;if(u.overlappingPanoIds&&u.overlappingPanoIds.length)this.vf.edit&&this.editModal&&this.editModal.showOverlappingPanosModal(u);else{var d=!i.bShow;d&&this.vf.edit.canShowPano&&!this.vf.edit.canShowPano(i)||(i.setShown(n.get_colors().circle,d),this.vf.eventBus.emit("pano_visibility_changed",i,n))}}},Lw.prototype.floorplanwindowMousewheel=function(e){if(this.isAutoplaying()||this.floorplanData.isPanZoomMode)return!1;var t=0;return e.originalEvent.wheelDelta?t=-e.originalEvent.wheelDelta/120:e.originalEvent.detail&&(t=e.originalEvent.detail),this.applyPendingDomUpdatesHandler||(this.applyPendingDomUpdatesHandler=window.requestAnimationFrame(this._applyPendingDomUpdates)),this.pendingDomUpdates.floorplanWheelScroll=t,!1},Lw.prototype.arrowOpacityTransitionend=function(){this.arrowsElem.length&&(this.arrowsElem.hasClass("imagewindow__arrow_isInvisible")&&("tour_meas"!==this.vf.page||this.isAddingTag?(this.arrowsElem.not(".cubetag").addClass("arrow_disabled"),this.arrowsElem.filter(".cubetag").removeClass("imagewindow__arrow_isInvisible")):this.arrowsElem.addClass("arrow_disabled")),this.arrowsElem.off("transitionend"))},Lw.prototype.resetUserEvents=function(){this.floorplanSvgElem&&(this.sidePanelElem.off(),this.floorplanSvgElem.off(),this.floorplanSvgElem.on("mousedown touchstart",{offset:this.floorplanSvgElemOffset},this.floorplanwindowMousedown.bind(this)),this.floorplanSvgElem.on("mousemove touchmove",{offset:this.floorplanSvgElemOffset},this.floorplanwindowMousemove.bind(this)),this.floorplanSvgElem.on("mouseup touchend",{offset:this.floorplanSvgElemOffset},this.floorplanwindowMouseup.bind(this)),this.floorplanSvgElem.on("wheel",this.floorplanwindowMousewheel.bind(this)),this.floorplanSvgElem.on("mouseleave",this.mouseLeave.bind(this)),document.onmouseup=this.documentMouseUp.bind(this),window.onmouseup=this.windowMouseUp.bind(this))},Lw.prototype.hideArrowsAfterDelay=function(e){e=e>=0?e:3e3,this.firstMouseDown&&0!==e||(clearTimeout(this.hideArrowsTimer),-1===this.sceneData.hoveredArrowIndex&&(this.hideArrowsTimer=setTimeout(this.mouseIdle.bind(this),e)))},Lw.prototype.hideArrows=function(){this.sceneData.hideArrows=!0},Lw.prototype.unhideArrows=function(){this.sceneData.hideArrows=!1},Lw.prototype.setHoveredArrowIndex=function(e){this.sceneData.hoveredArrowIndex=e},Lw.prototype.toggleUnit=function(){"tour_meas"===this.vf.page&&(this.floorplan.updateMeasurementLabels(this.vf.bImperial),this.floorplan.updateDimensions())},Lw.prototype.startAutoplay=function(){this.tourData.autoplaying||(this.sceneData.initAnimationDisabled=!0,this.tourData.autoplaying=!0,this.vf.page="video")},Lw.prototype.stopAutoplay=function(){this.tourData.autoplaying&&(this.tourData.autoplaying=!1,this.vf.page="tour")},Lw.prototype.updateCompassSupport=function(){var e=this;if(this.imu=new uw,this.vf.compass){var t=this;zs()(window).bind("deviceorientation",(function(n){var i=t.imu.getOrientation(n.originalEvent,t.vf.decl);if(!i)return!1;var r=t.floorplan,o=r.getActivePano();if(!o)return e.toggleCompass(),!1;var a=i.angle,s=90*Zo.ZX;return t.angle=a+s+r.compassAngle-o.rotationAngle,t.elevation=Math.PI/2-i.elevation,t.update_image(),!1}))}else zs()(window).unbind("deviceorientation")},Lw.prototype.update_image=function(e){this.angle%=Zo.uo,this.isMeasureMode1()&&this.updateBearingDisplay(),this.elevation=(0,Zo.uZ)(this.elevation,-Iw,Iw),this.vf.eventBus.emit("tour:camera-move"),this.floorplan.setRadarTransform(this.angle),this.setCubeAndArrowsTransform(e)},Lw.prototype.updateBearingDisplay=function(){if(!this.vf.editTags){var e=this.floorplan.getActivePano();if(e){var t=(Math.round(100*(0,Zo.D5)(180*(this.angle+e.rotationAngle)/Math.PI,360))/100).toFixed(2);this.vf.eventBus.emit("update_measure_bearing",Number(t))}}},Lw.prototype.cubeArrowsHighlightForInertia=function(){this.bInTransition||this.bPreparingTransition?this.floorplan.hidePanoHighlight():(this.applyPendingDomUpdatesHandler||(this.applyPendingDomUpdatesHandler=window.requestAnimationFrame(this._applyPendingDomUpdates)),this.pendingDomUpdates.cubeArrowsHighlight="tour_meas"!==this.vf.page)},Lw.prototype.onPanoLoadStarted=function(){this.isAutoplaying()||(this.loader.show(),this.hideArrowsAfterDelay(0))},Lw.prototype.onPanoLoadFinished=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=this.tourData.activePano,i=this.sceneData,r=i.panoChangeType,o=i.isPanoViews,a=t||r;this.loader.hide(),zs()("#imagewindow__overlay").addClass("imagewindow__overlay_isInvisible"),"no-animation"===a?(this.bPreparingTransition=!1,this.switchCubes(),this.update_image(),this.unhideArrows(),this.showNeighborsArrows(),o&&this.vf.eventBus.emit("tour:move-end",n.id,a)):window.requestAnimationFrame((function(){Hw(e,Bw,Uw,a)})),this.vf.eventBus.emit("pano_changed-loaded",this.floorplan.getActivePano()),this.sceneData.firstPanoLoaded=!0},Lw.prototype.initAnimationStarted=function(){this.sceneData.initAnimationPlaying=!0,this.visibilityEventFired=!0},Lw.prototype.initAnimationFinished=function(){this.sceneData.initAnimationPlaying=!1},Lw.prototype.setTripodImageOpacity=function(e){e.getTripodImageOpacity&&this.tfaceImgElems[6].attr("style","opacity: ".concat(e.getTripodImageOpacity()))};var Bw=function(e,t){var n=e.floorplan;n.onSetElementsPreTransition(),n.setPanoMarkerTransition(e.transitionStyle);var i=n.getActivePano(),r=n.getPrevActivePano(),o=e.angle+r.rotationAngle,a=Math.cos(o),s=Math.sin(o),l=i.center0.x-r.center0.x,c=i.center0.y-r.center0.y;c=-c;var u=Math.sqrt(l*l+c*c);u<1e-6?(l=a,c=s):(l/=u,c/=u);var d,h,p,f=a*l+s*c,m=a*c-s*l,g=e.cubeManager.getRadius(),v=Math.cos(e.elevation),y=g*m/2,b=(v>0?1:-1)*(1-v)*g*f/2;p=u<1e3?.2:u>5e3?.5:.2+.3*(u-1e3)/4e3;var w=e.cubeManager.getZoom();d=Math.round(g*(w+p*f*v)),h=Math.round(g*(w-p*f*v));var _=Math.round(g*w);e.allAnimations.forEach((function(e){e.cancel()})),e.allAnimations=[];var x=[],T=o-i.rotationAngle,S=Zo.pj-e.angle,E=Zo.pj-T;if("crossfade"===t||"floorplan-crossfade"===t){"floorplan-crossfade"===t||e.navigateToPanoInitAngle?E=-i.initAngle:e.navigateToPanoDisregardPrevAngle&&!isNaN(e.navigateToAngle)&&(E=Zo.pj-e.navigateToAngle),e.imagewindowElem.css("background-color","#000000");var M=e.tpanoContainerElem[0].animate({opacity:[.01,.01,.99]},{duration:$w,fill:"forwards"});e.allAnimations.push(M),x.push(new(jr())((function(e){M.onfinish=e})));var A=e.panoContainerElem[0].animate({opacity:[.99,.01,.01]},{duration:$w,fill:"forwards"});e.allAnimations.push(A),x.push(new(jr())((function(e){A.onfinish=e})));var C=e.faceImgElems[6][0].animate({opacity:[r.getTripodImageOpacity(),i.getTripodImageOpacity()]},{duration:$w,fill:"forwards"});e.allAnimations.push(C),x.push(new(jr())((function(e){C.onfinish=e}))),d=_,h=_,y=0,b=0}else{var k=e.tpanoContainerElem[0].animate({opacity:[.01,.99],perspective:["".concat(h,"px"),"".concat(_,"px")],easing:"ease"},{duration:$w,fill:"forwards"});e.allAnimations.push(k),x.push(new(jr())((function(e){k.onfinish=e})));var P=e.panoContainerElem[0].animate({opacity:[.99,.01],perspective:["".concat(_,"px"),"".concat(d,"px")],easing:"ease"},{duration:$w,fill:"forwards"});e.allAnimations.push(P),x.push(new(jr())((function(e){P.onfinish=e})));var D=e.faceImgElems[6][0].animate({opacity:[r.getTripodImageOpacity(),i.getTripodImageOpacity()]},{duration:$w,fill:"forwards"});e.allAnimations.push(D),x.push(new(jr())((function(e){D.onfinish=e})))}for(var R=Eo(-b)+So(-y)+Mo(h)+Ao(e.elevation)+Co(E),$=Mo(_)+Ao(e.elevation)+Co(E),I=Mo(_)+Ao(e.elevation)+Co(S),L=Eo(b)+So(y)+Mo(d)+Ao(e.elevation)+Co(S),O=Mo(-(e.cubeManager.getRadius()-1)),N=function(t){var n=e.tfaceElems[t][0].animate({transform:[R+Po[t]+O,$+Po[t]+O],easing:"ease"},{duration:$w,fill:"forwards"});e.allAnimations.push(n),x.push(new(jr())((function(e){n.onfinish=e})));var i=e.faceElems[t][0].animate({transform:[I+Po[t]+O,L+Po[t]+O],easing:"ease"},{duration:$w,fill:"forwards"});e.allAnimations.push(i),x.push(new(jr())((function(e){i.onfinish=e})))},F=6;F--;)N(F);return jr().all(x)},Uw=function(e,t){var n=e.floorplan,i=n.getPrevActivePano(),r=n.getActivePano();n.onAnimationEndNavigation(),e.switchCubes(),"crossfade"!==t&&"floorplan-crossfade"!==t||e.imagewindowElem.css("background-color",""),r.element&&r.element.node&&zs()(r.element.node).attr("class",""),"floorplan-crossfade"===t||e.navigateToPanoInitAngle?(e.angle=Zo.pj+r.initAngle,e.navigateToPanoInitAngle=!1):e.navigateToPanoDisregardPrevAngle?(e.navigateToPanoDisregardPrevAngle=!1,e.angle=e.navigateToAngle,e.navigateToAngle=null):e.vf.tagToNavigateTo?e.setAngleAndElevationToTag(e.vf.tagToNavigateTo):e.angle+=i.rotationAngle-r.rotationAngle,e.showNeighborsArrows(),e.update_image(),n.unsetPanoMarkerTransition(e.transitionStyle),e.allAnimations.forEach((function(e){e.cancel()})),e.floorplan.setPanoVisited(),e.hideArrowsAfterDelay(),e.tagToNavigateTo=null,e.vf.eventBus.emit("tour:move-end",r.id,t)},zw=function(e){var t=[],n=Math.round(e.cubeManager.getRadius()*e.cubeManager.getZoom());e.hideArrows(),e.setHoveredArrowIndex(-1);var i=e.panoContainerElem[0].animate({perspective:["".concat(n,"px"),"".concat(1.1*n,"px"),"".concat(n,"px")],easing:"ease"},{duration:$w});t.push(new(jr())((function(e){i.onfinish=e})));for(var r=Zo.pj-e.angle,o=Mo(n)+Ao(e.elevation)+Co(r),a=Mo(1.1*n)+Ao(e.elevation)+Co(r),s=Mo(-(e.cubeManager.getRadius()-1)),l=function(n){var i=e.faceElems[n][0].animate({transform:[o+Po[n]+s,a+Po[n]+s,o+Po[n]+s],easing:"ease"},{duration:$w});t.push(new(jr())((function(e){i.onfinish=e})))},c=6;c--;)l(c);return jr().all(t)},Vw=function(e){e.unhideArrows()},Hw=function(e,t,n,i){e.bInTransition=!0,e.bPreparingTransition=!1,t(e,i).then((function(){n(e,i),e.unhideArrows(),e.showNeighborsArrows(),e.bInTransition=!1}))};Lw.prototype.disableInitAnimation=function(){this.sceneData.initAnimationDisabled=!0},Lw.prototype.setNewPanoState=function(){var e=this;if(this.bInitLoad){var t=!!this.vf.initTag&&(this.vf.tags.find((function(t){return t.globalId===e.vf.initTag}))||this.vf.tags.find((function(t){return t.id===Va()(e.vf.initTag)})));if(this.elevation=this.vf.initelevation&&!t?this.vf.initelevation:0,this.vf.initzoomlevel&&!t&&this.cubeManager.setZoomLevel(this.vf.initzoomlevel),void 0===this.vf.initrotation||t||(this.angle=this.vf.initrotation,this.angle_last=this.vf.initrotation),"video"===this.vf.page)this.vf.landscape||this.minimizeFloorplanAfterInitialZoom(),this.startAutoplay();else if("tour"===this.vf.page)this.vf.initTag&&t&&(this.sceneData.initAnimationDisabled=!0,this.vf.eventBus.once("pano_changed-loaded",(function(){var i=void 0!==t.stem?t.pos[2]+10*t.stem:t.pos[2],r=new ta(t.pos[0],t.pos[1],i),o=-Tb.getAngle(n.center,r);e.angle=o-n.rotationAngle,e.angle_last=o-n.rotationAngle,e.elevation=e.getTagElevation(t),e.vf.viewer.selectAndNavigateToTag(t.id,!0,"preview")}))),this.sceneData.initAnimationDisabled&&(this.visibilityEventFired=!0),this.vf.noinitanimation?this.vf.landscape||this.minimizeFloorplanAfterInitialZoom():this.vf.eventBus.once("pano_changed-loaded",(function(){(0!==e.sceneData.elevation||e.vf.initzoomlevel)&&(e.sceneData.initAnimationDisabled=!0),e.vf.edit||e.vf.landscape&&!e.vf.minfp||e.preventInitFloorplanMinimize||e.minimizeFloorplanAfterInitialZoom(),e.update_image()}));else if("extvideo"===this.vf.page){document.addEventListener("start-tour-autoplay",(function t(){document.removeEventListener("start-tour-autoplay",t),setTimeout((function(){e.floorplan.redraw(),e.startAutoplay()}))}))}}this.vf.tagToNavigateTo&&this.setAngleAndElevationToTag(this.vf.tagToNavigateTo),this.bInitLoad=!1,this.floorplan.setPanoVisited(),this.hideArrowsAfterDelay();var n=this.floorplan.getActivePano();n&&this.setTripodImageOpacity(n)},Lw.prototype.updatePano=function(e,t,n){var i=this.floorplan.getActivePano();this.closeTagPreviews(!0),this.measureMode.onUpdatePano(),this.vf.eventBus.emit("pano_changed",i.id,i,e,t),"no-animation"===e?this.setNewPanoState():this.setTripodImageOpacity(i);var r=i.id,o=i.sphereHash,a=i.center,s=i.rotationAngle;this.tourData.activePano={id:r,sphereHash:o,center:a,rotationAngle:s},this.sceneData.panoChangeType=e,this.sceneData.isPanoViews=n},Lw.prototype.showNeighborsArrows=function(e){this.arrowsElem.length&&(this.applyPendingDomUpdatesHandler||(this.applyPendingDomUpdatesHandler=window.requestAnimationFrame(this._applyPendingDomUpdates)),this.pendingDomUpdates.showNeighborsArrows=!e||"transition")},Lw.prototype.setCubeAndArrowsTransform=function(e){this.floorplan.panos.length&&!this.isAutoplaying()&&(this.cubeManager.setCubeAndArrowsTransform(),this.measureMode.onSetCubeAndArrowsTransform(e))},Lw.prototype.set_measurement_floorplan=function(){this.stopAutoplay(),this.bSecondPoint=!1,this.floorplan.updateDimensions(),this.showNeighborsArrows()},Lw.prototype.set_tour_floorplan=function(){this.floorplan.clearMeasurements(),this.floorplan.showRoomDimsLabels(!0),this.showNeighborsArrows(),this.setCubeAndArrowsTransform()},Lw.prototype.getData=function(){return this.packer.pack(this.house)},Lw.prototype.resetLabels=function(e){this.floorplan.onResetLabels(e)},Lw.prototype.onAddLabelBtnClick=function(){var e=this;this.floorplan.onAddLabelBtnClick((function(t){return Nw({originalEvent:t},e.floorplanSvgElemOffset)}))},Lw.prototype.toggleAutoplay=function(){this.vf.compass&&(this.vf.compass=!this.vf.compass,this.updateCompassSupport()),this.bInTransition||(this.tourData.autoplaying?this.stopAutoplay():("tour_meas"===this.vf.page&&this.set_tour_floorplan(),this.imagewindowElem.css("opacity","1"),this.floorplanwindowElem.css("background-color",""),this.floorplanwindowElem.css("transition",""),this.startAutoplay()))},Lw.prototype.toggleCompass=function(e){this.isAutoplaying()?this.stopAutoplay():e||"tour_meas"!==this.vf.page||(this.floorplan.clearMeasurements(),this.vf.page="tour"),this.vf.compass=!this.vf.compass,this.updateCompassSupport()},Lw.prototype.highlightFloorSelector=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.house.floorplans.length&&(e?this.floorSelectorElem.addClass("shadow"):this.floorSelectorElem.removeClass("shadow"))},Lw.prototype.isAutoplaying=function(){return this.tourData.autoplaying},Lw.prototype.switchCubes=function(){Lo(this,"panoContainerElem","tpanoContainerElem"),Lo(this,"faceElems","tfaceElems"),Lo(this,"faceDOMElems","tfaceDOMElems"),Lo(this,"faceImgElems","tfaceImgElems"),Lo(this,"panoLoading","tpanoLoading"),this.cubeManager&&this.cubeManager.setArrows(),this.tpanoContainerElem.removeClass("active"),this.panoContainerElem.addClass("active"),this.panoContainerElem.removeClass("inactive"),this.tpanoContainerElem.addClass("inactive"),this.measureMode.onSwitchCubes(),this.sceneData.activeCube=2===this.sceneData.activeCube?1:2},Lw.prototype.setMouseDownInView=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.sceneData.mouseDown=e,this.applyPendingDomUpdatesHandler||(this.applyPendingDomUpdatesHandler=window.requestAnimationFrame(this._applyPendingDomUpdates)),this.pendingDomUpdates.setMouseDownInView=e},Lw.prototype.setMouseDownInFloorplan=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.floorplanData.mouseDown=e,this.applyPendingDomUpdatesHandler||(this.applyPendingDomUpdatesHandler=window.requestAnimationFrame(this._applyPendingDomUpdates)),this.pendingDomUpdates.setMouseDownInFloorplan=e},Lw.prototype.setActivePanoInitAngle=function(){this.floorplan.setActivePanoInitAngle(this.angle)},Lw.prototype.isAdvancedMeasureMode=function(){return!!this.measureMode&&this.measureMode.isAdvanced()},Lw.prototype.isMeasureMode1=function(){return!!this.measureMode&&1===this.measureMode.mode},Lw.prototype.isMeasureMode2=function(){return!!this.measureMode&&2===this.measureMode.mode},Lw.prototype.isMeasureMode3=function(){return!!this.measureMode&&3===this.measureMode.mode},Lw.prototype.isMeasureModeActive=function(){return this.measureMode&&this.measureMode.isMeasureModeActive()},Lw.prototype.setHoveredTag=function(e){this.tagData.hoveredTagId=e,-1!==e&&this.tagData.pinnedTagId!==this.tagData.hoveredTagId&&(this.tagData.pinnedTagId=-1,this.vf.eventBus.emit("active_tag_changed",-1))},Lw.prototype.setPinnedTag=function(e){if(this.tagData.pinnedTagId===e)return this.tagData.hoveredTagId=-1,this.tagData.pinnedTagId=-1,void this.vf.eventBus.emit("active_tag_changed",-1);this.tagData.pinnedTagId=e,this.vf.eventBus.emit("active_tag_changed",e)},Lw.prototype.getComputedTags=function(){var e=this;return this.vf.tags&&this.vf.tags.length?this.vf.tags.map((function(t){var n=t.content,i=t.iframe,r=t.pos,o=t.stem,a=i?fy(i,e.vf.unbranded):e.getRenderedTagContent(n),s={x:r[0],y:r[1],z:r[2]-e.vf.globalTripodHeight+(void 0!==o?10*o:0)};return Rw(Rw({},t),{},{content:a,pos:s})})):[]},Lw.prototype.getActivePanoCenter=function(){return this.floorplan.getActivePano().center},Lw.prototype.getInverseGlobalQuat=function(){return la(ca(this.elevation,this.angle+this.floorplan.getAngleOffset(),0))},Lw.prototype.getCameraPlaneNormal=function(){var e=-this.angle+Zo.pj;return pa(this.elevation,Zo.pj+this.floorplan.getAngleOffset()-e)},Lw.prototype.setAngleAndElevationToTag=function(e){var t=this.vf.tags.find((function(t){return t.id===e}));if(t){var n=void 0!==t.stem?t.pos[2]+10*t.stem:t.pos[2],i=new ta(t.pos[0],t.pos[1],n),r=this.floorplan.getActivePano(),o=-Tb.getAngle(r.center,i)-r.rotationAngle;this.angle=o,this.angle_last=o,this.elevation=this.getTagElevation(t)}},Lw.prototype.getTagElevation=function(e){var t,n,i,r,o,a=void 0!==e.stem?e.pos[2]+10*e.stem:e.pos[2],s=new ta(e.pos[0],e.pos[1],a),l=this.floorplan.getActivePano(),c=new ta(l.center.x,l.center.y,this.vf.globalTripodHeight),u=(n=c,i=(t=s).x-n.x,r=t.y-n.y,o=t.z-n.z,new ta(i,r,o)),d=Math.sqrt(u.x*u.x+u.y*u.y);return Math.atan(u.z/d)},Lw.prototype.onAutoplayStart=function(){this.angle=Zo.pj,this.elevation=0,this.cubeManager.resetZoom(),this.setCubeAndArrowsTransform(),this.showNeighborsArrows(),this.closeTagPreviews(!0),this.vf.eventBus.emit("floor_changed",this.house.active_floorplan_index,this.floorplan),this.tourData.autoplayCount=0,this.loadNextAutoplayPano()},Lw.prototype.onAutoplayStop=function(){this.tourData.hasPanos&&(this.showNeighborsArrows(),this.angle=this.tourData.useWebgl?this.tourData.activePano.rotationAngle+Zo.pj:Zo.pj,this.update_image())},Lw.prototype.onAutoplayUpdate=function(e){var t=e.isPanoDone,n=e.angle;if(!t)return this.angle=n,void this.update_image();this.floorplan.setNPrevActivePano();var i=this.house,r=this.floorplan.panos.length?(this.floorplan.getIdxFromNActivePano()+1)%this.floorplan.panos.length:this.startPano;if(r===this.startPano){var o=i.getIdxFromActiveFloorplanIndex();do{this.tourData.autoplayCount++,this.tourData.autoplayCount>=i.floorplans.length&&!this.vf.loop&&this.stop(),++o>=i.floorplans.length&&(o=0)}while(!i.getFloorplanFromIdx(o).panos.length);i.getFloorplanFromIdx(o).setNActivePanoByIdx(0),this.startPano=0,this.updateFloor(this.house.getFloorplanIdFromIdx(o)),this.imagewindowElem[0].dispatchEvent(new CustomEvent("autoplay-floor-changed",{bubbles:!0}))}else this.floorplan.setNActivePanoByIdx(r),this.floorplan.getNPrevActivePano()!==this.floorplan.getNActivePano()&&(this.loadNextAutoplayPano(),this.updatePano("no-animation"),this.imagewindowElem[0].dispatchEvent(new CustomEvent("autoplay-pano-changed",{bubbles:!0})));this.sceneData.activePanoCenter=this.getActivePanoCenter(),this.sceneData.angleZero=Zo.pj+this.floorplan.getActivePano().rotationAngle},Lw.prototype.loadNextAutoplayPano=function(){var e,t,n,i,r=this.floorplan.panos[this.floorplan.getIdxFromNActivePano()+1];r&&(e=this.cacheElem[0],t=r,n=this.vf.assets,i=0,e.addEventListener("load",(function r(){++i<6?$o(e,Io(t,i,n)):e.removeEventListener("load",r)})),$o(e,Io(t,i,n)))},Lw.prototype.onAutoplayBrowserMute=function(e){this.tourData.mutedByBrowser=e},Lw.prototype.onInertiaUpdate=function(e){var t=e.azimuth,n=e.elevation;this.angle+=t,this.elevation-=n,this.update_image()},Lw.prototype.onInertiaStatusChange=function(e){"Stopped"===e&&(this.sceneData.inertiaTargetPose&&(this.angle=this.sceneData.inertiaTargetPose.azimuth,this.elevation=this.sceneData.inertiaTargetPose.elevation,this.sceneData.inertiaTargetPose=null,this.update_image()),this.inertiaMousePoint=null,this.vf.eventBus.emit("tour:camera-move-end")),"NearlyStopped"===e&&this.cubeArrowsHighlightForInertia(),this.sceneData.inertiaStatus=e},Lw.prototype.setActivePanoFromEvent=function(e){e.data.isPano?(this.floorplan.setNActivePano(e.data.targetId),this.updatePano("no-animation")):e.data.isGate&&this.cubeClickGate(e.data)},Lw.prototype.onTagHotspotHover=function(e){this.setHoveredTag(e)},Lw.prototype.onTagHotspotClick=function(e){this.setPinnedTag(e)},Lw.prototype.onSceneRotate=function(e){this.angle=Zo.pj-e.azimuth,this.elevation=e.elevation,this.update_image()};var jw=Lw,Ww=a(14206),Gw=a.n(Ww),qw=a(66726),Zw=a.n(qw),Xw=a(61370),Yw=a.n(Xw),Kw=new URL(a(8267),a.b),Jw=Yw()(Kw),Qw='<div id="vf-tour" class="iguide-viewer iguide-viewer-fonts iguide-viewer-bootstrap no-user-select vf-tour_hasShadow" tabindex="0" vf-keydown="onKeydown" data-ng-class="{\'landscape\': vf.landscape, \'portrait\': !vf.landscape, \'tag-list\': vf.hasTagList && vf.showTagList, \'tag-list-collapsed\': vf.hasTagList && !vf.showTagList}" ng-click="dismissWarnings()"> <div class="vf-tour__warning" data-viewer-bs-show="browserUnsupported">{{ vf.l10n.tourWarningOutdatedPrefix }} <strong>{{ vf.l10n.tourWarningOutdated }}</strong> {{ vf.l10n.tourWarningOutdatedSuffix }} {{ vf.l10n.tourWarningUpgradeLinkPrefix }} <a href="http://browsehappy.com/">{{ vf.l10n.tourWarningUpgradeLink }}</a> {{ vf.l10n.tourWarningUpgradeLinkSuffix }} <div class="right top vf-tour__warning__dismiss-container"> <span class="button floorplan-icons icomoon-v-cross vf-tour__warning__dismiss" data-ng-click="browserUnsupported = false"> </span> </div> </div> <div class="vf-tour__warning" data-viewer-bs-show="browserNotOptimal">{{ vf.l10n.tourWarningNotOptimal }} {{ vf.l10n.tourWarningUpgradeLinkPrefix }} <a href="http://browsehappy.com/">{{ vf.l10n.tourWarningUpgradeLink }}</a> {{ vf.l10n.tourWarningUpgradeLinkSuffix }} <div class="right top vf-tour__warning__dismiss-container"> <span class="button floorplan-icons icomoon-v-cross vf-tour__warning__dismiss" data-ng-click="browserNotOptimal = false"> </span> </div> </div> <div class="vf-tour__warning" data-ng-if="!vf.pagepreviewWorkaround && !vf.embedpreviewWorkaround" data-viewer-bs-show="showChrome62Warning">{{ vf.l10n.tourWarningChromeVersion }} <div class="right top vf-tour__warning__dismiss-container"> <span class="button floorplan-icons icomoon-v-cross vf-tour__warning__dismiss" data-ng-click="showChrome62Warning = false"> </span> </div> </div> <div class="vf-tour__warning" data-viewer-bs-show="isFirefox">{{ vf.l10n.tourWarningFirefox }} <div class="right top vf-tour__warning__dismiss-container"> <span class="button floorplan-icons icomoon-v-cross vf-tour__warning__dismiss" data-ng-click="isFirefox = false"> </span> </div> </div> <popup-blocked-modal ng-if="vf.showPopupBlockedModal" v-on-hide-modal="hidePopupBlockedModal"> </popup-blocked-modal> <div class="vf-tour-overlay" ng-click="hideVfTourOverlay($event)" ng-if="overlay.show"> <div class="overlay-mask"></div> <div id="preview-image" ng-if="overlay.previewImage"> <div class="image-container"> <img data-ng-src="{{previewImageUrl}}"/> <img class="pagepreview__click" src="'+Jw+'"/> </div> </div> <img class="pagepreview__click" src="'+Jw+'" ng-if="!overlay.previewImage"/> </div> <div class="vf-tour-overlay" data-ng-if="vf.pagepreviewWorkaround"> <img class="pagepreview__click" src="'+Jw+'"/> <div id="text" class="center-absolute"> {{ vf.l10n.previewWorkaroundOverlay }} </div> </div> <page-overlay v-props-title="vf.title" v-props-page="vf.page" v-props-page-options="tabs" v-props-banners="vf.banners" v-props-fixed-locale="vf.fixedLocale" v-props-no-portal-links="vf.noportallinks" v-props-is-measure-mode-1="vf.viewer.isMeasureMode1()" v-props-unbranded="vf.unbranded" v-props-white-labelled="vf.view.iguide.addons.whitelabel" v-props-floorplan-maximized="!vf.viewer.floorplanShrunk" v-props-is-portrait="!vf.landscape" v-props-hide-menu="!displayMenu" v-props-show-initial-banner-drop="vf.showInitialBannerDrop" v-on-set-page="onSetPage" v-on-overlay-popup-blocked="showPopupBlockedModal"> </page-overlay> <not-ready-page ng-if="!vf.accessDenied && ((!vf.hasData && (showTour || showVr)) || (!vf.gallery.length && showGallery))" v-props-tabs="tabs" v-props-view="vf.view" v-props-not-ready="!vf.ready" v-props-white-labelled="vf.view.iguide.addons.whitelabel" v-props-photos-only="vf.photosonly" v-props-unbranded="vf.unbranded" v-on-set-page="openPage"> </not-ready-page> <view-access-denied-page ng-if="vf.accessDenied" v-props-view="vf.view" v-props-expired="vf.expired" v-props-white-labelled="vf.view.iguide.addons.whitelabel" v-props-unbranded="vf.unbranded"> </view-access-denied-page> <div class="tour-viewer" data-ng-if="vf.hasData" data-viewer-bs-show="showTour"> <vf-jview api="jViewApi" vf="vf" data-tour-open-page="openPage(page)" data-fullscreen-api="fullscreenApi" data-help-messages="helpMessages" data-should-watch-vf="shouldWatchVf"> </vf-jview> </div> <lazy-bs-show is-shown="showGallery"> <vf-gallery vf="vf" fullscreen-api="fullscreenApi"> </vf-gallery> </lazy-bs-show> <lazy-bs-show ng-if="(vf.unbranded && vf.videoUnbranded) || (!vf.unbranded && vf.videoBranded)" is-shown="showVideo"> <vf-video vf="vf" fullscreen-api="fullscreenApi" tour-open-page="openPage"> </vf-video> </lazy-bs-show> <lazy-bs-show ng-if="!vf.nodetails" is-shown="showDetails"> <vf-details v-props-details-layout="detailsLayout" v-props-dims="detailsDims" v-props-vf-resized="vfResized" v-props-summary="summary" v-props-raw-summary="rawSummary" v-props-has-rooms="hasRooms" v-props-has-area="hasArea" v-props-description="vf.view.description" v-props-has-description-details="vf.hasDescriptionDetails" v-props-title="vf.title" v-props-imperial="vf.bImperial" v-props-has-pdf-details="vf.hasPdfDetails" v-props-nodims="vf.nodims" v-props-noroomarea="vf.noroomarea" v-props-noarea="vf.noarea" v-props-nocontrols="vf.nocontrols" v-props-show-total-area="vf.showTotalArea" v-props-report-finished-area="vf.reportFinishedArea" v-props-no-interior-area="vf.noInteriorArea" v-props-assets="vf.assets" v-props-unbranded="vf.unbranded" v-props-whitelabel="vf.view.iguide.addons.whitelabel" v-props-measurement-std="vf.view.measurementStandard" v-props-show-download-dxf-btn="vf.showDownloadDxfBtn" v-props-fullscreen-api="fullscreenApi" v-on:pdf-click="pdfClick" v-on:dxf-click="dxfClick" v-on:update-full-summary="updateFullSummary" v-on:set-imperial="setImperial" v-on:details-mounted="detailsMounted"> </vf-details> </lazy-bs-show> <lazy-bs-show ng-if="displayMap" is-shown="showMap"> <vf-map class="embed-responsive-item" vf="vf"> </vf-map> </lazy-bs-show> <lazy-bs-show is-shown="showVr"> <vf-vr-lazy-loader vf="vf" on-exit="openPage(\'tour\')" class="hidden"> </vf-vr-lazy-loader> </lazy-bs-show> </div> ',e_=function(){for(var e,t=["AtSQShDDC6EBVWPrA+74DqG98fhyZXhxn5cb6G1b3L5Qjenl40A8D3U4XnCrSavYYCdJawQJwac2HXoReOXtzw8AAABgeyJvcmlnaW4iOiJodHRwczovL3lvdXJpZ3VpZGUuY29tOjQ0MyIsImZlYXR1cmUiOiJXZWJWUiIsImV4cGlyeSI6MTQ5NTY1MjM5OSwiaXNTdWJkb21haW4iOnRydWV9","AtQc8/TGRoivF6EO21hC0Ra/T7X78b8CBZ63yCCuTxiLz024Uo6k0LT/k5TCDzo0s52ZDneQAMMt84afu6QCuA4AAABkeyJvcmlnaW4iOiJodHRwczovL3d3dy55b3VyaWd1aWRlLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVlIiLCJleHBpcnkiOjE0OTU2NTIzOTksImlzU3ViZG9tYWluIjp0cnVlfQ==","AnXc1o6h17lEtPHGMmn8gs/nSmA15XuOns8v9R0ja4X9HaqKr/MFTtVAt9f5BMw8i5s+HB8BhElPijK7tTru+AcAAABneyJvcmlnaW4iOiJodHRwczovL21hbmFnZS55b3VyaWd1aWRlLmNvbTo0NDMiLCJmZWF0dXJlIjoiV2ViVlIiLCJleHBpcnkiOjE0OTU2NTIzOTksImlzU3ViZG9tYWluIjp0cnVlfQ=="],n=0;n<t.length;n++)(e=document.createElement("meta")).httpEquiv="origin-trial",e.setAttribute("data-feature","WebVR"),e.setAttribute("data-expires","2017-05-24"),e.content=t[n],document.getElementsByTagName("head")[0].appendChild(e)};function t_(e,n,i,r,o,a,s){return{scope:{vf:"=",api:"=?",helpMessages:"=?helpMessages",landscape:"=",isInContainer:"=",shouldWatchVf:"=",vfQueryArgs:"="},replace:!0,template:Qw,link:{pre:function(e){e.vf.setup(e.vfQueryArgs||new qa.a);var t=e.vf.unbranded&&e.vf.nogallery&&e.vf.noextvideo&&e.vf.nodetails&&e.vf.nomap;e.displayMenu=!e.vf.nomenu&&!t,e.tabs=[],e.onSetPage=function(t){e.openPage(t)},e.showPopupBlockedModal=function(){e.vf.showPopupBlockedModal=!0},e.hidePopupBlockedModal=function(){e.vf.showPopupBlockedModal=!1}},post:function(r,l,c){var u="true"===c.isInContainer,d=u,h=r.vf,p={container:l.parent()};h.accessDenied||h.hasData||!h.pagepreviewWorkaround&&!h.embedpreviewWorkaround||h.onWebsnapshotReady();var f=function(e,t){document.body.style.backgroundColor="#".concat(e.bgcolor),e.embeddedInPortal||(window.scrollTo(0,0),document.body.style.overflow="hidden"),t.style.backgroundColor="#".concat(e.bgcolor);var n=t.querySelector("#vf-tour");if(e.embedded)n.classList.remove("vf-tour_hasShadow");else{var i=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,n,i){return t+t+n+n+i+i}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:Va()(n[1],16),g:Va()(n[2],16),b:Va()(n[3],16)}:null}(e.bgcolor);if(i).2126*i.r+.7152*i.g+.0722*i.b<128&&n.classList.remove("vf-tour_hasShadow")}},m=function(){return c.updateContainer?t().element(c.updateContainer)[0]:e[0].body},g=function(){r.showTour="tour"===h.page||"tour_meas"===h.page||"video"===h.page,r.showGallery="gallery"===h.page||"slideshow"===h.page,r.showVideo="extvideo"===h.page,r.showDetails="details"===h.page,r.showMap="map"===h.page,r.showVr="tour_vr"===h.page,r.displayMap=!(h.accessDenied||h.nomap||h.nomapunbranded&&h.unbranded),r.tabs=[{active:r.showTour||r.showVr,page:"tour",name:h.l10n.navMenuTour,show:!h.photosonly},{active:r.showGallery,page:"gallery",name:h.l10n.navMenuPhotos,show:h.photosonly||!h.accessDenied&&!h.nogallery&&h.gallery.length},{active:r.showVideo,page:"extvideo",name:h.l10n.navMenuVideo,show:!h.accessDenied&&!h.noextvideo&&(h.unbranded&&h.videoUnbranded||!h.unbranded&&h.videoBranded)},{active:r.showDetails,page:"details",name:h.l10n.navMenuDetails,show:!h.accessDenied&&!h.nodetails&&h.hasDetails},{active:r.showMap,page:"map",name:h.l10n.navMenuMap,show:r.displayMap}];var e=document.querySelector("#advmeasurements .pointer");e&&e.parentNode.removeChild(e)},v=function(){r.vf.landscape=!window.matchMedia("(orientation: portrait)").matches,r.vf.viewer&&(r.vf.viewer.tourData.isLandscape=r.vf.landscape)},y=function(){var e=new a(p.container.width(),p.container.height(),d,h.landscape);l.width(h.showTagList&&!h.tagListClosed&&h.landscape?"calc(100% - ".concat(h.editTags?"300":"200","px)"):"100%"),l.height("100%"),h.width=p.container.width(),h.viewerHeight=p.container.height(),e.setBarNum(h,!r.displayMenu),function(e){e.setAspectRatios(),e.getDims(),h.landscape&&e.fillHeight(),h.width=Math.round(e.width),h.height=Math.round(e.height),h.barHeight=Math.ceil(e.barHeight)}(e);var t=r.vf.updateImageResolution();t&&r.overlay.previewImage&&r.vf.gallery&&r.vf.gallery.length>0&&(r.previewImageUrl=r.vf.tileResolution.addSuffix(r.vf.gallery[0].url)),h.tourDims=e,r.$broadcast("vf-resized",e,t),n((function(){r.$broadcast("vf-dom-resized")}))};h.eventBus.on("tag-opened",(function(){h.showTagList&&l.addClass("tag-open")})),h.eventBus.on("tag-closed",(function(){h.showTagList&&l.removeClass("tag-open")})),h.eventBus.on("tag-list-resize",(function(){h.hasTagList&&n((function(){y()}))})),h.eventBus.on("reset-tour-size",(function(){n((function(){y()}))})),r.overlay={},r.showOverlay=function(){r.overlay.show=!0},r.showPreviewImageOverlay=function(){r.overlay.previewImage=!0},r.hideVfTourOverlay=function(e){r.overlay={},e.stopPropagation()},r.jViewApi={},r.onKeydown=function(e){r.vf.hasData&&!r.vf.accessDenied&&("tour"===r.vf.page?r.jViewApi.onPanoViewsKeydown(e):"gallery"===r.vf.page&&r.$broadcast("vf-on-keydown",e))};var b=null,w=function(){l.find("input").is(":focus")||(b=null,v(),y(),r.$broadcast("window-resize"))},_=function(){w(),r.$broadcast("vf-fullscreen-changed")},x=!0;if(r.openPage=function(e){var t=r.jViewApi;if(!t.isInTransition||!t.isInTransition()){var i=r.vf;switch(i.page){case"tour":i.hasData&&(t.clear&&t.clear(),i.cache&&i.cache.stop());break;case"tour_meas":i.hasData&&t.clear&&t.clear();break;case"tour_vr":i.vrcache&&i.vrcache.stop()}switch(i.noautoplay&&"video"===e&&(e="tour"),"extvideo"===i.page&&"video"===e&&document.dispatchEvent(new CustomEvent("start-tour-autoplay")),i.page=e,e){case"map":r.$broadcast("open-page-map");break;case"tour_vr":i.vrcache&&i.vrcache.start();break;case"tour":i.cache&&i.cache.start();break;default:i.isJviewPage(e)&&i.cache&&i.cache.start()}if(t.closeMeasPage&&t.closeMeasPage(),n((function(){y(),y()})),r.vf.eventBus.emit("page-opened",e),x){var o=document.getElementById("splashscreen");if(i.photosonly&&o){o.addEventListener("transitionend",(function e(){r.$broadcast("vf:loaded:first-time"),x=!1,o.removeEventListener("transitionend",e)}))}else i.photosonly?window.addEventListener("message",(function(e){"splashscreen-dissolved"===e.data&&(r.$broadcast("vf:loaded:first-time"),x=!1)})):(r.$broadcast("vf:loaded:first-time"),x=!1)}}},r.vf.eventBus.on("localeChange",(function(){g()})),g(),r.fullscreenApi={elem:p.container,callback:function(e){u&&(d=e)},listener:function(){b=n(_,400)}},r.vfTourMenuApi={vf:r.vf,getTabs:function(){return r.tabs},hasNoLogoLink:!r.vf.view.iguide.addons.whitelabel&&r.vf.unbranded,hasLogoLink:!r.vf.view.iguide.addons.whitelabel&&!r.vf.unbranded,openPage:r.openPage},f(r.vf,p.container[0]),t().isDefined(c.updateContainer)){var T=m();t().element(T).css("min-width",r.vf.container_width?"".concat(r.vf.container_width,"px"):"")}r.vf.gallery&&r.vf.gallery.length>0&&(r.previewImageUrl=r.vf.gallery[0].url),r.vf.preview&&(r.showOverlay(),r.previewImageUrl&&r.showPreviewImageOverlay()),o.html5&&(o.vml||o.svg)||(r.browserUnsupported=!0),o.optimal||(r.browserNotOptimal=!0),r.showChrome62Warning=o.isChrome62&&!r.vf.noMoreChrome62Warning(),r.isFirefox=o.isFirefox,r.dismissWarnings=function(){r.browserUnsupported=!1,r.browserNotOptimal=!1,r.showChrome62Warning=!1,r.isFirefox=!1},r.vfResized=!0,r.$on("vf-resized",(function(e,t){r.detailsLayout=r.vf.width<768?"details-layout_vertical":"details-layout_horizontal",r.detailsDims=t,r.vfResized=!r.vfResized})),r.fullSummary={};var S=function(){r.summary=r.fullSummary[r.vf.bImperial?"imperial":"metric"]||{},r.rawSummary=r.fullSummary.raw||{},r.hasRooms=r.summary&&Ye(r.summary),r.hasArea=r.summary&&Qe(r.summary)},E=function(){r.vf.isPreview||function(e){if(r.vf.fixedFullSummary)return jr().resolve(r.vf.fixedFullSummary);var t=r.vf.getActiveLocale(),n=r.vf.assets.fullSummary(t,{measurementStandard:e,accessToken:r.vf.accessToken});return Gw().get(n).then((function(e){return e.data}))}(r.vf.edit?r.vf.view.measurementStandard:void 0).then((function(e){r.fullSummary=e,S(),n((function(){}),0)}))};r.detailsMounted=function(){E(),S()},r.pdfClick=function(){r.vf.eventBus.emit("page_changed","pdf_floorplan",r)},r.dxfClick=function(){r.vf.eventBus.emit("page_changed","zip_dxf",r)},r.updateFullSummary=function(){E()},r.setImperial=function(e){r.vf.bImperial=e},r.vf.eventBus.on("reloadData",(function(){E()})),r.$watch("vf.bImperial",(function(){S()})),h.daydreamVr&&s.daydream().then(e_),n((function(){window.dispatchEvent(new CustomEvent("vfTour-loaded")),v(),r.vf.viewer&&r.vf.viewer.setShowTagsInFp&&r.vf.viewer.setShowTagsInFp(),r.openPage(r.vf.page)})),r.$watch("vf.page",(function(){g(),r.vf.eventBus.emit("page_changed",r.vf.page)})),r.$watch("vf.hasDetails",g),r.$watch("vf.timestamp",(function(e,i){i!==e&&n((function(){if(r.vf.setup(r.vfQueryArgs||new qa.a),g(),f(r.vf,p.container[0]),t().isDefined(c.updateContainer)){var e=m();t().element(e).css("min-width",r.vf.container_width?"".concat(r.vf.container_width,"px"):"")}}))})),r.vf.edit&&r.$on("view-refresh",(function(){n((function(){r.$broadcast("vf-resized",r.vf.tourDims)}),200)})),t().element(i).bind("resize",Zw()((function(){if(!(r.vf.isOnMobile()&&r.vf.edit&&e.activeElement&&"text"===e.activeElement.attr("type"))&&!b&&(w(),r.vf.embeddedInPortal&&!r.vf.editTags&&window.innerWidth<=853&&window.innerWidth!==r.window_width)){r.window_width=window.innerWidth,r.window_height=window.innerHeight;var t=document.getElementById("vf-tour");if(t){var n=t.getBoundingClientRect();(n.top>=0&&n.top<=r.window_height||n.bottom>=0&&n.bottom<=r.window_height)&&t.scrollIntoView()}}}),r.vf.embeddedInPortal?600:100)),s.ios&&!r.vf.embeddedInPortal&&t().element(i).bind("orientationchange",Zw()((function(){window.innerWidth<window.innerHeight&&(document.body.style.height="100vh",n((function(){document.body.style.height=""}),250))}),200));l[0].addEventListener("click",(function e(){l[0].removeEventListener("click",e,!0),r.vf.cache&&r.vf.embedded&&r.vf.cache.start(r.vf)}),!0);var M=function e(){l[0].removeEventListener("mousedown",e,!0),l[0].removeEventListener("mousewheel",e,!0),l[0].removeEventListener("touchstart",e,!0),l[0].removeEventListener("DOMMouseScroll",e,!0),r.vf.eventBus.emit("first-user-interaction")};l[0].addEventListener("mousedown",M,!0),l[0].addEventListener("mousewheel",M,!0),l[0].addEventListener("touchstart",M,!0),l[0].addEventListener("DOMMouseScroll",M,!0),r.$on("view-attrs-changed",(function(){n((function(){y()}))})),r.$on("$destroy",(function(){t().element(i).unbind("resize")})),!h.expired&&h.ready||window.dispatchEvent(new CustomEvent("vf-expired-or-not-ready"))}}}}t_.$inject=["$document","$timeout","$window","VF","Features","VfTourDimensions","Device"];var n_=t_;var i_=function(){return{scope:{vf:"=",api:"=?",helpMessages:"=",watchVf:"@",vfQueryArgs:"="},replace:!0,template:'<div id="viewer-container" class="section"> <div id="editor-loader-overlay" class="hidden"> <div id="editor-loader-container"> <div id="editor-loader"> <div class="loader"> <img ng-src="{{ $ctrl.vf.rootPath + \'/image/viewer/spinner10.svg\' }}"> </div> </div> </div> </div> <div id="vf-tour-container" style="height:300px"> <vf-tag-list ng-if="vf.hasTagList" ng-show="vf.showTagList" ng-class="{\'editor\': vf.editTags}" vf="vf"> </vf-tag-list> <div vf-tour data-vf="vf" data-api="api" data-help-messages="helpMessages" data-should-watch-vf="shouldWatchVf" data-is-in-container="true" data-update-container="#viewer-container" vf-query-args="vfQueryArgs"> </div> </div> </div> ',link:function(e,n,i){e.shouldWatchVf=t().isDefined(i.watchVf)}}};function r_(){return{scope:{vf:"=",fullscreenApi:"=?"},replace:!0,template:'<div id="gallery-viewer" class="nopadding" ng-init="social = {}" data-ng-class="fullscreen"> <vf-share-modal vf="vf" ng-if="social.open"> </vf-share-modal> <photos ng-if="vf.gallery.length" v-props-photos="vf.gallery" v-props-page="vf.page" v-props-muted="vf.mute" v-props-fullscreen-element="fullscreenApi.elem[0]" v-props-show-new-window="$ctrl.canShowNewWindow" v-props-no-controls="vf.nocontrols || vf.pagepreviewWorkaround || vf.embedpreviewWorkaround" v-props-no-social="vf.nosocial" v-props-no-menu="vf.nomenu" v-props-not-ready="!vf.ready" v-props-photos-only="vf.photosonly" v-props-white-labelled="vf.view.iguide.addons.whitelabel" v-props-no-multi-res="vf.nomultires" v-on-toggle-mute="toggleMute" v-on-open-share="openShare" v-on-fullscreen-change="fullscreenApi.listener" v-on-toggle-show-new-window="showGalleryNewWindow"> </photos> </div> ',link:{pre:function(e){e.toggleMute=function(){e.vf.setMute(!e.vf.mute)},e.openShare=function(){e.social.open=!0},e.showGalleryNewWindow=function(){e.$root.$broadcast("show-new-window")}},post:function(e){e.$on("close-share-modal",(function(){e.social.open=!1}))}}}}r_.$inject=["$timeout"];var o_=r_,a_=a(65638),s_=a(65638);function l_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c_(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u_=void 0!==a.g&&"[object global]"==={}.toString.call(a.g);function d_(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function h_(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}function p_(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function f_(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function m_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.url,i=t||n;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(p_(i))return"https://vimeo.com/".concat(i);if(f_(i))return i.replace("http:","https:");if(t)throw new TypeError("“".concat(t,"” is not a valid video id."));throw new TypeError("“".concat(i,"” is not a vimeo.com url."))}var g_=void 0!==Array.prototype.indexOf,v_="undefined"!=typeof window&&void 0!==window.postMessage;if(!(u_||g_&&v_))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var y_="undefined"!=typeof window?window:void 0!==a.g?a.g:"undefined"!=typeof self?self:{};!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,n=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(n(this,"_id",o("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function r(e,n){if(!i(e)||!t.call(e,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof e)}function o(e){return e+"_"+a()+"."+a()}function a(){return Math.random().toString().substring(2)}return n(e.prototype,"delete",(function(e){if(r(this,"delete"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)})),n(e.prototype,"get",(function(e){if(r(this,"get"),i(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),n(e.prototype,"has",(function(e){if(r(this,"has"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),n(e.prototype,"set",(function(e,t){if(r(this,"set"),!i(e))throw new TypeError("Invalid value used as weak map key");var o=e[this._id];return o&&o[0]===e?(o[1]=t,this):(n(e,this._id,[e,t]),this)})),n(e,"_polyfill",!0),e}()}function i(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:y_);var b_,w_,__=(b_=function(e){var t,n,i;i=function(){var e,t,n,i=Object.prototype.toString,r="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==i})}}catch(t){e=function(e,t,n){return e[t]=n,e}}function o(e,i){n.add(e,i),t||(t=r(n.drain))}function a(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function s(){for(var e=0;e<this.chain.length;e++)l(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function l(e,t,n){var i,r;try{!1===t?n.reject(e.msg):(i=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(r=a(i))?r.call(i,n.resolve,n.reject):n.resolve(i)}catch(e){n.reject(e)}}function c(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=a(e))?o((function(){var i=new h(n);try{t.call(e,(function(){c.apply(i,arguments)}),(function(){u.apply(i,arguments)}))}catch(e){u.call(i,e)}})):(n.msg=e,n.state=1,n.chain.length>0&&o(s,n))}catch(e){u.call(new h(n),e)}}}function u(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&o(s,t))}function d(e,t,n,i){for(var r=0;r<t.length;r++)!function(r){e.resolve(t[r]).then((function(e){n(r,e)}),i)}(r)}function h(e){this.def=e,this.triggered=!1}function p(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new p(this);this.then=function(e,n){var i={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return i.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t})),t.chain.push(i),0!==t.state&&o(s,t),i.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){c.call(t,e)}),(function(e){u.call(t,e)}))}catch(e){u.call(t,e)}}n=function(){var e,n,i;function r(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,o){i=new r(t,o),n?n.next=i:e=i,n=i,i=void 0},drain:function(){var i=e;for(e=n=t=void 0;i;)i.fn.call(i.self),i=i.next}}}();var m=e({},"constructor",f,!1);return f.prototype=m,e(m,"__NPO__",0,!1),e(f,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(f,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(f,"all",(function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var r=e.length,o=Array(r),a=0;d(t,e,(function(e,t){o[e]=t,++a===r&&n(o)}),i)}))})),e(f,"race",(function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):new t((function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");d(t,e,(function(e,t){n(t)}),i)}))})),f},(n=y_)[t="Promise"]=n[t]||i(),e.exports&&(e.exports=n[t])},b_(w_={exports:{}},w_.exports),w_.exports),x_=new WeakMap;function T_(e,t,n){var i=x_.get(e.element)||{};t in i||(i[t]=[]),i[t].push(n),x_.set(e.element,i)}function S_(e,t){return(x_.get(e.element)||{})[t]||[]}function E_(e,t,n){var i=x_.get(e.element)||{};if(!i[t])return!0;if(!n)return i[t]=[],x_.set(e.element,i),!0;var r=i[t].indexOf(n);return-1!==r&&i[t].splice(r,1),x_.set(e.element,i),i[t]&&0===i[t].length}function M_(e,t){var n=x_.get(e);x_.set(t,n),x_.delete(e)}var A_=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function C_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A_.reduce((function(t,n){var i=e.getAttribute("data-vimeo-".concat(n));return(i||""===i)&&(t[n]=""===i?1:i),t}),t)}function k_(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var i=document.createElement("div");return i.innerHTML=n,t.appendChild(i.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function P_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(i,r){if(!f_(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var a in t)t.hasOwnProperty(a)&&(o+="&".concat(a,"=").concat(encodeURIComponent(t[a])));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",o,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var t=JSON.parse(s.responseText);if(403===t.domain_status_code)return k_(t,n),void r(new Error("“".concat(e,"” is not embeddable.")));i(t)}catch(e){r(e)}else r(new Error("“".concat(e,"” is not embeddable.")));else r(new Error("“".concat(e,"” was not found.")))},s.onerror=function(){var e=s.status?" (".concat(s.status,")"):"";r(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},s.send()}))}function D_(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function R_(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var i={method:t};void 0!==n&&(i.value=n);var r=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));r>=8&&r<10&&(i=JSON.stringify(i)),e.element.contentWindow.postMessage(i,e.origin)}}function $_(e,t){var n,i=[];if((t=D_(t)).event){if("error"===t.event)S_(e,t.data.method).forEach((function(n){var i=new Error(t.data.message);i.name=t.data.name,n.reject(i),E_(e,t.data.method,n)}));i=S_(e,"event:".concat(t.event)),n=t.data}else if(t.method){var r=function(e,t){var n=S_(e,t);if(n.length<1)return!1;var i=n.shift();return E_(e,t,i),i}(e,t.method);r&&(i.push(r),n=t.value)}i.forEach((function(t){try{if("function"==typeof t)return void t.call(e,n);t.resolve(n)}catch(e){}}))}var I_=new WeakMap,L_=new WeakMap,O_=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l_(this,e),a_&&t instanceof s_&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!h_(t))throw new TypeError("You must pass either a valid element or a valid id.");var r=t.ownerDocument.defaultView;if("IFRAME"!==t.nodeName){var o=t.querySelector("iframe");o&&(t=o)}if("IFRAME"===t.nodeName&&!f_(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(I_.has(t))return I_.get(t);this.element=t,this.origin="*";var a=new __((function(e,o){var a=function(t){if(f_(t.origin)&&n.element.contentWindow===t.source){"*"===n.origin&&(n.origin=t.origin);var i=D_(t.data);if(i&&"error"===i.event&&i.data&&"ready"===i.data.method){var r=new Error(i.data.message);return r.name=i.data.name,void o(r)}var a=i&&"ready"===i.event,s=i&&"ping"===i.method;if(a||s)return n.element.setAttribute("data-ready","true"),void e();$_(n,i)}};if(r.addEventListener?r.addEventListener("message",a,!1):r.attachEvent&&r.attachEvent("onmessage",a),"IFRAME"!==n.element.nodeName){var s=C_(t,i);P_(m_(s),s,t).then((function(e){var i=k_(e,t);return n.element=i,n._originalElement=t,M_(t,i),I_.set(n.element,n),e})).catch(o)}}));return L_.set(this,a),I_.set(this.element,this),"IFRAME"===this.element.nodeName&&R_(this,"ping"),this}var t,n,i;return t=e,n=[{key:"callMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new __((function(i,r){return t.ready().then((function(){T_(t,e,{resolve:i,reject:r}),R_(t,e,n)})).catch(r)}))}},{key:"get",value:function(e){var t=this;return new __((function(n,i){return e=d_(e,"get"),t.ready().then((function(){T_(t,e,{resolve:n,reject:i}),R_(t,e)})).catch(i)}))}},{key:"set",value:function(e,t){var n=this;return new __((function(i,r){if(e=d_(e,"set"),null==t)throw new TypeError("There must be a value to set.");return n.ready().then((function(){T_(n,e,{resolve:i,reject:r}),R_(n,e,t)})).catch(r)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===S_(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),T_(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");E_(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=L_.get(this)||new __((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return __.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new __((function(t){L_.delete(e),I_.delete(e.element),e._originalElement&&(I_.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}],n&&c_(t.prototype,n),i&&c_(t,i),e}();u_||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=C_(e);P_(m_(t),t,e).then((function(t){return k_(t,e)})).catch(n)}catch(e){n(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(t){if(f_(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),i=0;i<n.length;i++)if(n[i].contentWindow===t.source){n[i].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}};window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent&&window.attachEvent("onmessage",t)}}());var N_=O_,F_=a(42822),B_=a.n(F_),U_=null,z_=function(){function e(){o()(this,e)}return l()(e,null,[{key:"load",value:function(){return U_||(U_=new(jr())((function(e){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=function(){e(window.YT)}})))}}]),e}();function V_(e,t){return{scope:{vf:"=",fullscreenApi:"=?",tourOpenPage:"=?"},replace:!0,template:'<div id="viewer__video" class="viewer__video responsive responsive-16by9" data-ng-class="fullscreen"> <div id="yt-player" data-ng-if="isYT"></div> <iframe id="embed-video__player" class="responsive-item" data-ng-if="isVimeo || isIPlayerHD || (isGoogleDrive && nativeGoogleFailed)" data-ng-src="{{videolink}}" allowfullscreen> </iframe> <video id="native-video__player" data-ng-if="isNative || isOneDrive || isDropbox || (isGoogleDrive && !nativeGoogleFailed)" controls playsinline controlsList="nodownload"> <source data-ng-src="{{videolink}}" type="{{videoType}}"> </video> </div>',link:function(n,i){var r;n.videoUrl=n.vf.unbranded?n.vf.videoUnbranded:n.vf.videoBranded;var o=Xv.vimeo.getId(n.videoUrl),a=Xv.youTube.getId(n.videoUrl),s=Xv.iPlayerHD.getId(n.videoUrl),l=Xv.googleDrive.getId(n.videoUrl),c=Xv.oneDrive.getUrl(n.videoUrl),u=Xv.dropbox.getUrl(n.videoUrl);n.isVimeo=!!o,n.isYT=!!a,n.isIPlayerHD=!!s,n.isGoogleDrive=!!l,n.isOneDrive=!!c,n.isDropbox=!!u,n.isNative=!n.isVimeo&&!n.isYT&&!n.isIPlayerHD&&!n.isGoogleDrive&&!n.isOneDrive&&!n.isDropbox&&Xv.link.isValid(n.videoUrl),n.videoType="",n.nativeGoogleFailed=!1;var d="extvideo-autoplay"===n.vf.initpage||"extvideo-autoplaytour"===n.vf.initpage||"extvideo-autoplaytourautoplay"===n.vf.initpage||"extvideo-autoplaygallery"===n.vf.initpage||"extvideo-autoplayslideshow"===n.vf.initpage,h=function(){e((function(){"extvideo-autoplaytour"===n.vf.initpage?n.tourOpenPage("tour"):"extvideo-autoplaytourautoplay"===n.vf.initpage?n.tourOpenPage("video"):"extvideo-autoplaygallery"===n.vf.initpage?n.tourOpenPage("gallery"):"extvideo-autoplayslideshow"===n.vf.initpage&&n.tourOpenPage("slideshow")}))};if(n.isVimeo)n.videolink=t.trustAsResourceUrl("https://player.vimeo.com/video/".concat(o)),e((function(){var t=i.find("#embed-video__player");(r=new N_(t[0])).ready().then((function(){e((function(){window.dispatchEvent(new CustomEvent("vf-video-ready"))})),d&&!n.vf.isOnMobile()&&r.play().catch((function(e){console.warn("Could not autoplay video:",e),console.warn("Trying to play it muted");var t=function e(){r.setMuted(!1),r.off("ended",e),n.vf.eventBus.off("page_changed",e)};n.vf.eventBus.on("page_changed",t),r.setMuted(!0).then((function(){"extvideo"===n.vf.page&&(r.on("ended",t),r.play().catch((function(e){console.error("Failed to play muted video:",e),r.setMuted(!1)})))}))}))})),r.on("ended",(function(){h(),r.off("ended")})),n.$watch("vf.page",(function(e,t){t!==e&&("extvideo"===t&&"extvideo"!==e&&(r.getPaused().then((function(e){e||r.pause()})),r.off("ended")))}))}));else if(n.isYT)z_.load().then((function(e){r=new e.Player("yt-player",{height:"auto",width:"auto",videoId:a,playerVars:{enablejsapi:1,modestbranding:1,rel:0,hl:n.vf.getActiveLocale()},events:{onReady:m,onStateChange:v}})}));else if(n.isIPlayerHD)n.videolink=t.trustAsResourceUrl("https://iplayerhd.com/player/video/".concat(s).concat(d?"?autostart=true":"")),e((function(){var t=i.find("#embed-video__player");(r=new(B_().Player)(t[0])).on("ready",(function(){d&&!n.vf.isOnMobile()||r.on("play",(function(){r.pause(),r.off("play")})),e((function(){window.dispatchEvent(new CustomEvent("vf-video-ready"))}))})),r.on("ended",(function(){h(),r.off("ended")})),n.$watch("vf.page",(function(e,t){t!==e&&("extvideo"===t&&"extvideo"!==e&&(r.pause(),r.off("ended")))}))}));else if(n.isNative||n.isGoogleDrive||n.isOneDrive||n.isDropbox){if(n.videolink=t.trustAsResourceUrl(n.isGoogleDrive?"https://drive.google.com/uc?export=download&id=".concat(l):n.isOneDrive?c:n.isDropbox?u:n.videoUrl),n.isNative){var p=Xv.link.getExtension(n.videoUrl);Xv.link.isSupportedExtension(p)&&("ogv"===p&&(p="ogg"),n.videoType="video/".concat(p))}e((function(){var o=i.find("#native-video__player");if(o){if(r=o[0],n.isGoogleDrive){r.addEventListener("error",(function e(){r.removeEventListener("error",e,!0),o.off(),n.videolink=t.trustAsResourceUrl("https://drive.google.com/file/d/".concat(l,"/preview")),n.nativeGoogleFailed=!0}),!0)}d&&!n.vf.isOnMobile()&&(r.autoplay=!0,r.play().catch((function(e){console.warn("Could not autoplay video:",e),console.warn("Trying to play it muted");var t=function e(){r.muted=!1,r.removeEventListener("ended",e),r.removeEventListener("click",i),n.vf.eventBus.off("page_changed",e)},i=function e(t){t.preventDefault(),r.muted=!1,r.removeEventListener("click",e)};n.vf.eventBus.on("page_changed",t),r.muted=!0,"extvideo"===n.vf.page&&(r.addEventListener("ended",t),r.play().then((function(){r.addEventListener("click",i)})).catch((function(e){console.error("Failed to play muted video:",e),r.muted=!1})))}))),o.on("ended",(function(){h(),o.off("ended")})),o.on("canplay",(function(){e((function(){window.dispatchEvent(new CustomEvent("vf-video-ready"))}))})),n.$watch("vf.page",(function(e,t){if(t!==e&&("extvideo"===t&&"extvideo"!==e))if(n.nativeGoogleFailed){var o=i.find("#embed-video__player");o&&(o[0].src+="")}else r.pause()}))}}))}var f=!0;function m(){e((function(){window.dispatchEvent(new CustomEvent("vf-video-ready"))})),d&&!n.vf.isOnMobile()&&r.playVideo(),n.$watch("vf.page",(function(e,t){t!==e&&"extvideo"===t&&"extvideo"!==e&&(r.pauseVideo(),f=!1)}))}var g=0;function v(e){g++,f&&(d&&-1===e.data&&g>1&&g<5&&(console.warn("Could not autoplay video. Trying again with audio muted."),e.target.mute(),e.target.playVideo()),0===e.data&&(h(),f=!1))}n.$on("vf-resized",(function(e,t){i.height(t.getViewerHeight()),n.vf.nomenu||(i[0].parentNode.style.paddingTop="".concat(t.barHeight,"px"))}))}}}V_.$inject=["$timeout","$sce"];var H_=V_;var j_=function(){return{scope:{vf:"="},replace:!0,template:'<div id="nearby" class="map-menu-container section no-user-select"> <div class="responsive"> <iframe data-ng-src="{{getEmbeddedMap}}"></iframe> </div> </div> ',controller:["$scope","$sce","$element",function(e,t,n){var i=function(){e.getEmbeddedMap=t.trustAsResourceUrl(e.vf.view.iguide.property.getEmbeddedMap(Ae.google.viewerKey,18,e.vf.getActiveLocale()))};i(),e.vf.eventBus.on("localeChange",(function(){i()})),e.$on("vf-resized",(function(e,t){n.outerHeight(t.getViewerHeight()),n[0].parentNode.style.paddingTop="".concat(t.barHeight,"px")}))}]}};function W_(){}W_.prototype.isPanoShown=function(e){return this.onVrIsPanoShown(e)},W_.prototype.getNShownPanos=function(){for(var e=0,t=0;t<this.panos.length;t++)this.isPanoShown(this.panos[t])&&e++;return e},W_.prototype.setNActivePano=function(e){this.nActivePano=e,this.viewer.vf.eventBus.emit("sphere_changed",this.panos[e])},W_.prototype.svgToCircle=function(e,t){return new Vs(t/512*e.x-t/2,t/512*e.y-t/2)},W_.prototype.dataToCircle=function(e,t){return this.svgToCircle(this.vrDataToSvg(e),t)};W_.prototype.getDist=function(e,t,n){t*=Zo.ZX,n*=Zo.ZX;var i=function(e,t){for(;e>t;)e-=t;return e}(e-t,Zo.uo),r=n,o=2*Math.sin(i),a=2*Math.sin(r);return!(Math.cos(i)<0)&&function(e,t){return Math.sqrt(e*e+t*t)}(o,a)},W_.prototype.getFirstShownPanoId=function(){if(0===this.getNShownPanos())return-1;for(var e=0;!this.isPanoShown(this.panos[e]);)e++;return this.vrGetPanoIdfromIdx(e)},W_.prototype.getRadarPosition=function(e){if(this.getActivePano())return this.dataToCircle(this.getActivePano().center0,e)};var G_=W_,q_=Math.PI/7.9;function Z_(){this.FP_ANGLE_DEG=40}Z_.prototype.init=function(e,t){this.vf=e,this.packer=new sw(this),this.house=this.packer.unpack(t),this.house&&this.house.floorplans.forEach((function(e){e.computePanoNeighbors(q_,6)}))},Z_.prototype.setFloorplan=function(e){this.house.setActiveFloorId(e),this.floorplan=this.house.getActiveFloorplan(),zs().extend(this.floorplan,new G_);var t=this.floorplan.getActivePano();t&&t.sphere||this.floorplan.setNActivePano(this.floorplan.getFirstShownPanoId())},Z_.prototype.drawFloorplan=function(e,t,n){this.floorplan.hasLabels=n,this.floorplan.draw("".concat(e,"-svg").concat(this.house.active_floorplan_index),t,t,40,40);var i=this.floorplan.canvas.rect(0,0,this.floorplan.width,this.floorplan.height);i.attr({fill:this.floorplan.colors.bgd}),i.toBack()},Z_.prototype.getShownFloorplans=function(){var e=this.house.floorplans,t=[];return e.forEach((function(e){!e.hidden&&e.hasOutline()&&t.push(e)})),t};var X_=Z_;J_.$inject=["$compile","$ocLazyLoad","$http","$q","$timeout"];var Y_=512,K_={warm:{"*":"#E0E0E0",bathroom:"#FFEBD0",bedroom:"#F2E1C8",kitchen:"#FFEEC3",living:"#F0DCB7",storage:"#FFE5C4",office:"#F2E1C8",dining:"#FFE5C4",laundry:"#FFE5C4",utility:"#FFE5C4"},cold:{"*":"#E0E0E0",bathroom:"#C0E6FF",bedroom:"#DEF4FF",kitchen:"#F1FFFC",living:"#D6F2F2",storage:"#B5D3E8",office:"#DEF4FF",dining:"#B5D3E8",laundry:"#B5D3E8",utility:"#B5D3E8"},balanced:{"*":"#E0E0E0",bathroom:"#C0E6FF",bedroom:"#FFF1CC",kitchen:"#E6F2EC",living:"#FFF9E3",storage:"#E8DFD1",office:"#FFF1CC",dining:"#E8DFD1",laundry:"#E8DFD1",utility:"#E8DFD1"},grayscale:{"*":"#BABABA",bathroom:"#9C9C9C",bedroom:"#E2E2E2",kitchen:"#AFAFAF",living:"#D0D0D0",storage:"#C5C5C5",office:"#E2E2E2",dining:"#C5C5C5",laundry:"#C5C5C5",utility:"#C5C5C5"},blackwhite:{"*":"#FFFFFF",bathroom:"#FFFFFF",bedroom:"#FFFFFF",kitchen:"#FFFFFF",living:"#FFFFFF",storage:"#FFFFFF",office:"#FFFFFF",dining:"#FFFFFF",laundry:"#FFFFFF",utility:"#FFFFFF"}};function J_(e,t,n,i,r){return{scope:{vf:"=",onExit:"&"},replace:!0,template:'<div>\n      <vf-vr vf="vf" on-vr-exit="onExit()" ng-if="displayVfVr" vr="vr">\n      </vf-vr>\n    </div>',link:function(n,o){var s=Promise.all([a.e(106),a.e(653)]).then(a.bind(a,79656)).then((function(e){return t.inject(e.default)})).then((function(){return e(o)(n)})),l=n.vf,c=new X_;n.vr=c,c.init(l,l.view.dataV2);var u=c.getShownFloorplans().map((function(e){return e.vrSetTransform(Y_,Y_),c.vf.loadFloorplanAndInsertFirst(e.id,o[0])}));i.all(u).then((function(){for(var e=o[0].children,t=0;t<e.length;t++){var i=e[t];if(i.classList.contains("floor")){var a=i.querySelector("style"),u=i.id.match(/\d+/)[0],d=c.house.getFloorplanFromId(Va()(u));d.setViewerViewBox(!0),d.element=i,d.vrDraw(Y_);var h=K_[l.colorscheme];for(var p in h)h.hasOwnProperty(p)&&(a.innerHTML+="*"===p?".room>polygon\n                    { fill: ".concat(h[p]," }"):".room.".concat(p,">polygon\n                    { fill: ").concat(h[p]," }"));a.innerHTML+=".room.excluded>polygon\n              { fill: #F8F8F8 }","blackwhite"===l.colorscheme&&(a.innerHTML+="\n                .window-rect { fill: #FFFFFF; stroke: #000000; stroke-width: 20; }\n                .door-rect { fill: #FFFFFF; stroke: #FFFFFF; stroke-width: 6; }\n              "),i.setAttribute("width",Y_),i.setAttribute("height",Y_)}}s.then((function(){r((function(){n.displayVfVr=!0}))}))}))}}}var Q_=J_,ex=[];function tx(){ex.length&&ex.forEach((function(e){e.$emit("reject")}))}function nx(e){var t=e.$el;ix(t)&&ix(t.parentNode)&&t.parentNode.removeChild(t),e.$destroy();var n=ex.indexOf(e);n>=0&&ex.splice(n,1)}function ix(e){return e&&e.nodeType===Node.ELEMENT_NODE}a(20309);var rx=(0,Re.Z)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal"},[n("div",{staticClass:"form"},[e._t("default")],2),e._v(" "),n("div",{staticStyle:{display:"flex"}},[n("div",{staticClass:"buttons"},[n("span",{staticClass:"btn",on:{click:function(t){return e.$emit("confirm")}}},[e._v("\n        Ok\n      ")]),e._v(" "),n("span",{staticClass:"btn",on:{click:function(t){return e.$emit("cancel")}}},[e._v("\n        Cancel\n      ")])])])])}),[],!1,null,"cbc85f1a",null).exports,ox={props:{value:{type:Boolean,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}}},ax=(a(16750),(0,Re.Z)(ox,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"checkbox-label"},[n("input",{staticClass:"checkbox-input",attrs:{disabled:e.disabled,type:"checkbox"},domProps:{checked:e.value},on:{input:function(t){return e.$emit("input",t.target.checked)}}}),e._v(" "),n("span",{staticClass:"checkbox-text"},[e._v(e._s(e.label))])])}),[],!1,null,"7d7b45a4",null).exports),sx={props:{value:{type:[String,Number],required:!0},type:{type:String,required:!0},attributes:{type:Object,default:()=>{}}}},lx=(a(24528),(0,Re.Z)(sx,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",e._b({staticClass:"input",attrs:{type:e.type},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}},"input",e.attributes,!1))}),[],!1,null,"13868324",null).exports),cx={props:{options:{type:Array,required:!0},value:{type:String,required:!0}}},ux=(a(30018),{components:{EditModal:rx,ModalCheckbox:ax,ModalInput:lx,ModalSlideRadio:(0,Re.Z)(cx,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"radio"},e._l(e.options,(function(t,i){return n("div",{key:i,class:["option",{selected:t===e.value}],on:{click:function(n){return e.$emit("input",t)}}},[e._v("\n    "+e._s(t)+"\n  ")])})),0)}),[],!1,null,"085ec36c",null).exports},props:{visible:{type:Boolean,required:!0},disableVisibilityOption:{type:Boolean,default:!1},name:{type:String,required:!0},hideNameInput:{type:Boolean,default:!1},wallThickness:{type:Number,required:!0},units:{type:String,required:!0,validator:e=>["in","cm"].includes(e)},belowGrade:{type:Boolean,default:!1}},data:()=>({localWallThickness:0,localUnits:""}),computed:{convertedWallThickness(){return"in"===this.localUnits?parseFloat((this.localWallThickness/25.4).toFixed(3)):parseFloat((this.localWallThickness/10).toFixed(2))}},mounted(){this.localWallThickness=this.wallThickness,this.localUnits=this.units},methods:{onWallThicknessInput(e){const t="in"===this.localUnits?25.4*e:10*e;this.localWallThickness=t,this.$emit("wallThicknessChange",Math.round(t))},onUnitsInput(e){this.localUnits=e,this.$emit("unitsChange",e)}}}),dx=(a(20549),(0,Re.Z)(ux,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("EditModal",{staticClass:"edit-floor-modal",on:{confirm:function(t){return e.$emit("resolve")},cancel:function(t){return e.$emit("reject")}}},[n("div",[n("ModalCheckbox",{attrs:{value:e.visible,disabled:e.disableVisibilityOption,label:"Show in iGUIDE"},on:{input:function(t){return e.$emit("visibilityChange",t)}}}),e._v(" "),e.hideNameInput?e._e():n("ModalInput",{attrs:{value:e.name,type:"text"},on:{input:function(t){return e.$emit("nameChange",t)}}}),e._v(" "),e.hideNameInput?n("div",[e._v("\n      "+e._s(e.name)+"\n    ")]):e._e()],1),e._v(" "),n("div",[n("div",[e._v("\n      Perimeter Wall Thickness:\n    ")]),e._v(" "),n("ModalInput",{staticClass:"wall-thickness-input",attrs:{value:e.convertedWallThickness,attributes:{min:0,step:"any"},type:"number"},on:{input:e.onWallThicknessInput}}),e._v(" "),n("ModalSlideRadio",{attrs:{options:["in","cm"],value:e.localUnits},on:{input:e.onUnitsInput}})],1),e._v(" "),n("div",[n("ModalCheckbox",{attrs:{value:e.belowGrade,label:"Below Grade"},on:{input:function(t){return e.$emit("belowGradeChange",t)}}})],1)])}),[],!1,null,"27bcfabc",null).exports),hx={components:{ConfirmationModal:$e}},px=(0,Re.Z)(hx,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("ConfirmationModal",{staticClass:"hidden-changes-warning-modal",attrs:{show:"",message:"Warning: Any changes made to hidden floors or labels will not be saved."},on:{confirm:function(t){return e.$emit("resolve")},cancel:function(t){return e.$emit("reject")}}})}),[],!1,null,null,null).exports,fx={components:{EditModal:rx,ModalInput:lx},props:{name:{type:String,required:!0},hideNameInput:{type:Boolean,default:!1}}},mx=(0,Re.Z)(fx,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("EditModal",{staticClass:"edit-building-modal",on:{confirm:function(t){return e.$emit("resolve")},cancel:function(t){return e.$emit("reject")}}},[e.hideNameInput?e._e():n("ModalInput",{attrs:{value:e.name,type:"text"},on:{input:function(t){return e.$emit("nameChange",t)}}}),e._v(" "),e.hideNameInput?n("div",[e._v("\n    "+e._s(e.name)+"\n  ")]):e._e()],1)}),[],!1,null,null,null).exports,gx={props:{options:{type:Array,required:!0},value:{type:String,required:!0}}},vx=(a(82220),(0,Re.Z)(gx,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{key:e.value,staticClass:"select",domProps:{value:e.value},on:{change:function(t){return e.$emit("input",t.target.value)}}},e._l(e.options,(function(t,i){return n("option",{key:i,attrs:{disabled:t.disabled},domProps:{selected:t.selected}},[e._v("\n    "+e._s(t.text||t)+"\n  ")])})),0)}),[],!1,null,"701f1eee",null).exports),yx={components:{ModalSelect:vx},props:{room:{type:Object,required:!0},standard:{type:String,required:!0}},data(){return{flagDisabled:0===this.room.type,roomTypes:Cs.map((e=>e.label)),flagsPerStandard:{rms:{included:"Included",excluded:"Excluded",exterior:"Exterior"},ansi:{includedFinished:"Included-Finished",includedUnfinished:"Included-Unfinished",excluded:"Excluded",exterior:"Exterior"}},type:this.room.type,flagOptions:[],getRoomTypeLabel:ks,getTypeFromLabel:Ps}},computed:{flags(){return this.flagsPerStandard[this.standard]}},watch:{type(e,t){const n=[0,9];(n.includes(e)||n.includes(t))&&this.updateOptions()}},beforeMount(){this.flagOptions=Object.values(this.flags).map((e=>({text:e}))),this.updateOptions()},methods:{updateOptions(){this.flagOptions.forEach((e=>{const t=this.isAnsi()&&e.text===this.flags.includedFinished,n=this.isAnsi()&&e.text===this.flags.includedUnfinished;this.$set(e,"disabled",9===this.type&&t),this.$set(e,"selected",0===this.type&&e.text===this.flags.exterior||9===this.type&&n&&this.isFinishedSelected())}))},typeChange(e){const t=Ps(e);this.type=t,this.flagDisabled=!1,0===t&&(this.flagDisabled=!0,this.flagChange(this.flags.exterior)),9===t&&this.flagChange(this.isAnsi()?this.flags.includedUnfinished:this.flags.included),this.$emit("typeChange",t)},flagChange(e){this.$emit("flagChange",{unfinished:this.isAnsi()&&e===this.flags.includedUnfinished,excluded:e===this.flags.excluded||e===this.flags.exterior,exterior:e===this.flags.exterior})},getFlag(){return this.room.exterior?this.flags.exterior:this.room.excluded?this.flags.excluded:this.isAnsi()?this.room.unfinished?this.flags.includedUnfinished:this.flags.includedFinished:this.flags.included},isFinishedSelected(){return this.$refs.flagOptionsEl?.$el.value===this.flagsPerStandard.ansi.includedFinished},isAnsi(){return"ansi"===this.standard}}},bx={components:{EditModal:rx,ModalCheckbox:ax,ModalInput:lx,ModalSelect:vx,SelectRoomType:(0,Re.Z)(yx,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",[n("tr",[n("td",[e._v("Room Type:")]),e._v(" "),n("td",[n("ModalSelect",{attrs:{value:e.getRoomTypeLabel(e.room.type),options:e.roomTypes},on:{input:function(t){return e.typeChange(t)}}})],1)]),e._v(" "),n("tr",[n("td",[e._v("Room Flag:")]),e._v(" "),n("td",[n("ModalSelect",{ref:"flagOptionsEl",attrs:{value:e.getFlag(),disabled:e.flagDisabled,options:e.flagOptions},on:{input:function(t){return e.flagChange(t)}}})],1)])])}),[],!1,null,null,null).exports},props:{label:{type:Object,required:!0}},data(){return{shouldDelete:!1,showDeleteOption:!this.label.room,fontSize:this.label.viewer().vf.labelFonts[this.label.fontSize].label}}},wx=(a(16984),(0,Re.Z)(bx,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("EditModal",{staticClass:"edit-label-modal",on:{confirm:function(t){return e.$emit("resolve",{shouldDelete:e.shouldDelete})},cancel:function(t){return e.$emit("reject")}}},[n("table",[n("tr",[n("td",[e._v("Show Room Details in iGUIDE:")]),e._v(" "),n("td",[n("ModalCheckbox",{attrs:{value:!e.label.hidden},on:{input:function(t){return e.$emit("visibilityChange",t)}}})],1)]),e._v(" "),n("tr",[n("td",[e._v("Label:")]),e._v(" "),n("td",[n("ModalInput",{attrs:{value:e.label.text,type:"text"},on:{input:function(t){return e.$emit("textChange",t)}}})],1)]),e._v(" "),n("tr",[n("td",[e._v("Font Size (Viewer only):")]),e._v(" "),n("td",[n("ModalSelect",{attrs:{options:["Large","Medium","Small"],value:e.fontSize},on:{input:function(t){return e.$emit("fontSizeChange",t)}}})],1)]),e._v(" "),e.label.dimensionLabel?n("tr",[n("td",[e._v("Show Dimensions:")]),e._v(" "),n("td",[n("ModalCheckbox",{attrs:{value:!e.label.dimensionLabel.hidden,label:e.label.dimensionLabel.getText(!0)},on:{input:function(t){return e.$emit("dimensionsEnabledChange",t)}}})],1)]):e._e(),e._v(" "),e.label.areaLabel?n("tr",[n("td",[e._v("Show Room Area:")]),e._v(" "),n("td",[n("ModalCheckbox",{attrs:{value:!e.label.areaLabel.hidden,label:e.label.areaLabel.getText(!0)},on:{input:function(t){return e.$emit("areaEnabledChange",t)}}})],1)]):e._e(),e._v(" "),n("tr",[n("td",{staticStyle:{padding:"0"},attrs:{colspan:"2"}},[e.label.room?n("SelectRoomType",{staticClass:"room-type",staticStyle:{width:"100%"},attrs:{room:e.label.room(),standard:e.label.viewer().vf.view.measurementStandard},on:{typeChange:function(t){return e.$emit("roomTypeChange",t)},flagChange:function(t){return e.$emit("roomFlagChange",t)}}}):e._e()],1)]),e._v(" "),e.showDeleteOption?n("tr",[n("td",[e._v("Delete:")]),e._v(" "),n("td",[n("div",{staticClass:"float-right"},[n("ModalCheckbox",{model:{value:e.shouldDelete,callback:function(t){e.shouldDelete=t},expression:"shouldDelete"}})],1)])]):e._e()])])}),[],!1,null,"5b767151",null).exports),_x={components:{EditModal:rx,ModalCheckbox:ax,ModalInput:lx,ModalSelect:vx},props:{label:{type:Object,required:!0}},data(){return{shouldDelete:!1,showDeleteOption:!this.label.room,fontSize:this.label.viewer().vf.labelFonts[this.label.fontSize].label,showUnfinishedOption:this.label.viewer().vf.reportFinishedArea&&this.label.room,UNFINISHED:9}}},xx=(a(83858),(0,Re.Z)(_x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("EditModal",{staticClass:"edit-label-modal",on:{confirm:function(t){return e.$emit("resolve",{shouldDelete:e.shouldDelete})},cancel:function(t){return e.$emit("reject")}}},[n("div",[n("ModalCheckbox",{attrs:{value:!e.label.hidden,label:"Show in iGUIDE"},on:{input:function(t){return e.$emit("visibilityChange",t)}}}),e._v(" "),n("ModalInput",{attrs:{value:e.label.text,type:"text"},on:{input:function(t){return e.$emit("textChange",t)}}})],1),e._v(" "),n("div",{staticClass:"font-size-option"},[n("div",{staticClass:"font-size-option-label"},[e._v("\n      Font Size:"),n("br"),e._v(" "),n("small",[n("small",[e._v("(Viewer only)")])])]),e._v(" "),n("ModalSelect",{staticClass:"font-size-select",attrs:{options:["Large","Medium","Small"],value:e.fontSize},on:{input:function(t){return e.$emit("fontSizeChange",t)}}})],1),e._v(" "),e.label.dimensionLabel?n("div",[n("ModalCheckbox",{attrs:{value:!e.label.dimensionLabel.hidden,label:e.label.dimensionLabel.getText(!0)},on:{input:function(t){return e.$emit("dimensionsEnabledChange",t)}}})],1):e._e(),e._v(" "),e.label.areaLabel?n("div",[n("ModalCheckbox",{attrs:{value:!e.label.areaLabel.hidden,label:e.label.areaLabel.getText(!0)},on:{input:function(t){return e.$emit("areaEnabledChange",t)}}})],1):e._e(),e._v(" "),e.showUnfinishedOption?n("div",[n("ModalCheckbox",{attrs:{value:e.label.room().type===e.UNFINISHED,label:"Unfinished"},on:{input:function(t){return e.$emit("unfinishedChange",t)}}})],1):e._e(),e._v(" "),e.showDeleteOption?n("div",[n("ModalCheckbox",{attrs:{label:"Delete"},model:{value:e.shouldDelete,callback:function(t){e.shouldDelete=t},expression:"shouldDelete"}})],1):e._e()])}),[],!1,null,"d3805e92",null).exports),Tx={components:{EditModal:rx,ModalCheckbox:ax,ModalInput:lx},props:{visible:{type:Boolean,required:!0},name:{type:String,required:!0}}},Sx=(0,Re.Z)(Tx,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("EditModal",{staticClass:"edit-pano-modal",on:{confirm:function(t){return e.$emit("resolve")},cancel:function(t){return e.$emit("reject")}}},[n("div",[n("ModalCheckbox",{attrs:{value:e.visible,label:"Show in iGUIDE"},on:{input:function(t){return e.$emit("visibilityChange",t)}}}),e._v(" "),n("ModalInput",{attrs:{value:e.name,type:"text"},on:{input:function(t){return e.$emit("nameChange",t)}}})],1)])}),[],!1,null,null,null).exports,Ex={props:{options:{type:Array,required:!0},value:{type:[Number,String],required:!0}}},Mx=(a(79559),{components:{EditModal:rx,ModalRadio:(0,Re.Z)(Ex,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-radio"},e._l(e.options,(function(t){return n("div",{key:t.value,staticClass:"modal-radio-option"},[n("input",{staticClass:"modal-radio-input",attrs:{id:t.value,type:"radio"},domProps:{value:t.value,checked:e.value===t.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),n("label",{staticClass:"modal-radio-label",attrs:{for:t.value}},[e._v("\n      "+e._s(t.label)+"\n    ")])])})),0)}),[],!1,null,"48b2b1ba",null).exports},props:{panos:{type:Array,required:!0},active:{type:Number,required:!0}},data(){return{localActive:this.active}},computed:{radioOptions(){const e=this.panos.map((({id:e,name:t})=>({value:e,label:`${t} (ID #${e})`})));return[{value:-1,label:"Disable All"},...e]}},methods:{onActiveRadioInput(e){const t=Number(e);this.localActive=t,this.$emit("activeChange",t)}}}),Ax=Mx,Cx=(a(91901),(0,Re.Z)(Ax,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("EditModal",{staticClass:"overlapping-panos-modal",on:{confirm:function(t){return e.$emit("resolve",e.localActive)},cancel:function(t){return e.$emit("reject")}}},[n("div",[n("div",{staticClass:"section-header"},[e._v("\n      Multiple panos overlap."),n("br"),e._v("\n      Which one should be shown?\n    ")]),e._v(" "),n("ModalRadio",{attrs:{options:e.radioOptions,value:e.localActive},on:{input:e.onActiveRadioInput}})],1)])}),[],!1,null,"0b372c16",null).exports),kx=function(){function e(t){o()(this,e),this.viewer=t,this.shown=!1,this.delete=!1,this.label=!1,this.nameDisabled=!1,this.hideNameCheckbox=!1,this.hideNameInput=!1,this.hideNameLabel=!1,this.thickness=!1,this.overlappingPanos=!1,this.grade=!1,this.fontSizes=this.viewer.vf.labelFonts,this.editingElements=[]}var t,n,i,r;return l()(e,[{key:"open",value:function(){this.shown=!0,this.delete=!1,this.label=!1,this.nameDisabled=!1,this.hideNameCheckbox=!1,this.hideNameInput=!1,this.hideNameLabel=!1,this.thickness=!1,this.overlappingPanos=!1,this.grade=!1}},{key:"show",value:function(){this.shown=!0}},{key:"hide",value:function(){this.shown=!1}},{key:"onCancelClickWrapper",value:function(){this.label&&(this.label.text=this.origLabel.text,this.label.hidden=this.origLabel.hidden,this.label.fontSize=this.origLabel.fontSize,this.label.dimensionLabel&&(this.label.dimensionLabel.hidden=this.origLabel.dimensionHidden),this.label.areaLabel&&(this.label.areaLabel.hidden=this.origLabel.areaHidden)),this.onCancelClick&&this.onCancelClick(),this.shown=!1}},{key:"onFloorSelectorEditBtnClick",value:(r=fg()(hg().mark((function e(t){var n,i,r,o,a,s,l=this;return hg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.viewer.jview.isMeasureModeActive()){e.next=2;break}return e.abrupt("return");case 2:if(n=t.viewer.vf.view.dataV2.buildings.findIndex((function(e){return e.id===t.buildingId})),i=t.viewer.vf.view.dataV2.buildings[n].floors.find((function(e){return e.id===t.id})),r=t.actualExtWallThickness||0,o="floor".concat(i.id),!this.editingElements.includes(o)){e.next=8;break}return e.abrupt("return");case 8:return this.editingElements.push(o),a={visible:!t.hidden,disableVisibilityOption:!t.hidden&&this.viewer.jview.house.getShownFloorplans().length<2,name:t.label,hideNameInput:this.viewer.vf.edit&&!this.viewer.vf.edit.labels&&this.viewer.vf.edit.floors,wallThickness:r,units:this.viewer.vf.bImperial?"in":"cm",belowGrade:t.belowGrade},s={visibilityChange:function(e){t.hidden=!e,l.viewer.jview.setFloorplanShown(t,!t.hidden)},nameChange:function(e){var n=e.length?e:a.name;t.label=n,i.name=n},wallThicknessChange:function(e){t.actualExtWallThickness=e,i.actualExtWallThickness=e},unitsChange:function(e){l.viewer.vf.bImperial="in"===e},belowGradeChange:function(e){t.belowGrade=e,i.belowGrade=e}},e.prev=11,e.next=14,this.viewer.createDialog(dx,a,s);case 14:if(!t.hidden){e.next=17;break}return e.next=17,this.viewer.createDialog(px);case 17:e.next=29;break;case 19:e.prev=19,e.t0=e.catch(11),t.hidden=!a.visible,t.label=a.name,i.name=a.name,t.belowGrade=a.belowGrade,i.belowGrade=a.belowGrade,t.actualExtWallThickness=a.wallThickness,i.actualExtWallThickness=a.wallThickness,this.viewer.jview.setFloorplanShown(t,!t.hidden);case 29:return e.prev=29,this.editingElements=this.editingElements.filter((function(e){return e!==o})),this.viewer.jview.editModalOpen=!1,e.finish(29);case 33:case"end":return e.stop()}}),e,this,[[11,19,29,33]])}))),function(e){return r.apply(this,arguments)})},{key:"onFloorSelectorEditBuildingBtnClick",value:(i=fg()(hg().mark((function e(t){var n,i,r;return hg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.viewer.jview.isMeasureModeActive()){e.next=2;break}return e.abrupt("return");case 2:if(n="building".concat(t.id),!this.editingElements.includes(n)){e.next=5;break}return e.abrupt("return");case 5:return this.editingElements.push(n),i={name:t.name,hideNameInput:this.viewer.vf.edit&&!this.viewer.vf.edit.labels&&this.viewer.vf.edit.floors},r={nameChange:function(e){var n=e.length?e:i.name;t.name=n}},e.prev=8,e.next=11,this.viewer.createDialog(mx,i,r);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),t.name=i.name;case 16:return e.prev=16,this.editingElements=this.editingElements.filter((function(e){return e!==n})),this.viewer.jview.editModalOpen=!1,e.finish(16);case 20:case"end":return e.stop()}}),e,this,[[8,13,16,20]])}))),function(e){return i.apply(this,arguments)})},{key:"onLabelEditBtnClick",value:(n=fg()(hg().mark((function e(t){var n,i,r,o,a,s,l,c,u=this;return hg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.viewer.jview.isMeasureModeActive()){e.next=2;break}return e.abrupt("return");case 2:if(n={text:t.text,hidden:t.hidden,fontSize:t.fontSize,type:t.room&&t.room().type,excluded:t.room&&t.room().excluded,exterior:t.room&&t.room().exterior,unfinished:t.room&&t.room().unfinished,dimensionLabelHidden:t.dimensionLabel&&t.dimensionLabel.hidden,areaLabelHidden:t.areaLabel&&t.areaLabel.hidden},i=t.element.id,!this.editingElements.includes(i)){e.next=6;break}return e.abrupt("return");case 6:return this.editingElements.push(i),r={label:t},o={visibilityChange:function(e){t.hidden=!e,t.toggleRoomHidden&&t.toggleRoomHidden(),t.redraw()},textChange:function(e){t.text=e,t.editDone({},e),t.onTransformChange.do()},fontSizeChange:function(e){var n=u.fontSizes.findIndex((function(t){return t.label===e}));t.fontSize=n,t.redrawFontSize(),t.onTransformChange.do()},dimensionsEnabledChange:function(e){t.dimensionLabel.hidden=!e,t.dimensionLabel.onRedrawDimensionsAndAreaColor(),t.dimensionLabel.showDimArrows()},areaEnabledChange:function(e){t.areaLabel.hidden=!e,t.areaLabel.onRedrawDimensionsAndAreaColor()},roomTypeChange:function(e){t.room().type=e,$s(t.room(),u.viewer.vf.viewer.floorplanwindowElem[0])},roomFlagChange:function(e){var n=e.unfinished,i=e.excluded,r=e.exterior;t.room().unfinished=n,t.room().excluded=i,t.room().exterior=r,$s(t.room(),u.viewer.vf.viewer.floorplanwindowElem[0])},unfinishedChange:function(){t.toggleRoomUnfinished&&t.toggleRoomUnfinished()}},a=function(e){e.shouldDelete&&t.deleteLabel(),!t.room||0!==t.room().type||t.areaLabel.hidden&&t.dimensionLabel.hidden?t.redraw():(u.onExtMeasLabelsConfirmBtnClick=function(){t.redraw(),u.viewer.jview.showExtMeasLabelsModal=!1},u.onExtMeasLabelsCancelBtnClick=function(){s(),u.viewer.jview.showExtMeasLabelsModal=!1},u.viewer.jview.showExtMeasLabelsModal=!0)},s=function(){t.text=n.text,t.fontSize=n.fontSize,t.hidden=n.hidden,t.room&&(t.room().type=n.type,t.room().excluded=n.excluded,t.room().exterior=n.exterior,t.room().unfinished=n.unfinished,$s(t.room(),u.viewer.vf.viewer.floorplanwindowElem[0])),t.areaLabel&&(t.areaLabel.hidden=!!n.areaLabelHidden),t.dimensionLabel&&(t.dimensionLabel.hidden=!!n.dimensionLabelHidden),t.redraw(),t.onTransformChange.do()},e.prev=11,e.next=14,this.viewer.createDialog(this.viewer.vf.view.measurementStandard?wx:xx,r,o);case 14:if(l=e.sent,c=t.element&&t.element.id.startsWith("room-label"),!t.hidden||c){e.next=19;break}return e.next=19,this.viewer.createDialog(px);case 19:a(l),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(11),e.t0&&console.error(e.t0),s();case 26:return e.prev=26,this.editingElements=this.editingElements.filter((function(e){return e!==i})),e.finish(26);case 29:case"end":return e.stop()}}),e,this,[[11,22,26,29]])}))),function(e){return n.apply(this,arguments)})},{key:"onPanoViewsEditBtnClick",value:(t=fg()(hg().mark((function e(t){var n,i,r,o,a,s=this;return hg().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.viewer.jview.panoViewLabelNames[t],i="pano".concat(n.id),!this.editingElements.includes(i)){e.next=4;break}return e.abrupt("return");case 4:return this.editingElements.push(i),r={visible:n.bShow,name:n.text},o={visibilityChange:function(e){n.bShow=e,s.viewer.vf.eventBus.emit("common_area_pano_changed")},nameChange:function(e){n.text=e.length?e:r.name,s.viewer.vf.eventBus.emit("common_area_pano_changed")}},a=function(){n.bShow=r.visible,n.text=r.name,s.viewer.vf.eventBus.emit("common_area_pano_changed")},e.prev=8,e.next=11,this.viewer.createDialog(Sx,r,o);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),a();case 16:return e.prev=16,this.editingElements=this.editingElements.filter((function(e){return e!==i})),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[8,13,16,19]])}))),function(e){return t.apply(this,arguments)})},{key:"showOverlappingPanosModal",value:function(e){var t=this,n=e.overlappingPanoIds.map((function(e){return t.viewer.jview.floorplan.getPanoAndIdxFromId(e).pano})),i=[e].concat(x()(n)),r=i.find((function(e){return e.bShow})),o={panos:i.map((function(e){return{id:e.id,name:e.text}})),active:r?r.id:-1},a={activeChange:function(e){var n=t.viewer.jview.floorplan.getActivePano().id;-1!==e&&n!==e&&(t.viewer.jview.floorplan.setNActivePano(e),t.viewer.jview.updatePano("crossfade"))}};this.viewer.createDialog(Cx,o,a).then((function(e){i.forEach((function(n){n.setShown(t.viewer.jview.floorplan.get_colors().circle,n.id===e)})),t.viewer.vf.eventBus.emit("pano_visibility_changed",t.viewer.jview.floorplan.getActivePano(),t.viewer.jview.floorplan)}))}},{key:"getNodims",value:function(){return this.viewer.vf.nodims||this.viewer.vf.isPreview}},{key:"getNoroomarea",value:function(){return this.viewer.vf.noroomarea||this.viewer.vf.isPreview}},{key:"getBImperial",value:function(){return this.viewer.vf.bImperial}}]),e}(),Px=kx,Dx=new URL(a(12340),a.b),Rx=new URL(a(8025),a.b),$x=new URL(a(65297),a.b),Ix=new URL(a(75355),a.b),Lx='<div id="tour" class="show col-md-12-fix" ng-init="$ctrl.social = { open: false } " ng-class="{ \'is-floorplan-shrunk\': $ctrl.jview.floorplanShrunk }"> <div id="loader-container"> <div id="loader"> <div class="loader"> <img ng-src="{{ $ctrl.vf.rootPath + \'/image/viewer/spinner10.svg\' }}"/> </div> </div> </div> <vf-share-modal vf="$ctrl.vf" ng-if="$ctrl.social.open"> </vf-share-modal> <navigation-help-modal v-props-show-modal="$ctrl.showNavigationHelpModal" v-on-hide-nav-help="$ctrl.hideNavigationHelp"> </navigation-help-modal> <confirmation-modal class="show-all-labels-modal" v-props-show="!!$ctrl.showShowAllLabelsModal" v-props-message="\'You are about to show all labels. All measurement labels will visible in measure mode.\'" v-on-confirm="$ctrl.onShowAllLabelsConfirmBtnClick" v-on-cancel="$ctrl.onShowAllLabelsCancelBtnClick"> </confirmation-modal> <confirmation-modal class="hide-all-labels-modal" v-props-show="!!$ctrl.showHideAllLabelsModal" v-props-message="\'You are about to hide all labels. All measurement labels will be hidden in measure mode.\'" v-on-confirm="$ctrl.onHideAllLabelsConfirmBtnClick" v-on-cancel="$ctrl.onHideAllLabelsCancelBtnClick"> </confirmation-modal> <confirmation-modal class="hide-all-panos-modal" v-props-show="!!$ctrl.showHideAllModal" v-props-message="\'You are about to disable all panos on this floor.\'" v-on-confirm="$ctrl.onHideAllConfirmBtnClick" v-on-cancel="$ctrl.onHideAllCancelBtnClick"> </confirmation-modal> <confirmation-modal class="ext-meas-labels-modal" ng-if="$ctrl.vf.edit && ($ctrl.vf.edit.labels || $ctrl.vf.edit.floors)" v-props-show="!!$ctrl.jview.showExtMeasLabelsModal" v-props-message="\'Outdoor measurements may be less accurate than indoor measurements and Planitar assumes no responsibility for their accuracy. By enabling this you are assuming responsibility for ensuring the accuracy of these measurements.\'" v-on-confirm="$ctrl.onExtMeasLabelsConfirmBtnClick" v-on-cancel="$ctrl.onExtMeasLabelsCancelBtnClick"> </confirmation-modal> <div id="viewer-row" ng-show="$ctrl.vf.page === \'tour\' || $ctrl.vf.page === \'tour_meas\' || $ctrl.vf.page === \'video\' || ($ctrl.vf.edit && $ctrl.vf.page !== \'gallery\')"> <div id="side-panel" class="side-panel"> <div id="floorplanwindow" ng-class="{ \'cursor-move\': $ctrl.jview.floorplanData.isPanZoomMode && !$ctrl.jview.floorplanShrunk, \'cursor-crosshair\': $ctrl.vf.page === \'tour_meas\' && !$ctrl.jview.isMeasureMode3() && (!$ctrl.vf.editTags || ($ctrl.vf.editTags && !$ctrl.jview.isMeasureMode1())), \'cursor-default\': $ctrl.vf.page !== \'tour_meas\' || $ctrl.jview.isMeasureMode3() }" viewer-bs-show="$ctrl.jview.hasFloorplan"> <span id="disabled-floorplanwindow" class="overlay hidden" ng-if="$ctrl.vf.edit" viewer-bs-show="$ctrl.jview.floorplan.hidden"> <span>This floor will not be shown.</span> </span> </div> <div id="pano-views" ng-if="!$ctrl.jview.hasFloorplan"> <common-areas-pano-list v-props-panos="$ctrl.commonAreasPanos" v-props-active-pano-id="$ctrl.jview.floorplan.nActivePano" v-props-minimized="$ctrl.jview.floorplanShrunk" v-props-no-floor-selector="!$ctrl.showDropup" v-props-editable="!!$ctrl.vf.edit && $ctrl.vf.edit.floors" v-on-edit-pano-item="$ctrl.onEditPanoItemClick" v-on-item-click="$ctrl.onPanoViewsClick"> </common-areas-pano-list> <span id="disabled-pano-views" class="overlay hidden" ng-if="$ctrl.vf.edit" viewer-bs-show="$ctrl.jview.floorplan.hidden"> <span>This floor will not be shown.</span> </span> </div> <floorplan-overlay ng-if="!$ctrl.floorplanOverlayHidden" v-props-is-pan-zoom-mode="$ctrl.jview.floorplanData.isPanZoomMode" v-props-is-pan-zoomed="$ctrl.jview.floorplan.isPanZoomed" v-props-compass-angle="$ctrl.jview.floorplan.compassAngle || 0" v-props-hide-compass="!$ctrl.showFloorplanCompass() || !$ctrl.jview.hasFloorplan" v-props-buildings="$ctrl.vf.view.dataV2.buildings" v-props-active-floor-id="$ctrl.activeFloorId" v-props-hide-floor-selector="!$ctrl.showDropup" v-props-floorplan-width="$ctrl.floorplanWidth" v-props-floorplan-height="$ctrl.floorplanHeight" v-props-hide-pan-zoom-tools="!$ctrl.jview.hasFloorplan || $ctrl.vf.pagepreviewWorkaround || $ctrl.vf.embedpreviewWorkaround" v-props-editable="!!$ctrl.vf.edit && $ctrl.vf.edit.floors" v-props-edit-modal-open="$ctrl.jview.editModalOpen" v-on-toggle-pan-zoom="$ctrl.togglePanZoom" v-on-reset-pan-zoom="$ctrl.resetPanZoom" v-on-floor-select="$ctrl.onFloorSelect" v-on-edit-building-modal="$ctrl.onEditBuildingModal" v-on-edit-floor-modal="$ctrl.onEditFloorModal"> </floorplan-overlay> <div id="floorplanwindow__resize" class="btnbar top right side-panel__resize-container" ng-if="!$ctrl.vf.pagepreviewWorkaround && !$ctrl.vf.embedpreviewWorkaround" ng-show="$ctrl.vf.hasData || !$ctrl.vf.accessDenied"> <floorplan-resize v-props-minimized="$ctrl.jview.floorplanShrunk" v-on-mousedown="$ctrl.onFloorplanResizeMousedown" v-on-mouseup="$ctrl.onFloorplanResizeMouseup" v-on-click="$ctrl.onShrinkFloorplan"> </floorplan-resize> </div> </div> <div id="imagewindow" class="nopadding" viewer-bs-show="$ctrl.vf.hasData && ($ctrl.vf.page === \'tour\' || $ctrl.vf.page ===\n        \'tour_meas\' || $ctrl.vf.page === \'video\' || $ctrl.vf.edit)"> <measure-mode-status-bar v-props-is-visible="$ctrl.vf.measureModeStatusBarIsVisible" v-props-message="$ctrl.vf.measureModeStatusBarMessage" v-props-position="$ctrl.vf.measureModeStatusBarPosition" v-on-hide="$ctrl.hideMeasureModeStatusBar"> </measure-mode-status-bar> <measure-bearing class="meas_bearing_container" ng-if="$ctrl.showMeasureBearing()" v-props-bearing="$ctrl.measureBearing"> </measure-bearing> <div class="hidden"> <img id="cache" class="hidden"/> </div> <div id="imagewindow__overlay" class="imagewindow__overlay_isInvisible"></div> <div id="vmarker" ng-if="$ctrl.vf.landscape && !$ctrl.vf.editTags" viewer-bs-show="$ctrl.vf.page === \'tour_meas\' && !$ctrl.jview.isAdvancedMeasureMode()"> </div> <div id="scene"> </div> <div id="control-btnbar" class="tools-container" ng-if="!$ctrl.vf.nocontrols"> <tour-tools ng-if="$ctrl.vf.page === \'tour\' && !$ctrl.vf.compass" v-props-is-imperial="$ctrl.vf.bImperial" v-props-hide-measure-button="$ctrl.hideMeasureButton()" v-props-hide-tag-list-button="!$ctrl.vf.hasTagList" v-props-hide-share-button="$ctrl.vf.nosocial" v-props-hide-autoplay-button="$ctrl.vf.noautoplay" v-props-view="$ctrl.vf.view" v-props-show-tag-list="$ctrl.vf.showTagList" v-props-hide-portal-links="$ctrl.vf.unbranded || $ctrl.vf.view.iguide.addons.whitelabel" v-props-show-gyro="$ctrl.showGyroscope" v-props-edit-tags="!!$ctrl.vf.editTags" v-on-measure="$ctrl.openMeasPage" v-on-tag-list="$ctrl.toggleTagList" v-on-share="$ctrl.openShare" v-on-create-tag="$ctrl.onAddTagBtnClick" v-on-navigation-help="$ctrl.showNavigationHelp" v-on-measurement-help="$ctrl.openDisclaimer" v-on-floor-screenshot="$ctrl.showFloorScreenshotModal" v-on-autoplay="$ctrl.toggleAutoplay" v-on-gyroscope="$ctrl.toggleCompass" v-on-imperial="$ctrl.setImperial" v-on-metric="$ctrl.setMetric" v-on-popup-blocked="$ctrl.togglePopupBlocked"> </tour-tools> <autoplay-tools ng-if="$ctrl.vf.page === \'video\'" v-props-muted="$ctrl.jview.tourData.mutedByUser || $ctrl.jview.tourData.mutedByBrowser" v-props-hide-tag-list-button="!$ctrl.vf.hasTagList" v-props-show-tag-list="$ctrl.vf.showTagList" v-props-hide-autoplay-button="$ctrl.vf.noautoplay" v-props-view="$ctrl.vf.view" v-props-is-imperial="$ctrl.vf.bImperial" v-props-hide-portal-links="$ctrl.vf.unbranded || $ctrl.vf.view.iguide.addons.whitelabel" v-props-hide-share-button="$ctrl.vf.nosocial" v-props-show-gyro="$ctrl.showGyroscope" v-on-navigation-help="$ctrl.showNavigationHelp" v-on-measurement-help="$ctrl.openDisclaimer" v-on-floor-screenshot="$ctrl.showFloorScreenshotModal" v-on-autoplay="$ctrl.toggleAutoplay" v-on-imperial="$ctrl.setImperial" v-on-metric="$ctrl.setMetric" v-on-tag-list="$ctrl.toggleTagList" v-on-stop="$ctrl.toggleAutoplay" v-on-mute="$ctrl.toggleMusic" v-on-gyroscope="$ctrl.toggleCompass" v-on-share="$ctrl.openShare"> </autoplay-tools> <gyroscope-tools ng-if="$ctrl.vf.compass" v-props-hide-tag-list-button="!$ctrl.vf.hasTagList" v-props-show-tag-list="$ctrl.vf.showTagList" v-props-hide-autoplay-button="$ctrl.vf.noautoplay" v-props-view="$ctrl.vf.view" v-props-is-imperial="$ctrl.vf.bImperial" v-props-hide-portal-links="$ctrl.vf.unbranded || $ctrl.vf.view.iguide.addons.whitelabel" v-props-hide-share-button="$ctrl.vf.nosocial" v-props-show-gyro="$ctrl.showGyroscope" v-on-navigation-help="$ctrl.showNavigationHelp" v-on-measurement-help="$ctrl.openDisclaimer" v-on-floor-screenshot="$ctrl.showFloorScreenshotModal" v-on-autoplay="$ctrl.toggleAutoplay" v-on-imperial="$ctrl.setImperial" v-on-metric="$ctrl.setMetric" v-on-tag-list="$ctrl.toggleTagList" v-on-gyroscope="$ctrl.toggleCompass" v-on-share="$ctrl.openShare" v-on-exit="$ctrl.toggleCompass"> </gyroscope-tools> <measure-tools ng-if="$ctrl.vf.page === \'tour_meas\' && !$ctrl.selectingMeasureMode" v-props-is-imperial="$ctrl.vf.bImperial" v-props-selected-mode="$ctrl.jview.measureMode.mode" v-props-hide-mode-select-button="$ctrl.hideModeSelectButton()" v-props-hide-tag-list-button="!$ctrl.vf.hasTagList" v-props-hide-autoplay-button="$ctrl.vf.noautoplay" v-props-view="$ctrl.vf.view" v-props-show-tag-list="$ctrl.vf.showTagList" v-props-hide-portal-links="$ctrl.vf.unbranded || $ctrl.vf.view.iguide.addons.whitelabel" v-props-show-gyro="$ctrl.showGyroscope" v-props-adding-tag="$ctrl.vf.viewer.isAddingTag" v-props-show-confirm="!!$ctrl.jview.isSettingTagVisibility" v-props-edit-tags="!!$ctrl.vf.editTags" v-on-exit="$ctrl.openMeasPage" v-on-mode="$ctrl.showMeasureModeSelect" v-on-undo="$ctrl.clearLastButtonClick" v-on-tag-list="$ctrl.toggleTagList" v-on-navigation-help="$ctrl.showNavigationHelp" v-on-measurement-help="$ctrl.openDisclaimer" v-on-floor-screenshot="$ctrl.showFloorScreenshotModal" v-on-autoplay="$ctrl.toggleAutoplay" v-on-gyroscope="$ctrl.toggleCompass" v-on-imperial="$ctrl.setImperial" v-on-metric="$ctrl.setMetric" v-on-popup-blocked="$ctrl.togglePopupBlocked" v-on-confirm="$ctrl.onAddTagBtnClick"> </measure-tools> <measure-mode-select ng-if="$ctrl.vf.page === \'tour_meas\' && $ctrl.selectingMeasureMode" v-props-selected-mode="$ctrl.jview.measureMode.mode" v-props-adding-tag="$ctrl.vf.viewer.isAddingTag" v-on-mode-select="$ctrl.measureModeSelector" v-on-exit="$ctrl.hideMeasureModeSelect"> </measure-mode-select> </div> <div id="bottom-right-buttons" class="btnbar btnbarRefresh right bottom imagewindow__btnbar" viewer-bs-show="$ctrl.vf.hasData || !$ctrl.vf.accessDenied" ng-if="!$ctrl.vf.nocontrols"> <display-tools v-props-show-vr="$ctrl.showVrButton" v-on-vr-click="$ctrl.onVrButtonClick" v-props-show-fullscreen="$ctrl.canBrowserFullscreen" v-props-fullscreen-element="$ctrl.fullscreenApi.elem[0]" v-props-show-new-window="$ctrl.showNewWindow" v-on-fullscreen-change="$ctrl.fullscreenApi.listener" v-on-toggle-show-new-window="$ctrl.setShowNewWindow"> </display-tools> </div> <div class="pano-hidden-overlay" ng-show="$ctrl.showPanoHiddenOverlay && !$ctrl.showAllPanosHiddenOverlay"> <span style="text-align:center">This panorama will not be shown.</span> </div> <div class="pano-hidden-overlay" ng-show="$ctrl.showAllPanosHiddenOverlay"> <span style="text-align:center">All panoramas on this floor are disabled.</span> </div> <div class="no-vr-modal" ng-show="$ctrl.noVrDisclaimer"> <p class="no-vr-modal__text"> {{ $ctrl.vf.noiguidetext ? $ctrl.vf.l10n.vrNoDeviceWhiteLabel : $ctrl.vf.l10n.vrNoDevice }} </p> <div class="no-vr-modal__action-buttons"> <span class="no-vr-modal__action-buttons__dismiss" ng-click="$ctrl.noVrDisclaimer = false">{{ $ctrl.vf.l10n.dismissButton }}</span> </div> </div> <div class="no-vr-modal" ng-show="$ctrl.noHttpsVrDisclaimer"> <p class="no-vr-modal__text"> <span ng-if="$ctrl.vrDisclaimerForIMU">{{ $ctrl.vf.noiguidetext ? $ctrl.vf.l10n.vrImuNotSecureWhiteLabel : $ctrl.vf.l10n.vrImuNotSecure }}</span> <span ng-if="!$ctrl.vrDisclaimerForIMU">{{ $ctrl.vf.noiguidetext ? $ctrl.vf.l10n.vrNotSecureWhiteLabel : $ctrl.vf.l10n.vrNotSecure }}</span> </p> <div class="no-vr-modal__action-buttons"> <span class="no-vr-modal__action-buttons__dismiss" ng-click="$ctrl.noHttpsVrDisclaimer = false">{{ $ctrl.vf.l10n.dismissButton }}</span> </div> </div> <div class="no-vr-modal" ng-show="$ctrl.iframeVrDisclaimer"> <p class="no-vr-modal__text"> <span ng-if="$ctrl.vrDisclaimerForIMU">{{ $ctrl.vf.noiguidetext ? $ctrl.vf.l10n.vrImuEmbeddedWhiteLabel : $ctrl.vf.l10n.vrImuEmbedded }}</span> <span ng-if="!$ctrl.vrDisclaimerForIMU">{{ $ctrl.vf.noiguidetext ? $ctrl.vf.l10n.vrEmbeddedWhiteLabel : $ctrl.vf.l10n.vrEmbedded }}</span> </p> <div class="no-vr-modal__action-buttons"> <span class="no-vr-modal__action-buttons__dismiss" ng-click="$ctrl.iframeVrDisclaimer = false">{{ $ctrl.vf.l10n.dismissButton }}</span> </div> </div> <div class="no-vr-modal" style="min-height:230px" ng-show="$ctrl.iOS12VrDisclaimer"> <p class="no-vr-modal__text"> <span ng-if="$ctrl.vrDisclaimerForIMU">{{ $ctrl.vf.l10n.vrImuDisabledSensor }}</span> <span ng-if="!$ctrl.vrDisclaimerForIMU">{{ $ctrl.vf.l10n.vrDisabledSensor }}</span> </p> <ol> <li>{{ $ctrl.vf.l10n.vrDisabledSensorOpen }} <img src="'+Yw()(Dx)+'" alt=""/> <strong>{{ $ctrl.vf.l10n.vrDisabledSensorSettings }}</strong></li> <li>{{ $ctrl.vf.l10n.vrDisabledSensorSelect }} <img src="'+Yw()(Rx)+'" alt=""/> <strong>{{ $ctrl.vf.l10n.vrDisabledSensorSafari }}</strong></li> <li>{{ $ctrl.vf.l10n.vrDisabledSensorEnable }} <img src="'+Yw()($x)+'" style="height:20px" alt=""/> <strong>{{ $ctrl.vf.l10n.vrDisabledSensorAccess }}</strong></li> <li><strong>{{ $ctrl.vf.l10n.vrDisabledSensorReload }}</strong> <img src="'+Yw()(Ix)+'" style="height:20px" alt=""/> {{ $ctrl.vf.l10n.vrDisabledSensorPage }}</li> </ol> <div class="no-vr-modal__action-buttons"> <span class="no-vr-modal__action-buttons__dismiss" ng-click="$ctrl.reloadPage()">{{ $ctrl.vf.l10n.reloadButton }}</span> <span class="no-vr-modal__action-buttons__dismiss" ng-click="$ctrl.iOS12VrDisclaimer = false">{{ $ctrl.vf.l10n.dismissButton }}</span> </div> </div> <div class="no-vr-modal" ng-show="$ctrl.iOS13VrDisclaimer"> <p class="no-vr-modal__text"> {{ $ctrl.vf.l10n.vrPermissionDenied }} </p> <div class="no-vr-modal__action-buttons"> <span class="no-vr-modal__action-buttons__dismiss" ng-click="$ctrl.reloadPage()">{{ $ctrl.vf.l10n.reloadButton }}</span> <span class="no-vr-modal__action-buttons__dismiss" ng-click="$ctrl.iOS13VrDisclaimer = false">{{ $ctrl.vf.l10n.dismissButton }}</span> </div> </div> <div class="no-vr-modal" ng-show="$ctrl.iOS13_4VrDisclaimer"> <p class="no-vr-modal__text"> {{ $ctrl.vf.l10n.vrVersionBug }} </p> <div class="no-vr-modal__action-buttons"> <span class="no-vr-modal__action-buttons__dismiss" ng-click="$ctrl.iOS13_4VrDisclaimer = false">{{ $ctrl.vf.l10n.dismissButton }}</span> </div> </div> </div> </div> <div class="modal fade" id="floor-screenshot-modal" tabindex="-1" role="dialog" aria-labelledby="floorScreenshotModalLabel" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h4 class="modal-title" id="floorScreenshotModalLabel">{{ $ctrl.vf.l10n.screenshotModalHeader }}</h4> </div> <div class="modal-body" style="font-size:.5em"> <label style="font-weight:300" ng-if="$ctrl.jview.floorplan.tags.length"> <input type="checkbox" ng-model="$ctrl.jview.saveScreenshotTags"> {{ $ctrl.vf.l10n.screenshotModalTags }} </label> <br/> <label style="font-weight:300" ng-if="$ctrl.jview.floorplan.measurements.length"> <input type="checkbox" ng-model="$ctrl.jview.saveScreenshotRotate"> {{ $ctrl.vf.l10n.screenshotModalRotate }} </label> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$ctrl.hideFloorScreenshotModal()">{{ $ctrl.vf.l10n.cancelButton }}</button> <button type="button" class="btn btn-primary" data-dismiss="modal" ng-disabled="$ctrl.saveFloorScreenshotWorking" ng-click="$ctrl.saveFloorScreenshot()">{{ $ctrl.saveFloorScreenshotWorking ? $ctrl.vf.l10n.generatingButton : $ctrl.vf.l10n.downloadButton }}</button> </div> </div> </div> </div> <div ng-if="$ctrl.vf.editTags" class="modal fade" id="tag-modal-confirm" tabindex="-1" role="dialog" aria-labelledby="tagModalConfirmLabel" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title" id="tagModalConfirmLabel">Delete Tag{{$ctrl.getActiveTagDeleteModalTitle()}}</h4> </div> <div class="modal-body"> <p style="font-size:.5em"> Are you sure you want to delete this Tag? It will be removed from all Views. <br/><br/> If you only wish to hide this Tag from the current View, press the <i class="icomoon-v-eye"></i> button instead. </p> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button> <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="$ctrl.onDeleteTag()">Delete</button> </div> </div> </div> </div> <vf-tag-modal vf="$ctrl.vf" class="modal fade" ng-class="{\'editor\': $ctrl.vf.editTags, \'preview\': $ctrl.vf.embeddedInPortal && !$ctrl.vf.editTags}"> </vf-tag-modal> </div> ',Ox=(a(63116),function(){function e(t,n,i,r,a,s,l,c,d){var h=this;o()(this,e),u()(this,"onShrinkFloorplan",(function(){h.jview.onShrinkFloorplan()})),u()(this,"onFloorplanResizeMousedown",(function(e){h.jview.fpResizeMousedownTarget=e.target})),u()(this,"onFloorplanResizeMouseup",(function(e){null!==e.target&&e.target===h.jview.fpResizeMousedownTarget&&(h.jview.viewerMouseUpFired=!0)})),u()(this,"onPanoViewsClick",(function(e){h.jview.onPanoViewsClick(e)})),u()(this,"onEditPanoItemClick",(function(e){h.jview.editModal.onPanoViewsEditBtnClick(e)})),u()(this,"onAddTagBtnClick",(function(){h.jview.bInFloorplanInitAnimation||(h.vf.tags.length>=1e4?alert("You have reached the maximum number of tags (".concat(1e4,") and cannot add anymore!")):(h.jview.isRepositioningTag&&h.jview.exitTagRepositioning(),h.jview.onAddTagBtnClick(),h.highlightMeasureModeSelector()))})),u()(this,"togglePanZoom",(function(){h.jview.togglePanZoom()})),u()(this,"resetPanZoom",(function(){h.jview.resetPanZoom()})),u()(this,"toggleTagList",(function(){h.jview.toggleTagList()})),u()(this,"openShare",(function(){h.social.open=!0})),u()(this,"closeShare",(function(){h.social.open=!1})),u()(this,"showMeasureModeSelect",(function(){h.selectingMeasureMode=!0})),u()(this,"hideMeasureModeSelect",(function(){h.selectingMeasureMode=!1})),u()(this,"setImperial",(function(){h.vf.bImperial=!0,h.setStatusMessageAndLineLabel()})),u()(this,"setMetric",(function(){h.vf.bImperial=!1,h.setStatusMessageAndLineLabel()})),u()(this,"togglePopupBlocked",(function(){h.vf.showPopupBlockedModal=!0})),u()(this,"setStatusMessageAndLineLabel",(function(){var e=document.getElementById("meas_statusbar_uncertainty");if(e){var t=e.getAttribute("data-error"),n=h.jview.measureMode.getPrettyMeasLabel(t);e.innerHTML=n}h.jview.cubeManager.setMeasurementsTransform()})),u()(this,"onFloorSelect",(function(e){var t=h.jview&&h.jview.measureMode.mode;h.jview.bInTransition||e===h.activeFloorId||(h.jview.updateFloor(e),2!==t&&3!==t||h.jview.measureMode.onOpenAdvancedMeasMode(t,!1))})),u()(this,"onEditBuildingModal",(function(e){h.jview.editModalOpen=!0,h.jview.editModal.onFloorSelectorEditBuildingBtnClick(h.vf.view.dataV2.buildings[e])})),u()(this,"onEditFloorModal",(function(){h.jview.editModalOpen=!0,h.jview.editModal.onFloorSelectorEditBtnClick(h.jview.floorplan)})),u()(this,"hideMeasureModeStatusBar",(function(){h.vf.measureModeStatusBarIsVisible=!1})),u()(this,"showFloorplanCompass",(function(){return h.jview.floorplan&&(h.jview.floorplan.compassAngle||0===h.jview.floorplan.compassAngle)&&!h.vf.hideFloorplanCompass&&h.floorplanWidth>200})),u()(this,"setShowNewWindow",(function(){h.$scope.$broadcast("show-new-window")})),this.VfMeasurementDisclaimerDialog=s,this.$timeout=n,this.$sce=i,this.$window=t,this.$scope=a,this.$elem=r,this.Viewer=l,this.Device=d,this.Features=c,this.selectingMeasureMode=!1,this.highlightTimeouts=new Array(4),this.showNavigationHelpModal=!1,this.showSaveImageDialog=!1,this.showShuttermask=!1,this.firstResizeEvent=!0,this.saveFloorScreenshotWorking=!1,this.activeFloorId=-1,this.measureBearing=0,this.floorplanWidth=0,this.floorplanHeight=0,this.commonAreasPanos=[],this.floorplanOverlayHidden=!1,this.canBrowserFullscreen=c.fullscreen&&!d.ie9&&!d.ie10&&!d.ie11&&!d.ios,this.showGyroscope=!1,this.onHideAllConfirmBtnClick=this.onHideAllConfirmBtnClick.bind(this),this.onHideAllCancelBtnClick=this.onHideAllCancelBtnClick.bind(this),this.onShowAllLabelsConfirmBtnClick=this.onShowAllLabelsConfirmBtnClick.bind(this),this.onShowAllLabelsCancelBtnClick=this.onShowAllLabelsCancelBtnClick.bind(this),this.onHideAllLabelsConfirmBtnClick=this.onHideAllLabelsConfirmBtnClick.bind(this),this.onHideAllLabelsCancelBtnClick=this.onHideAllLabelsCancelBtnClick.bind(this),this.onExtMeasLabelsConfirmBtnClick=this.onExtMeasLabelsConfirmBtnClick.bind(this),this.onExtMeasLabelsCancelBtnClick=this.onExtMeasLabelsCancelBtnClick.bind(this),this.onSetInitialPanoBtnClick=this.onSetInitialPanoBtnClick.bind(this),this.onSetInitialZoomBtnClick=this.onSetInitialZoomBtnClick.bind(this),this.onShowAllBtnClick=this.onShowAllBtnClick.bind(this),this.onHideAllBtnClick=this.onHideAllBtnClick.bind(this),this.onAddLabelBtnClick=this.onAddLabelBtnClick.bind(this),this.onShowAllLabelsBtnClick=this.onShowAllLabelsBtnClick.bind(this),this.onHideAllLabelsBtnClick=this.onHideAllLabelsBtnClick.bind(this),this.openMeasPage=this.openMeasPage.bind(this),this.toggleAutoplay=this.toggleAutoplay.bind(this),this.toggleCompass=this.toggleCompass.bind(this),this.toggleMusic=this.toggleMusic.bind(this),this.showNavigationHelp=this.showNavigationHelp.bind(this),this.hideNavigationHelp=this.hideNavigationHelp.bind(this),this.openDisclaimer=this.openDisclaimer.bind(this),this.showFloorScreenshotModal=this.showFloorScreenshotModal.bind(this),this.clearLastButtonClick=this.clearLastButtonClick.bind(this),this.onVrButtonClick=this.onVrButtonClick.bind(this),this.setShowNewWindow=this.setShowNewWindow.bind(this)}return l()(e,[{key:"$postLink",value:function(){var e=this,n=this.$timeout,i=this.$elem,r=this.$scope,o=this.Viewer,a=this.Device,s=this.Features;this.jview=new o,this.jview.isIOS=a.ios,this.jview.isAndroidMobile=a.androidMobile,this.jview.isFirefox=s.isFirefox,this.jview.isSafari=s.isSafari,this.jview.floorplanwindowElem=i.find("#floorplanwindow"),this.jview.imagewindowElem=i.find("#imagewindow"),this.jview.panoContainerElem=i.find("#cube1"),this.jview.tpanoContainerElem=i.find("#cube2"),this.jview.measureCubeElem=i.find("#measure-cube"),this.jview.arrowsContainer=i.find(".arrows-container"),this.jview.tourViewer=t().element("#viewer-row"),this.jview.imagewindowControlsElem=i.find("#imagewindow #control-btnbar"),this.jview.setInitAnglePopupElem=i.find("#setinitangle-popup"),this.jview.cacheElem=t().element("#cache"),this.jview.sidePanelElem=i.find("#side-panel"),this.jview.tourContainerElem=t().element("#vf-tour"),this.jview.tourLoaderContainerElem=i.find("#loader-container"),this.jview.editorLoaderOverlayElem=t().element("#editor-loader-overlay"),this.jview.floorScreenshotModalElem=i.find("#floor-screenshot-modal"),this.jview.tagModalElem=i.find("vf-tag-modal"),this.jview.tagModalHeaderElem=i.find("#tag-modal-header"),this.jview.tagModalHeaderInputElem=i.find("#tag-modal-header-input"),this.jview.tagModalContentElem=i.find("#tag-modal-content"),this.jview.tagModalContentTextareaElem=i.find("#tag-modal-content-textarea"),this.jview.tagModalCloseElem=i.find("#tag-modal-close"),this.jview.tagListContainerElem=t().element("#tag-list-container"),this.jview.tagListHeaderElem=t().element(".tag-list-header"),this.jview.createDialog=this.createDialog.bind(this),this.jview.closeAllDialogs=this.closeAllDialogs.bind(this),this.jview.hasOpenDialogs=this.hasOpenDialogs.bind(this),n((function(){e.jview.floorplanTagListBtnElem=i.find("#floorplanwindow__taglist"),e.jview.floorSelectorElem=i.find("#floor-selector"),e.jview.tagModalContentPreviewElem=i.find("#tag-modal-content-preview")})),this.jview.faceElems=[],this.jview.faceDOMElems=[],this.jview.faceImgElems=[],this.jview.tfaceImgElems=[],this.jview.tfaceElems=[],this.jview.tfaceDOMElems=[],this.saveImageEl=i.find("#save_image");for(var l=0;l<6;l++){var c=this.jview.panoContainerElem.find(".face".concat(l)),u=this.jview.tpanoContainerElem.find(".face".concat(l));this.jview.faceElems.push(c),this.jview.faceDOMElems.push(c[0]),this.jview.tfaceElems.push(u),this.jview.tfaceDOMElems.push(u[0]),this.jview.faceImgElems.push(this.jview.panoContainerElem.find(".imgface".concat(l))),this.jview.tfaceImgElems.push(this.jview.tpanoContainerElem.find(".imgface".concat(l)))}this.jview.faceImgElems.push(this.jview.panoContainerElem.find(".imgface6")),this.jview.tfaceImgElems.push(this.jview.tpanoContainerElem.find(".imgface6")),this.showVrButton=this.vf.vrAvailable&&"file:"!==window.location.protocol,this.noVrDisclaimer=!1;var d=function t(){if(e.measureBtnElem=document.querySelector("#measure-button span"),e.measureBtnElem&&!document.hidden){var n=window.getComputedStyle?window.getComputedStyle(e.measureBtnElem,null).getPropertyValue("color"):"#0388CC";e.animMeasBtn=e.measureBtnElem.animate([{color:n},{color:"red"},{color:"red"}],{delay:1500,duration:1e3,easing:"steps(2, end)",iterations:2}),window.removeEventListener("visibilitychange",t)}};this.vf.embeddedInPortal||this.vf.minfp||this.vf.noinitanimation||this.vf.pagepreviewWorkaround||this.vf.embedpreviewWorkaround||(window.addEventListener("load",d),window.addEventListener("visibilitychange",d)),this.shouldWatchVf&&(r.$watch("$ctrl.vf.nomeas",(function(t){t&&"tour_meas"===e.vf.page&&e.openTourPage()})),r.$watch("$ctrl.vf.nodims",(function(t,n){t!==n&&("tour_meas"===e.vf.page&&e.jview.floorplan.updateDimensions(),e.vf.setDetailsConfig())})),r.$watch("$ctrl.vf.noarea",(function(t,n){t!==n&&e.vf.setDetailsConfig()})),r.$watch("$ctrl.vf.noroomarea",(function(t,n){t!==n&&e.vf.setDetailsConfig()})),r.$watch("$ctrl.vf.nopdf",(function(){e.vf.setDetailsConfig()})),r.$watch("$ctrl.vf.novr",(function(){e.showVrButton=e.vf.vrAvailable&&"file:"!==window.location.protocol&&!e.vf.novr})),r.$watch("$ctrl.vf.mute",(function(){e.jview.autoplayMusicManager&&e.jview.autoplayMusicManager(e.vf.mute)})),r.$watch("$ctrl.vf.noobjects",(function(){e.jview.floorplan&&e.jview.floorplan.setNoObjects(e.vf.noobjects)})),r.$watch("$ctrl.vf.colorscheme",(function(){e.vf.colorscheme=cs(e.vf.colorscheme),e.jview.floorplan&&e.jview.floorplan.setColorScheme(e.vf.colorscheme)})),r.$watch("$ctrl.vf.noroomarea",(function(t,n){t!==n&&"tour_meas"===e.vf.page&&e.jview.floorplan.updateDimensions()})),r.$watch("$ctrl.vf.timestamp",(function(e,t){e!==t&&h()}))),r.$watch("$ctrl.vf.bImperial",(function(t,n){t!==n&&(e.jview.toggleUnit(),e.vf.SetUnitCookie())})),i[0].addEventListener("autoplay-floor-changed",(function(){r.$apply()})),i[0].addEventListener("autoplay-pano-changed",(function(){r.$apply()})),this.vf.eventBus.on("update-measure-status-bar",(function(){n((function(){}),0)}),this),this.vf.eventBus.on("active_tag_changed",(function(){n((function(){}),0)}),this),this.vf.eventBus.on("floorplan-pan-zoom",(function(){n((function(){}),0)}),this),this.vf.eventBus.on("update_floor",(function(t){var n=t.floorplan;e.activeFloorId=n.id,e.vf.selectedFloorId=n.id}),this),this.vf.eventBus.on("update_measure_bearing",(function(t){e.measureBearing=t,n((function(){}),0)}),this),this.vf.eventBus.on("floorplan-shrunk",(function(t){t&&(e.floorplanOverlayHidden=!0,n((function(){}),0))}),this),this.vf.eventBus.on("floorplan-shrunk-complete",(function(t){t||(e.floorplanOverlayHidden=!1,n((function(){}),0))})),this.vf.eventBus.on("set_initial_pano",(function(){e.onSetInitialPanoBtnClick(),n((function(){}),0)}),this),this.vf.eventBus.on("set_initial_zoom",(function(){e.onSetInitialZoomBtnClick(),n((function(){}),0)}),this),this.vf.eventBus.on("show_all_panos",(function(){e.onShowAllBtnClick(),n((function(){}),0)}),this),this.vf.eventBus.on("hide_all_panos",(function(){e.onHideAllBtnClick(),n((function(){}),0)}),this),this.vf.eventBus.on("add_new_label",(function(){e.onAddLabelBtnClick(),n((function(){}),0)}),this),this.vf.eventBus.on("show_all_labels",(function(){e.onShowAllLabelsBtnClick(),n((function(){}),0)}),this),this.vf.eventBus.on("hide_all_labels",(function(){e.onHideAllLabelsBtnClick(),n((function(){}),0)}),this),this.vf.eventBus.on("set_initial_angle",(function(){e.setActivePanoInitAngle(),n((function(){}),0)}),this),this.vf.eventBus.on("floorplan_resize",(function(t){var i=t.width,r=t.height;e.floorplanWidth=i,e.floorplanHeight=r,n((function(){}),0)}),this),this.vf.edit||this.vf.editTags?(this.vf.edit.panos&&(this.vf.eventBus.on("floor_all_pano_visibility_changed",(function(t){e.showAllPanosHiddenOverlay=t.areAllPanosHidden(),e.showPanoHiddenOverlay=!t.getActivePano().bShow,n((function(){}),0)}),this),this.vf.eventBus.on("pano_visibility_changed",(function(t,i){e.showAllPanosHiddenOverlay=i.areAllPanosHidden(),e.showPanoHiddenOverlay=!t.bShow,n((function(){}),0)}),this),this.vf.eventBus.on("floor_changed",(function(t,i){e.showAllPanosHiddenOverlay=i.areAllPanosHidden(),e.commonAreasPanos=e.getCommonAreasPanos(i),e.hideMeasureButton()&&"tour_meas"===e.vf.page&&e.openMeasPage(),n((function(){}),0)}),this),this.vf.eventBus.on("pano_changed",(function(t,i){e.showPanoHiddenOverlay=!i.bShow,n((function(){}),0)}),this)),this.vf.eventBus.on("common_area_pano_changed",(function(){e.commonAreasPanos=e.getCommonAreasPanos(e.jview.floorplan),n((function(){}),0)}),this),this.vf.eventBus.on("update_floor",(function(){e.jview.editModal.hide(),n((function(){}),0)}),this),(this.vf.editTags||this.vf.edit&&(this.vf.edit.labels||this.vf.edit.floors))&&(this.jview.editModal=new Px(this),this.showResetLabelsModal=!1,this.shouldResetLabelsText=!1,this.onResetLabelsBtnClick=function(){e.showResetLabelsModal=!0},this.onResetLabelsTextBtnClick=function(t){e.jview.resetLabels(t),e.showResetLabelsModal=!1,e.shouldResetLabelsText=!1},this.onResetLabelsTextCancelBtnClick=function(){e.showResetLabelsModal=!1}),this.showHideAllModal=!1,this.showShowAllLabelsModal=!1,this.showHideAllLabelsModal=!1,this.jview.showExtMeasLabelsModal=!1):this.vf.eventBus.on("floor_changed",(function(t,i){e.commonAreasPanos=e.getCommonAreasPanos(i),e.hideMeasureButton()&&"tour_meas"===e.vf.page&&e.openMeasPage(),n((function(){}),0)}),this);var h=function(){var n=e.$timeout,i=e.$elem,r=e.$scope,o=e.$window,a=e.Features;a.vml||a.svg?(e.jview.init(e.vf,e.vf.view.dataV2),e.jview.sceneData.neighborList=new Array(e.jview.maxPanoNeighbors),e.jview.house?n((function(){e.vf.eventBus.on("started",(function(){window.dispatchEvent(new CustomEvent("vf-jview-ready")),e.jview.onResizeWindow(),e.jview.resetUserEvents(),e.showPanoViewsResize=p(),r.$on("vf-resized",(function(){e.vf.hasData&&(e.jview.onResizeWindow(),e.jview.resetUserEvents(),e.showPanoViewsResize=p(),e.vf.portalSaveButtonClicked&&(e.jview.floorplan.animateInitialPanZoom(),e.vf.portalSaveButtonClicked=!1),e.firstResizeEvent=!1)}))}),e),e.vf.updateImageResolution(),e.jview.start(i[0],!0),e.showDropup=e.vf.edit&&e.vf.edit.floors||e.jview.house.getShownFloorplans().length>1||e.vf.showHiddenFloors,e.showGyroscope=e.vf.allowGyro&&e.jview.tourData.hasPanos&&(e.Features.hasGyro||e.jview.isIOS),e.api&&t().extend(e.api,{clear:function(){e.jview.floorplan.clearMeasurements()},isInTransition:function(){return e.jview.bInTransition},onPanoViewsKeydown:function(t){if(!e.jview.hasFloorplan){var n,o=e.jview.floorplan.panos.length,a=e.jview.floorplan.getNActivePano();"ArrowUp"===t.key||38===t.keyCode?n=(a-1)%o:"ArrowDown"!==t.key&&40!==t.keyCode||(n=(a+1)%o),n<0&&(n=o+n),void 0!==n&&(e.jview.onPanoViewsClick(n),i.find("#pano-view-container").scrollTop(n*i.find(".pano-view").height()),r.$apply())}},closeMeasPage:function(){e.jview.floorplan&&(e.jview.measureMode.onOpenMeasPage(!1,!0),e.jview.floorplan.unhideSvgElements())}})})):o.console.log("Bad VF data, showing gallery")):o.console.error("No VML or SVG support, showing gallery")},p=function(){var t=e.vf;return t.hasData||!t.accessDenied};this.measureModeSelector=function(t){if("tour_meas"===e.vf.page){switch(e.animMeasModeSelector&&e.animMeasModeSelector.cancel(),t){case 1:e.jview.measureMode.onOpenAdvancedMeasMode("both","close");break;case 2:e.openAdvancedMeasMode(2);break;case 3:e.openAdvancedMeasMode(3)}e.hideMeasureModeSelect()}},this.$elem.on("click",".tag-pano-link",(function(t){t.preventDefault(),e.vf.editTags?alert("Tag navigation is disabled in the Tag Editor. Please try on the Preview page."):e.jview.navigateTo(Va()(t.target.dataset.pano),Jo()(t.target.dataset.angle),Jo()(t.target.dataset.elevation),Jo()(t.target.dataset.zoom))})),h(),i.bind("$destroy",(function(){e.vf.eventBus.offWithCtx(e),e.jview.stopAutoplay()})),r.showFullscreen=this.canBrowserFullscreen,this.showNewWindow=!this.canBrowserFullscreen&&this.vf.isInIframe()&&!this.vf.noFullscreenWorkaround,r.$on("show-new-window",(function(){var t=e.vf,n=e.vf.viewer,i=(0,xn.dD)(location.search.substring(1));i.page="tour_meas"===t.page?"tour":t.page,i.noinitanimation=1,n&&n.floorplan&&(i.pano=n.floorplan.nActivePano,i.rotation=n.angle,i.elevation=n.elevation);var r="//".concat(location.host).concat(location.pathname,"?").concat((0,xn.Ie)(i));window.open(r,"_blank","noopener")})),r.$on("close-share-modal",(function(){e.closeShare()}))}},{key:"onSetInitialPanoBtnClick",value:function(){this.jview.floorplan&&this.jview.floorplan.setInitialPano()}},{key:"onSetInitialZoomBtnClick",value:function(){this.jview.floorplan&&this.jview.floorplan.setInitialZoom()}},{key:"onShowAllBtnClick",value:function(){this.jview.setAllPanosShown(this.jview.floorplan,!0)}},{key:"onHideAllBtnClick",value:function(){this.showHideAllModal=!0}},{key:"onShowAllLabelsBtnClick",value:function(){this.showShowAllLabelsModal=!0}},{key:"onAddLabelBtnClick",value:function(){this.jview.onAddLabelBtnClick()}},{key:"onHideAllLabelsBtnClick",value:function(){this.showHideAllLabelsModal=!0}},{key:"onHideAllConfirmBtnClick",value:function(){this.jview.setAllPanosShown(this.jview.floorplan,!1),this.showHideAllModal=!1}},{key:"onHideAllCancelBtnClick",value:function(){this.showHideAllModal=!1}},{key:"onHideAllLabelsConfirmBtnClick",value:function(){this.vf.edit.labels&&this.jview.floorplan.setAllLabelShown(!1),this.showHideAllLabelsModal=!1}},{key:"onHideAllLabelsCancelBtnClick",value:function(){this.showHideAllLabelsModal=!1}},{key:"onShowAllLabelsConfirmBtnClick",value:function(){this.vf.edit.labels&&this.jview.floorplan.setAllLabelShown(!0),this.showShowAllLabelsModal=!1}},{key:"onShowAllLabelsCancelBtnClick",value:function(){this.showShowAllLabelsModal=!1}},{key:"onExtMeasLabelsConfirmBtnClick",value:function(){this.jview.editModal.onExtMeasLabelsConfirmBtnClick()}},{key:"onExtMeasLabelsCancelBtnClick",value:function(){this.jview.editModal.onExtMeasLabelsCancelBtnClick()}},{key:"showNavigationHelp",value:function(){this.showNavigationHelpModal=!0}},{key:"hideNavigationHelp",value:function(){this.showNavigationHelpModal=!1}},{key:"openDisclaimer",value:function(e){e&&e.stopPropagation()}},{key:"shutterMask",value:function(e,t){this.showShuttermask=!!t,e&&e.stopPropagation()}},{key:"toggleMusic",value:function(e){!this.jview.tourData.mutedByUser&&this.jview.tourData.mutedByBrowser?this.jview.tourData.mutedByBrowser=!1:this.vf.setMute(!this.vf.mute),e&&e.stopPropagation()}},{key:"openMaplink",value:function(e){this.$window.open(this.vf.maplink,"_blank").focus(),e&&e.stopPropagation()}},{key:"trustAsHtml",value:function(e){return this.$sce.trustAsHtml(e)}},{key:"shouldShowIms6MeasureMask",value:function(){return!(!(this.vf.ims6&&this.jview&&this.jview.isAdvancedMeasureMode())||this.vf.editTags)}},{key:"openMeasPage",value:function(){this.jview.bInFloorplanInitAnimation||(this.jview.preventInitFloorplanMinimize=!0,"tour"===this.vf.page?(this.vf.page="tour_meas",this.jview.floorplanShrunk&&this.onShrinkFloorplan(),this.animMeasBtn&&this.animMeasBtn.cancel(),this.vf.compass&&this.jview.toggleCompass(!0),this.jview.measureMode.onOpenMeasPage(!0),this.vf.IfShowInitMeasHelp()&&this.openDisclaimer(),this.highlightMeasureModeSelector()):"tour_meas"===this.vf.page&&(this.vf.viewer.isRepositioningTag&&this.vf.viewer.exitTagRepositioning(!0),this.vf.viewer.isAddingTag&&this.jview.onAddTagBtnClick(),this.vf.page="tour",this.jview.measureMode.onOpenMeasPage(!0,"close"),this.jview.set_tour_floorplan()))}},{key:"openAdvancedMeasMode",value:function(e){"tour_meas"===this.vf.page&&this.jview.measureMode.onOpenAdvancedMeasMode(e)}},{key:"closeAdvancedMeasModes",value:function(){"tour_meas"===this.vf.page&&this.jview.measureMode.onOpenAdvancedMeasMode("both","close")}},{key:"openTourPage",value:function(){this.vf.page="tour",this.jview.floorplan.clearMeasurements()}},{key:"toggleAutoplay",value:function(){this.jview.toggleAutoplay()}},{key:"toggleCompass",value:function(){var e=this,t=this.Features;this.vrDisclaimerForIMU=!0,t.hasGyro?this.jview.toggleCompass():this.vf.isInIframe()?this.iframeVrDisclaimer=!0:"https:"!==location.protocol?this.noHttpsVrDisclaimer=!0:this.jview.isIOS?DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(n){"granted"===n?(t.hasGyro=!0,e.jview.toggleCompass()):e.iOS13VrDisclaimer=!0})).catch(console.error):this.iOS12VrDisclaimer=!0:this.jview.toggleCompass()}},{key:"clearLastButtonClick",value:function(){this.jview.measureMode.clearLastButtonClick()}},{key:"toggleLightboxDisclaimer",value:function(){var e=this.jview.vf.getActiveLocale(),t=this.vf.view.iguide.addons.whitelabel,n=this.vf.view.measurementStandard;this.VfMeasurementDisclaimerDialog.show(t,e,n)}},{key:"openVrPage",value:function(e){this.tourOpenPage({$event:e,page:"tour_vr"})}},{key:"onVrButtonClick",value:function(e){var t=this,n=this.Features;this.vrDisclaimerForIMU=!1;var i=this.jview.isIOS&&navigator.userAgent.includes("OS 13_4");if(n.vr||n.hasGyro||this.vf.forceDesktopVr){if(i)return void(this.iOS13_4VrDisclaimer=!0);this.openVrPage(e)}else if(this.vf.isInIframe())this.iframeVrDisclaimer=!0;else if("https:"!==location.protocol)this.noHttpsVrDisclaimer=!0;else if(this.jview.isIOS){if(i)return void(this.iOS13_4VrDisclaimer=!0);DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(i){"granted"===i?(n.hasGyro=!0,t.openVrPage(e)):t.iOS13VrDisclaimer=!0})).catch(console.error):this.iOS12VrDisclaimer=!0}else this.noVrDisclaimer=!0}},{key:"reloadPage",value:function(){window.location.reload()}},{key:"setActivePanoInitAngle",value:function(){this.jview.setActivePanoInitAngle()}},{key:"finishSettingTagVisibility",value:function(){this.jview.finishSettingTagVisibility()}},{key:"onDeleteTag",value:function(){this.jview.onDeleteTag()}},{key:"getActiveTagDeleteModalTitle",value:function(){return this.jview.activeTag&&this.jview.activeTag.title?': "'.concat(this.jview.activeTag.title,'"'):""}},{key:"switchUnits",value:function(){this.vf.bImperial=!this.vf.bImperial,this.jview.isAdvancedMeasureMode()&&(this.jview.cubeManager.setMeasurementsTransform(),this.jview.measureMode.onSwitchUnits())}},{key:"highlightMeasureModeSelector",value:function(){(this.vf.advmeas||this.vf.editTags)&&(this.measureModeSelectorBtnElem=this.vf.editTags?this.jview.sidePanelElem.find(this.vf.isRadix?"#TagMode2Button":"#TagMode1Button"):this.jview.sidePanelElem.find("#MeasureMode1Button"),this.measureModeSelectorBtnElem&&this.measureModeSelectorBtnElem[0]&&(this.animMeasModeSelector=this.measureModeSelectorBtnElem[0].animate([{color:"black"},{color:"red",opacity:1},{color:"red",opacity:1}],{delay:250,duration:1e3,easing:"steps(2, end)",iterations:2})))}},{key:"showFloorScreenshotModal",value:function(){var e=this;this.jview.floorplan&&this.jview.floorplan.measurements&&this.jview.floorplan.tags&&(this.jview.floorplan.measurements.length||this.jview.floorplan.tags.length?(this.jview.floorScreenshotModalElem.show(),window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.jview.floorScreenshotModalElem.addClass("in")}))}))):this.jview.saveFloorScreenshot())}},{key:"hideFloorScreenshotModal",value:function(){var e=this;this.jview.floorScreenshotModalElem.removeClass("in"),this.jview.floorScreenshotModalElem.on("transitionend",(function(){e.jview.floorScreenshotModalElem.off("transitionend"),e.jview.floorScreenshotModalElem.hide()}))}},{key:"saveFloorScreenshot",value:function(){var e=this;this.saveFloorScreenshotWorking=!0,this.jview.saveFloorScreenshot((function(){e.hideFloorScreenshotModal(),e.saveFloorScreenshotWorking=!1}))}},{key:"createDialog",value:function(e,t,n){var i=this,r={onAfterEvent:function(){return i.$timeout((function(){}),0)}};return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new(jr())((function(o,a){tx();var s=new Pe.default({extends:e,propsData:n});s.$on("resolve",(function(e){nx(s),o(e)})),s.$on("reject",(function(e){nx(s),a(e)})),Bs()(i).forEach((function(e){var t=O()(e,2),n=t[0],i=t[1];s.$on(n,(function(e){i(e),r.onAfterEvent&&r.onAfterEvent()}))})),s.$mount(),t.appendChild(s.$el),s.show=!0,ex.push(s)}))}(e,this.$elem[0].firstChild,t,n,r)}},{key:"closeAllDialogs",value:function(){tx()}},{key:"hasOpenDialogs",value:function(){return ex.length>0}},{key:"getCommonAreasPanos",value:function(e){var t=this;return this.jview.hasFloorplan?[]:e.panos.map((function(e){return{id:e.id,title:e.text,image:Io(e,1,t.vf.assets),bShow:e.bShow}}))}},{key:"hideModeSelectButton",value:function(){return!this.vf.viewer.isAddingTag&&!this.vf.advmeas}},{key:"showMeasureBearing",value:function(){return this.jview.isMeasureModeActive()&&this.jview.isMeasureMode1()&&!this.vf.viewer.isAddingTag&&!this.vf.viewer.isRepositioningTag}},{key:"hideMeasureButton",value:function(){return this.vf.nomeas||this.jview.hideMeasureButton||!this.jview.hasFloorplan}}]),e}());u()(Ox,"$inject",["$window","$timeout","$sce","$element","$scope","VfMeasurementDisclaimerDialog","Viewer","Features","Device"]);var Nx={bindings:{vf:"<",api:"<",fullscreenApi:"<?",helpMessages:"<?helpMessages",tourOpenPage:"&",shouldWatchVf:"<"},controller:Ox,template:Lx},Fx=(a(7278),2.54),Bx=function(){function e(t,n,i,r){o()(this,e),this.$elem=t,this.$scope=n,this.$timeout=i,this.$uibModal=r,this.stem=0,this.stemMin=0,this.stemMax=0}return l()(e,[{key:"$postLink",value:function(){var e=this,n=this.$elem,i=this.$scope,r=this.$timeout,o=this.$uibModal;if(this.vf.editTags){var a=En.publicView(this.vf.view),s=En.publicViewUnbranded(this.vf.view),l=function(){e.stemMin=-(e.vf.bImperial?96:244),e.stemMax=e.vf.bImperial?96:244};l(),i.tagLimitTitle=kw,i.tagLimitContent=Pw,i.titleMaxlengthReached=!1,i.titleMaxlengthExceeded=!1,i.contentMaxlengthReached=!1,i.contentMaxlengthExceeded=!1,this.markdownEditorOptions=t().copy(py);this.markdownEditorOptions.additionalButtons[0][0].data=[this.markdownEditorOptions.additionalButtons[0][0].data[0],{name:"cmdGallery",toggle:!1,title:"Image",icon:"fa fa-image",callback:function(t){var n=e.vf;return o.open({template:'<div class="modal-header"> <h4 class="modal-title">Insert Image</h4> </div> <div class="modal-body scrollable"> <p> Insert an image URL or choose from the iGUIDE Gallery. </p> <div class="form-group form-inline"> <div class="input-group"> <input type="text" class="form-control" placeholder="http://..." ng-model="imageUrl"/> <div class="input-group-btn"> <button type="button" class="btn btn-primary" ng-click="insertImage(true)">Insert URL</button> </div> </div> </div> <div class="iguide-image-container fw-270"> <div class="iguide-image-item" ng-repeat="image in vf.view.iguide.images track by image.name" ng-click="selectImage(image)"> <gallery-image-preview v-props-image="image" v-props-assets="vf.assets" v-props-show-info="true" class="bordered"> </gallery-image-preview> <button type="button" class="btn btn-default absolute-top-left"> <i class="fa fa-square-o" ng-class="{\'fa-square-o\': selectedImage !== image, \'fa-check-square-o\': selectedImage === image}"></i> </button> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button> <button type="button" class="btn btn-primary" ng-click="insertImage()">Insert Gallery Image</button> </div> ',backdrop:"static",size:"lg",windowClass:"tag-gallery-image-modal",controller:["$scope","$uibModalInstance",function(e,t){e.vf=n,e.selectImage=function(t){e.selectedImage=e.selectedImage===t?null:t},e.insertImage=function(n){if(n){if(0!==e.imageUrl.indexOf("http://")&&0!==e.imageUrl.indexOf("https://"))return void alert("Invalid image URL - must begin with http:// or https://");e.selectedImage={url:e.imageUrl}}e.selectedImage&&t.close(e.selectedImage)},e.cancel=function(){t.dismiss()}}]}).result.then((function(e){if(e){var n,i=t.getSelection(),r=0===(n=i.text).length||0===n.indexOf("http")?Yv:n,o=function(e,t){return 0===t.indexOf("http")?t.trim():e instanceof te?"assets:///".concat(e.name):e.url}(e,i.text),a=function(e,t){return"![".concat(e,"](").concat(t,' "').concat(Kv,'")')}(r,o);t.replaceSelection(a);var s=i.start+1;t.setSelection(s,s+r.length),t.$textarea.change()}}))}},this.markdownEditorOptions.additionalButtons[0][0].data[1],{name:"cmdPano",toggle:!1,title:"Pano Link",icon:"icomoon-v-location",callback:function(t){var n={pano:e.vf.viewer.floorplan.nActivePano,rotation:e.vf.viewer.angle};return 0!==e.vf.viewer.elevation&&(n.elevation=e.vf.viewer.elevation),e.vf.viewer.cubeManager.getZoomLevel()&&(n.zoom=e.vf.viewer.cubeManager.getZoomLevel()),o.open({template:'<div class="iguide-viewer-fonts"> <div class="modal-header"> <h4 class="modal-title">Insert Pano Link</h4> </div> <div class="modal-body scrollable"> <p> Using the <span class="icomoon-v-share"></span> Share button, paste the URL to a 3D view below to create a button which will navigate there when pressed. </p> <div class="form-group form-inline" ng-class="{\'has-error\': error}"> <input type="text" class="form-control" placeholder="{{placeholderUrl}}" ng-model="url"/> <small class="form-text text-danger">{{error}}&nbsp;</small> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button> <button type="button" class="btn btn-primary" ng-click="insert()" ng-disabled="error">Insert</button> </div> </div> ',backdrop:"static",windowClass:"tag-pano-link-modal",controller:["$scope","$uibModalInstance",function(e,t){e.url="",e.error="",e.placeholderUrl="".concat(a,"?").concat((0,xn.Ie)(n));var i="Invalid URL. Ensure it was copied from the Share button of this iGUIDE.";e.insert=function(){0===e.url.indexOf(a)||0===e.url.indexOf(s)?t.close(e.url):e.error=i},e.cancel=function(){t.dismiss()},e.$watch("url",(function(t){if(t){var n=(0,xn.en)(t),r=(0,xn.dD)(n);0===t.indexOf(a)||0===t.indexOf(s)?r.pano?e.error="":e.error="URL is missing pano parameter.":e.error=i}}))}]}).result.then((function(e){if(e){var n=(0,xn.en)(e),i=(0,xn.dD)(n);if(i.pano){var r={};i.rotation&&(r.a=i.rotation),i.elevation&&(r.e=i.elevation),i.zoom&&(r.z=i.zoom);var o,a,s="".concat(i.pano).concat(zs().isEmptyObject(r)?"":"?".concat((0,xn.Ie)(r))),l=t.getSelection();0===(o=(o=0===l.length?t.__localize("enter pano link button text here"):l.text).trim()).indexOf("http")?(a=o,o=t.__localize("enter pano link button text here")):a="pano:///".concat(s),t.replaceSelection("[".concat(o,"](").concat(a,")"));var c=l.start+1;t.setSelection(c,c+o.length),t.$textarea.change()}}}))}}],this.isColorSelected=function(t){return"blue"===t?!e.vf.viewer.activeTag.color||"#"!==e.vf.viewer.activeTag.color.substring(0,1)&&!e.vf.viewer.tagColors.includes(e.vf.viewer.activeTag.color):e.vf.viewer.activeTag.color===t},this.isCustomColorSelected=function(){return e.vf.viewer.activeTag.color&&"#"===e.vf.viewer.activeTag.color.substring(0,1)},this.onTagColorClick=function(t,n){"blue"===n&&(n=""),e.vf.viewer.activeTag.color=n,c()},this.onTagCustomColorClick=function(t){e.vf.viewer.activeTag.color&&"#"!==e.vf.viewer.activeTag.color.substring(0,1)&&(t.target.value=e.vf.viewer.getTagColor(e.vf.viewer.activeTag.color)),e.vf.viewer.activeTag.color=t.target.value,c()},this.onTagHotspotClick=function(t){n.find(".tag-hotspot").removeClass("selected"),n.find("#hotspot".concat(t)).addClass("selected"),t?e.vf.viewer.activeTag.design=t:delete e.vf.viewer.activeTag.design},this.closeTagModal=function(t){var i=e.vf.viewer.activeTag;if(t){e.vf.viewer.closeTagPreviews(!0);var r=e.vf.tags.findIndex((function(e){return e.id===i.id}));if(r>=0){e.vf.tags[r].title=i.title,e.vf.tags[r].content=i.content,e.vf.tags[r].iframe=i.iframe,e.vf.tags[r].color=i.color,i.stem=e.vf.bImperial?Math.round(e.stem*Fx):e.stem,e.vf.tags[r].stem=i.stem,i.design?e.vf.tags[r].design=i.design:delete e.vf.tags[r].design,75===i.opacity?delete e.vf.tags[r].opacity:e.vf.tags[r].opacity=i.opacity;var o=n.find("img.cubetagid".concat(e.vf.tags[r].id));if(o)for(var a=0;a<o.length;a++)o[a].style.backgroundColor=e.vf.viewer.getTagColor(i.color)}(!i.orig.title&&i.title||i.orig.title&&i.orig.title!==i.title)&&xi(e.vf.tags,(function(e){return e.title||""})),(i.orig.color&&i.orig.color!==i.color||i.orig.title!==i.title||i.orig.design!==i.design||i.orig.opacity!==i.opacity||i.orig.content!==i.content||i.orig.stem!==i.stem)&&(e.vf.quickReload=!0,e.vf.eventBus.emit("quickreload"),e.vf.viewer.selectAndNavigateToTag(i.id,!1,"preview"))}else i.title=i.orig.title,i.content=i.orig.content,i.iframe=i.orig.iframe,i.color=i.orig.color,i.design=i.orig.design,i.opacity=i.orig.opacity,i.stem=i.orig.stem;delete i.orig,delete i.tab,e.vf.viewer.closeTagModal(i.id)},this.onUnitsChange=function(t){e.vf.bImperial!==t&&(e.vf.bImperial=t,l(),t?e.stem=Math.round(e.stem/Fx):r((function(){e.stem=Math.round(e.stem*Fx)})))},this.getStemHeight=function(){if(!e.vf.viewer.cubeManager)return 0;var t=Math.abs(e.vf.bImperial?Math.round(e.stem*Fx):e.stem);return e.vf.viewer.cubeManager.mm2px*(10*t)},this.getTagTransform=function(){return e.stem<0?"translateY(".concat(e.getStemHeight(),"px)"):""},this.getStemPointTransform=function(){return e.stem<0?"translate(-1px, -".concat(e.getStemHeight(),"px)"):""};var c=function(){var t=e.vf.viewer.getTagColor(e.vf.viewer.activeTag.color);n.find("#hotspot0-color").css("stroke",t),n.find("#hotspot1-color").css("fill",t)};i.$watch("$ctrl.vf.viewer.activeTag.color",c),i.$watch("$ctrl.vf.viewer.activeTag.title",(function(e){i.titleMaxlengthReached=e&&e.length>=kw,i.titleMaxlengthExceeded=e&&e.length>kw})),i.$watch("$ctrl.vf.viewer.activeTag.content",(function(e){i.contentMaxlengthReached=e&&e.length>=Pw,i.contentMaxlengthExceeded=e&&e.length>Pw})),this.vf.eventBus.on("tag-opened",(function(){r((function(){}),0),c();var t=e.vf.viewer.activeTag;t.opacity||(t.opacity=75),e.stem=e.vf.bImperial?Math.round(t.stem/Fx):t.stem}))}else this.vf.eventBus.on("tag-opened",(function(){r((function(){}),0)}))}}]),e}();u()(Bx,"$inject",["$element","$scope","$timeout","$uibModal"]);var Ux={bindings:{vf:"="},controller:Bx,template:'<div class="tag-modal-container modal-dialog" ng-class="{\n    \'tag-max-width\': $ctrl.vf.viewer.activeTag.useMaxWidth,\n    \'no-padding\': $ctrl.vf.viewer.activeTag.hasNoPadding,\n    \'one-video-only\': $ctrl.vf.viewer.activeTag.hasOneVideoOnly,\n    \'iframe\': $ctrl.vf.viewer.activeTag.iframe,\n    \'limit-image-height\': $ctrl.vf.viewer.activeTag.limitImageHeight,\n  }"> <div class="tag-modal-header"> <input id="tag-modal-header-input" ng-if="$ctrl.vf.editTags" maxlength="{{tagLimitTitle}}" ng-maxlength="tagLimitTitle" ng-model="$ctrl.vf.viewer.activeTag.title" ng-model-options="{ allowInvalid: true }" ng-class="{\'length-exceeded\': titleMaxlengthExceeded}" class="form-control" style="font-size:.75em" placeholder="Enter tag title here..."/> <h2 id="tag-modal-header" ng-hide="$ctrl.vf.editTags"></h2> <span id="tag-modal-close" class="tag-modal-close icomoon icomoon-cancel-circle"></span> </div> <div class="tag-modal-content-container" ng-show="$ctrl.vf.editTags || $ctrl.vf.viewer.activeTag.content.trim().length || $ctrl.vf.viewer.activeTag.iframe"> <div id="tag-modal-content" class="tag-modal-content" ng-class="{\'image-extra-padding\': $ctrl.vf.viewer.activeTag.imageExtraPadding}"> <ul id="tag-editor-tabs" class="nav nav-tabs" ng-if="$ctrl.vf.editTags"> <li role="presentation" ng-class="{\'active\': !$ctrl.vf.viewer.activeTag.tab}"> <a id="tag-editor-tab-content">Content</a> </li> <li role="presentation" ng-class="{\'active\': $ctrl.vf.viewer.activeTag.tab === \'options\'}"> <a id="tag-editor-tab-options">Options</a> </li> <li role="presentation" ng-class="{\'active\': $ctrl.vf.viewer.activeTag.tab === \'preview\'}"> <a id="tag-editor-tab-preview">Quick Preview</a> </li> </ul> <div id="tag-modal-content-textarea-container" ng-if="$ctrl.vf.editTags" ng-show="!$ctrl.vf.viewer.activeTag.tab"> <textarea id="tag-modal-content-textarea" rows="10" markdown-editor options="$ctrl.markdownEditorOptions" maxlength="{{tagLimitContent}}" ng-maxlength="tagLimitContent" ng-model="$ctrl.vf.viewer.activeTag.content" ng-model-options="{ allowInvalid: true }" ng-class="{\'length-exceeded\': contentMaxlengthExceeded}" placeholder="Enter tag content here...">\n        </textarea> </div> <div id="tag-modal-content-options" class="container-fluid" ng-if="$ctrl.vf.editTags" ng-show="$ctrl.vf.viewer.activeTag.tab === \'options\'"> <div class="row form-group group-container"> <label for="embedUrl">Embed URL</label> <input type="text" class="form-control" name="embedUrl" aria-describedby="embedUrlHelp" placeholder="http://..." maxlength="{{tagLimitIframe}}" ng-maxlength="tagLimitIframe" ng-model="$ctrl.vf.viewer.activeTag.iframe" ng-model-options="{ allowInvalid: true }"/> <small id="embedUrlHelp" class="form-text text-muted">Enter a URL to embed a web page. No other content will be displayed. Should not be used to embed videos.</small> </div> <div class="alert alert-warning"> <i class="fa fa-warning"></i> Hotspot preview does not take the distance of the tag into account. </div> <div class="col-sm-8 col-sm-push-4 no-padding"> <div class="col-xs-12 col-sm-6 group-container" style="width:230px"> <div class="form-group"> <label for="tagColor">Tag Color</label> <div name="tagColor"> <span class="tag-color" ng-repeat="color in $ctrl.vf.viewer.tagColors" ng-class="{\'selected\': $ctrl.isColorSelected(color)}" ng-attr-title="{{color}}" ng-click="$ctrl.onTagColorClick($event, color)"> <div ng-style="{\'background-color\': $ctrl.vf.viewer.getTagColor(color)}"></div> </span> </div> <strong>Custom:</strong> <input type="color" ng-value="$ctrl.vf.viewer.getTagColor($ctrl.vf.viewer.activeTag.color)" ng-class="{\'selected\': $ctrl.isCustomColorSelected()}" ng-model="$ctrl.vf.viewer.activeTag.color" ng-click="$ctrl.onTagCustomColorClick($event)"/> <span class="tag-custom-color-hex" ng-style="{\n                  \'display\': $ctrl.isCustomColorSelected() ? \'\' : \'none\',\n                  \'color\': $ctrl.vf.viewer.activeTag.color,\n                }"> {{$ctrl.vf.viewer.activeTag.color | uppercase}} </span> </div> </div> <div class="col-xs-12 col-sm-6 group-container opacity-container"> <label for="tagOpacity">Tag Opacity <span id="opacity-value">{{$ctrl.vf.viewer.activeTag.opacity === 1 ? 0 : $ctrl.vf.viewer.activeTag.opacity}}%</span></label> <div name="tagOpacity" class="tag-opacity"> <input type="range" min="1" max="100" ng-model="$ctrl.vf.viewer.activeTag.opacity" class="opacity-slider"/> <div class="slider-label"> <div class="min">0</div> <div class="zero">50</div> <div class="max">100</div> </div> </div> </div> <div class="col-xs-12 col-sm-12 group-container"> <label for="tagStem">Stem Height</label> <input type="number" class="tag-stem" min="{{$ctrl.stemMin}}" max="{{$ctrl.stemMax}}" step="1" ng-model="$ctrl.stem"/> <div class="section-units"> <ul class="pagination-md pagination"> <li ng-class="{\'active\': $ctrl.vf.bImperial}" ng-click="$ctrl.onUnitsChange(true)"> <a href="">in</a> </li> <li ng-class="{\'active\': !$ctrl.vf.bImperial}" ng-click="$ctrl.onUnitsChange(false)"> <a href="">cm</a> </li> </ul> </div> <div name="tagStem" class="tag-stem-slider"> <input type="range" min="{{$ctrl.stemMin}}" max="{{$ctrl.stemMax}}" step="1" ng-model="$ctrl.stem" class="stem-slider"> <div class="slider-label"> <div class="min">{{$ctrl.stemMin}}</div> <div class="zero">0</div> <div class="max">{{$ctrl.stemMax}}</div> </div> </div> </div> </div> <div class="col-xs-12 col-sm-4 col-sm-pull-8 group-container hotspot-container"> <label for="tagHotspot">Tag Hotspot</label> <div name="tagHotspot" class="tag-hotspot-container"> <div id="hotspot0" class="tag-hotspot" ng-class="{\'selected\': !$ctrl.vf.viewer.activeTag.design}" ng-click="$ctrl.onTagHotspotClick(0)"> <span>Transparent</span> <div class="hotspot-preview" ng-class="{\'stem-negative\': $ctrl.stem < 0}"> <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-3 -3 86 86" ng-style="{\n                    \'opacity\': $ctrl.vf.viewer.activeTag.opacity * 0.01,\n                    \'transform\': $ctrl.getTagTransform(),\n                  }"> <circle cx="40" cy="40" r="32" fill="none" stroke-width="20" stroke="rgba(255,255,255, 0.75)"/> <circle id="hotspot0-color" cx="40" cy="40" r="32" fill="none" stroke-width="16" stroke="none"/> <circle cx="40" cy="40" r="22" fill="none" stroke-width="12" stroke="white"/> </svg> <div class="stem" ng-show="$ctrl.stem !== 0" ng-style="{\n                    \'height\': $ctrl.getStemHeight(),\n                    \'opacity\': $ctrl.vf.viewer.activeTag.opacity * 0.01,\n                  }"> <div class="stem-shadow"></div> <div class="point" ng-style="{\'transform\': $ctrl.getStemPointTransform()}"></div> </div> </div> </div> <div id="hotspot1" class="tag-hotspot" ng-class="{\'selected\': $ctrl.vf.viewer.activeTag.design === 1}" ng-click="$ctrl.onTagHotspotClick(1)"> <span>Opaque</span> <div class="hotspot-preview" ng-class="{\'stem-negative\': $ctrl.stem < 0}"> <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-3 -3 86 86" ng-style="{\n                    \'opacity\': $ctrl.vf.viewer.activeTag.opacity * 0.01,\n                    \'transform\': $ctrl.getTagTransform(),\n                  }"> <circle cx="40" cy="40" r="42" fill="rgba(255,255,255, 0.75)"/> <circle id="hotspot1-color" cx="40" cy="40" r="40" fill="none"/> <circle cx="40" cy="40" r="22" fill="none" stroke-width="12" stroke="white"/> </svg> <div class="stem" ng-show="$ctrl.stem !== 0" ng-style="{\n                    \'height\': $ctrl.getStemHeight(),\n                    \'opacity\': $ctrl.vf.viewer.activeTag.opacity * 0.01,\n                  }"> <div class="stem-shadow"></div> <div class="point" ng-style="{\'transform\': $ctrl.getStemPointTransform()}"></div> </div> </div> </div> </div> </div> </div> <div id="tag-modal-content-preview-container" ng-if="$ctrl.vf.editTags" ng-show="$ctrl.vf.viewer.activeTag.tab === \'preview\'"> <div id="tag-modal-content-preview"></div> </div> </div> </div> <div class="tag-modal-footer" ng-if="$ctrl.vf.editTags"> <span class="max-length-reached" ng-show="!$ctrl.vf.viewer.activeTag.tab && (titleMaxlengthReached || contentMaxlengthReached)"> {{ (contentMaxlengthExceeded && titleMaxlengthExceeded) ? \'Title &amp; Content limit exceeded and will be truncated when saved!\' : titleMaxlengthExceeded ? \'Title limit exceeded and will be truncated when saved!\' : contentMaxlengthExceeded ? \'Content limit exceeded and will be truncated when saved!\' : (titleMaxlengthReached && contentMaxlengthReached) ? \'Title &amp; Content limit reached!\' : titleMaxlengthReached ? \'Title limit reached!\' : \'Content limit reached\' }} </span> <button class="btn btn-default" data-toggle="modal" data-target="#tag-modal-cancel" ng-click="$ctrl.closeTagModal(false)"><i class="fa fa-times"></i> Cancel</button> <button class="btn btn-primary" data-toggle="modal" data-target="#tag-modal-save" ng-click="$ctrl.closeTagModal(true)"><i class="fa fa-check"></i> Apply</button> </div> </div> '},zx=function(){function e(t,n,i){var r=this;o()(this,e),u()(this,"onCollapseTagListBtnClick",(function(){r.handleClosingTagRepositioning(),r.vf.viewer.toggleTagList()})),u()(this,"onTagListItemTitleClick",(function(e){r.handleClosingTagRepositioning(),r.vf.viewer.autoplay&&r.vf.viewer.toggleAutoplay(),r.vf.viewer.disableInitAnimation(),r.vf.viewer.activeTag&&r.vf.viewer.activeTag.id===e.id?(r.vf.viewer.closeTagPreviews(r.vf.viewer.tagData.pinnedTagId===r.vf.viewer.activeTag.id),r.vf.viewer.deselectTag()):r.vf.viewer.selectAndNavigateToTag(e.id,!1,"preview")})),u()(this,"onTagListItemDeleteClick",(function(e){r.handleClosingTagRepositioning(),r.vf.viewer.activeTag=e,zs()("#tag-modal-confirm").modal("toggle")})),u()(this,"onTagListRepositionClick",(function(e){r.vf.viewer.onRepositionTagBtnClick(e)})),u()(this,"onTagListItemEditClick",(function(e){r.handleClosingTagRepositioning();var t=e.id;r.vf.viewer.selectAndNavigateToTag(t,!1,"modal")})),u()(this,"handleClosingTagRepositioning",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r.vf.viewer.isRepositioningTag&&r.vf.viewer.exitTagRepositioning(e)})),u()(this,"getRepositionTagId",(function(){return r.vf.viewer?r.vf.viewer.repositioningTagId:0})),u()(this,"onTagListItemVisibilityClick",(function(e){var t=e.id;if(r.vf.tags=r.vf.tags.map((function(e){return e.id===t&&(e.hidden=!e.hidden),e})),e.isNew){var n=zs()("#newtag".concat(e.id," svg"));e.hidden?n&&n.attr("class","tag-hidden"):n&&n.attr("class","")}else{var i=zs()("svg[data-tagid='".concat(e.id,"']")),o=zs()("#tag".concat(e.id));e.hidden?(i&&i.attr("class","tag-hidden"),o[0]&&o[0].classList.add("hidden")):(i&&i.attr("class",""),o[0]&&o[0].classList.remove("hidden"))}})),u()(this,"onTagListItemLocationClick",(function(e){r.vf.viewer.selectAndNavigateToTag(e.id,!1)})),u()(this,"onTagListItemMouseenter",(function(e){if(r.vf.viewer.highlightTagList(e.id),!r.vf.viewer.floorplanShrunk){var t=r.vf.viewer.floorplan.tags.findIndex((function(t){return t.id===e.id}));if(t>=0){r.vf.viewer.floorplan.redrawPanoHighlight(r.vf.viewer.floorplan.tags[t]);var n=document.querySelector("svg[data-tagid='".concat(e.id,"']"));n&&(!n.getAnimations||n.getAnimations&&!n.getAnimations().length)&&n.animate({transform:["scale(1)","scale(1.5)","scale(1)"],easing:"ease-in-out"},{duration:800})}else r.vf.viewer.highlightFloorSelector()}})),u()(this,"onTagListItemMouseleave",(function(){r.vf.viewer.highlightTagList(-1),r.vf.viewer.floorplanShrunk||(r.vf.viewer.floorplan.hidePanoHighlight(),r.vf.viewer.highlightFloorSelector(!1))})),this.$elem=t,this.$scope=n,this.$timeout=i,this.floating=!1,this.activeTagId=-1,this.highlightedTagId=-1,this.scrollToActiveTag=!1}return l()(e,[{key:"$postLink",value:function(){var e=this,t=this.$scope,n=this.$timeout;t.vf=this.vf,this.onAddTagBtnClick=function(){e.vf.viewer.onAddTagBtnClick()},n((function(){e.vf.viewer&&(t.$watch("vf.landscape",(function(){e.vf.landscape?(e.floating=!1,e.vf.showTagList=!e.vf.tagListClosed):(e.floating=!0,e.vf.showTagList=!1),e.vf.viewer.updateFloorplanTagIconsVisibility&&(e.vf.eventBus.emit("tag-list-resize"),e.vf.viewer.updateFloorplanTagIconsVisibility())})),e.vf.eventBus.on("floorplan-shrunk",(function(){e.vf.viewer.updateFloorplanTagIconsVisibility()})))})),this.vf.eventBus.on("active_tag_changed",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.activeTagId=t,e.scrollToActiveTag=n})),this.vf.eventBus.on("highlighted_tag_changed",(function(t){t!==e.highlightedTagId&&(e.highlightedTagId=t,n((function(){}),0))})),this.vf.editTags&&t.$watchCollection("vf.tags",(function(t,i){t.length>i.length&&n((function(){e.vf.eventBus.emit("new-tag-added")}),50)}))}}]),e}();u()(zx,"$inject",["$element","$scope","$timeout"]);var Vx={bindings:{vf:"="},controller:zx,template:'<tag-list class="iguide-viewer-fonts" v-props-tags="$ctrl.vf.tags" v-props-buildings="$ctrl.vf.view.dataV2.buildings" v-props-floating="$ctrl.floating" v-props-active-tag-id="$ctrl.activeTagId" v-props-highlighted-tag-id="$ctrl.highlightedTagId" v-props-active-floor-id="$ctrl.vf.selectedFloorId" v-props-scroll-to-active-tag="$ctrl.scrollToActiveTag" v-props-reposition-tag-id="$ctrl.getRepositionTagId()" v-props-edit-tags="!!$ctrl.vf.editTags" v-on-close="$ctrl.onCollapseTagListBtnClick" v-on-tag-click="$ctrl.onTagListItemTitleClick" v-on-tag-location-click="$ctrl.onTagListItemLocationClick" v-on-tag-reposition="$ctrl.onTagListRepositionClick" v-on-tag-edit="$ctrl.onTagListItemEditClick" v-on-tag-visibility="$ctrl.onTagListItemVisibilityClick" v-on-tag-delete="$ctrl.onTagListItemDeleteClick" v-on-tag-mouseenter="$ctrl.onTagListItemMouseenter" v-on-tag-mouseleave="$ctrl.onTagListItemMouseleave"> </tag-list> '};function Hx(e){function t(e,t,i){this.vf=t,this.params=i||{},this.params.startDelay=this.params.startDelay||0,this.params.nextDelay=this.params.nextDelay||100,this.started=!1,this.stopped=!1,this.cachedUrls={},this.loader=new n(this,[]),this.__init(t)}function n(e,t){this.vfcache=e,this.list=t,this.stopped=!1,this.nextTick=null}return t.prototype.__init=function(e){var t=this;e.eventBus.on(this.params.event,(function(e){if(e){var i=t.params.getCachingList(e.neighbors).filter((function(e){return!(e in t.cachedUrls)}));t.loader.stop(),i.length&&(t.loader=new n(t,i),t.started&&!t.stopped&&t.loader.start())}}))},t.prototype.start=function(){var t=this;this.stopped=!1,this.delayedStart=e((function(){t.delayedStart=null,t.started=!0,t.loader.start()}),this.params.startDelay)},t.prototype.stop=function(){this.delayedStart&&(e.cancel(this.delayedStart),this.delayedStart=null),this.loader.stop(),this.started=!1,this.stopped=!0},n.prototype.start=function(){this.stopped=!1,this.scheduleTick()},n.prototype.scheduleTick=function(){!this.stopped&&this.list.length&&(this.nextTick=e(this.tick.bind(this),this.vfcache.params.nextDelay))},n.prototype.tick=function(){var e=this;if(!this.stopped&&this.list.length){var t=this.list.shift(),n=new Image;n.src=t,n.onload=function(){e.vfcache.cachedUrls[t]=1,e.scheduleTick()}}},n.prototype.stop=function(){this.stopped=!0,this.nextTick&&(e.cancel(this.nextTick),this.nextTick=null)},t}Hx.$inject=["$timeout"];var jx=Hx,Wx=function(){function e(t){var n=this;o()(this,e),u()(this,"closeShare",(function(){n.$scope.$root.$broadcast("close-share-modal")})),u()(this,"currentUrl",(function(){return window.PlanitarOfflineZIP?window.location.href.split("?")[0]:En.publicView(n.vf.view)})),u()(this,"previewImage",(function(){return n.vf.assets.previewImage?n.vf.assets.previewImage():""})),u()(this,"activePano",(function(){return n.vf.viewer&&n.vf.viewer.floorplan?"".concat(n.vf.viewer.floorplan.nActivePano):""})),u()(this,"viewerAngle",(function(){return n.vf.viewer?"".concat(n.vf.viewer.angle):""})),u()(this,"viewerElevation",(function(){return n.vf.viewer&&0!==n.vf.viewer.elevation?"".concat(n.vf.viewer.elevation):""})),u()(this,"viewerZoomLevel",(function(){return n.vf.viewer&&n.vf.viewer.cubeManager?"".concat(n.vf.viewer.cubeManager.getZoomLevel()):""})),u()(this,"showVirtualShowing",(function(){return n.vf.view.identifier()&&!n.vf.photosonly&&!n.vf.unbranded&&!!n.virtualShowingUrl})),u()(this,"hasGallery",(function(){var e=n.vf;return!e.nogallery&&!!e.gallery&&!!e.gallery.length})),u()(this,"hasVideo",(function(){var e=n.vf;return!e.noextvideo&&(e.unbranded&&!!e.videoUnbranded||!e.unbranded&&!!e.videoBranded)})),this.$scope=t}return l()(e,[{key:"$onInit",value:function(){this.virtualShowingUrl=En.virtualShowing(this.vf.view)}}]),e}();u()(Wx,"controllerAs","$ctrl"),u()(Wx,"$inject",["$scope"]);var Gx={bindings:{vf:"<"},template:' <div> <share-modal v-props-title="$ctrl.vf.title || document.title" v-props-view-url="$ctrl.currentUrl()" v-props-preview-image="$ctrl.previewImage()" v-props-pano="$ctrl.activePano()" v-props-rotation="$ctrl.viewerAngle()" v-props-elevation="$ctrl.viewerElevation()" v-props-zoom-level="$ctrl.viewerZoomLevel()" v-props-show-virtual-showing="$ctrl.showVirtualShowing()" v-props-virtual-showing-url="$ctrl.virtualShowingUrl" v-props-page="$ctrl.vf.page" v-props-unbranded="$ctrl.vf.unbranded" v-props-photos-only="$ctrl.vf.photosonly" v-props-has-gallery="$ctrl.hasGallery()" v-props-has-video="$ctrl.hasVideo()" v-props-hide-social="$ctrl.vf.noSocialShare" v-on-hide-share-modal="$ctrl.closeShare"> </share-modal> </div> ',controller:Wx},qx=function(){function e(t){o()(this,e),this.$uibModal=t}return l()(e,[{key:"show",value:function(e,t,n,i){this.$uibModal.open({template:'<div class="modal-body"> <method-of-measurement v-props-whitelabelled="isWhitelabelled" v-props-unbranded="unbranded" v-props-locale-key="localeKey" v-props-measurement-std="measurementStd"> </method-of-measurement> <div class="iguide-viewer iguide-viewer-fonts iguide-viewer-bootstrap"> <div class="measurement-disclaimer__close btnbar right top cursor-pointer"> <span class="button floorplan-icons icomoon-v-cross" data-ng-click="ok()"></span> </div> </div> </div> ',size:"lg",controller:["$scope","$uibModalInstance",function(r,o){r.isWhitelabelled=e,r.unbranded=t,r.localeKey=n,r.measurementStd=i,r.ok=function(){o.close()}}]})}}]),e}();u()(qx,"$inject",["$uibModal"]);var Zx=a(31829),Xx=a.n(Zx);function Yx(e){var t=function(){var t=e[0].body.appendChild(e[0].createElement("div"));t.innerHTML='<v:shape id="vml_flag1" adj="1" />';var n=t.firstChild;n.style.behavior="url(#default#VML)";var i=!n||"object"===ea()(n.adj);return t.parentNode.removeChild(t),i}(),n=e[0].implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),i=!!(n&&Xx().csstransforms&&Xx().csstransforms3d&&Xx().cssanimations),r=function(){var e=navigator.userAgent,t=e.search("Firefox"),n=Va()(e[t+7+1]+e[t+7+2]);if(-1!==t&&n<=42)return!1;function i(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("msie")&&Va()(e.split("msie")[1])}return!(i()&&i()<11)}(),o=function(){var e=navigator.userAgent,t=e.search("Chrome"),n=Va()(e[t+6+1]+e[t+6+2]);if(-1!==t&&62===n)return!0}(),a="undefined"!=typeof InstallTrigger,s=a&&-1===navigator.userAgent.toLowerCase().indexOf("android"),l=void 0!==window.safari,c=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled,u=!!navigator.getVRDisplays||!!navigator.getVRDevices,d={vml:t,svg:n,html5:i,optimal:r,isChrome62:o,isFirefox:a,isFirefoxDesktop:s,isSafari:l,fullscreen:c,vr:u,vrLegacy:u,hasGyro:window.PlanitarHasGyro};if(!u&&navigator.xr&&navigator.xr.isSessionSupported("immersive-vr").then((function(e){e&&(d.vr=e)})),void 0===d.hasGyro)if(window.DeviceOrientationEvent){var h=function e(t){null!==t.alpha&&(d.hasGyro=!0,clearTimeout(p)),window.removeEventListener("deviceorientation",e)};window.addEventListener("deviceorientation",h);var p=setTimeout((function(){window.removeEventListener("deviceorientation",h)}),7500)}else d.hasGyro=!1;return d}Yx.$inject=["$document"];var Kx=Yx;var Jx=a(22680),Qx=a.n(Jx);function eT(e,t,n){return e-t*n}a(33080);var tT=t().module("iguide.viewer",["plntr-infinite-scroll",Ns,"oc.lazyLoad","ngVue",ja]),nT=tT.name;tT.directive("vfTour",n_).directive("vfTourContainer",i_).directive("vfVideo",H_).directive("vfGallery",o_).directive("vfMap",j_).directive("vfKeydown",(function(){return{restrict:"A",link:function(e,t,n){t.on("keydown",(function(t){e.$eval(n.vfKeydown)(t)}))}}})).directive("vfVrLazyLoader",Q_).component("vfJview",Nx).component("vfTagModal",Ux).component("vfTagList",Vx).component("vfShareModal",Gx).directive("confirmationModal",["createVueComponent",function(e){return e(Pe.default.component("ConfirmationModal",$e))}]).directive("actionsMenu",["createVueComponent",function(e){return e(Pe.default.component("ActionsMenu",He))}]).directive("vfArea",["createVueComponent",function(e){return e(Pe.default.component("VfArea",Ge))}]).directive("vfUnits",["createVueComponent",function(e){return e(Pe.default.component("VfUnits",qe.default))}]).directive("vfFloorplan",["createVueComponent",function(e){return e(Pe.default.component("VfFloorplan",Xe))}]).directive("vfDimensions",["createVueComponent",function(e){return e(Pe.default.component("VfDimensions",Mt))}]).directive("vfDescription",["createVueComponent",function(e){return e(Pe.default.component("VfDescription",Ct))}]).directive("vfDetails",["createVueComponent",function(e){return e(Pe.default.component("VfDetails",tn))}]).directive("helpVideoButton",["createVueComponent",function(e){return e(Pe.default.component("HelpVideoButton",rn))}]).directive("tourTools",["createVueComponent",function(e){return e(Pe.default.component("TourTools",qn))}]).directive("autoplayTools",["createVueComponent",function(e){return e(Pe.default.component("AutoplayTools",Kn))}]).directive("measureTools",["createVueComponent",function(e){return e(Pe.default.component("MeasureTools",oi))}]).directive("measureModeSelect",["createVueComponent",function(e){return e(Pe.default.component("MeasureModeSelect",ci))}]).directive("floorplanResize",["createVueComponent",function(e){return e(Pe.default.component("FloorplanResize",vi))}]).directive("measureModeStatusBar",["createVueComponent",function(e){return e(Pe.default.component("MeasureModeStatusBar",_i))}]).directive("tagList",["createVueComponent",function(e){return e(Pe.default.component("TagList",Fi))}]).directive("measureBearing",["createVueComponent",function(e){return e(Pe.default.component("MeasureBearing",Ui))}]).directive("navigationHelpModal",["createVueComponent",function(e){return e(Pe.default.component("NavigationHelpModal",ji))}]).directive("floorplanOverlay",["createVueComponent",function(e){return e(Pe.default.component("FloorplanOverlay",Ji))}]).directive("vrButton",["createVueComponent",function(e){return e(Pe.default.component("VrButton",Kt))}]).directive("fullscreenButton",["createVueComponent",function(e){return e(Pe.default.component("FullscreenButton",Xt))}]).directive("displayTools",["createVueComponent",function(e){return e(Pe.default.component("DisplayTools",Qt))}]).directive("shareModal",["createVueComponent",function(e){return e(Pe.default.component("ShareModal",nr))}]).directive("commonAreasPanoList",["createVueComponent",function(e){return e(Pe.default.component("CommonAreasPanoList",or))}]).directive("notReadyPage",["createVueComponent",function(e){return e(Pe.default.component("NotReadyPage",cr))}]).directive("viewAccessDeniedPage",["createVueComponent",function(e){return e(Pe.default.component("ViewAccessDeniedPage",dr))}]).directive("pageOverlay",["createVueComponent",function(e){return e(Pe.default.component("PageOverlay",Vr))}]).directive("photos",["createVueComponent",function(e){return e(Pe.default.component("Photos",_o))}]).directive("popupBlockedModal",["createVueComponent",function(e){return e(Pe.default.component("PopupBlockedModal",To))}]).directive("css3dScene",["createVueComponent",function(e){return e(Pe.default.component("CSS3DScene",Na))}]).directive("gyroscopeTools",["createVueComponent",function(e){return e(Pe.default.component("GyroscopeTools",Ba))}]),tT.service("VfCache",jx).service("VfMeasurementDisclaimerDialog",qx).service("Features",Kx).service("Device",(function(){var e=function(){var e=window.navigator.userAgent;return-1!==e.indexOf("Android")&&-1!==e.indexOf("Mobile")},t=function(){return e()?(t=/Android ((?:\d+\.?){1,3})/,n=(n=window.navigator.userAgent.match(t))?n[1].split("."):[],{major:Va()(n[0])||0,minor:Va()(n[1])||0,patch:Va()(n[2])||0}):-1;var t,n},n=function(){return!e()||t().major<7||!(-1!==(n=window.navigator.userAgent).indexOf("Chrome")&&-1===n.indexOf("OPR"))||!(window.navigator.getVRDisplays&&window.VRDisplay);var n};return{ie9:/MSIE 9/i.test(navigator.userAgent),ie10:/MSIE 10/i.test(navigator.userAgent),ie11:/rv:11.0/i.test(navigator.userAgent),ios:!window.MSStream&&/iPad|iPhone|iPod/.test(navigator.userAgent),daydream:function(){return new(jr())((function(e,t){n()?t("Device does not support Daydream"):new(jr())((function(e,t){navigator.getVRDisplays().then((function(n){for(var i=0;i<n.length;i++)if(n[i]instanceof window.VRDisplay){var r=n[i].displayName;r&&r.match(/daydream/i)&&e()}t("Device does not support Daydream")}))})).then((function(){e()}))}))},androidMobile:e()}})).service("WMM",(function(){var e=function(e,t){if(""!==e&&""!==t&&e>=-90&&e<=90&&t>=-180&&t<=180)return(new(Qx())).declination(e,t)};return{getDecl:e,getFromMaplink:function(t){var n,i,r,o,a,s,l;if(t.search("google")>0)r="ll=",o=",";else{if(!(t.search("bing")>0))return;r="cp=",o="~"}var c=t.split("&");for(n=0;n<c.length;n++)if(c[n].search(r)>=0){2===(i=c[n].split(o)).length&&(2===(a=i[0].split("=")).length&&(s=a[1]),l=i[1]);break}return e(s,l)}}})).service("VfTourDimensions",(function(){var e=2/3;function t(e,t,n,i){this.containerW=e,this.containerH=t,this.widthWiseResize=n,this.landscape=i,this.barNum=1}return t.prototype.getBarRatio=function(e){return this.barNum*e},t.prototype.getWindowRatio=function(){return this.n*this.imgAR},t.prototype.getRatio=function(e){return 1/(this.getBarRatio(e)+this.getWindowRatio())},t.prototype.getBarHeightByWidth=function(){return this.containerW<768?54:64},t.prototype.getVFWidth=function(e,t){return(e-this.getBarRatio(t))/this.getWindowRatio()},t.prototype.getVFHeight=function(e,t){return this.getWindowRatio()*e+this.getBarRatio(t)},t.prototype.fitWidth=function(){this.barHeight=this.getBarHeightByWidth(),this.width=this.containerW,this.height=this.containerH},t.prototype.fitHeight=function(){this.barHeight=this.getBarHeightByWidth(),this.width=this.containerW,this.height=this.containerH},t.prototype.fillHeight=function(){if(!this.widthWiseResize){var e=.6*this.width;this.height=this.containerH-this.barNum*this.barHeight>=e?e+this.barNum*this.barHeight:this.containerH}},t.prototype.getDims=function(){var e=this.containerW/this.containerH;e<this.AR||this.widthWiseResize?this.fitWidth():(e>this.AR||!this.widthWiseResize)&&this.fitHeight()},t.prototype.setAspectRatios=function(){this.landscape?(this.n=1,this.imgAR=.7*e):(this.n=2,this.imgAR=.7),this.AR=this.getRatio(.1*this.imgAR)},t.prototype.getTourHeight=function(){return eT(this.height,this.barNum,this.barHeight)},t.prototype.getViewerHeight=function(){return this.widthWiseResize?this.getTourHeight():eT(this.containerH,this.barNum,this.barHeight)},t.prototype.getContainerHeight=function(){return this.containerH},t.prototype.setBarNum=function(e,t){t&&this.barNum--},t})),tT.service("Viewer",(function(){return jw})),tT.run((function(){Le.load()})),t().module("plntr-infinite-scroll").value("THROTTLE_MILLISECONDS",250);a.p,a.p,a(80183);function iT(e){var t=function(){if("undefined"==typeof Reflect||!Fo())return!1;if(Fo().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Fo()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Go()(e);if(t){var r=Go()(this).constructor;n=Fo()(i,arguments,r)}else n=i.apply(this,arguments);return jo()(this,n)}}var rT=function(){function e(){o()(this,e)}return l()(e,[{key:"tile",value:function(){}},{key:"sphere",value:function(){}},{key:"image",value:function(e){return"./gallery/".concat(e.name)}},{key:"tagImage",value:function(e){return this.image({name:e})}},{key:"pdf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=e?"imperial":"metric",i="floorplan_".concat(n,"_").concat(t,".pdf");return"./doc/".concat(i)}},{key:"dxfZip",value:function(){return"./doc/dxf_metric.zip"}},{key:"previewImage",value:function(){return""}},{key:"getCachedBaseSvg",value:function(e){return document.getElementById("offline-zip-base-".concat(e)).innerHTML}}]),e}(),oT=function(e){Vo()(n,e);var t=iT(n);function n(){return o()(this,n),t.apply(this,arguments)}return l()(n,[{key:"tile",value:function(e,t){return"./assets/p".concat(e,"-").concat(t,".jpg")}},{key:"sphere",value:function(e){return"./assets/p".concat(e,"-s.jpg")}}]),n}(rT),aT=t().module("offlineApp",[nT]);aT.controller("VFData",["$scope","$timeout","VF","bannerObject","viewObject","tags","propertyObject","tripodImageUrl","fullSummary","language",function(e,t,n,i,r,o,a,s,l,c){var u=r;u.property=a;var d=new ie(u);e.vf=n.fromView(d,new oT,l),e.vf.fixedLocale=!0,e.vf.setLocale(c),e.vf.rootPath="./html_assets",e.vf.tripodImageUrl=s,e.vf.nocache=!0,e.vf.noportallinks=!0,e.vf.nosocial="file:"===window.location.protocol,e.vf.nosnapshot="file:"===window.location.protocol,e.vf.useLocalIRI="file:"===window.location.protocol,e.vf.noSocialShare=!0,e.vf.nomultires=!0,e.vf.tileResolution=e.vf.irm.getOriginalResolution(),e.vf.tags=o||[],e.vf.fixedFullSummary=l,e.vfQueryArgs=(0,re.W)(),i&&(e.vf.banners=[new ke(i)],e.vf.banners.length>3&&(e.vf.banners=e.vf.banners.slice(0,3))),e.vf.banners.forEach((function(e){/^\/\//.test(e.www)&&(e.www="http:".concat(e.www))})),u=null,document.title=e.vf.view.iguide.addons.whitelabel?e.vf.title:"".concat(e.vf.photosonly?e.vf.l10n.documentTitlePhotosOnly:e.vf.isRadix?e.vf.l10n.documentTitleRadix:e.vf.l10n.documentTitle," ").concat(e.vf.title),e.loaded=!1,t((function(){e.loaded=!0}))}]);aT.name}()}();